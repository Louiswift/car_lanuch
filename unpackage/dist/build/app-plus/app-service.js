(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"011a":function(e,t){function n(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(e.exports=n=function(){return!!t},e.exports.__esModule=!0,e.exports["default"]=e.exports)()}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"0125":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=r||function(e,t){var n={},r=n.lib={},i=function(){},a=r.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=r.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var i=0;i<e;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-i%4*8&255)<<24-(r+i)%4*8;else if(65535<n.length)for(i=0;i<e;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new o.init(n,t)}}),s=n.enc={},u=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var i=t[r>>>2]>>>24-r%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(n,t/2)}},l=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(n,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},h=r.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,a=this.blockSize,s=i/(4*a);s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0);if(t=s*a,i=e.min(4*t,i),t){for(var u=0;u<t;u+=a)this._doProcessBlock(r,u);u=r.splice(0,t),n.sigBytes-=i}return new o.init(u,i)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=h.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}});var d=n.algo={};return n}(Math);(function(e){for(var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=(n=t.algo,[]),s=[],u=function(e){return 4294967296*(e-(0|e))|0},l=2,c=0;64>c;){var h;e:{h=l;for(var d=e.sqrt(h),f=2;f<=d;f++)if(!(h%f)){h=!1;break e}h=!0}h&&(8>c&&(o[c]=u(e.pow(l,.5))),s[c]=u(e.pow(l,1/3)),c++),l++}var p=[];n=n.SHA256=a.extend({_doReset:function(){this._hash=new i.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],u=n[4],l=n[5],c=n[6],h=n[7],d=0;64>d;d++){if(16>d)p[d]=0|e[t+d];else{var f=p[d-15],v=p[d-2];p[d]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[d-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+p[d-16]}f=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&l^~u&c)+s[d]+p[d],v=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&a^i&a),h=c,c=l,l=u,u=o+f|0,o=a,a=i,i=r,r=f+v|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+u|0,n[5]=n[5]+l|0,n[6]=n[6]+c|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=a._createHelper(n),t.HmacSHA256=a._createHmacHelper(n)})(Math),function(){var e=r,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,i=4*r;n.sigBytes>i&&(n=e.finalize(n)),n.clamp();for(var a=this._oKey=n.clone(),o=this._iKey=n.clone(),s=a.words,u=o.words,l=0;l<r;l++)s[l]^=1549556828,u[l]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}();var i=r;t.default=i},"02a2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},"03fd":function(e,t,n){"use strict";n.r(t);var r=n("982a"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"05e9":function(e,t,n){"use strict";n.r(t);var r=n("3dc9"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"062f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={cellGroup:{title:"",border:!0,customStyle:{}}}},"063b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={popup:{show:!1,overlay:!0,mode:"bottom",duration:300,closeable:!1,overlayStyle:function(){},closeOnClickOverlay:!0,zIndex:10075,safeAreaInsetBottom:!0,safeAreaInsetTop:!1,closeIconPos:"top-right",round:0,zoom:!0,bgColor:"",overlayOpacity:.5}}},"0670":function(e,t,n){var r=n("ff58");function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports["default"]=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"068c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={album:{urls:function(){return[]},keyName:"",singleSize:180,multipleSize:70,space:6,singleMode:"scaleToFill",multipleMode:"aspectFill",maxCount:9,previewFullImage:!0,rowCount:3,showMore:!0}}},"0750":function(e,t,n){"use strict";n.r(t);var r=n("27f3"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"0815":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("4cce")),a={navbar:{safeAreaInsetTop:!0,placeholder:!1,fixed:!0,border:!1,leftIcon:"arrow-left",leftText:"",rightText:"",rightIcon:"",title:"",bgColor:"#ffffff",titleWidth:"400rpx",height:"44px",leftIconSize:20,leftIconColor:i.default.mainColor,autoBack:!1,titleStyle:""}};t.default=a},"0896":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tabbar:{value:null,safeAreaInsetBottom:!0,border:!0,zIndex:1,activeColor:"#1989fa",inactiveColor:"#7d7e80",fixed:!0,placeholder:!0}}},"089d":function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("127e")),a=r(n("ee10")),o=n("cbc3");n("1a62");var s=r(n("0125")),u=(uni.getRecorderManager(),uni.createInnerAudioContext(),function(){return new Promise((function(e,t){var n="wss://iat-api.xfyun.cn/v2/iat",r="iat-api.xfyun.cn",i=(new Date).toGMTString(),a="host: ".concat(r,"\ndate: ").concat(i,"\nGET /v2/iat HTTP/1.1"),u=s.default.HmacSHA256(a,"NmQ5YmY0Nzg4MmU0YTQzNGU0NmM5OWMy"),l=s.default.enc.Base64.stringify(u),c='api_key="'.concat("5cbaed332e3e5b1dbbb8959e4d59b879",'", algorithm="').concat("hmac-sha256",'", headers="').concat("host date request-line",'", signature="').concat(l,'"'),h=o.Base64.btoa(c);n="".concat(n,"?authorization=").concat(h,"&date=").concat(i,"&host=").concat(r),e(n)}))}),l=function(){var t=(0,a.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u();case 2:n=t.sent,uni.connectSocket({url:encodeURI(n)}),uni.onSocketOpen((function(t){e("log","WebSocket \u8fde\u63a5\u5df2\u6253\u5f00\uff01"," at pages/utils/speechModule.js:39")})),uni.onSocketError((function(t){e("log","WebSocket \u8fde\u63a5\u6253\u5f00\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\uff01"," at pages/utils/speechModule.js:42")})),uni.onSocketMessage((function(t){e("log","\u6536\u5230\u670d\u52a1\u5668\u5185\u5bb9\uff1a"+t.data," at pages/utils/speechModule.js:45")}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return o.Base64.btoa(t)},h={connectWebSocket:l,webSocketSend:function(t){var n=Array.from(new Uint8Array(t)),r=n.splice(0,1280),i={common:{app_id:"08c1a943"},business:{language:"zh_cn",domain:"iat",accent:"mandarin",vad_eos:3e3,dwa:"wpgs"},data:{status:0,format:"audio/L16;rate=16000",encoding:"raw",audio:c(r)}};e("log","------\u521d\u59cb\u5316\u5934\u90e8\u6570\u636e--\u6d41\u5f0f\u5206\u7247\u53d1\u9001\u6570\u636e\u5230\u8baf\u98de\u5e73\u53f0------"," at pages/utils/speechModule.js:84"),uni.sendSocketMessage({data:JSON.stringify(i)});var a=setInterval((function(){if(e("log","------\u5177\u4f53\u5185\u5bb9\u6570\u636e--\u6d41\u5f0f\u5206\u7247\u53d1\u9001\u6570\u636e\u5230\u8baf\u98de\u5e73\u53f0------"," at pages/utils/speechModule.js:89"),0===n.length)return uni.sendSocketMessage({data:JSON.stringify({data:{status:2,format:"audio/L16;rate=16000",encoding:"raw",audio:""}})}),clearInterval(a),!1;r=n.splice(0,1280),uni.sendSocketMessage({data:JSON.stringify({data:{status:1,format:"audio/L16;rate=16000",encoding:"raw",audio:c(r)}})})}),40)}},d=h;t.default=d}).call(this,n("f3b9")["default"])},"0aa1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],i={type:["pie","ring","rose","word","funnel","map","arcbar","line","column","mount","bar","area","radar","gauge","candle","mix","tline","tarea","scatter","bubble","demotype"],range:["\u997c\u72b6\u56fe","\u5706\u73af\u56fe","\u73ab\u7470\u56fe","\u8bcd\u4e91\u56fe","\u6f0f\u6597\u56fe","\u5730\u56fe","\u5706\u5f27\u8fdb\u5ea6\u6761","\u6298\u7ebf\u56fe","\u67f1\u72b6\u56fe","\u5c71\u5cf0\u56fe","\u6761\u72b6\u56fe","\u533a\u57df\u56fe","\u96f7\u8fbe\u56fe","\u4eea\u8868\u76d8","K\u7ebf\u56fe","\u6df7\u5408\u56fe","\u65f6\u95f4\u8f74\u6298\u7ebf","\u65f6\u95f4\u8f74\u533a\u57df","\u6563\u70b9\u56fe","\u6c14\u6ce1\u56fe","\u81ea\u5b9a\u4e49\u7c7b\u578b"],categories:["line","column","mount","bar","area","radar","gauge","candle","mix","demotype"],instance:{},option:{},formatter:{yAxisDemo1:function(e,t,n){return e+"\u5143"},yAxisDemo2:function(e,t,n){return e.toFixed(2)},xAxisDemo1:function(e,t,n){return e+"\u5e74"},xAxisDemo2:function(e,t,n){return function(e,t){var n=new Date;n.setTime(1e3*e);var r=n.getFullYear(),i=n.getMonth()+1;i=i<10?"0"+i:i;var a=n.getDate();a=a<10?"0"+a:a;var o=n.getHours();o=o<10?"0"+o:o;var s=n.getMinutes(),u=n.getSeconds();return s=s<10?"0"+s:s,u=u<10?"0"+u:u,"full"==t?r+"-"+i+"-"+a+" "+o+":"+s+":"+u:"y-m-d"==t?r+"-"+i+"-"+a:"h:m"==t?o+":"+s:"h:m:s"==t?o+":"+s+":"+u:[r,i,a,o,s,u]}(e,"h:m")},seriesDemo1:function(e,t,n,r){return e+"\u5143"},tooltipDemo1:function(e,t,n,r){return 0==n?"\u968f\u4fbf\u7528"+e.data+"\u5e74":"\u5176\u4ed6\u6211\u6ca1\u6539"+e.data+"\u5929"},pieDemo:function(e,t,n,r){if(void 0!==t)return n[t].name+"\uff1a"+n[t].data+"\u5143"}},demotype:{type:"line",color:r,padding:[15,10,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{line:{type:"curve",width:2}}},pie:{type:"pie",color:r,padding:[5,5,5,5],extra:{pie:{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!0,borderWidth:3,borderColor:"#FFFFFF"}}},ring:{type:"ring",color:r,padding:[5,5,5,5],rotate:!1,dataLabel:!0,legend:{show:!0,position:"right",lineHeight:25},title:{name:"\u6536\u76ca\u7387",fontSize:15,color:"#666666"},subtitle:{name:"70%",fontSize:25,color:"#7cb5ec"},extra:{ring:{ringWidth:30,activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!0,borderWidth:3,borderColor:"#FFFFFF"}}},rose:{type:"rose",color:r,padding:[5,5,5,5],legend:{show:!0,position:"left",lineHeight:25},extra:{rose:{type:"area",minRadius:50,activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF"}}},word:{type:"word",color:r,extra:{word:{type:"normal",autoColors:!1}}},funnel:{type:"funnel",color:r,padding:[15,15,0,15],extra:{funnel:{activeOpacity:.3,activeWidth:10,border:!0,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,labelAlign:"right"}}},map:{type:"map",color:r,padding:[0,0,0,0],dataLabel:!0,extra:{map:{border:!0,borderWidth:1,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#F04864",activeFillColor:"#FACC14",activeFillOpacity:1}}},arcbar:{type:"arcbar",color:r,title:{name:"\u767e\u5206\u6bd4",fontSize:25,color:"#00FF00"},subtitle:{name:"\u9ed8\u8ba4\u6807\u9898",fontSize:15,color:"#666666"},extra:{arcbar:{type:"default",width:12,backgroundColor:"#E9E9E9",startAngle:.75,endAngle:.25,gap:2}}},line:{type:"line",color:r,padding:[15,10,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{line:{type:"straight",width:2,activeType:"hollow"}}},tline:{type:"line",color:r,padding:[15,10,0,15],xAxis:{disableGrid:!1,boundaryGap:"justify"},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:80}]},legend:{},extra:{line:{type:"curve",width:2,activeType:"hollow"}}},tarea:{type:"area",color:r,padding:[15,10,0,15],xAxis:{disableGrid:!0,boundaryGap:"justify"},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:80}]},legend:{},extra:{area:{type:"curve",opacity:.2,addLine:!0,width:2,gradient:!0,activeType:"hollow"}}},column:{type:"column",color:r,padding:[15,15,0,5],xAxis:{disableGrid:!0},yAxis:{data:[{min:0}]},legend:{},extra:{column:{type:"group",width:30,activeBgColor:"#000000",activeBgOpacity:.08}}},mount:{type:"mount",color:r,padding:[15,15,0,5],xAxis:{disableGrid:!0},yAxis:{data:[{min:0}]},legend:{},extra:{mount:{type:"mount",widthRatio:1.5}}},bar:{type:"bar",color:r,padding:[15,30,0,5],xAxis:{boundaryGap:"justify",disableGrid:!1,min:0,axisLine:!1},yAxis:{},legend:{},extra:{bar:{type:"group",width:30,meterBorde:1,meterFillColor:"#FFFFFF",activeBgColor:"#000000",activeBgOpacity:.08}}},area:{type:"area",color:r,padding:[15,15,0,15],xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},legend:{},extra:{area:{type:"straight",opacity:.2,addLine:!0,width:2,gradient:!1,activeType:"hollow"}}},radar:{type:"radar",color:r,padding:[5,5,5,5],dataLabel:!1,legend:{show:!0,position:"right",lineHeight:25},extra:{radar:{gridType:"radar",gridColor:"#CCCCCC",gridCount:3,opacity:.2,max:200,labelShow:!0}}},gauge:{type:"gauge",color:r,title:{name:"66Km/H",fontSize:25,color:"#2fc25b",offsetY:50},subtitle:{name:"\u5b9e\u65f6\u901f\u5ea6",fontSize:15,color:"#1890ff",offsetY:-50},extra:{gauge:{type:"default",width:30,labelColor:"#666666",startAngle:.75,endAngle:.25,startNumber:0,endNumber:100,labelFormat:"",splitLine:{fixRadius:0,splitNumber:10,width:30,color:"#FFFFFF",childNumber:5,childWidth:12},pointer:{width:24,color:"auto"}}}},candle:{type:"candle",color:r,padding:[15,15,0,15],enableScroll:!0,enableMarkLine:!0,dataLabel:!1,xAxis:{labelCount:4,itemCount:40,disableGrid:!0,gridColor:"#CCCCCC",gridType:"solid",dashLength:4,scrollShow:!0,scrollAlign:"left",scrollColor:"#A6A6A6",scrollBackgroundColor:"#EFEBEF"},yAxis:{},legend:{},extra:{candle:{color:{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},average:{show:!0,name:["MA5","MA10","MA30"],day:[5,10,20],color:["#1890ff","#2fc25b","#facc14"]}},markLine:{type:"dash",dashLength:5,data:[{value:2150,lineColor:"#f04864",showLabel:!0},{value:2350,lineColor:"#f04864",showLabel:!0}]}}},mix:{type:"mix",color:r,padding:[15,15,0,15],xAxis:{disableGrid:!0},yAxis:{disabled:!1,disableGrid:!1,splitNumber:5,gridType:"dash",dashLength:4,gridColor:"#CCCCCC",padding:10,showTitle:!0,data:[]},legend:{},extra:{mix:{column:{width:20}}}},scatter:{type:"scatter",color:r,padding:[15,15,0,15],dataLabel:!1,xAxis:{disableGrid:!1,gridType:"dash",splitNumber:5,boundaryGap:"justify",min:0},yAxis:{disableGrid:!1,gridType:"dash"},legend:{},extra:{scatter:{}}},bubble:{type:"bubble",color:r,padding:[15,15,0,15],xAxis:{disableGrid:!1,gridType:"dash",splitNumber:5,boundaryGap:"justify",min:0,max:250},yAxis:{disableGrid:!1,gridType:"dash",data:[{min:0,max:150}]},legend:{},extra:{bubble:{border:2,opacity:.5}}}},a=i;t.default=a},"0af2":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{directives:[{name:"show",rawName:"v-show",value:e._$s(0,"v-show",e.isShow),expression:"_$s(0,'v-show',isShow)"}],ref:"ani",class:e._$s(0,"c",e.customClass),style:e._$s(0,"s",e.transformStyles),attrs:{animation:e._$s(0,"a-animation",e.animationData),_i:0},on:{click:e.onClick}},[e._t("default",null,{_i:1})],2)},i=[]},"0bdb":function(e,t,n){var r=n("d551");function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"0c4f":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uniPopup:n("c79d").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("uni-popup",{ref:"popupRef",attrs:{type:"center",_i:0}},[n("view",{staticClass:e._$s(1,"sc","popup-content"),attrs:{_i:1}},[n("text",{staticClass:e._$s(2,"sc","popup-title"),attrs:{_i:2}}),n("text",{staticClass:e._$s(3,"sc","popup-text"),attrs:{_i:3}}),n("view",{staticClass:e._$s(4,"sc","popup-buttons"),attrs:{_i:4}},[n("button",{staticClass:e._$s(5,"sc","cancel-btn"),attrs:{_i:5},on:{click:e.close}}),n("button",{staticClass:e._$s(6,"sc","confirm-btn"),attrs:{disabled:e._$s(6,"a-disabled",e.countdown>0),_i:6},on:{click:e.confirm}},[e._v(e._$s(6,"t0-0",e._s(e.countdown>0?"\u6ce8\u9500 ("+e.countdown+"s)":"\u6ce8\u9500")))])])])])},a=[]},"0d25":function(e,t,n){var r=n("bd61");e.exports=function(e){return function(){return new r(e.apply(this,arguments))}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"0d93":function(e,t,n){"use strict";n.r(t);var r=n("a58a"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"0df3":function(e,t,n){"use strict";n.r(t);var r=n("3193"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"0ec6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={noticeBar:{text:function(){return[]},direction:"row",step:!1,icon:"volume",mode:"",color:"#f9ae3d",bgColor:"#fdf6ec",speed:80,fontSize:14,duration:2e3,disableTouch:!0,url:"",linkType:"navigateTo"}}},"0ee4":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},"0fc8":function(e,t,n){var r=n("3e2a"),i=n("8793");e.exports=function(e,t,n){var a=i(t,e);return r(e,a,n),n},e.exports.__esModule=!0,e.exports["default"]=e.exports},"106d":function(e,t,n){"use strict";n.r(t);var r=n("8c6b"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"10a3":function(e,t,n){"use strict";n.r(t);var r=n("fd07"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"10ab":function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),o=r[0],s=r[1],u=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),c=0,h=s>0?o-4:o;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(h(e,o,o+16383>s?s:o+16383));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function c(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function h(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(c(r));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"127e":function(e,t,n){var r=n("3b2d"),i=n("9fc1")();e.exports=i;try{regeneratorRuntime=i}catch(a){"object"===("undefined"===typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},"12e3":function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("10ab"),i=n("ba37"),a=n("b0e4");function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=u.prototype):(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=u.prototype):e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n);e=s(e,r);var i=e.write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|f(t.length);return e=s(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||function(e){return e!==e}(t.length)?s(e,0):d(e,t);if("Buffer"===t.type&&a(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=s(e,t<0?0:0|f(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return M(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var h=!0,d=0;d<u;d++)if(l(e,a+d)!==l(t,d)){h=!1;break}if(h)return a}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function b(e,t,n,r){return H(j(t,e.length-n),e,n,r)}function x(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return x(e,t,n,r)}function S(e,t,n,r){return H(z(t),e,n,r)}function A(e,t,n,r){return H(function(e,t){for(var n,r,i,a=[],o=0;o<e.length;++o){if((t-=2)<0)break;n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r)}return a}(t,e.length-n),e,n,r)}function M(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var a,o,s,u,l=e[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:a=e[i+1],128===(192&a)&&(u=(31&l)<<6|63&a,u>127&&(c=u));break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(u=(15&l)<<12|(63&a)<<6|63&o,u>2047&&(u<55296||u>57343)&&(c=u));break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s,u>65535&&u<1114112&&(c=u))}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,o=n-t,s=Math.min(a,o),l=this.slice(r,i),c=e.slice(t,n),h=0;h<s;++h)if(l[h]!==c[h]){a=l[h],o=c[h];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=F(e[a]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,a){return a||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,a){return a||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);var r=this[e],i=1,a=0;while(++a<t&&(i*=256))r+=this[e+a]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);var r=this[e],i=1,a=0;while(++a<t&&(i*=256))r+=this[e+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);var r=t,i=1,a=this[e+--r];while(r>0&&(i*=256))a+=this[e+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;I(this,e,t,n,i,0)}var a=1,o=0;this[t]=255&e;while(++o<n&&(a*=256))this[t+o]=e/a&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;I(this,e,t,n,i,0)}var a=n-1,o=1;this[t+a]=255&e;while(--a>=0&&(o*=256))this[t+a]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;this[t]=255&e;while(++a<n&&(o*=256))e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;this[t+a]=255&e;while(--a>=0&&(o*=256))e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=u.isBuffer(e)?e:j(new u(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function z(e){return r.toByteArray(function(e){if(e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}}).call(this,n("0ee4"))},"133f":function(e,t,n){"use strict";n.r(t);var r=n("9d92"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},1489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={empty:{icon:"",text:"",textColor:"#c0c4cc",textSize:14,iconColor:"#c0c4cc",iconSize:90,mode:"data",width:160,height:160,show:!0,marginTop:0}}},"14c4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{value:{type:[String,Number,null],default:uni.$u.props.tabbar.value},safeAreaInsetBottom:{type:Boolean,default:uni.$u.props.tabbar.safeAreaInsetBottom},border:{type:Boolean,default:uni.$u.props.tabbar.border},zIndex:{type:[String,Number],default:uni.$u.props.tabbar.zIndex},activeColor:{type:String,default:uni.$u.props.tabbar.activeColor},inactiveColor:{type:String,default:uni.$u.props.tabbar.inactiveColor},fixed:{type:Boolean,default:uni.$u.props.tabbar.fixed},placeholder:{type:Boolean,default:uni.$u.props.tabbar.placeholder}}};t.default=r},"14e3":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","container loading2"),attrs:{_i:0}},[t("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),t("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),t("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),t("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},i=[]},"16e0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={divider:{dashed:!1,hairline:!0,dot:!1,textPosition:"center",text:"",textSize:14,textColor:"#909399",lineColor:"#dcdfe6"}}},"18b2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={stepsItem:{title:"",desc:"",iconSize:17,error:!1}}},"18e2":function(e,t,n){"use strict";n.r(t);var r=n("804d"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},1936:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={actionSheet:{show:!1,title:"",description:"",actions:function(){return[]},index:"",cancelText:"",closeOnClickAction:!0,safeAreaInsetBottom:!0,openType:"",closeOnClickOverlay:!0,round:0}}},1962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"uicon-level":"\ue693","uicon-column-line":"\ue68e","uicon-checkbox-mark":"\ue807","uicon-folder":"\ue7f5","uicon-movie":"\ue7f6","uicon-star-fill":"\ue669","uicon-star":"\ue65f","uicon-phone-fill":"\ue64f","uicon-phone":"\ue622","uicon-apple-fill":"\ue881","uicon-chrome-circle-fill":"\ue885","uicon-backspace":"\ue67b","uicon-attach":"\ue632","uicon-cut":"\ue948","uicon-empty-car":"\ue602","uicon-empty-coupon":"\ue682","uicon-empty-address":"\ue646","uicon-empty-favor":"\ue67c","uicon-empty-permission":"\ue686","uicon-empty-news":"\ue687","uicon-empty-search":"\ue664","uicon-github-circle-fill":"\ue887","uicon-rmb":"\ue608","uicon-person-delete-fill":"\ue66a","uicon-reload":"\ue788","uicon-order":"\ue68f","uicon-server-man":"\ue6bc","uicon-search":"\ue62a","uicon-fingerprint":"\ue955","uicon-more-dot-fill":"\ue630","uicon-scan":"\ue662","uicon-share-square":"\ue60b","uicon-map":"\ue61d","uicon-map-fill":"\ue64e","uicon-tags":"\ue629","uicon-tags-fill":"\ue651","uicon-bookmark-fill":"\ue63b","uicon-bookmark":"\ue60a","uicon-eye":"\ue613","uicon-eye-fill":"\ue641","uicon-mic":"\ue64a","uicon-mic-off":"\ue649","uicon-calendar":"\ue66e","uicon-calendar-fill":"\ue634","uicon-trash":"\ue623","uicon-trash-fill":"\ue658","uicon-play-left":"\ue66d","uicon-play-right":"\ue610","uicon-minus":"\ue618","uicon-plus":"\ue62d","uicon-info":"\ue653","uicon-info-circle":"\ue7d2","uicon-info-circle-fill":"\ue64b","uicon-question":"\ue715","uicon-error":"\ue6d3","uicon-close":"\ue685","uicon-checkmark":"\ue6a8","uicon-android-circle-fill":"\ue67e","uicon-android-fill":"\ue67d","uicon-ie":"\ue87b","uicon-IE-circle-fill":"\ue889","uicon-google":"\ue87a","uicon-google-circle-fill":"\ue88a","uicon-setting-fill":"\ue872","uicon-setting":"\ue61f","uicon-minus-square-fill":"\ue855","uicon-plus-square-fill":"\ue856","uicon-heart":"\ue7df","uicon-heart-fill":"\ue851","uicon-camera":"\ue7d7","uicon-camera-fill":"\ue870","uicon-more-circle":"\ue63e","uicon-more-circle-fill":"\ue645","uicon-chat":"\ue620","uicon-chat-fill":"\ue61e","uicon-bag-fill":"\ue617","uicon-bag":"\ue619","uicon-error-circle-fill":"\ue62c","uicon-error-circle":"\ue624","uicon-close-circle":"\ue63f","uicon-close-circle-fill":"\ue637","uicon-checkmark-circle":"\ue63d","uicon-checkmark-circle-fill":"\ue635","uicon-question-circle-fill":"\ue666","uicon-question-circle":"\ue625","uicon-share":"\ue631","uicon-share-fill":"\ue65e","uicon-shopping-cart":"\ue621","uicon-shopping-cart-fill":"\ue65d","uicon-bell":"\ue609","uicon-bell-fill":"\ue640","uicon-list":"\ue650","uicon-list-dot":"\ue616","uicon-zhihu":"\ue6ba","uicon-zhihu-circle-fill":"\ue709","uicon-zhifubao":"\ue6b9","uicon-zhifubao-circle-fill":"\ue6b8","uicon-weixin-circle-fill":"\ue6b1","uicon-weixin-fill":"\ue6b2","uicon-twitter-circle-fill":"\ue6ab","uicon-twitter":"\ue6aa","uicon-taobao-circle-fill":"\ue6a7","uicon-taobao":"\ue6a6","uicon-weibo-circle-fill":"\ue6a5","uicon-weibo":"\ue6a4","uicon-qq-fill":"\ue6a1","uicon-qq-circle-fill":"\ue6a0","uicon-moments-circel-fill":"\ue69a","uicon-moments":"\ue69b","uicon-qzone":"\ue695","uicon-qzone-circle-fill":"\ue696","uicon-baidu-circle-fill":"\ue680","uicon-baidu":"\ue681","uicon-facebook-circle-fill":"\ue68a","uicon-facebook":"\ue689","uicon-car":"\ue60c","uicon-car-fill":"\ue636","uicon-warning-fill":"\ue64d","uicon-warning":"\ue694","uicon-clock-fill":"\ue638","uicon-clock":"\ue60f","uicon-edit-pen":"\ue612","uicon-edit-pen-fill":"\ue66b","uicon-email":"\ue611","uicon-email-fill":"\ue642","uicon-minus-circle":"\ue61b","uicon-minus-circle-fill":"\ue652","uicon-plus-circle":"\ue62e","uicon-plus-circle-fill":"\ue661","uicon-file-text":"\ue663","uicon-file-text-fill":"\ue665","uicon-pushpin":"\ue7e3","uicon-pushpin-fill":"\ue86e","uicon-grid":"\ue673","uicon-grid-fill":"\ue678","uicon-play-circle":"\ue647","uicon-play-circle-fill":"\ue655","uicon-pause-circle-fill":"\ue654","uicon-pause":"\ue8fa","uicon-pause-circle":"\ue643","uicon-eye-off":"\ue648","uicon-eye-off-outline":"\ue62b","uicon-gift-fill":"\ue65c","uicon-gift":"\ue65b","uicon-rmb-circle-fill":"\ue657","uicon-rmb-circle":"\ue677","uicon-kefu-ermai":"\ue656","uicon-server-fill":"\ue751","uicon-coupon-fill":"\ue8c4","uicon-coupon":"\ue8ae","uicon-integral":"\ue704","uicon-integral-fill":"\ue703","uicon-home-fill":"\ue964","uicon-home":"\ue965","uicon-hourglass-half-fill":"\ue966","uicon-hourglass":"\ue967","uicon-account":"\ue628","uicon-plus-people-fill":"\ue626","uicon-minus-people-fill":"\ue615","uicon-account-fill":"\ue614","uicon-thumb-down-fill":"\ue726","uicon-thumb-down":"\ue727","uicon-thumb-up":"\ue733","uicon-thumb-up-fill":"\ue72f","uicon-lock-fill":"\ue979","uicon-lock-open":"\ue973","uicon-lock-opened-fill":"\ue974","uicon-lock":"\ue97a","uicon-red-packet-fill":"\ue690","uicon-photo-fill":"\ue98b","uicon-photo":"\ue98d","uicon-volume-off-fill":"\ue659","uicon-volume-off":"\ue644","uicon-volume-fill":"\ue670","uicon-volume":"\ue633","uicon-red-packet":"\ue691","uicon-download":"\ue63c","uicon-arrow-up-fill":"\ue6b0","uicon-arrow-down-fill":"\ue600","uicon-play-left-fill":"\ue675","uicon-play-right-fill":"\ue676","uicon-rewind-left-fill":"\ue679","uicon-rewind-right-fill":"\ue67a","uicon-arrow-downward":"\ue604","uicon-arrow-leftward":"\ue601","uicon-arrow-rightward":"\ue603","uicon-arrow-upward":"\ue607","uicon-arrow-down":"\ue60d","uicon-arrow-right":"\ue605","uicon-arrow-left":"\ue60e","uicon-arrow-up":"\ue606","uicon-skip-back-left":"\ue674","uicon-skip-forward-right":"\ue672","uicon-rewind-right":"\ue66f","uicon-rewind-left":"\ue671","uicon-arrow-right-double":"\ue68d","uicon-arrow-left-double":"\ue68c","uicon-wifi-off":"\ue668","uicon-wifi":"\ue667","uicon-empty-data":"\ue62f","uicon-empty-history":"\ue684","uicon-empty-list":"\ue68b","uicon-empty-page":"\ue627","uicon-empty-order":"\ue639","uicon-man":"\ue697","uicon-woman":"\ue69c","uicon-man-add":"\ue61c","uicon-man-add-fill":"\ue64c","uicon-man-delete":"\ue61a","uicon-man-delete-fill":"\ue66a","uicon-zh":"\ue70a","uicon-en":"\ue692"}},1988:function(e,t,n){"use strict";n.r(t);var r=n("1c5b"),i=n("1ca3");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"fcb66c2c",null,!1,r["a"],void 0);t["default"]=s.exports},1999:function(e,t,n){"use strict";n.r(t);var r=n("f255"),i=n("133f");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"2a5dc234",null,!1,r["a"],void 0);t["default"]=s.exports},"1a02":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"Nav",data:function(){return{currentValue:this.value,isListening:!1}},props:{value:String},methods:{handleTabChange:function(){uni.showToast({title:"\u5df2\u5207\u6362\u5230\u9996\u9875",icon:"none"})},gotoNav:function(e){switch(e){case 0:uni.switchTab({url:"/pages/home"});break;case 1:uni.switchTab({url:"/pages/service"});break;case 2:uni.switchTab({url:"/pages/shuju"});break;case 3:uni.switchTab({url:"/pages/myPage"});break}}}};t.default=r},"1a62":function(e,t,n){"use strict";var r=n("47a9"),i=r(n("0125"));(function(){var e=i.default,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<n;o++)e.push(r.charAt(a>>>6*(3-o)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map,i=r.charAt(64);i&&(i=e.indexOf(i),-1!=i&&(n=i));i=[];for(var a=0,o=0;o<n;o++)if(o%4){var s=r.indexOf(e.charAt(o-1))<<o%4*2,u=r.indexOf(e.charAt(o))>>>6-o%4*2;i[a>>>2]|=(s|u)<<24-a%4*8,a++}return t.create(i,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})()},"1b2b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"loading3",data:function(){return{}}}},"1c1f":function(e,t,n){"use strict";n.r(t);var r=n("6280"),i=n("106d");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"58193a90",null,!1,r["a"],void 0);t["default"]=s.exports},"1c5b":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","container loading3"),attrs:{_i:0}},[t("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),t("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),t("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),t("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},i=[]},"1c81":function(e,t,n){"use strict";n.r(t);var r=n("7877"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"1ca3":function(e,t,n){"use strict";n.r(t);var r=n("1b2b"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"1cde":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view")},i=[]},"1d2b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tabs:{duration:300,list:function(){return[]},lineColor:"#3c9cff",activeStyle:function(){return{color:"#303133"}},inactiveStyle:function(){return{color:"#606266"}},lineWidth:20,lineHeight:3,lineBgSize:"cover",itemStyle:function(){return{height:"44px"}},scrollable:!0,current:0,keyName:"name"}}},"1d93":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("7ca3")),a=r(n("a3aa")),o=r(n("1936")),s=r(n("068c")),u=r(n("b458")),l=r(n("df0e")),c=r(n("1f3b")),h=r(n("496b")),d=r(n("6651")),f=r(n("b0ae")),p=r(n("eada")),v=r(n("c1ad")),m=r(n("aeb8")),g=r(n("062f")),y=r(n("f59b")),_=r(n("626e")),b=r(n("daa4")),x=r(n("2ec2")),w=r(n("f750")),S=r(n("ebe7")),A=r(n("c727")),M=r(n("b5f5")),T=r(n("b39e")),E=r(n("39ca")),k=r(n("dd66")),C=r(n("ea75")),P=r(n("16e0")),R=r(n("1489")),I=r(n("cdbf")),O=r(n("da4f")),L=r(n("bdb3")),D=r(n("a42b")),B=r(n("af66")),U=r(n("e683")),N=r(n("bdbc")),F=r(n("faea")),j=r(n("4295")),z=r(n("bb24")),H=r(n("d3b5")),G=r(n("cb7a")),W=r(n("3af2")),V=r(n("9e34")),q=r(n("f802")),X=r(n("ec48")),Y=r(n("99f8")),K=r(n("2116")),Q=r(n("76f3")),J=r(n("eac6")),Z=r(n("0815")),$=r(n("68da")),ee=r(n("0ec6")),te=r(n("f480")),ne=r(n("ab78")),re=r(n("c32f")),ie=r(n("e04a")),ae=r(n("51b7")),oe=r(n("4011")),se=r(n("063b")),ue=r(n("bedb")),le=r(n("792d")),ce=r(n("d54f")),he=r(n("1fda")),de=r(n("ce26")),fe=r(n("ab71")),pe=r(n("36a6")),ve=r(n("7a42")),me=r(n("b6fa")),ge=r(n("84b9")),ye=r(n("615a")),_e=r(n("892f")),be=r(n("8713")),xe=r(n("18b2")),we=r(n("f343")),Se=r(n("8b9a")),Ae=r(n("eb09")),Me=r(n("fd2b")),Te=r(n("e304")),Ee=r(n("45e3")),ke=r(n("c967")),Ce=r(n("0896")),Pe=r(n("b75e")),Re=r(n("1d2b")),Ie=r(n("b7c8")),Oe=r(n("9238")),Le=r(n("c887")),De=r(n("5850")),Be=r(n("2a9c")),Ue=r(n("9713")),Ne=r(n("57bc")),Fe=r(n("4ab4"));function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}a.default.color;var He=ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze({},o.default),s.default),u.default),l.default),c.default),h.default),d.default),f.default),p.default),v.default),m.default),g.default),y.default),_.default),b.default),x.default),w.default),S.default),A.default),M.default),T.default),E.default),k.default),C.default),P.default),R.default),I.default),O.default),L.default),D.default),B.default),U.default),N.default),F.default),j.default),z.default),H.default),G.default),W.default),V.default),q.default),X.default),Y.default),K.default),Q.default),J.default),Z.default),$.default),ee.default),te.default),ne.default),re.default),ie.default),ae.default),oe.default),se.default),ue.default),le.default),ce.default),he.default),de.default),fe.default),pe.default),ve.default),me.default),ge.default),ye.default),_e.default),be.default),xe.default),we.default),Se.default),Ae.default),Me.default),Te.default),Ee.default),ke.default),Ce.default),Pe.default),Re.default),Ie.default),Oe.default),Le.default),De.default),Be.default),Ue.default),Ne.default),Fe.default);t.default=He},"1f3b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={avatarGroup:{urls:function(){return[]},maxCount:5,shape:"circle",mode:"scaleToFill",showMore:!0,size:40,keyName:"",gap:.5,extraValue:0}}},"1fda":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={readMore:{showHeight:400,toggle:!1,closeText:"\u5c55\u5f00\u9605\u8bfb\u5168\u6587",openText:"\u6536\u8d77",color:"#2979ff",fontSize:14,textIndent:"2em",name:""}}},2116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={loadingPage:{loadingText:"\u6b63\u5728\u52a0\u8f7d",image:"",loadingMode:"circle",loading:!1,bgColor:"#ffffff",color:"#C8C8C8",fontSize:19,iconSize:28,loadingColor:"#C8C8C8"}}},"226c":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={qiunDataCharts:n("257f").default},i=function(){var e=this.$createElement,t=this._self._c||e;return t("view",[t("view",[t("qiun-data-charts",{attrs:{type:"line",opts:this.opts,chartData:this.chartData,_i:2}})],1),t("view",[t("qiun-data-charts",{attrs:{type:"column",opts:this.optsColumn,chartData:this.chartDatacolumn,_i:4}})],1)])},a=[]},2278:function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("6f4e"));t.default=function(e){return(0,i.default)(e)}},2495:function(e,t,n){"use strict";n.r(t);var r=n("b2a9"),i=n("827c");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},"257f":function(e,t,n){"use strict";n.r(t);var r=n("43ed"),i=n("0df3");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"256d0339",null,!1,r["a"],void 0);t["default"]=s.exports},2632:function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("6d9f")),a={data:function(){return{containerHeight:0,oldPassword:"",newPassword:"",confirmPassword:""}},components:{Input:i.default},onReady:function(){var e=uni.getSystemInfoSync();this.containerHeight=e.windowHeight},computed:{isButtonEnabled:function(){return""!==this.oldPassword.trim()&&""!==this.newPassword.trim()&&""!==this.confirmPassword.trim()}},methods:{handleSubmit:function(){e("log","\u65e7\u5bc6\u7801:",this.oldPassword," at pages/myPage/userInfo/ChangePassword.vue:52"),e("log","\u65b0\u5bc6\u7801:",this.newPassword," at pages/myPage/userInfo/ChangePassword.vue:53"),e("log","\u786e\u8ba4\u5bc6\u7801:",this.confirmPassword," at pages/myPage/userInfo/ChangePassword.vue:54"),this.newPassword===this.confirmPassword?(e("log","\u5bc6\u7801\u4fee\u6539\u6210\u529f"," at pages/myPage/userInfo/ChangePassword.vue:64"),uni.showToast({title:"\u5bc6\u7801\u4fee\u6539\u6210\u529f",icon:"success",duration:2e3}),uni.redirectTo({url:"/"})):uni.showToast({title:"\u65b0\u5bc6\u7801\u4e0e\u786e\u8ba4\u5bc6\u7801\u4e0d\u4e00\u81f4\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",icon:"none",duration:2e3})}}};t.default=a}).call(this,n("f3b9")["default"])},"27f3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"loading1",data:function(){return{}}}},2826:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCallNotification=void 0;t.isCallNotification=function(e){return void 0!==e.method&&"call"===e.method}},2933:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"loading2",data:function(){return{}}}},"2a9c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={toolbar:{show:!0,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u8ba4",cancelColor:"#909193",confirmColor:"#3c9cff",title:""}}},"2ac9":function(e,t,n){"use strict";n.r(t);var r=n("6658"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"2b84":function(e,t,n){"use strict";(function(r,i,a){var o,s,u,l=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=l(n("127e")),h=l(n("0670")),d=l(n("34cf")),f=l(n("0fc8")),p=l(n("64bb")),v=l(n("7ca3")),m=l(n("af34")),g=l(n("7ce1")),y=l(n("ee10")),_=l(n("67ad")),b=l(n("0bdb")),x=l(n("3352")),w=l(n("8ffa")),S=l(n("4ffb")),A=l(n("b4d2")),M=l(n("3b2d")),T=l(n("4db7")),E=l(n("90a8")),k=l(n("0d25"));function C(e,t){R(e,t),t.add(e)}function P(e,t,n){R(e,t),t.set(e,n)}function R(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function O(e,t,n,r){return D(e,t),L(n,"set"),function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,n,r),r}function L(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function D(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,v.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,A.default)(e);if(t){var i=(0,A.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,S.default)(this,n)}}function F(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new H(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function H(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return H=function(e){this.s=e,this.n=e.next},H.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new H(e)}var G=Object.defineProperty,W=Object.getOwnPropertyDescriptor,V=Object.getOwnPropertyNames,q=Object.prototype.hasOwnProperty,X=function(e,t){return function(){return e&&(t=e(e=0)),t}},Y=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},K=function(e,t){for(var n in t)G(e,n,{get:t[n],enumerable:!0})},Q=function(e){return function(e,t,n,r){if(t&&"object"==(0,M.default)(t)||"function"==typeof t){var i,a=F(V(t));try{var o=function(){var a=i.value;!q.call(e,a)&&a!==n&&G(e,a,{get:function(){return t[a]},enumerable:!(r=W(t,a))||r.enumerable})};for(a.s();!(i=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}return e}(G({},"__esModule",{value:!0}),e)},J=X((function(){})),Z={};function $(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function ee(){!me||!ge||(me=!1,ge.length?ve=ge.concat(ve):ye=-1,ve.length&&te())}function te(){if(!me){var e=setTimeout(ee,0);me=!0;for(var t=ve.length;t;){for(ge=ve,ve=[];++ye<t;)ge&&ge[ye].run();ye=-1,t=ve.length}ge=null,me=!1,clearTimeout(e)}}function ne(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];ve.push(new re(e,t)),1===ve.length&&!me&&setTimeout(te,0)}function re(e,t){this.fun=e,this.array=t}function ie(){}function ae(e){$("_linkedBinding")}function oe(e){$("dlopen")}function se(){return[]}function ue(){return[]}function le(e,t){if(!e)throw new Error(t||"assertion error")}function ce(){return!1}function he(){return dt.now()/1e3}function de(e){var t=Math.floor(.001*(Date.now()-dt.now())),n=.001*dt.now(),r=Math.floor(n)+t,i=Math.floor(n%1*1e9);return e&&(r-=e[0],i-=e[1],i<0&&(r--,i+=pt)),[r,i]}function fe(){return Tt}function pe(e){return[]}K(Z,{_debugEnd:function(){return Ze},_debugProcess:function(){return Je},_events:function(){return mt},_eventsCount:function(){return gt},_exiting:function(){return Be},_fatalExceptions:function(){return Ye},_getActiveHandles:function(){return ue},_getActiveRequests:function(){return se},_kill:function(){return Fe},_linkedBinding:function(){return ae},_maxListeners:function(){return vt},_preload_modules:function(){return ct},_rawDebug:function(){return Oe},_startProfilerIdleNotifier:function(){return $e},_stopProfilerIdleNotifier:function(){return et},_tickCallback:function(){return Qe},abort:function(){return it},addListener:function(){return yt},allowedNodeEnvironmentFlags:function(){return qe},arch:function(){return be},argv:function(){return Se},argv0:function(){return lt},assert:function(){return le},binding:function(){return ke},chdir:function(){return Re},config:function(){return Ue},cpuUsage:function(){return je},cwd:function(){return Pe},debugPort:function(){return ut},default:function(){return Tt},dlopen:function(){return oe},domain:function(){return De},emit:function(){return St},emitWarning:function(){return Ee},env:function(){return we},execArgv:function(){return Ae},execPath:function(){return st},exit:function(){return We},features:function(){return Xe},hasUncaughtExceptionCaptureCallback:function(){return ce},hrtime:function(){return de},kill:function(){return Ge},listeners:function(){return pe},memoryUsage:function(){return He},moduleLoadList:function(){return Le},nextTick:function(){return ne},off:function(){return bt},on:function(){return fe},once:function(){return _t},openStdin:function(){return Ve},pid:function(){return at},platform:function(){return xe},ppid:function(){return ot},prependListener:function(){return At},prependOnceListener:function(){return Mt},reallyExit:function(){return Ne},release:function(){return Ie},removeAllListeners:function(){return wt},removeListener:function(){return xt},resourceUsage:function(){return ze},setSourceMapsEnabled:function(){return ht},setUncaughtExceptionCaptureCallback:function(){return Ke},stderr:function(){return nt},stdin:function(){return rt},stdout:function(){return tt},title:function(){return _e},umask:function(){return Ce},uptime:function(){return he},version:function(){return Me},versions:function(){return Te}});var ve,me,ge,ye,_e,be,xe,we,Se,Ae,Me,Te,Ee,ke,Ce,Pe,Re,Ie,Oe,Le,De,Be,Ue,Ne,Fe,je,ze,He,Ge,We,Ve,qe,Xe,Ye,Ke,Qe,Je,Ze,$e,et,tt,nt,rt,it,at,ot,st,ut,lt,ct,ht,dt,ft,pt,vt,mt,gt,yt,_t,bt,xt,wt,St,At,Mt,Tt,Et=X((function(){J(),Ht(),kt(),ve=[],me=!1,ye=-1,re.prototype.run=function(){this.fun.apply(null,this.array)},_e="browser",be="x64",xe="browser",we={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Se=["/usr/bin/node"],Ae=[],Me="v16.8.0",Te={},Ee=function(e,t){r("warn",(t?t+": ":"")+e," at node_modules/mqtt/dist/mqtt.esm.js:1")},ke=function(e){$("binding")},Ce=function(e){return 0},Pe=function(){return"/"},Re=function(e){},Ie={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Oe=ie,Le=[],De={},Be=!1,Ue={},Ne=ie,Fe=ie,je=function(){return{}},ze=je,He=je,Ge=ie,We=ie,Ve=ie,qe={},Xe={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Ye=ie,Ke=ie,Qe=ie,Je=ie,Ze=ie,$e=ie,et=ie,tt=void 0,nt=void 0,rt=void 0,it=ie,at=2,ot=1,st="/bin/usr/node",ut=9229,lt="node",ct=[],ht=ie,dt={now:("undefined"===typeof performance?"undefined":(0,M.default)(performance))<"u"?performance.now.bind(performance):void 0,timing:("undefined"===typeof performance?"undefined":(0,M.default)(performance))<"u"?performance.timing:void 0},void 0===dt.now&&(ft=Date.now(),dt.timing&&dt.timing.navigationStart&&(ft=dt.timing.navigationStart),dt.now=function(){return Date.now()-ft}),pt=1e9,de.bigint=function(e){var t=de(e);return("undefined"===typeof BigInt?"undefined":(0,M.default)(BigInt))>"u"?t[0]*pt+t[1]:BigInt(t[0]*pt)+BigInt(t[1])},vt=10,mt={},gt=0,yt=fe,_t=fe,bt=fe,xt=fe,wt=fe,St=ie,At=fe,Mt=fe,Tt={version:Me,versions:Te,arch:be,platform:xe,release:Ie,_rawDebug:Oe,moduleLoadList:Le,binding:ke,_linkedBinding:ae,_events:mt,_eventsCount:gt,_maxListeners:vt,on:fe,addListener:yt,once:_t,off:bt,removeListener:xt,removeAllListeners:wt,emit:St,prependListener:At,prependOnceListener:Mt,listeners:pe,domain:De,_exiting:Be,config:Ue,dlopen:oe,uptime:he,_getActiveRequests:se,_getActiveHandles:ue,reallyExit:Ne,_kill:Fe,cpuUsage:je,resourceUsage:ze,memoryUsage:He,kill:Ge,exit:We,openStdin:Ve,allowedNodeEnvironmentFlags:qe,assert:le,features:Xe,_fatalExceptions:Ye,setUncaughtExceptionCaptureCallback:Ke,hasUncaughtExceptionCaptureCallback:ce,emitWarning:Ee,nextTick:ne,_tickCallback:Qe,_debugProcess:Je,_debugEnd:Ze,_startProfilerIdleNotifier:$e,_stopProfilerIdleNotifier:et,stdout:tt,stdin:rt,stderr:nt,abort:it,umask:Ce,chdir:Re,cwd:Pe,env:we,title:_e,argv:Se,execArgv:Ae,pid:at,ppid:ot,execPath:st,debugPort:ut,hrtime:de,argv0:lt,_preload_modules:ct,setSourceMapsEnabled:ht}})),kt=X((function(){Et()})),Ct={};function Pt(){if(Bt)return Dt;Bt=!0;var e=function(){if(It)return Rt;It=!0,Rt.byteLength=function(e){var t=o(e),n=t[0],r=t[1];return 3*(n+r)/4-r},Rt.toByteArray=function(e){var r,i,a=o(e),s=a[0],u=a[1],l=new n(function(e,t,n){return 3*(t+n)/4-n}(0,s,u)),c=0,h=u>0?s-4:s;for(i=0;i<h;i+=4)r=t[e.charCodeAt(i)]<<18|t[e.charCodeAt(i+1)]<<12|t[e.charCodeAt(i+2)]<<6|t[e.charCodeAt(i+3)],l[c++]=r>>16&255,l[c++]=r>>8&255,l[c++]=255&r;return 2===u&&(r=t[e.charCodeAt(i)]<<2|t[e.charCodeAt(i+1)]>>4,l[c++]=255&r),1===u&&(r=t[e.charCodeAt(i)]<<10|t[e.charCodeAt(i+1)]<<4|t[e.charCodeAt(i+2)]>>2,l[c++]=r>>8&255,l[c++]=255&r),l},Rt.fromByteArray=function(t){for(var n,r=t.length,i=r%3,a=[],o=16383,s=0,l=r-i;s<l;s+=o)a.push(u(t,s,s+o>l?l:s+o));return 1===i?(n=t[r-1],a.push(e[n>>2]+e[n<<4&63]+"==")):2===i&&(n=(t[r-2]<<8)+t[r-1],a.push(e[n>>10]+e[n>>4&63]+e[n<<2&63]+"=")),a.join("")};for(var e=[],t=[],n=("undefined"===typeof Uint8Array?"undefined":(0,M.default)(Uint8Array))<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=r.length;i<a;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;function o(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function s(t){return e[t>>18&63]+e[t>>12&63]+e[t>>6&63]+e[63&t]}function u(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(s(r));return i.join("")}return t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63,Rt}(),t=function(){return Lt||(Lt=!0,Ot.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,a=f&(1<<-c)-1,f>>=-c,c+=s;c>0;a=256*a+e[t+h],h+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=l}return(f?-1:1)*o*Math.pow(2,a-r)},Ot.write=function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),t+=o+h>=1?d/u:d*Math.pow(2,1-h),t*u>=2&&(o++,u/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*u-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+f]=255&o,f+=p,o/=256,l-=8);e[n+f-p]|=128*v}),Ot}(),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Dt.Buffer=o,Dt.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},Dt.INSPECT_MAX_BYTES=50;var i=2147483647;function a(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return s(e,t,n)}function s(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|f(e,t),r=a(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(0,M.default)(e));if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer)||("undefined"===typeof SharedArrayBuffer?"undefined":(0,M.default)(SharedArrayBuffer))<"u"&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return o.from(r,t,n);var i=function(e){if(o.isBuffer(e)){var t=0|d(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||$(e.length)?a(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(i)return i;if(("undefined"===typeof Symbol?"undefined":(0,M.default)(Symbol))<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(0,M.default)(e))}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),a(e<0?0:0|d(e))}function c(e){for(var t=e.length<0?0:0|d(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,o.prototype),r}function d(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(0,M.default)(e));var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(i)return r?-1:K(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,t>>>=0,n<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,$(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var h=!0,d=0;d<u;d++)if(l(e,a+d)!==l(t,d)){h=!1;break}if(h)return a}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var a,o=t.length;for(r>o/2&&(r=o/2),a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if($(s))return a;e[n+a]=s}return a}function S(e,t,n,r){return J(K(t,e.length-n),e,n,r)}function A(e,t,n,r){return J(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function T(e,t,n,r){return J(Q(t),e,n,r)}function E(e,t,n,r){return J(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function k(t,n,r){return 0===n&&r===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(n,r))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var u=void 0,l=void 0,c=void 0,h=void 0;switch(s){case 1:a<128&&(o=a);break;case 2:u=e[i+1],128===(192&u)&&(h=(31&a)<<6|63&u,h>127&&(o=h));break;case 3:u=e[i+1],l=e[i+2],128===(192&u)&&128===(192&l)&&(h=(15&a)<<12|(63&u)<<6|63&l,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(h=(15&a)<<18|(63&u)<<12|(63&l)<<6|63&c,h>65535&&h<1114112&&(o=h))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}Dt.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),!o.TYPED_ARRAY_SUPPORT&&("undefined"===typeof console?"undefined":(0,M.default)(console))<"u"&&"function"==typeof console.error&&r("error","This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."," at node_modules/mqtt/dist/mqtt.esm.js:1"),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,n){return s(e,t,n)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},o.allocUnsafe=function(e){return l(e)},o.allocUnsafeSlow=function(e){return l(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(Z(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(Z(a,Uint8Array))i+a.length>r.length?(o.isBuffer(a)||(a=o.from(a)),a.copy(r,i)):Uint8Array.prototype.set.call(r,a,i);else{if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i)}i+=a.length}return r},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=Dt.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,n,r,i){if(Z(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(0,M.default)(e));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,s=n-t,u=Math.min(a,s),l=this.slice(r,i),c=e.slice(t,n),h=0;h<u;++h)if(l[h]!==c[h]){a=l[h],s=c[h];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return A(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=ee[e[a]];return i}function O(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length-1;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function L(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,i){V(t,r,i,e,n,7);var a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function U(e,t,n,r,i){V(t,r,i,e,n,7);var a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function F(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,n,r,i,a){return n=+n,r>>>=0,a||F(e,0,r,4),t.write(e,n,r,i,23,4),r+4}function z(e,n,r,i,a){return n=+n,r>>>=0,a||F(e,0,r,8),t.write(e,n,r,i,52,8),r+8}o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,o.prototype),r},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=te((function(e){e>>>=0,q(e,"offset");var t=this[e],n=this[e+7];(void 0===t||void 0===n)&&X(e,this.length-8);var r=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+n*Math.pow(2,24);return BigInt(r)+(BigInt(i)<<BigInt(32))})),o.prototype.readBigUInt64BE=te((function(e){e>>>=0,q(e,"offset");var t=this[e],n=this[e+7];(void 0===t||void 0===n)&&X(e,this.length-8);var r=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),o.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},o.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=te((function(e){e>>>=0,q(e,"offset");var t=this[e],n=this[e+7];(void 0===t||void 0===n)&&X(e,this.length-8);var r=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),o.prototype.readBigInt64BE=te((function(e){e>>>=0,q(e,"offset");var t=this[e],n=this[e+7];(void 0===t||void 0===n)&&X(e,this.length-8);var r=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n)})),o.prototype.readFloatLE=function(e,n){return e>>>=0,n||L(e,4,this.length),t.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,n){return e>>>=0,n||L(e,4,this.length),t.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,n){return e>>>=0,n||L(e,8,this.length),t.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,n){return e>>>=0,n||L(e,8,this.length),t.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;D(this,e,t,n,i,0)}var a=1,o=0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=e/a&255;return t+n},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;D(this,e,t,n,i,0)}var a=n-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+n},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=te((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeBigUInt64BE=te((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=te((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeBigInt64BE=te((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!r&&0!==r&&(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:o.from(e,r),u=s.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var H={};function G(e,t,n){H[e]=function(n){(0,w.default)(i,n);var r=N(i);function i(){var n;return(0,_.default)(this,i),n=r.call(this),Object.defineProperty((0,x.default)(n),"message",{value:t.apply((0,x.default)(n),arguments),writable:!0,configurable:!0}),n.name="".concat(n.name," [").concat(e,"]"),n.stack,delete n.name,n}return(0,b.default)(i,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),i}(n)}function W(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function V(e,t,n,r,i,a){if(e>n||e<t){var o,s="bigint"==typeof t?"n":"";throw o=a>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(a+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(a+1)-1).concat(s,") and < 2 ** ").concat(8*(a+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(n).concat(s),new H.ERR_OUT_OF_RANGE("value",o,e)}(function(e,t,n){q(t,"offset"),(void 0===e[t]||void 0===e[t+n])&&X(t,e.length-(n+1))})(r,i,a)}function q(e,t){if("number"!=typeof e)throw new H.ERR_INVALID_ARG_TYPE(t,"number",e)}function X(e,t,n){throw Math.floor(e)!==e?(q(e,n),new H.ERR_OUT_OF_RANGE(n||"offset","an integer",e)):t<0?new H.ERR_BUFFER_OUT_OF_BOUNDS:new H.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}G("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),G("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat((0,M.default)(t))}),TypeError),G("ERR_OUT_OF_RANGE",(function(e,t,n){var r='The value of "'.concat(e,'" is out of range.'),i=n;return Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?i=W(String(n)):"bigint"==typeof n&&(i=String(n),(n>Math.pow(BigInt(2),BigInt(32))||n<-Math.pow(BigInt(2),BigInt(32)))&&(i=W(i)),i+="n"),r+=" It must be ".concat(t,". Received ").concat(i),r}),RangeError);var Y=/[^+/0-9A-Za-z-_]/g;function K(e,t){t=t||1/0;for(var n,r=e.length,i=null,a=[],o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function Q(t){return e.toByteArray(function(e){if(e=e.split("=")[0],e=e.trim().replace(Y,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}(t))}function J(e,t,n,r){var i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!==e}var ee=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}();function te(e){return("undefined"===typeof BigInt?"undefined":(0,M.default)(BigInt))>"u"?ne:e}function ne(){throw new Error("BigInt not supported")}return Dt}K(Ct,{Buffer:function(){return Nt},INSPECT_MAX_BYTES:function(){return Ft},default:function(){return Ut},kMaxLength:function(){return jt}});var Rt,It,Ot,Lt,Dt,Bt,Ut,Nt,Ft,jt,zt=X((function(){J(),Ht(),kt(),Rt={},It=!1,Ot={},Lt=!1,Dt={},Bt=!1,Ut=Pt(),Ut.Buffer,Ut.SlowBuffer,Ut.INSPECT_MAX_BYTES,Ut.kMaxLength,Nt=Ut.Buffer,Ft=Ut.INSPECT_MAX_BYTES,jt=Ut.kMaxLength})),Ht=X((function(){zt()})),Gt=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(t){(0,_.default)(this,e),this.aliasToTopic={},this.max=t}return(0,b.default)(e,[{key:"put",value:function(e,t){return!(0===t||t>this.max)&&(this.aliasToTopic[t]=e,this.length=Object.keys(this.aliasToTopic).length,!0)}},{key:"getTopicByAlias",value:function(e){return this.aliasToTopic[e]}},{key:"clear",value:function(){this.aliasToTopic={}}}]),e}();e.default=t})),Wt=Y((function(e,t){J(),Ht(),kt(),t.exports={ArrayIsArray:function(e){return Array.isArray(e)},ArrayPrototypeIncludes:function(e,t){return e.includes(t)},ArrayPrototypeIndexOf:function(e,t){return e.indexOf(t)},ArrayPrototypeJoin:function(e,t){return e.join(t)},ArrayPrototypeMap:function(e,t){return e.map(t)},ArrayPrototypePop:function(e,t){return e.pop(t)},ArrayPrototypePush:function(e,t){return e.push(t)},ArrayPrototypeSlice:function(e,t,n){return e.slice(t,n)},Error:Error,FunctionPrototypeCall:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.call.apply(e,[t].concat(r))},FunctionPrototypeSymbolHasInstance:function(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:function(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty:function(e,t,n){return Object.defineProperty(e,t,n)},ObjectGetOwnPropertyDescriptor:function(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys:function(e){return Object.keys(e)},ObjectSetPrototypeOf:function(e,t){return Object.setPrototypeOf(e,t)},Promise:Promise,PromisePrototypeCatch:function(e,t){return e.catch(t)},PromisePrototypeThen:function(e,t,n){return e.then(t,n)},PromiseReject:function(e){return Promise.reject(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest:function(e,t){return e.test(t)},SafeSet:Set,String:String,StringPrototypeSlice:function(e,t,n){return e.slice(t,n)},StringPrototypeToLowerCase:function(e){return e.toLowerCase()},StringPrototypeToUpperCase:function(e){return e.toUpperCase()},StringPrototypeTrim:function(e){return e.trim()},Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:function(e,t,n){return e.set(t,n)},Uint8Array:Uint8Array}})),Vt=Y((function(e,t){J(),Ht(),kt();var n=(zt(),Q(Ct)),r=Object.getPrototypeOf((0,y.default)(c.default.mark((function e(){return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).constructor,i=globalThis.Blob||n.Blob,a=(0,M.default)(i)<"u"?function(e){return e instanceof i}:function(e){return!1},o=function(e){(0,w.default)(n,e);var t=N(n);function n(e){var r;if((0,_.default)(this,n),!Array.isArray(e))throw new TypeError("Expected input to be an Array, got ".concat((0,M.default)(e)));for(var i="",a=0;a<e.length;a++)i+="    ".concat(e[a].stack,"\n");return r=t.call(this,i),r.name="AggregateError",r.errors=e,r}return(0,b.default)(n)}((0,g.default)(Error));t.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once:function(e){var t=!1;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){var e,t;return{promise:new Promise((function(n,r){e=n,t=r})),resolve:e,reject:t}},promisify:function(e){return new Promise((function(t,n){e((function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return e?n(e):t.apply(void 0,i)}))}))},debuglog:function(){return function(){}},format:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.replace(/%([sdifj])/g,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0];var i=t[1],a=n.shift();return"f"===i?a.toFixed(6):"j"===i?JSON.stringify(a):"s"===i&&"object"==(0,M.default)(a)?"".concat(a.constructor!==Object?a.constructor.name:""," {}").trim():a.toString()}))},inspect:function(e){switch((0,M.default)(e)){case"string":if(e.includes("'")){if(!e.includes('"'))return'"'.concat(e,'"');if(!e.includes("`")&&!e.includes("${"))return"`".concat(e,"`")}return"'".concat(e,"'");case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return"".concat(String(e),"n");case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:function(e){return e instanceof r},isArrayBufferView:function(e){return ArrayBuffer.isView(e)}},isBlob:a},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})),qt=Y((function(e,t){J(),Ht(),kt();var n=("undefined"===typeof self?"undefined":(0,M.default)(self))<"u"?self:("undefined"===typeof window?"undefined":(0,M.default)(window))<"u"?window:void 0,r=n.AbortController,i=n.AbortSignal;t.exports=r,t.exports.AbortSignal=i,t.exports.default=r})),Xt=Y((function(e,t){J(),Ht(),kt();var n=Vt(),r=n.format,i=n.inspect,a=n.AggregateError,o=globalThis.AggregateError||a,s=Symbol("kIsNodeError"),u=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c={};function h(e,t){if(!e)throw new c.ERR_INTERNAL_ASSERTION(t)}function d(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function f(e,t,n){if("function"==typeof t)return h(t.length<=n.length,"Code: ".concat(e,"; The provided arguments length (").concat(n.length,") does not match the required ones (").concat(t.length,").")),t.apply(void 0,(0,m.default)(n));var i=(t.match(/%[dfijoOs]/g)||[]).length;return h(i===n.length,"Code: ".concat(e,"; The provided arguments length (").concat(n.length,") does not match the required ones (").concat(i,").")),0===n.length?t:r.apply(void 0,[t].concat((0,m.default)(n)))}function p(e,t,n){n||(n=Error);var r=function(n){(0,w.default)(i,n);var r=N(i);function i(){(0,_.default)(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r.call(this,f(e,t,a))}return(0,b.default)(i,[{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),i}(n);Object.defineProperties(r.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=e,r.prototype[s]=!0,c[e]=r}function v(e){var t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}var y=function(e){(0,w.default)(n,e);var t=N(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The operation was aborted",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if((0,_.default)(this,n),void 0!==i&&"object"!=(0,M.default)(i))throw new c.ERR_INVALID_ARG_TYPE("options","Object",i);return e=t.call(this,r,i),e.code="ABORT_ERR",e.name="AbortError",e}return(0,b.default)(n)}((0,g.default)(Error));p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(function(e,t,n){h("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);var r="The ";e.endsWith(" argument")?r+="".concat(e," "):r+='"'.concat(e,'" ').concat(e.includes(".")?"property":"argument"," "),r+="must be ";var a,o=[],s=[],c=[],d=F(t);try{for(d.s();!(a=d.n()).done;){var f=a.value;h("string"==typeof f,"All expected entries have to be of type string"),u.includes(f)?o.push(f.toLowerCase()):l.test(f)?s.push(f):(h("object"!==f,'The value "object" should be written as "Object"'),c.push(f))}}catch(x){d.e(x)}finally{d.f()}if(s.length>0){var p=o.indexOf("object");-1!==p&&(o.splice(o,p,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:r+="of type ".concat(o[0]);break;case 2:r+="one of type ".concat(o[0]," or ").concat(o[1]);break;default:var v=o.pop();r+="one of type ".concat(o.join(", "),", or ").concat(v)}(s.length>0||c.length>0)&&(r+=" or ")}if(s.length>0){switch(s.length){case 1:r+="an instance of ".concat(s[0]);break;case 2:r+="an instance of ".concat(s[0]," or ").concat(s[1]);break;default:var m=s.pop();r+="an instance of ".concat(s.join(", "),", or ").concat(m)}c.length>0&&(r+=" or ")}switch(c.length){case 0:break;case 1:c[0].toLowerCase()!==c[0]&&(r+="an "),r+="".concat(c[0]);break;case 2:r+="one of ".concat(c[0]," or ").concat(c[1]);break;default:var g=c.pop();r+="one of ".concat(c.join(", "),", or ").concat(g)}if(null==n)r+=". Received ".concat(n);else if("function"==typeof n&&n.name)r+=". Received function ".concat(n.name);else if("object"==(0,M.default)(n)){var y;if(null!==(y=n.constructor)&&void 0!==y&&y.name)r+=". Received an instance of ".concat(n.constructor.name);else{var _=i(n,{depth:-1});r+=". Received ".concat(_)}}else{var b=i(n,{colors:!1});b.length>25&&(b="".concat(b.slice(0,25),"...")),r+=". Received type ".concat((0,M.default)(n)," (").concat(b,")")}return r}),TypeError),p("ERR_INVALID_ARG_VALUE",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid",r=i(t);return r.length>128&&(r=r.slice(0,128)+"..."),"The ".concat(e.includes(".")?"property":"argument"," '").concat(e,"' ").concat(n,". Received ").concat(r)}),TypeError),p("ERR_INVALID_RETURN_VALUE",(function(e,t,n){var r,i=null!=n&&null!==(r=n.constructor)&&void 0!==r&&r.name?"instance of ".concat(n.constructor.name):"type ".concat((0,M.default)(n));return"Expected ".concat(e,' to be returned from the "').concat(t,'" function but got ').concat(i,".")}),TypeError),p("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];h(t.length>0,"At least one arg needs to be specified");var r,i=t.length;switch(t=(Array.isArray(t)?t:[t]).map((function(e){return'"'.concat(e,'"')})).join(" or "),i){case 1:r+="The ".concat(t[0]," argument");break;case 2:r+="The ".concat(t[0]," and ").concat(t[1]," arguments");break;default:var a=t.pop();r+="The ".concat(t.join(", "),", and ").concat(a," arguments");break}return"".concat(r," must be specified")}),TypeError),p("ERR_OUT_OF_RANGE",(function(e,t,n){var r;return h(t,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?r=d(String(n)):"bigint"==typeof n?(r=String(n),(n>Math.pow(2n,32n)||n<-Math.pow(2n,32n))&&(r=d(r)),r+="n"):r=i(n),'The value of "'.concat(e,'" is out of range. It must be ').concat(t,". Received ").concat(r)}),RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:y,aggregateTwoErrors:v((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;var n=new o([t,e],t.message);return n.code=t.code,n}return e||t})),hideStackFrames:v,codes:c}})),Yt=Y((function(e,t){J(),Ht(),kt();var n=Wt(),r=n.ArrayIsArray,i=n.ArrayPrototypeIncludes,a=n.ArrayPrototypeJoin,o=n.ArrayPrototypeMap,s=n.NumberIsInteger,u=n.NumberIsNaN,l=n.NumberMAX_SAFE_INTEGER,c=n.NumberMIN_SAFE_INTEGER,h=n.NumberParseInt,d=n.ObjectPrototypeHasOwnProperty,f=n.RegExpPrototypeExec,p=n.String,v=n.StringPrototypeToUpperCase,m=n.StringPrototypeTrim,g=Xt(),y=g.hideStackFrames,_=g.codes,b=_.ERR_SOCKET_BAD_PORT,x=_.ERR_INVALID_ARG_TYPE,w=_.ERR_INVALID_ARG_VALUE,S=_.ERR_OUT_OF_RANGE,A=_.ERR_UNKNOWN_SIGNAL,T=Vt(),E=T.normalizeEncoding,k=Vt().types,C=k.isAsyncFunction,P=k.isArrayBufferView,R={};var I=/^[0-7]+$/;var O=y((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l;if("number"!=typeof e)throw new x(t,"number",e);if(!s(e))throw new S(t,"an integer",e);if(e<n||e>r)throw new S(t,">= ".concat(n," && <= ").concat(r),e)})),L=y((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-2147483648,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2147483647;if("number"!=typeof e)throw new x(t,"number",e);if(!s(e))throw new S(t,"an integer",e);if(e<n||e>r)throw new S(t,">= ".concat(n," && <= ").concat(r),e)})),D=y((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"!=typeof e)throw new x(t,"number",e);if(!s(e))throw new S(t,"an integer",e);var r=n?1:0,i=4294967295;if(e<r||e>i)throw new S(t,">= ".concat(r," && <= ").concat(i),e)}));function B(e,t){if("string"!=typeof e)throw new x(t,"string",e)}var U=y((function(e,t,n){if(!i(n,e)){var r="must be one of: "+a(o(n,(function(e){return"string"==typeof e?"'".concat(e,"'"):p(e)})),", ");throw new w(t,e,r)}}));function N(e,t){if("boolean"!=typeof e)throw new x(t,"boolean",e)}function F(e,t,n){return null!=e&&d(e,t)?e[t]:n}var j=y((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=F(n,"allowArray",!1),a=F(n,"allowFunction",!1);if(!F(n,"nullable",!1)&&null===e||!i&&r(e)||"object"!=(0,M.default)(e)&&(!a||"function"!=typeof e))throw new x(t,"Object",e)})),z=y((function(e,t){if(null!=e&&"object"!=(0,M.default)(e)&&"function"!=typeof e)throw new x(t,"a dictionary",e)})),H=y((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!r(e))throw new x(t,"Array",e);if(e.length<n){var i="must be longer than ".concat(n);throw new w(t,e,i)}}));var G=y((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffer";if(!P(e))throw new x(t,["Buffer","TypedArray","DataView"],e)}));var W=y((function(e,t){if(void 0!==e&&(null===e||"object"!=(0,M.default)(e)||!("aborted"in e)))throw new x(t,"AbortSignal",e)})),V=y((function(e,t){if("function"!=typeof e)throw new x(t,"Function",e)})),q=y((function(e,t){if("function"!=typeof e||C(e))throw new x(t,"Function",e)})),X=y((function(e,t){if(void 0!==e)throw new x(t,"undefined",e)}));var Y=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function K(e,t){if((0,M.default)(e)>"u"||!f(Y,e))throw new w(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,n){if((0,M.default)(e)>"u"&&(e=n),"string"==typeof e){if(null===f(I,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=h(e,8)}return D(e,t),e},validateArray:H,validateStringArray:function(e,t){H(e,t);for(var n=0;n<e.length;n++)B(e[n],"".concat(t,"[").concat(n,"]"))},validateBooleanArray:function(e,t){H(e,t);for(var n=0;n<e.length;n++)N(e[n],"".concat(t,"[").concat(n,"]"))},validateBoolean:N,validateBuffer:G,validateDictionary:z,validateEncoding:function(e,t){var n=E(t),r=e.length;if("hex"===n&&r%2!==0)throw new w("encoding",t,"is invalid for data of length ".concat(r))},validateFunction:V,validateInt32:L,validateInteger:O,validateNumber:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("number"!=typeof e)throw new x(t,"number",e);if(null!=n&&e<n||null!=r&&e>r||(null!=n||null!=r)&&u(e))throw new S(t,"".concat(null!=n?">= ".concat(n):"").concat(null!=n&&null!=r?" && ":"").concat(null!=r?"<= ".concat(r):""),e)},validateObject:j,validateOneOf:U,validatePlainFunction:q,validatePort:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Port",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===m(e).length||+e!==+e>>>0||e>65535||0===e&&!n)throw new b(t,e,n);return 0|e},validateSignalName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"signal";if(B(e,t),void 0===R[e])throw void 0!==R[v(e)]?new A(e+" (signals must use all capital letters)"):new A(e)},validateString:B,validateUint32:D,validateUndefined:X,validateUnion:function(e,t,n){if(!i(n,e))throw new x(t,"('".concat(a(n,"|"),"')"),e)},validateAbortSignal:W,validateLinkHeaderValue:function(e){if("string"==typeof e)return K(e,"hints"),e;if(r(e)){var t=e.length,n="";if(0===t)return n;for(var i=0;i<t;i++){var a=e[i];K(a,"hints"),n+=a,i!==t-1&&(n+=", ")}return n}throw new w("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}})),Kt=Y((function(e,t){J(),Ht(),kt();var n,r,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(r){return n.call(this,e,0)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}})();var u,l=[],c=!1,h=-1;function d(){!c||!u||(c=!1,u.length?l=u.concat(l):h=-1,l.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(u=l,l=[];++h<t;)u&&u[h].run();h=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1===l.length&&!c&&s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}})),Qt=Y((function(e,t){J(),Ht(),kt();var n=Wt(),r=n.Symbol,i=n.SymbolAsyncIterator,a=n.SymbolIterator,o=n.SymbolFor,s=r("kDestroyed"),u=r("kIsErrored"),l=r("kIsReadable"),c=r("kIsDisturbed"),h=o("nodejs.webstream.isClosedPromise"),d=o("nodejs.webstream.controllerErrorFunction");function f(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||n&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(t=e._readableState)||void 0===t?void 0:t.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function v(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function m(e){return!(!e||v(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function g(e){return!(!e||v(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function y(e){return!(!e||v(e)||"object"!=(0,M.default)(e.readable)||"object"!=(0,M.default)(e.writable))}function _(e){if(!v(e))return null;var t=e._writableState,n=e._readableState,r=t||n;return!!(e.destroyed||e[s]||null!=r&&r.destroyed)}function b(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;var t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)}function x(e,t){if(!f(e))return null;var n=e._readableState;return(null==n||!n.errored)&&("boolean"!=typeof(null===n||void 0===n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===t&&!0===n.ended&&0===n.length))}function w(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null===e||void 0===e?void 0:e.readable)?null:!_(e)&&(f(e)&&e.readable&&!x(e))}function S(e){return"boolean"!=typeof(null===e||void 0===e?void 0:e.writable)?null:!_(e)&&(p(e)&&e.writable&&!b(e))}function A(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function T(e){return"boolean"==typeof e._sent100&&A(e)}t.exports={kDestroyed:s,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[c])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:c,isErrored:function(e){var t,n,r,i,a,o,s,l,c,h;return!(!e||!(null!==(t=null!==(n=null!==(r=null!==(i=null!==(a=null!==(o=e[u])&&void 0!==o?o:e.readableErrored)&&void 0!==a?a:e.writableErrored)&&void 0!==i?i:null===(s=e._readableState)||void 0===s?void 0:s.errorEmitted)&&void 0!==r?r:null===(l=e._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(c=e._readableState)||void 0===c?void 0:c.errored)&&void 0!==t?t:null!==(h=e._writableState)&&void 0!==h&&h.errored))},kIsErrored:u,isReadable:w,kIsReadable:l,kIsClosedPromise:h,kControllerErrorFunction:d,isClosed:function(e){if(!v(e))return null;if("boolean"==typeof e.closed)return e.closed;var t=e._writableState,n=e._readableState;return"boolean"==typeof(null===t||void 0===t?void 0:t.closed)||"boolean"==typeof(null===n||void 0===n?void 0:n.closed)?(null===t||void 0===t?void 0:t.closed)||(null===n||void 0===n?void 0:n.closed):"boolean"==typeof e._closed&&A(e)?e._closed:null},isDestroyed:_,isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return v(e)?!!_(e)||!(!1!==(null===t||void 0===t?void 0:t.readable)&&w(e)||!1!==(null===t||void 0===t?void 0:t.writable)&&S(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[i]:!1===t?"function"==typeof e[a]:"function"==typeof e[i]||"function"==typeof e[a])},isReadableNodeStream:f,isReadableStream:m,isReadableEnded:function(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;var t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)},isReadableFinished:x,isReadableErrored:function(e){var t,n;return v(e)?e.readableErrored?e.readableErrored:null!==(t=null===(n=e._readableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isNodeStream:v,isWebStream:function(e){return m(e)||g(e)||y(e)},isWritable:S,isWritableNodeStream:p,isWritableStream:g,isWritableEnded:b,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;var n=e._writableState;return(null==n||!n.errored)&&("boolean"!=typeof(null===n||void 0===n?void 0:n.finished)?null:!!(n.finished||!1===t&&!0===n.ended&&0===n.length))},isWritableErrored:function(e){var t,n;return v(e)?e.writableErrored?e.writableErrored:null!==(t=null===(n=e._writableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:T,willEmitClose:function(e){if(!v(e))return null;var t=e._writableState,n=e._readableState,r=t||n;return!r&&T(e)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)},isTransformStream:y}})),Jt=Y((function(e,t){J(),Ht(),kt();var n=Kt(),r=Xt(),i=r.AbortError,a=r.codes,o=a.ERR_INVALID_ARG_TYPE,s=a.ERR_STREAM_PREMATURE_CLOSE,u=Vt(),l=u.kEmptyObject,c=u.once,h=Yt(),d=h.validateAbortSignal,f=h.validateFunction,p=h.validateObject,v=h.validateBoolean,m=Wt(),g=m.Promise,y=m.PromisePrototypeThen,_=Qt(),b=_.isClosed,x=_.isReadable,w=_.isReadableNodeStream,S=_.isReadableStream,A=_.isReadableFinished,M=_.isReadableErrored,T=_.isWritable,E=_.isWritableNodeStream,k=_.isWritableStream,C=_.isWritableFinished,P=_.isWritableErrored,R=_.isNodeStream,I=_.willEmitClose,O=_.kIsClosedPromise;function L(e){return e.setHeader&&"function"==typeof e.abort}var D=function(){};function B(e,t,r){var a,u;if(2===arguments.length?(r=t,t=l):null==t?t=l:p(t,"options"),f(r,"callback"),d(t.signal,"options.signal"),r=c(r),S(e)||k(e))return U(e,t,r);if(!R(e))throw new o("stream",["ReadableStream","WritableStream","Stream"],e);var h=null!==(a=t.readable)&&void 0!==a?a:w(e),v=null!==(u=t.writable)&&void 0!==u?u:E(e),m=e._writableState,g=e._readableState,y=function(){e.writable||B()},_=I(e)&&w(e)===h&&E(e)===v,O=C(e,!1),B=function(){O=!0,e.destroyed&&(_=!1),(!_||e.readable&&!h)&&(!h||N)&&r.call(e)},N=A(e,!1),F=function(){N=!0,e.destroyed&&(_=!1),(!_||e.writable&&!v)&&(!v||O)&&r.call(e)},j=function(t){r.call(e,t)},z=b(e),H=function(){z=!0;var t=P(e)||M(e);return t&&"boolean"!=typeof t?r.call(e,t):h&&!N&&w(e,!0)&&!A(e,!1)?r.call(e,new s):!v||O||C(e,!1)?void r.call(e):r.call(e,new s)},G=function(){z=!0;var t=P(e)||M(e);if(t&&"boolean"!=typeof t)return r.call(e,t);r.call(e)},W=function(){e.req.on("finish",B)};L(e)?(e.on("complete",B),_||e.on("abort",H),e.req?W():e.on("request",W)):v&&!m&&(e.on("end",y),e.on("close",y)),!_&&"boolean"==typeof e.aborted&&e.on("aborted",H),e.on("end",F),e.on("finish",B),!1!==t.error&&e.on("error",j),e.on("close",H),z?n.nextTick(H):null!=m&&m.errorEmitted||null!=g&&g.errorEmitted?_||n.nextTick(G):(!h&&(!_||x(e))&&(O||!1===T(e))||!v&&(!_||T(e))&&(N||!1===x(e))||g&&e.req&&e.aborted)&&n.nextTick(G);var V=function(){r=D,e.removeListener("aborted",H),e.removeListener("complete",B),e.removeListener("abort",H),e.removeListener("request",W),e.req&&e.req.removeListener("finish",B),e.removeListener("end",y),e.removeListener("close",y),e.removeListener("finish",B),e.removeListener("end",F),e.removeListener("error",j),e.removeListener("close",H)};if(t.signal&&!z){var q=function(){var n=r;V(),n.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(q);else{var X=r;r=c((function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.signal.removeEventListener("abort",q),X.apply(e,r)})),t.signal.addEventListener("abort",q)}}return V}function U(e,t,r){var a=!1,o=D;if(t.signal)if(o=function(){a=!0,r.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)n.nextTick(o);else{var s=r;r=c((function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.signal.removeEventListener("abort",o),s.apply(e,r)})),t.signal.addEventListener("abort",o)}var u=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];a||n.nextTick((function(){return r.apply(e,i)}))};return y(e[O].promise,u,u),D}t.exports=B,t.exports.finished=function(e,t){var n,r=!1;return null===t&&(t=l),null!==(n=t)&&void 0!==n&&n.cleanup&&(v(t.cleanup,"cleanup"),r=t.cleanup),new g((function(n,i){var a=B(e,t,(function(e){r&&a(),e?i(e):n()}))}))}})),Zt=Y((function(e,t){J(),Ht(),kt();var n=Kt(),r=Xt(),i=r.aggregateTwoErrors,a=r.codes.ERR_MULTIPLE_CALLBACK,o=r.AbortError,s=Wt(),u=s.Symbol,l=Qt(),c=l.kDestroyed,h=l.isDestroyed,d=l.isFinished,f=l.isServerRequest,p=u("kDestroy"),v=u("kConstruct");function m(e,t,n){e&&(e.stack,t&&!t.errored&&(t.errored=e),n&&!n.errored&&(n.errored=e))}function g(e,t,r){var i=!1;function a(t){if(!i){i=!0;var a=e._readableState,o=e._writableState;m(t,o,a),o&&(o.closed=!0),a&&(a.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(y,e,t):n.nextTick(_,e)}}try{e._destroy(t||null,a)}catch(o){a(o)}}function y(e,t){b(e,t),_(e)}function _(e){var t=e._readableState,n=e._writableState;n&&(n.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=n&&n.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function b(e,t){var n=e._readableState,r=e._writableState;null!=r&&r.errorEmitted||null!=n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),e.emit("error",t))}function x(e,t,r){var i=e._readableState,a=e._writableState;if(null!=a&&a.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=a&&a.autoDestroy?e.destroy(t):t&&(t.stack,a&&!a.errored&&(a.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(b,e,t):b(e,t))}function w(e){var t=!1;function r(r){if(t)x(e,null!==r&&void 0!==r?r:new a);else{t=!0;var i=e._readableState,o=e._writableState,s=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),s.destroyed?e.emit(p,r):r?x(e,r,!0):n.nextTick(S,e)}}try{e._construct((function(e){n.nextTick(r,e)}))}catch(i){n.nextTick(r,i)}}function S(e){e.emit(v)}function A(e){return(null===e||void 0===e?void 0:e.setHeader)&&"function"==typeof e.abort}function M(e){e.emit("close")}function T(e,t){e.emit("error",t),n.nextTick(M,e)}t.exports={construct:function(e,t){if("function"==typeof e._construct){var r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(v,t),!(e.listenerCount(v)>1)&&n.nextTick(w,e)}},destroyer:function(e,t){!e||h(e)||(!t&&!d(e)&&(t=new o),f(e)?(e.socket=null,e.destroy(t)):A(e)?e.abort():A(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(T,e,t):n.nextTick(M,e),e.destroyed||(e[c]=!0))},destroy:function(e,t){var n=this._readableState,r=this._writableState,a=r||n;return null!=r&&r.destroyed||null!=n&&n.destroyed?("function"==typeof t&&t(),this):(m(e,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),a.constructed?g(this,e,t):this.once(p,(function(n){g(this,i(n,e),t)})),this)},undestroy:function(){var e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:x}}));function $t(){$t.init.call(this)}function en(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+(0,M.default)(e))}function tn(e){return void 0===e._maxListeners?$t.defaultMaxListeners:e._maxListeners}function nn(e,t,n,i){var a,o,s,u;if(en(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(a=tn(e))>0&&s.length>a&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,u=l,console&&console.warn&&r("warn",u," at node_modules/mqtt/dist/mqtt.esm.js:2")}return e}function rn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function an(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=rn.bind(r);return i.listener=n,r.wrapFn=i,i}function on(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):un(i,i.length)}function sn(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function un(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}var ln,cn,hn,dn,fn,pn,vn,mn=X((function(){J(),Ht(),kt(),hn="object"==("undefined"===typeof Reflect?"undefined":(0,M.default)(Reflect))?Reflect:null,dn=hn&&"function"==typeof hn.apply?hn.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},cn=hn&&"function"==typeof hn.ownKeys?hn.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},fn=Number.isNaN||function(e){return e!=e},ln=$t,$t.EventEmitter=$t,$t.prototype._events=void 0,$t.prototype._eventsCount=0,$t.prototype._maxListeners=void 0,pn=10,Object.defineProperty($t,"defaultMaxListeners",{enumerable:!0,get:function(){return pn},set:function(e){if("number"!=typeof e||e<0||fn(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");pn=e}}),$t.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},$t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||fn(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},$t.prototype.getMaxListeners=function(){return tn(this)},$t.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)dn(s,this,t);else{var u=s.length,l=un(s,u);for(n=0;n<u;++n)dn(l[n],this,t)}return!0},$t.prototype.addListener=function(e,t){return nn(this,e,t,!1)},$t.prototype.on=$t.prototype.addListener,$t.prototype.prependListener=function(e,t){return nn(this,e,t,!0)},$t.prototype.once=function(e,t){return en(t),this.on(e,an(this,e,t)),this},$t.prototype.prependOnceListener=function(e,t){return en(t),this.prependListener(e,an(this,e,t)),this},$t.prototype.removeListener=function(e,t){var n,r,i,a,o;if(en(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},$t.prototype.off=$t.prototype.removeListener,$t.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},$t.prototype.listeners=function(e){return on(this,e,!0)},$t.prototype.rawListeners=function(e){return on(this,e,!1)},$t.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):sn.call(e,t)},$t.prototype.listenerCount=sn,$t.prototype.eventNames=function(){return this._eventsCount>0?cn(this._events):[]},vn=ln,vn.EventEmitter,vn.defaultMaxListeners,vn.init,vn.listenerCount,vn.EventEmitter,vn.defaultMaxListeners,vn.init,vn.listenerCount})),gn={};K(gn,{EventEmitter:function(){return yn},default:function(){return vn},defaultMaxListeners:function(){return _n},init:function(){return bn},listenerCount:function(){return xn},on:function(){return wn},once:function(){return Sn}});var yn,_n,bn,xn,wn,Sn,An=X((function(){J(),Ht(),kt(),mn(),mn(),vn.once=function(e,t){return new Promise((function(n,r){function i(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];void 0!==a&&e.removeListener("error",a),n(r)}var a;"error"!==t&&(a=function(t){e.removeListener(name,i),r(t)},e.once("error",a)),e.once(t,i)}))},vn.on=function(e,t){var n=[],r=[],i=null,a=!1,o=(0,v.default)({next:function(){return(0,y.default)(c.default.mark((function e(){var t,o;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.shift(),!t){e.next=3;break}return e.abrupt("return",createIterResult(t,!1));case 3:if(!i){e.next=6;break}return o=Promise.reject(i),e.abrupt("return",(i=null,o));case 6:return e.abrupt("return",a?createIterResult(void 0,!0):new Promise((function(e,t){return r.push({resolve:e,reject:t})})));case 7:case"end":return e.stop()}}),e)})))()},return:function(){return(0,y.default)(c.default.mark((function n(){var i,o,l;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.removeListener(t,s),e.removeListener("error",u),a=!0,i=F(r);try{for(i.s();!(o=i.n()).done;)l=o.value,l.resolve(createIterResult(void 0,!0))}catch(c){i.e(c)}finally{i.f()}return n.abrupt("return",createIterResult(void 0,!0));case 4:case"end":return n.stop()}}),n)})))()},throw:function(n){i=n,e.removeListener(t,s),e.removeListener("error",u)}},Symbol.asyncIterator,(function(){return this}));return e.on(t,s),e.on("error",u),o;function s(){for(var e=r.shift(),t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];e?e.resolve(createIterResult(i,!1)):n.push(i)}function u(e){a=!0;var t=r.shift();t?t.reject(e):i=e,o.return()}};var e=vn;yn=e.EventEmitter,_n=e.defaultMaxListeners,bn=e.init,xn=e.listenerCount,wn=e.on,Sn=e.once})),Mn=Y((function(e,t){J(),Ht(),kt();var n=Wt(),r=n.ArrayIsArray,i=n.ObjectSetPrototypeOf,a=(An(),Q(gn)),o=a.EventEmitter;function s(e){o.call(this,e)}function u(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?r(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}i(s.prototype,o.prototype),i(s,o),s.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),!e._isStdio&&(!t||!1!==t.end)&&(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){h(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function h(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",h),n.removeListener("close",h),e.removeListener("close",h)}return u(n,"error",c),u(e,"error",c),n.on("end",h),n.on("close",h),e.on("close",h),e.emit("pipe",n),e},t.exports={Stream:s,prependListener:u}})),Tn=Y((function(e,t){J(),Ht(),kt();var n=Xt(),r=n.AbortError,i=n.codes,a=Qt(),o=a.isNodeStream,s=a.isWebStream,u=a.kControllerErrorFunction,l=Jt(),c=i.ERR_INVALID_ARG_TYPE;t.exports.addAbortSignal=function(e,n){if(function(e,t){if("object"!=(0,M.default)(e)||!("aborted"in e))throw new c(t,"AbortSignal",e)}(e,"signal"),!o(n)&&!s(n))throw new c("stream",["ReadableStream","WritableStream","Stream"],n);return t.exports.addAbortSignalNoValidate(e,n)},t.exports.addAbortSignalNoValidate=function(e,t){if("object"!=(0,M.default)(e)||!("aborted"in e))return t;var n=o(t)?function(){t.destroy(new r(void 0,{cause:e.reason}))}:function(){t[u](new r(void 0,{cause:e.reason}))};return e.aborted?n():(e.addEventListener("abort",n),l(t,(function(){return e.removeEventListener("abort",n)}))),t}})),En=Y((function(e,t){J(),Ht(),kt();var n=Wt(),r=n.StringPrototypeSlice,i=n.SymbolIterator,a=n.TypedArrayPrototypeSet,o=n.Uint8Array,s=(zt(),Q(Ct)),u=s.Buffer,l=Vt(),h=l.inspect;t.exports=function(e){function t(){(0,_.default)(this,t),this.head=null,this.tail=null,this.length=0}return(0,b.default)(t,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;null!==(t=t.next);)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return u.alloc(0);for(var t=u.allocUnsafe(e>>>0),n=this.head,r=0;n;)a(t,n.data,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n=this.head.data;if(e<n.length){var r=n.slice(0,e);return this.head.data=n.slice(e),r}return e===n.length?this.shift():t?this._getString(e):this._getBuffer(e)}},{key:"first",value:function(){return this.head.data}},{key:i,value:c.default.mark((function e(){var t;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.data;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"_getString",value:function(e){var t="",n=this.head,i=0;do{var a=n.data;if(!(e>a.length)){e===a.length?(t+=a,++i,n.next?this.head=n.next:this.head=this.tail=null):(t+=r(a,0,e),this.head=n,n.data=r(a,e));break}t+=a,e-=a.length,++i}while(null!==(n=n.next));return this.length-=i,t}},{key:"_getBuffer",value:function(e){var t=u.allocUnsafe(e),n=e,r=this.head,i=0;do{var s=r.data;if(!(e>s.length)){e===s.length?(a(t,s,n-e),++i,r.next?this.head=r.next:this.head=this.tail=null):(a(t,new o(s.buffer,s.byteOffset,e),n-e),this.head=r,r.data=s.slice(e));break}a(t,s,n-e),e-=s.length,++i}while(null!==(r=r.next));return this.length-=i,t}},{key:e,value:function(e,t){return h(this,U(U({},t),{},{depth:0,customInspect:!1}))}}]),t}(Symbol.for("nodejs.util.inspect.custom"))})),kn=Y((function(e,t){J(),Ht(),kt();var n=Wt(),r=n.MathFloor,i=n.NumberIsInteger,a=Xt().codes.ERR_INVALID_ARG_VALUE;function o(e){return e?16:16384}t.exports={getHighWaterMark:function(e,t,n,s){var u=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,s,n);if(null!=u){if(!i(u)||u<0){var l=s?"options.".concat(n):"options.highWaterMark";throw new a(l,u)}return r(u)}return o(e.objectMode)},getDefaultHighWaterMark:o}}));function Cn(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function Pn(e,t,n){for(var r,i,a=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(Sr[(i=r)>>18&63]+Sr[i>>12&63]+Sr[i>>6&63]+Sr[63&i]);return a.join("")}function Rn(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,In.prototype),t}function In(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return Dn(e)}return On(e,t,n)}function On(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!In.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|Nn(e,t),r=Rn(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return Bn(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(0,M.default)(e));if(lr(e,ArrayBuffer)||e&&lr(e.buffer,ArrayBuffer)||("undefined"===typeof SharedArrayBuffer?"undefined":(0,M.default)(SharedArrayBuffer))<"u"&&(lr(e,SharedArrayBuffer)||e&&lr(e.buffer,SharedArrayBuffer)))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,In.prototype),r}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return In.from(r,t,n);var i=function(e){if(In.isBuffer(e)){var t=0|Un(e.length),n=Rn(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||cr(e.length)?Rn(0):Bn(e):"Buffer"===e.type&&Array.isArray(e.data)?Bn(e.data):void 0}(e);if(i)return i;if(("undefined"===typeof Symbol?"undefined":(0,M.default)(Symbol))<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return In.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(0,M.default)(e))}function Ln(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function Dn(e){return Ln(e),Rn(e<0?0:0|Un(e))}function Bn(e){for(var t=e.length<0?0:0|Un(e.length),n=Rn(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function Un(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function Nn(e,t){if(In.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||lr(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(0,M.default)(e));var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return or(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return sr(e).length;default:if(i)return r?-1:or(e).length;t=(""+t).toLowerCase(),i=!0}}function Fn(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return $n(this,t,n);case"utf8":case"utf-8":return Qn(this,t,n);case"ascii":return Jn(this,t,n);case"latin1":case"binary":return Zn(this,t,n);case"base64":return Kn(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return er(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function jn(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function zn(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),cr(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=In.from(t,r)),In.isBuffer(t))return 0===t.length?-1:Hn(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Hn(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function Hn(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var h=!0,d=0;d<u;d++)if(l(e,a+d)!==l(t,d)){h=!1;break}if(h)return a}return-1}function Gn(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(cr(s))return o;e[n+o]=s}return o}function Wn(e,t,n,r){return ur(or(t,e.length-n),e,n,r)}function Vn(e,t,n,r){return ur(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function qn(e,t,n,r){return Vn(e,t,n,r)}function Xn(e,t,n,r){return ur(sr(t),e,n,r)}function Yn(e,t,n,r){return ur(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function Kn(e,t,n){return 0===t&&n===e.length?Rr.fromByteArray(e):Rr.fromByteArray(e.slice(t,n))}function Qn(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,u,l=e[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&l)<<6|63&a)>127&&(c=u);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(u=(15&l)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function Jn(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function Zn(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function $n(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=Dr[e[a]];return i}function er(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function tr(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function nr(e,t,n,r,i,a){if(!In.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function rr(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function ir(e,t,n,r,i){return t=+t,n>>>=0,i||rr(e,0,n,4),Ir.write(e,t,n,r,23,4),n+4}function ar(e,t,n,r,i){return t=+t,n>>>=0,i||rr(e,0,n,8),Ir.write(e,t,n,r,52,8),n+8}function or(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function sr(e){return Rr.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Lr,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ur(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function lr(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function cr(e){return e!=e}function hr(e,t){for(var n in e)t[n]=e[n]}function dr(e,t,n){return Nr(e,t,n)}function fr(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(zr.isEncoding===Hr||!Hr(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=mr,this.end=gr,t=4;break;case"utf8":this.fillLast=vr,t=4;break;case"base64":this.text=yr,this.end=_r,t=3;break;default:return this.write=br,void(this.end=xr)}this.lastNeed=0,this.lastTotal=0,this.lastChar=zr.allocUnsafe(t)}function pr(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function vr(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function mr(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function gr(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function yr(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function _r(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function br(e){return e.toString(this.encoding)}function xr(e){return e&&e.length?this.write(e):""}var wr,Sr,Ar,Mr,Tr,Er,kr,Cr,Pr,Rr,Ir,Or,Lr,Dr,Br,Ur,Nr,Fr,jr,zr,Hr,Gr=X((function(){for(J(),Ht(),kt(),wr={byteLength:function(e){var t=Cn(e),n=t[0],r=t[1];return 3*(n+r)/4-r},toByteArray:function(e){var t,n,r=Cn(e),i=r[0],a=r[1],o=new Mr(function(e,t,n){return 3*(t+n)/4-n}(0,i,a)),s=0,u=a>0?i-4:i;for(n=0;n<u;n+=4)t=Ar[e.charCodeAt(n)]<<18|Ar[e.charCodeAt(n+1)]<<12|Ar[e.charCodeAt(n+2)]<<6|Ar[e.charCodeAt(n+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;return 2===a&&(t=Ar[e.charCodeAt(n)]<<2|Ar[e.charCodeAt(n+1)]>>4,o[s++]=255&t),1===a&&(t=Ar[e.charCodeAt(n)]<<10|Ar[e.charCodeAt(n+1)]<<4|Ar[e.charCodeAt(n+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t),o},fromByteArray:function(e){for(var t,n=e.length,r=n%3,i=[],a=0,o=n-r;a<o;a+=16383)i.push(Pn(e,a,a+16383>o?o:a+16383));return 1===r?(t=e[n-1],i.push(Sr[t>>2]+Sr[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(Sr[t>>10]+Sr[t>>4&63]+Sr[t<<2&63]+"=")),i.join("")}},Sr=[],Ar=[],Mr=("undefined"===typeof Uint8Array?"undefined":(0,M.default)(Uint8Array))<"u"?Uint8Array:Array,Tr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Er=0,kr=Tr.length;Er<kr;++Er)Sr[Er]=Tr[Er],Ar[Tr.charCodeAt(Er)]=Er;Ar["-".charCodeAt(0)]=62,Ar["_".charCodeAt(0)]=63,Cr={read:function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,a=f&(1<<-c)-1,f>>=-c,c+=s;c>0;a=256*a+e[t+h],h+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=l}return(f?-1:1)*o*Math.pow(2,a-r)},write:function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*u-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+f]=255&o,f+=p,o/=256,l-=8);e[n+f-p]|=128*v}},Pr={},Rr=wr,Ir=Cr,Or="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,Pr.Buffer=In,Pr.SlowBuffer=function(e){return+e!=e&&(e=0),In.alloc(+e)},Pr.INSPECT_MAX_BYTES=50,Pr.kMaxLength=2147483647,In.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),In.TYPED_ARRAY_SUPPORT||("undefined"===typeof console?"undefined":(0,M.default)(console))>"u"||"function"!=typeof console.error||r("error","This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."," at node_modules/mqtt/dist/mqtt.esm.js:2"),Object.defineProperty(In.prototype,"parent",{enumerable:!0,get:function(){if(In.isBuffer(this))return this.buffer}}),Object.defineProperty(In.prototype,"offset",{enumerable:!0,get:function(){if(In.isBuffer(this))return this.byteOffset}}),In.poolSize=8192,In.from=function(e,t,n){return On(e,t,n)},Object.setPrototypeOf(In.prototype,Uint8Array.prototype),Object.setPrototypeOf(In,Uint8Array),In.alloc=function(e,t,n){return function(e,t,n){return Ln(e),e<=0?Rn(e):void 0!==t?"string"==typeof n?Rn(e).fill(t,n):Rn(e).fill(t):Rn(e)}(e,t,n)},In.allocUnsafe=function(e){return Dn(e)},In.allocUnsafeSlow=function(e){return Dn(e)},In.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==In.prototype},In.compare=function(e,t){if(lr(e,Uint8Array)&&(e=In.from(e,e.offset,e.byteLength)),lr(t,Uint8Array)&&(t=In.from(t,t.offset,t.byteLength)),!In.isBuffer(e)||!In.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},In.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},In.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return In.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=In.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(lr(a,Uint8Array)&&(a=In.from(a)),!In.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},In.byteLength=Nn,In.prototype._isBuffer=!0,In.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)jn(this,t,t+1);return this},In.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)jn(this,t,t+3),jn(this,t+1,t+2);return this},In.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)jn(this,t,t+7),jn(this,t+1,t+6),jn(this,t+2,t+5),jn(this,t+3,t+4);return this},In.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?Qn(this,0,e):Fn.apply(this,arguments)},In.prototype.toLocaleString=In.prototype.toString,In.prototype.equals=function(e){if(!In.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===In.compare(this,e)},In.prototype.inspect=function(){var e="",t=Pr.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},Or&&(In.prototype[Or]=In.prototype.inspect),In.prototype.compare=function(e,t,n,r,i){if(lr(e,Uint8Array)&&(e=In.from(e,e.offset,e.byteLength)),!In.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(0,M.default)(e));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(r,i),l=e.slice(t,n),c=0;c<s;++c)if(u[c]!==l[c]){a=u[c],o=l[c];break}return a<o?-1:o<a?1:0},In.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},In.prototype.indexOf=function(e,t,n){return zn(this,e,t,n,!0)},In.prototype.lastIndexOf=function(e,t,n){return zn(this,e,t,n,!1)},In.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return Gn(this,e,t,n);case"utf8":case"utf-8":return Wn(this,e,t,n);case"ascii":return Vn(this,e,t,n);case"latin1":case"binary":return qn(this,e,t,n);case"base64":return Xn(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yn(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},In.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},In.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,In.prototype),r},In.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||tr(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},In.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||tr(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},In.prototype.readUInt8=function(e,t){return e>>>=0,t||tr(e,1,this.length),this[e]},In.prototype.readUInt16LE=function(e,t){return e>>>=0,t||tr(e,2,this.length),this[e]|this[e+1]<<8},In.prototype.readUInt16BE=function(e,t){return e>>>=0,t||tr(e,2,this.length),this[e]<<8|this[e+1]},In.prototype.readUInt32LE=function(e,t){return e>>>=0,t||tr(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},In.prototype.readUInt32BE=function(e,t){return e>>>=0,t||tr(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},In.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||tr(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},In.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||tr(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},In.prototype.readInt8=function(e,t){return e>>>=0,t||tr(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},In.prototype.readInt16LE=function(e,t){e>>>=0,t||tr(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},In.prototype.readInt16BE=function(e,t){e>>>=0,t||tr(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},In.prototype.readInt32LE=function(e,t){return e>>>=0,t||tr(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},In.prototype.readInt32BE=function(e,t){return e>>>=0,t||tr(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},In.prototype.readFloatLE=function(e,t){return e>>>=0,t||tr(e,4,this.length),Ir.read(this,e,!0,23,4)},In.prototype.readFloatBE=function(e,t){return e>>>=0,t||tr(e,4,this.length),Ir.read(this,e,!1,23,4)},In.prototype.readDoubleLE=function(e,t){return e>>>=0,t||tr(e,8,this.length),Ir.read(this,e,!0,52,8)},In.prototype.readDoubleBE=function(e,t){return e>>>=0,t||tr(e,8,this.length),Ir.read(this,e,!1,52,8)},In.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||nr(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},In.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||nr(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},In.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||nr(this,e,t,1,255,0),this[t]=255&e,t+1},In.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||nr(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},In.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||nr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},In.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||nr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},In.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||nr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},In.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);nr(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},In.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);nr(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},In.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||nr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},In.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||nr(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},In.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||nr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},In.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||nr(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},In.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||nr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},In.prototype.writeFloatLE=function(e,t,n){return ir(this,e,t,!0,n)},In.prototype.writeFloatBE=function(e,t,n){return ir(this,e,t,!1,n)},In.prototype.writeDoubleLE=function(e,t,n){return ar(this,e,t,!0,n)},In.prototype.writeDoubleBE=function(e,t,n){return ar(this,e,t,!1,n)},In.prototype.copy=function(e,t,n,r){if(!In.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var a=i-1;a>=0;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},In.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!In.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=In.isBuffer(e)?e:In.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this},Lr=/[^+/0-9A-Za-z-_]/g,Dr=function(){for(var e=new Array(256),t=0;t<16;++t)for(var n=16*t,r=0;r<16;++r)e[n+r]="0123456789abcdef"[t]+"0123456789abcdef"[r];return e}(),Pr.Buffer,Pr.INSPECT_MAX_BYTES,Pr.kMaxLength,Br={},Ur=Pr,Nr=Ur.Buffer,Nr.from&&Nr.alloc&&Nr.allocUnsafe&&Nr.allocUnsafeSlow?Br=Ur:(hr(Ur,Br),Br.Buffer=dr),dr.prototype=Object.create(Nr.prototype),hr(Nr,dr),dr.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return Nr(e,t,n)},dr.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=Nr(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},dr.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Nr(e)},dr.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Ur.SlowBuffer(e)},Fr=Br,jr={},zr=Fr.Buffer,Hr=zr.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},jr.StringDecoder=fr,fr.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},fr.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},fr.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=pr(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=pr(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=pr(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},fr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},jr.StringDecoder,jr.StringDecoder})),Wr={};K(Wr,{StringDecoder:function(){return Vr},default:function(){return jr}});var Vr,qr=X((function(){J(),Ht(),kt(),Gr(),Gr(),Vr=jr.StringDecoder})),Xr=Y((function(e,t){J(),Ht(),kt();var n=Kt(),r=Wt(),i=r.PromisePrototypeThen,a=r.SymbolAsyncIterator,o=r.SymbolIterator,s=(zt(),Q(Ct)),u=s.Buffer,l=Xt().codes,h=l.ERR_INVALID_ARG_TYPE,d=l.ERR_STREAM_NULL_VALUES;t.exports=function(e,t,r){var s,l;if("string"==typeof t||t instanceof u)return new e(U(U({objectMode:!0},r),{},{read:function(){this.push(t),this.push(null)}}));if(t&&t[a])l=!0,s=t[a]();else{if(!t||!t[o])throw new h("iterable",["Iterable"],t);l=!1,s=t[o]()}var f=new e(U({objectMode:!0,highWaterMark:1},r)),p=!1;function v(){return v=(0,y.default)(c.default.mark((function e(t){var n,r,i,a,o,u,l;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=null!=t,r="function"==typeof s.throw,!n||!r){e.next=11;break}return e.next=4,s.throw(t);case 4:return i=e.sent,a=i.value,o=i.done,e.next=9,a;case 9:if(!o){e.next=11;break}return e.abrupt("return");case 11:if("function"!=typeof s.return){e.next=18;break}return e.next=14,s.return();case 14:return u=e.sent,l=u.value,e.next=18,l;case 18:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function m(){return m=(0,y.default)(c.default.mark((function e(){var t,n,r,i;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!l){e.next=7;break}return e.next=4,s.next();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=s.next();case 8:if(t=e.t0,n=t.value,r=t.done,!r){e.next=15;break}f.push(null),e.next=28;break;case 15:if(!n||"function"!=typeof n.then){e.next=21;break}return e.next=18,n;case 18:e.t1=e.sent,e.next=22;break;case 21:e.t1=n;case 22:if(i=e.t1,null!==i){e.next=25;break}throw p=!1,new d;case 25:if(!f.push(i)){e.next=27;break}return e.abrupt("continue",34);case 27:p=!1;case 28:e.next=33;break;case 30:e.prev=30,e.t2=e["catch"](0),f.destroy(e.t2);case 33:return e.abrupt("break",36);case 34:e.next=0;break;case 36:case"end":return e.stop()}}),e,null,[[0,30]])}))),m.apply(this,arguments)}return f._read=function(){p||(p=!0,function(){m.apply(this,arguments)}())},f._destroy=function(e,t){i(function(e){return v.apply(this,arguments)}(e),(function(){return n.nextTick(t,e)}),(function(r){return n.nextTick(t,r||e)}))},f}})),Yr=Y((function(e,t){J(),Ht(),kt();var n=Kt(),r=Wt(),i=r.ArrayPrototypeIndexOf,a=r.NumberIsInteger,o=r.NumberIsNaN,s=r.NumberParseInt,u=r.ObjectDefineProperties,l=r.ObjectKeys,h=r.ObjectSetPrototypeOf,d=r.Promise,f=r.SafeSet,p=r.SymbolAsyncIterator,v=r.Symbol;t.exports=te,te.ReadableState=ee;var m=(An(),Q(gn)),g=m.EventEmitter,y=Mn(),_=y.Stream,b=y.prependListener,x=(zt(),Q(Ct)),w=x.Buffer,S=Tn(),A=S.addAbortSignal,M=Jt(),T=Vt().debuglog("stream",(function(e){T=e})),C=En(),P=Zt(),R=kn(),I=R.getHighWaterMark,O=R.getDefaultHighWaterMark,L=Xt(),D=L.aggregateTwoErrors,B=L.codes,N=B.ERR_INVALID_ARG_TYPE,j=B.ERR_METHOD_NOT_IMPLEMENTED,z=B.ERR_OUT_OF_RANGE,H=B.ERR_STREAM_PUSH_AFTER_EOF,G=B.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,W=Yt(),V=W.validateObject,q=v("kPaused"),X=(qr(),Q(Wr)),Y=X.StringDecoder,K=Xr();h(te.prototype,_.prototype),h(te,_);var Z=function(){},$=P.errorOrDestroy;function ee(e,t,n){"boolean"!=typeof n&&(n=t instanceof Jr()),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.readableObjectMode)),this.highWaterMark=e?I(this,e,"readableHighWaterMark",n):O(!1),this.buffer=new C,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[q]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new Y(e.encoding),this.encoding=e.encoding)}function te(e){var t=this;if(!(this instanceof te))return new te(e);var n=this instanceof Jr();this._readableState=new ee(e,this,n),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!n&&A(e.signal,this)),_.call(this,e),P.construct(this,(function(){t._readableState.needReadable&&ue(t,t._readableState)}))}function ne(e,t,n,r){T("readableAddChunk",t);var i,a=e._readableState;if(a.objectMode||("string"==typeof t?(n=n||a.defaultEncoding,a.encoding!==n&&(r&&a.encoding?t=w.from(t,n).toString(a.encoding):(t=w.from(t,n),n=""))):t instanceof w?n="":_._isUint8Array(t)?(t=_._uint8ArrayToBuffer(t),n=""):null!=t&&(i=new N("chunk",["string","Buffer","Uint8Array"],t))),i)$(e,i);else if(null===t)a.reading=!1,function(e,t){if(T("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?oe(e):(t.needReadable=!1,t.emittedReadable=!0,se(e))}}(e,a);else if(a.objectMode||t&&t.length>0)if(r)if(a.endEmitted)$(e,new G);else{if(a.destroyed||a.errored)return!1;re(e,a,t,!0)}else if(a.ended)$(e,new H);else{if(a.destroyed||a.errored)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?re(e,a,t,!1):ue(e,a)):re(e,a,t,!1)}else r||(a.reading=!1,ue(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function re(e,t,n,r){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&oe(e)),ue(e,t)}te.prototype.destroy=P.destroy,te.prototype._undestroy=P.undestroy,te.prototype._destroy=function(e,t){t(e)},te.prototype[g.captureRejectionSymbol]=function(e){this.destroy(e)},te.prototype.push=function(e,t){return ne(this,e,t,!1)},te.prototype.unshift=function(e,t){return ne(this,e,t,!0)},te.prototype.isPaused=function(){var e=this._readableState;return!0===e[q]||!1===e.flowing},te.prototype.setEncoding=function(e){var t=new Y(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;var n,r=this._readableState.buffer,i="",a=F(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;i+=t.write(o)}}catch(s){a.e(s)}finally{a.f()}return r.clear(),""!==i&&r.push(i),this._readableState.length=i.length,this};var ie;function ae(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:o(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function oe(e){var t=e._readableState;T("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(T("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(se,e))}function se(e){var t=e._readableState;T("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,fe(e)}function ue(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,n.nextTick(le,e,t))}function le(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(T("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function ce(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[q]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function he(e){T("readable nexttick read 0"),e.read(0)}function de(e,t){T("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),fe(e),t.flowing&&!t.reading&&e.read(0)}function fe(e){var t=e._readableState;for(T("flow",t.flowing);t.flowing&&null!==e.read(););}function pe(e,t){"function"!=typeof e.read&&(e=te.wrap(e,{objectMode:!0}));var n=function(e,t){return ve.apply(this,arguments)}(e,t);return n.stream=e,n}function ve(){return ve=(0,k.default)(c.default.mark((function e(t,n){var r,i,a,o,s;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=function(e){this===t?(r(),r=Z):r=e},r=Z,t.on("readable",i),o=M(t,{writable:!1},(function(e){a=e?D(a,e):null,r(),r=Z})),e.prev=4;case 5:if(s=t.destroyed?null:t.read(),null===s){e.next=11;break}return e.next=9,s;case 9:e.next=17;break;case 11:if(!a){e.next=13;break}throw a;case 13:if(null!==a){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,(0,E.default)(new d(i));case 17:e.next=5;break;case 19:e.next=24;break;case 21:throw e.prev=21,e.t0=e["catch"](4),a=D(a,e.t0),a;case 24:return e.prev=24,!a&&!1===(null===n||void 0===n?void 0:n.destroyOnReturn)||void 0!==a&&!t._readableState.autoDestroy?(t.off("readable",i),o()):P.destroyer(t,null),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[4,21,24,27]])}))),ve.apply(this,arguments)}function me(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function ge(e){var t=e._readableState;T("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(ye,t,e))}function ye(e,t){if(T("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)n.nextTick(_e,t);else if(e.autoDestroy){var r=t._writableState;(!r||r.autoDestroy&&(r.finished||!1===r.writable))&&t.destroy()}}function _e(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}function be(){return void 0===ie&&(ie={}),ie}te.prototype.read=function(e){T("read",e),void 0===e?e=NaN:a(e)||(e=s(e,10));var t=this._readableState,n=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new z("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}(e)),0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return T("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?ge(this):oe(this),null;if(e=ae(e,t),0===e&&t.ended)return 0===t.length&&ge(this),null;var r,i=t.needReadable;if(T("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,T("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,T("reading, ended or constructing",i);else if(i){T("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(o){$(this,o)}t.sync=!1,t.reading||(e=ae(n,t))}return r=e>0?me(e,t):null,null===r?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&ge(this)),null!==r&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",r)),r},te.prototype._read=function(e){throw new j("_read()")},te.prototype.pipe=function(e,t){var r=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new f(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),T("pipe count=%d opts=%j",i.pipes.length,t);var a=t&&!1===t.end||e===n.stdout||e===n.stderr?m:s;function o(t,n){T("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,function(){T("cleanup"),e.removeListener("close",p),e.removeListener("finish",v),u&&e.removeListener("drain",u),e.removeListener("error",d),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",m),r.removeListener("data",h),l=!0,u&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&u()}())}function s(){T("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",o);var u,l=!1;function c(){l||(1===i.pipes.length&&i.pipes[0]===e?(T("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(T("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),r.pause()),u||(u=function(e,t){return function(){var n=e._readableState;n.awaitDrainWriters===t?(T("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(T("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),(!n.awaitDrainWriters||0===n.awaitDrainWriters.size)&&e.listenerCount("data")&&e.resume()}}(r,e),e.on("drain",u))}function h(t){T("ondata");var n=e.write(t);T("dest.write",n),!1===n&&c()}function d(t){if(T("onerror",t),m(),e.removeListener("error",d),0===e.listenerCount("error")){var n=e._writableState||e._readableState;n&&!n.errorEmitted?$(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",v),m()}function v(){T("onfinish"),e.removeListener("close",p),m()}function m(){T("unpipe"),r.unpipe(e)}return r.on("data",h),b(e,"error",d),e.once("close",p),e.once("finish",v),e.emit("pipe",r),!0===e.writableNeedDrain?i.flowing&&c():i.flowing||(T("pipe resume"),r.resume()),e},te.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipes.length)return this;if(!e){var n=t.pipes;t.pipes=[],this.pause();for(var r=0;r<n.length;r++)n[r].emit("unpipe",this,{hasUnpiped:!1});return this}var a=i(t.pipes,e);return-1===a||(t.pipes.splice(a,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},te.prototype.on=function(e,t){var r=_.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,T("on readable",i.length,i.reading),i.length?oe(this):i.reading||n.nextTick(he,this)),r},te.prototype.addListener=te.prototype.on,te.prototype.removeListener=function(e,t){var r=_.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(ce,this),r},te.prototype.off=te.prototype.removeListener,te.prototype.removeAllListeners=function(e){var t=_.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&n.nextTick(ce,this),t},te.prototype.resume=function(){var e=this._readableState;return e.flowing||(T("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(de,e,t))}(this,e)),e[q]=!1,this},te.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[q]=!0,this},te.prototype.wrap=function(e){var t=this,n=!1;e.on("data",(function(r){!t.push(r)&&e.pause&&(n=!0,e.pause())})),e.on("end",(function(){t.push(null)})),e.on("error",(function(e){$(t,e)})),e.on("close",(function(){t.destroy()})),e.on("destroy",(function(){t.destroy()})),this._read=function(){n&&e.resume&&(n=!1,e.resume())};for(var r=l(e),i=1;i<r.length;i++){var a=r[i];void 0===this[a]&&"function"==typeof e[a]&&(this[a]=e[a].bind(e))}return this},te.prototype[p]=function(){return pe(this)},te.prototype.iterator=function(e){return void 0!==e&&V(e,"options"),pe(this,e)},u(te.prototype,{readable:{__proto__:null,get:function(){var e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set:function(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get:function(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get:function(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get:function(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get:function(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get:function(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get:function(){return!!this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get:function(){return!!this._readableState&&this._readableState.endEmitted}}}),u(ee.prototype,{pipesCount:{__proto__:null,get:function(){return this.pipes.length}},paused:{__proto__:null,get:function(){return!1!==this[q]},set:function(e){this[q]=!!e}}}),te._fromList=me,te.from=function(e,t){return K(te,e,t)},te.fromWeb=function(e,t){return be().newStreamReadableFromReadableStream(e,t)},te.toWeb=function(e,t){return be().newReadableStreamFromStreamReadable(e,t)},te.wrap=function(e,t){var n,r;return new te(U(U({objectMode:null===(n=null!==(r=e.readableObjectMode)&&void 0!==r?r:e.objectMode)||void 0===n||n},t),{},{destroy:function(t,n){P.destroyer(e,t),n(t)}})).wrap(e)}})),Kr=Y((function(e,t){J(),Ht(),kt();var n=Kt(),r=Wt(),i=r.ArrayPrototypeSlice,a=r.Error,o=r.FunctionPrototypeSymbolHasInstance,s=r.ObjectDefineProperty,u=r.ObjectDefineProperties,l=r.ObjectSetPrototypeOf,c=r.StringPrototypeToLowerCase,h=r.Symbol,d=r.SymbolHasInstance;t.exports=F,F.WritableState=U;var f=(An(),Q(gn)),p=f.EventEmitter,v=Mn().Stream,m=(zt(),Q(Ct)),g=m.Buffer,y=Zt(),_=Tn(),b=_.addAbortSignal,x=kn(),w=x.getHighWaterMark,S=x.getDefaultHighWaterMark,A=Xt().codes,M=A.ERR_INVALID_ARG_TYPE,T=A.ERR_METHOD_NOT_IMPLEMENTED,E=A.ERR_MULTIPLE_CALLBACK,k=A.ERR_STREAM_CANNOT_PIPE,C=A.ERR_STREAM_DESTROYED,P=A.ERR_STREAM_ALREADY_FINISHED,R=A.ERR_STREAM_NULL_VALUES,I=A.ERR_STREAM_WRITE_AFTER_END,O=A.ERR_UNKNOWN_ENCODING,L=y.errorOrDestroy;function D(){}l(F.prototype,v.prototype),l(F,v);var B=h("kOnFinished");function U(e,t,n){"boolean"!=typeof n&&(n=t instanceof Jr()),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?w(this,e,"writableHighWaterMark",n):S(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var r=!(!e||!1!==e.decodeStrings);this.decodeStrings=!r,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=G.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,N(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[B]=[]}function N(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function F(e){var t=this,n=this instanceof Jr();if(!n&&!o(F,this))return new F(e);this._writableState=new U(e,this,n),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&b(e.signal,this)),v.call(this,e),y.construct(this,(function(){var e=t._writableState;e.writing||X(t,e),Z(t,e)}))}function j(e,t,r,i){var a,o=e._writableState;if("function"==typeof r)i=r,r=o.defaultEncoding;else{if(r){if("buffer"!==r&&!g.isEncoding(r))throw new O(r)}else r=o.defaultEncoding;"function"!=typeof i&&(i=D)}if(null===t)throw new R;if(!o.objectMode)if("string"==typeof t)!1!==o.decodeStrings&&(t=g.from(t,r),r="buffer");else if(t instanceof g)r="buffer";else{if(!v._isUint8Array(t))throw new M("chunk",["string","Buffer","Uint8Array"],t);t=v._uint8ArrayToBuffer(t),r="buffer"}return o.ending?a=new I:o.destroyed&&(a=new C("write")),a?(n.nextTick(i,a),L(e,a,!0),a):(o.pendingcb++,function(e,t,n,r,i){var a=t.objectMode?1:n.length;t.length+=a;var o=t.length<t.highWaterMark;return o||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:n,encoding:r,callback:i}),t.allBuffers&&"buffer"!==r&&(t.allBuffers=!1),t.allNoop&&i!==D&&(t.allNoop=!1)):(t.writelen=a,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1),o&&!t.errored&&!t.destroyed}(e,o,t,r,i))}function z(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new C("write")):n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function H(e,t,n,r){--t.pendingcb,r(n),q(t),L(e,n)}function G(e,t){var r=e._writableState,i=r.sync,a=r.writecb;"function"==typeof a?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?n.nextTick(H,e,r,t,a):H(e,r,t,a)):(r.buffered.length>r.bufferedIndex&&X(e,r),i?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===a?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:a,stream:e,state:r},n.nextTick(W,r.afterWriteTickInfo)):V(e,r,1,a))):L(e,new E)}function W(e){var t=e.stream,n=e.state,r=e.count,i=e.cb;return n.afterWriteTickInfo=null,V(t,n,r,i)}function V(e,t,n,r){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));n-- >0;)t.pendingcb--,r();t.destroyed&&q(t),Z(e,t)}function q(e){if(!e.writing){for(var t=e.bufferedIndex;t<e.buffered.length;++t){var n,r=e.buffered[t],i=r.chunk,a=r.callback,o=e.objectMode?1:i.length;e.length-=o,a(null!==(n=e.errored)&&void 0!==n?n:new C("write"))}for(var s=e[B].splice(0),u=0;u<s.length;u++){var l;s[u](null!==(l=e.errored)&&void 0!==l?l:new C("end"))}N(e)}}function X(e,t){if(!(t.corked||t.bufferProcessing||t.destroyed)&&t.constructed){var n=t.buffered,r=t.bufferedIndex,a=t.objectMode,o=n.length-r;if(o){var s=r;if(t.bufferProcessing=!0,o>1&&e._writev){t.pendingcb-=o-1;var u=t.allNoop?D:function(e){for(var t=s;t<n.length;++t)n[t].callback(e)},l=t.allNoop&&0===s?n:i(n,s);l.allBuffers=t.allBuffers,z(e,t,!0,t.length,l,"",u),N(t)}else{do{var c=n[s],h=c.chunk,d=c.encoding,f=c.callback;n[s++]=null;var p=a?1:h.length;z(e,t,!1,p,h,d,f)}while(s<n.length&&!t.writing);s===n.length?N(t):s>256?(n.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}}}function Y(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function K(e,t){!t.prefinished&&!t.finalCalled&&("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){var r=!1;function i(i){if(r)L(e,null!==i&&void 0!==i?i:E());else if(r=!0,t.pendingcb--,i){for(var a=t[B].splice(0),o=0;o<a.length;o++)a[o](i);L(e,i,t.sync)}else Y(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,n.nextTick($,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(a){i(a)}t.sync=!1}(e,t)))}function Z(e,t,r){Y(t)&&(K(e,t),0===t.pendingcb&&(r?(t.pendingcb++,n.nextTick((function(e,t){Y(t)?$(e,t):t.pendingcb--}),e,t)):Y(t)&&(t.pendingcb++,$(e,t))))}function $(e,t){t.pendingcb--,t.finished=!0;for(var n=t[B].splice(0),r=0;r<n.length;r++)n[r]();if(e.emit("finish"),t.autoDestroy){var i=e._readableState;(!i||i.autoDestroy&&(i.endEmitted||!1===i.readable))&&e.destroy()}}U.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},s(U.prototype,"bufferedRequestCount",{__proto__:null,get:function(){return this.buffered.length-this.bufferedIndex}}),s(F,d,{__proto__:null,value:function(e){return!!o(this,e)||this===F&&(e&&e._writableState instanceof U)}}),F.prototype.pipe=function(){L(this,new k)},F.prototype.write=function(e,t,n){return!0===j(this,e,t,n)},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||X(this,e))},F.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=c(e)),!g.isEncoding(e))throw new O(e);return this._writableState.defaultEncoding=e,this},F.prototype._write=function(e,t,n){if(!this._writev)throw new T("_write()");this._writev([{chunk:e,encoding:t}],n)},F.prototype._writev=null,F.prototype.end=function(e,t,r){var i,o=this._writableState;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){var s=j(this,e,t);s instanceof a&&(i=s)}return o.corked&&(o.corked=1,this.uncork()),i||(o.errored||o.ending?o.finished?i=new P("end"):o.destroyed&&(i=new C("end")):(o.ending=!0,Z(this,o,!0),o.ended=!0)),"function"==typeof r&&(i||o.finished?n.nextTick(r,i):o[B].push(r)),this},u(F.prototype,{closed:{__proto__:null,get:function(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get:function(){return!!this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get:function(){var e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set:function(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get:function(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get:function(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get:function(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get:function(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get:function(){var e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get:function(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get:function(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get:function(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get:function(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});var ee,te=y.destroy;function ne(){return void 0===ee&&(ee={}),ee}F.prototype.destroy=function(e,t){var r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[B].length)&&n.nextTick(q,r),te.call(this,e,t),this},F.prototype._undestroy=y.undestroy,F.prototype._destroy=function(e,t){t(e)},F.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},F.fromWeb=function(e,t){return ne().newStreamWritableFromWritableStream(e,t)},F.toWeb=function(e){return ne().newWritableStreamFromStreamWritable(e)}})),Qr=Y((function(e,t){J(),Ht(),kt();var n=Kt(),r=(zt(),Q(Ct)),i=Qt(),a=i.isReadable,o=i.isWritable,s=i.isIterable,u=i.isNodeStream,l=i.isReadableNodeStream,h=i.isWritableNodeStream,d=i.isDuplexNodeStream,f=Jt(),p=Xt(),v=p.AbortError,m=p.codes,g=m.ERR_INVALID_ARG_TYPE,x=m.ERR_INVALID_RETURN_VALUE,S=Zt(),A=S.destroyer,T=Jr(),C=Yr(),P=Vt(),R=P.createDeferredPromise,I=Xr(),O=globalThis.Blob||r.Blob,L=(0,M.default)(O)<"u"?function(e){return e instanceof O}:function(e){return!1},D=globalThis.AbortController||qt().AbortController,B=Wt(),U=B.FunctionPrototypeCall,F=function(e){(0,w.default)(n,e);var t=N(n);function n(e){var r;return(0,_.default)(this,n),r=t.call(this,e),!1===(null===e||void 0===e?void 0:e.readable)&&(r._readableState.readable=!1,r._readableState.ended=!0,r._readableState.endEmitted=!0),!1===(null===e||void 0===e?void 0:e.writable)&&(r._writableState.writable=!1,r._writableState.ending=!0,r._writableState.ended=!0,r._writableState.finished=!0),r}return(0,b.default)(n)}(T);function j(e){var t,n,r,i,s,u=e.readable&&"function"!=typeof e.readable.read?C.wrap(e.readable):e.readable,l=e.writable,c=!!a(u),h=!!o(l);function d(e){var t=i;i=null,t?t(e):e&&s.destroy(e)}return s=new F({readableObjectMode:!(null==u||!u.readableObjectMode),writableObjectMode:!(null==l||!l.writableObjectMode),readable:c,writable:h}),h&&(f(l,(function(e){h=!1,e&&A(u,e),d(e)})),s._write=function(e,n,r){l.write(e,n)?r():t=r},s._final=function(e){l.end(),n=e},l.on("drain",(function(){if(t){var e=t;t=null,e()}})),l.on("finish",(function(){if(n){var e=n;n=null,e()}}))),c&&(f(u,(function(e){c=!1,e&&A(u,e),d(e)})),u.on("readable",(function(){if(r){var e=r;r=null,e()}})),u.on("end",(function(){s.push(null)})),s._read=function(){for(;;){var e=u.read();if(null===e)return void(r=s._read);if(!s.push(e))return}}),s._destroy=function(e,a){!e&&null!==i&&(e=new v),r=null,t=null,n=null,null===i?a(e):(i=a,A(l,e),A(u,e))},s}t.exports=function e(t,r){if(d(t))return t;if(l(t))return j({readable:t});if(h(t))return j({writable:t});if(u(t))return j({writable:!1,readable:!1});if("function"==typeof t){var i=function(e){var t=R(),r=t.promise,i=t.resolve,a=new D,o=a.signal;return{value:e((0,k.default)(c.default.mark((function e(){var t,a,s,u,l,h;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r,r=null,e.next=4,(0,E.default)(a);case 4:if(s=e.sent,u=s.chunk,l=s.done,h=s.cb,n.nextTick(h),!l){e.next=10;break}return e.abrupt("return");case 10:if(!o.aborted){e.next=12;break}throw new v(void 0,{cause:o.reason});case 12:return t=R(),r=t.promise,i=t.resolve,e.next=15,u;case 15:e.next=0;break;case 17:case"end":return e.stop()}}),e)})))(),{signal:o}),write:function(e,t,n){var r=i;i=null,r({chunk:e,done:!1,cb:n})},final:function(e){var t=i;i=null,t({done:!0,cb:e})},destroy:function(e,t){a.abort(),t(e)}}}(t),a=i.value,o=i.write,f=i.final,p=i.destroy;if(s(a))return I(F,a,{objectMode:!0,write:o,final:f,destroy:p});var m=null===a||void 0===a?void 0:a.then;if("function"==typeof m){var _,b=U(m,a,(function(e){if(null!=e)throw new x("nully","body",e)}),(function(e){A(_,e)}));return _=new F({objectMode:!0,readable:!1,write:o,final:function(e){f((0,y.default)(c.default.mark((function t(){return c.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b;case 3:n.nextTick(e,null),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),n.nextTick(e,t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))))},destroy:p})}throw new x("Iterable, AsyncIterable or AsyncFunction",r,a)}if(L(t))return e(t.arrayBuffer());if(s(t))return I(F,t,{objectMode:!0,writable:!1});if("object"==(0,M.default)(null===t||void 0===t?void 0:t.writable)||"object"==(0,M.default)(null===t||void 0===t?void 0:t.readable)){var w=null!=t&&t.readable?l(null===t||void 0===t?void 0:t.readable)?null===t||void 0===t?void 0:t.readable:e(t.readable):void 0,S=null!=t&&t.writable?h(null===t||void 0===t?void 0:t.writable)?null===t||void 0===t?void 0:t.writable:e(t.writable):void 0;return j({readable:w,writable:S})}var T,C=null===t||void 0===t?void 0:t.then;if("function"==typeof C)return U(C,t,(function(e){null!=e&&T.push(e),T.push(null)}),(function(e){A(T,e)})),T=new F({objectMode:!0,writable:!1,read:function(){}});throw new g(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}})),Jr=Y((function(e,t){J(),Ht(),kt();var n=Wt(),r=n.ObjectDefineProperties,i=n.ObjectGetOwnPropertyDescriptor,a=n.ObjectKeys,o=n.ObjectSetPrototypeOf;t.exports=p;var s,u,l=Yr(),c=Kr();o(p.prototype,l.prototype),o(p,l);for(var h=a(c.prototype),d=0;d<h.length;d++){var f=h[d];p.prototype[f]||(p.prototype[f]=c.prototype[f])}function p(e){if(!(this instanceof p))return new p(e);l.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function v(){return void 0===s&&(s={}),s}r(p.prototype,{writable:U({__proto__:null},i(c.prototype,"writable")),writableHighWaterMark:U({__proto__:null},i(c.prototype,"writableHighWaterMark")),writableObjectMode:U({__proto__:null},i(c.prototype,"writableObjectMode")),writableBuffer:U({__proto__:null},i(c.prototype,"writableBuffer")),writableLength:U({__proto__:null},i(c.prototype,"writableLength")),writableFinished:U({__proto__:null},i(c.prototype,"writableFinished")),writableCorked:U({__proto__:null},i(c.prototype,"writableCorked")),writableEnded:U({__proto__:null},i(c.prototype,"writableEnded")),writableNeedDrain:U({__proto__:null},i(c.prototype,"writableNeedDrain")),destroyed:{__proto__:null,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),p.fromWeb=function(e,t){return v().newStreamDuplexFromReadableWritablePair(e,t)},p.toWeb=function(e){return v().newReadableWritablePairFromDuplex(e)},p.from=function(e){return u||(u=Qr()),u(e,"body")}})),Zr=Y((function(e,t){J(),Ht(),kt();var n=Wt(),r=n.ObjectSetPrototypeOf,i=n.Symbol;t.exports=c;var a=Xt().codes.ERR_METHOD_NOT_IMPLEMENTED,o=Jr(),s=kn(),u=s.getHighWaterMark;r(c.prototype,o.prototype),r(c,o);var l=i("kCallback");function c(e){if(!(this instanceof c))return new c(e);var t=e?u(this,e,"readableHighWaterMark",!0):null;0===t&&(e=U(U({},e),{},{highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0})),o.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function h(e){var t=this;"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((function(n,r){n?e?e(n):t.destroy(n):(null!=r&&t.push(r),t.push(null),e&&e())}))}function d(){this._final!==h&&h.call(this)}c.prototype._final=h,c.prototype._transform=function(e,t,n){throw new a("_transform()")},c.prototype._write=function(e,t,n){var r=this,i=this._readableState,a=this._writableState,o=i.length;this._transform(e,t,(function(e,t){e?n(e):(null!=t&&r.push(t),a.ended||o===i.length||i.length<i.highWaterMark?n():r[l]=n)}))},c.prototype._read=function(){if(this[l]){var e=this[l];this[l]=null,e()}}})),$r=Y((function(e,t){J(),Ht(),kt();var n=Wt(),r=n.ObjectSetPrototypeOf;t.exports=a;var i=Zr();function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}r(a.prototype,i.prototype),r(a,i),a.prototype._transform=function(e,t,n){n(null,e)}})),ei=Y((function(e,t){J(),Ht(),kt();var n,r,i=Kt(),a=Wt(),o=a.ArrayIsArray,s=a.Promise,u=a.SymbolAsyncIterator,l=Jt(),h=Vt(),d=h.once,f=Zt(),p=Jr(),v=Xt(),m=v.aggregateTwoErrors,g=v.codes,_=g.ERR_INVALID_ARG_TYPE,b=g.ERR_INVALID_RETURN_VALUE,x=g.ERR_MISSING_ARGS,w=g.ERR_STREAM_DESTROYED,S=g.ERR_STREAM_PREMATURE_CLOSE,A=v.AbortError,M=Yt(),C=M.validateFunction,P=M.validateAbortSignal,R=Qt(),I=R.isIterable,O=R.isReadable,L=R.isReadableNodeStream,D=R.isNodeStream,B=R.isTransformStream,U=R.isWebStream,N=R.isReadableStream,F=R.isReadableEnded,j=globalThis.AbortController||qt().AbortController;function H(e,t,n){var r=!1;e.on("close",(function(){r=!0}));var i=l(e,{readable:t,writable:n},(function(e){r=!e}));return{destroy:function(t){r||(r=!0,f.destroyer(e,t||new w("pipe")))},cleanup:i}}function G(e){return C(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function W(e){if(I(e))return e;if(L(e))return function(e){return V.apply(this,arguments)}(e);throw new _("val",["Readable","Iterable","AsyncIterable"],e)}function V(){return V=(0,k.default)(c.default.mark((function e(t){return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r||(r=Yr()),e.delegateYield((0,T.default)(z(r.prototype[u].call(t)),E.default),"t0",2);case 2:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}function q(e,t,n,r){return X.apply(this,arguments)}function X(){return X=(0,y.default)(c.default.mark((function e(t,n,r,i){var a,o,u,h,d,f,p,v,g,y,_,b;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=i.end,u=null,h=function(e){if(e&&(o=e),u){var t=u;u=null,t()}},d=function(){return new s((function(e,t){o?t(o):u=function(){o?t(o):e()}}))},n.on("drain",h),f=l(n,{readable:!1},h),e.prev=4,e.t0=n.writableNeedDrain,!e.t0){e.next=9;break}return e.next=9,d();case 9:p=!1,v=!1,e.prev=11,y=z(t);case 13:return e.next=15,y.next();case 15:if(!(p=!(_=e.sent).done)){e.next=24;break}if(b=_.value,e.t1=n.write(b),e.t1){e.next=21;break}return e.next=21,d();case 21:p=!1,e.next=13;break;case 24:e.next=30;break;case 26:e.prev=26,e.t2=e["catch"](11),v=!0,g=e.t2;case 30:if(e.prev=30,e.prev=31,!p||null==y.return){e.next=35;break}return e.next=35,y.return();case 35:if(e.prev=35,!v){e.next=38;break}throw g;case 38:return e.finish(35);case 39:return e.finish(30);case 40:return a&&n.end(),e.next=43,d();case 43:r(),e.next=49;break;case 46:e.prev=46,e.t3=e["catch"](4),r(o!==e.t3?m(o,e.t3):e.t3);case 49:return e.prev=49,f(),n.off("drain",h),e.finish(49);case 52:case"end":return e.stop()}}),e,null,[[4,46,49,52],[11,26,30,40],[31,,35,39]])}))),X.apply(this,arguments)}function Y(e,t,n,r){return K.apply(this,arguments)}function K(){return K=(0,y.default)(c.default.mark((function e(t,n,r,i){var a,o,s,u,l,h,d,f;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=i.end,B(n)&&(n=n.writable),o=n.getWriter(),e.prev=3,s=!1,u=!1,e.prev=6,h=z(t);case 8:return e.next=10,h.next();case 10:if(!(s=!(d=e.sent).done)){e.next=18;break}return f=d.value,e.next=14,o.ready;case 14:o.write(f).catch((function(){}));case 15:s=!1,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](6),u=!0,l=e.t0;case 24:if(e.prev=24,e.prev=25,!s||null==h.return){e.next=29;break}return e.next=29,h.return();case 29:if(e.prev=29,!u){e.next=32;break}throw l;case 32:return e.finish(29);case 33:return e.finish(24);case 34:return e.next=36,o.ready;case 36:if(e.t1=a,!e.t1){e.next=40;break}return e.next=40,o.close();case 40:r(),e.next=54;break;case 43:return e.prev=43,e.t2=e["catch"](3),e.prev=45,e.next=48,o.abort(e.t2);case 48:r(e.t2),e.next=54;break;case 51:e.prev=51,e.t3=e["catch"](45),r(e.t3);case 54:case"end":return e.stop()}}),e,null,[[3,43],[6,20,24,34],[25,,29,33],[45,51]])}))),K.apply(this,arguments)}function Q(e,t,r){if(1===e.length&&o(e[0])&&(e=e[0]),e.length<2)throw new x("streams");var a=new j,s=a.signal,u=null===r||void 0===r?void 0:r.signal,c=[];function h(){w(new A)}P(u,"options.signal"),null===u||void 0===u||u.addEventListener("abort",h);var d,f,v,m=[],g=0;function y(e){w(e,0===--g)}function w(e,n){if(e&&(!d||"ERR_STREAM_PREMATURE_CLOSE"===d.code)&&(d=e),d||n){for(;m.length;)m.shift()(d);null!==u&&void 0!==u&&u.removeEventListener("abort",h),a.abort(),n&&(d||c.forEach((function(e){return e()})),i.nextTick(t,d,f))}}for(var M=function(t){var a=e[t],o=t<e.length-1,u=t>0,h=o||!1!==(null===r||void 0===r?void 0:r.end),d=t===e.length-1;if(D(a)){var x=function(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&y(e)};if(x,h){var w=H(a,o,u),A=w.destroy,M=w.cleanup;m.push(A),O(a)&&d&&c.push(M)}a.on("error",x),O(a)&&d&&c.push((function(){a.removeListener("error",x)}))}if(0===t)if("function"==typeof a){if(v=a({signal:s}),!I(v))throw new b("Iterable, AsyncIterable or Stream","source",v)}else v=I(a)||L(a)||B(a)?a:p.from(a);else if("function"==typeof a)if(v=B(v)?W(null===(E=v)||void 0===E?void 0:E.readable):W(v),v=a(v,{signal:s}),o){if(!I(v,!0))throw new b("AsyncIterable","transform[".concat(t-1,"]"),v)}else{n||(n=$r());var T=new n({objectMode:!0}),C=null===(k=v)||void 0===k?void 0:k.then;if("function"==typeof C)g++,C.call(v,(function(e){f=e,null!=e&&T.write(e),h&&T.end(),i.nextTick(y)}),(function(e){T.destroy(e),i.nextTick(y,e)}));else if(I(v,!0))g++,q(v,T,y,{end:h});else{if(!N(v)&&!B(v))throw new b("AsyncIterable or Promise","destination",v);var P=v.readable||v;g++,q(P,T,y,{end:h})}v=T;var R=H(v,!1,!0),j=R.destroy,z=R.cleanup;m.push(j),d&&c.push(z)}else if(D(a)){if(L(v)){g+=2;var G=function(e,t,n,r){var a=r.end,o=!1;if(t.on("close",(function(){o||n(new S)})),e.pipe(t,{end:!1}),a){var s=function(){o=!0,t.end()};F(e)?i.nextTick(s):e.once("end",s)}else n();return l(e,{readable:!0,writable:!1},(function(t){var r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",n).once("error",n):n(t)})),l(t,{readable:!1,writable:!0},n)}(v,a,y,{end:h});O(a)&&d&&c.push(G)}else if(B(v)||N(v)){var V=v.readable||v;g++,q(V,a,y,{end:h})}else{if(!I(v))throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],v);g++,q(v,a,y,{end:h})}v=a}else if(U(a)){if(L(v))g++,Y(W(v),a,y,{end:h});else if(N(v)||I(v))g++,Y(v,a,y,{end:h});else{if(!B(v))throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],v);g++,Y(v.readable,a,y,{end:h})}v=a}else v=p.from(a)},T=0;T<e.length;T++){var E,k;M(T)}return(null!=s&&s.aborted||null!=u&&u.aborted)&&i.nextTick(h),v}t.exports={pipelineImpl:Q,pipeline:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Q(t,d(G(t)))}}})),ti=Y((function(e,t){J(),Ht(),kt();var n=ei(),r=n.pipeline,i=Jr(),a=Zt(),o=a.destroyer,s=Qt(),u=s.isNodeStream,l=s.isReadable,h=s.isWritable,d=s.isWebStream,f=s.isTransformStream,p=s.isWritableStream,v=s.isReadableStream,m=Xt(),g=m.AbortError,_=m.codes,b=_.ERR_INVALID_ARG_VALUE,x=_.ERR_MISSING_ARGS,w=Jt();t.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new x("streams");if(1===t.length)return i.from(t[0]);var a,s,m,_,S,A=[].concat(t);if("function"==typeof t[0]&&(t[0]=i.from(t[0])),"function"==typeof t[t.length-1]){var M=t.length-1;t[M]=i.from(t[M])}for(var T=0;T<t.length;++T)if(u(t[T])||d(t[T])){if(T<t.length-1&&!(l(t[T])||v(t[T])||f(t[T])))throw new b("streams[".concat(T,"]"),A[T],"must be readable");if(T>0&&!(h(t[T])||p(t[T])||f(t[T])))throw new b("streams[".concat(T,"]"),A[T],"must be writable")}function E(e){var t=_;_=null,t?t(e):e?S.destroy(e):!R&&!P&&S.destroy()}var k=t[0],C=r(t,E),P=!!(h(k)||p(k)||f(k)),R=!!(l(C)||v(C)||f(C));if(S=new i({writableObjectMode:!(null==k||!k.writableObjectMode),readableObjectMode:!(null==C||!C.writableObjectMode),writable:P,readable:R}),P){if(u(k))S._write=function(e,t,n){k.write(e,t)?n():a=n},S._final=function(e){k.end(),s=e},k.on("drain",(function(){if(a){var e=a;a=null,e()}}));else if(d(k)){var I=(f(k)?k.writable:k).getWriter();S._write=function(){var e=(0,y.default)(c.default.mark((function e(t,n,r){return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.ready;case 3:I.write(t).catch((function(){})),r(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),r(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),S._final=function(){var e=(0,y.default)(c.default.mark((function e(t){return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.ready;case 3:I.close().catch((function(){})),s=t,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}var O=f(C)?C.readable:C;w(O,(function(){if(s){var e=s;s=null,e()}}))}if(R)if(u(C))C.on("readable",(function(){if(m){var e=m;m=null,e()}})),C.on("end",(function(){S.push(null)})),S._read=function(){for(;;){var e=C.read();if(null===e)return void(m=S._read);if(!S.push(e))return}};else if(d(C)){var L=(f(C)?C.readable:C).getReader();S._read=(0,y.default)(c.default.mark((function e(){var t,n,r;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.read();case 3:if(t=e.sent,n=t.value,r=t.done,S.push(n)){e.next=8;break}return e.abrupt("return");case 8:if(!r){e.next=11;break}return S.push(null),e.abrupt("return");case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e["catch"](0),e.abrupt("return");case 16:e.next=0;break;case 18:case"end":return e.stop()}}),e,null,[[0,13]])})))}return S._destroy=function(e,t){!e&&null!==_&&(e=new g),m=null,a=null,s=null,null===_?t(e):(_=t,u(C)&&o(C,e))},S}})),ni=Y((function(e,t){J(),Ht(),kt();var n=globalThis.AbortController||qt().AbortController,r=Xt(),i=r.codes,a=i.ERR_INVALID_ARG_VALUE,o=i.ERR_INVALID_ARG_TYPE,s=i.ERR_MISSING_ARGS,u=i.ERR_OUT_OF_RANGE,l=r.AbortError,h=Yt(),d=h.validateAbortSignal,f=h.validateInteger,p=h.validateObject,m=Wt().Symbol("kWeak"),g=Jt(),x=g.finished,S=ti(),A=Tn(),M=A.addAbortSignalNoValidate,C=Qt(),P=C.isWritable,R=C.isNodeStream,I=Wt(),O=I.ArrayPrototypePush,L=I.MathFloor,D=I.Number,B=I.NumberIsNaN,U=I.Promise,F=I.PromiseReject,j=I.PromisePrototypeThen,H=I.Symbol,G=H("kEmpty"),W=H("kEof");function V(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&p(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal");var r=1;return null!=(null===t||void 0===t?void 0:t.concurrency)&&(r=L(t.concurrency)),f(r,"concurrency",1),(0,k.default)(c.default.mark((function i(){var a,o,s,u,h,d,f,p,v,m,g,_,b,x,w;return c.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:x=function(){return x=(0,y.default)(c.default.mark((function n(){var i,a,o,s,y,b,x,w,S;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:n.prev=0,i=!1,a=!1,n.prev=3,s=z(u);case 5:return n.next=7,s.next();case 7:if(!(i=!(y=n.sent).done)){n.next=26;break}if(b=y.value,!g){n.next=11;break}return n.abrupt("return");case 11:if(!d.aborted){n.next=13;break}throw new l;case 13:try{b=e(b,f)}catch(w){b=F(w)}if(n.t0=b!==G,!n.t0){n.next=23;break}if("function"==typeof(null===(x=b)||void 0===x?void 0:x.catch)&&b.catch(_),h.push(b),v&&(v(),v=null),n.t1=!g&&h.length&&h.length>=r,!n.t1){n.next=23;break}return n.next=23,new U((function(e){m=e}));case 23:i=!1,n.next=5;break;case 26:n.next=32;break;case 28:n.prev=28,n.t2=n["catch"](3),a=!0,o=n.t2;case 32:if(n.prev=32,n.prev=33,!i||null==s.return){n.next=37;break}return n.next=37,s.return();case 37:if(n.prev=37,!a){n.next=40;break}throw o;case 40:return n.finish(37);case 41:return n.finish(32);case 42:h.push(W),n.next=49;break;case 45:n.prev=45,n.t3=n["catch"](0),w=F(n.t3),j(w,void 0,_),h.push(w);case 49:return n.prev=49,g=!0,v&&(v(),v=null),null==t||null===(S=t.signal)||void 0===S||S.removeEventListener("abort",p),n.finish(49);case 52:case"end":return n.stop()}}),n,null,[[0,45,49,52],[3,28,32,42],[33,,37,41]])}))),x.apply(this,arguments)},b=function(){return x.apply(this,arguments)},_=function(){g=!0},s=new n,u=this,h=[],d=s.signal,f={signal:d},p=function(){return s.abort()},null!=t&&null!==(a=t.signal)&&void 0!==a&&a.aborted&&p(),null==t||null===(o=t.signal)||void 0===o||o.addEventListener("abort",p),g=!1,b(),i.prev=7;case 8:if(!(h.length>0)){i.next=24;break}return i.next=11,(0,E.default)(h[0]);case 11:if(w=i.sent,w!==W){i.next=14;break}return i.abrupt("return");case 14:if(!d.aborted){i.next=16;break}throw new l;case 16:if(i.t0=w!==G,!i.t0){i.next=20;break}return i.next=20,w;case 20:h.shift(),m&&(m(),m=null);case 22:i.next=8;break;case 24:return i.next=26,(0,E.default)(new U((function(e){v=e})));case 26:i.next=8;break;case 28:return i.prev=28,s.abort(),g=!0,m&&(m(),m=null),i.finish(28);case 31:case"end":return i.stop()}}),i,this,[[7,,28,31]])}))).call(this)}function q(e){return X.apply(this,arguments)}function X(){return X=(0,y.default)(c.default.mark((function e(t){var n,r,i,a,o,s,u=arguments;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:void 0,r=!1,i=!1,e.prev=3,o=z(Z.call(this,t,n));case 5:return e.next=7,o.next();case 7:if(!(r=!(s=e.sent).done)){e.next=13;break}return s.value,e.abrupt("return",!0);case 10:r=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](3),i=!0,a=e.t0;case 19:if(e.prev=19,e.prev=20,!r||null==o.return){e.next=24;break}return e.next=24,o.return();case 24:if(e.prev=24,!i){e.next=27;break}throw a;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",!1);case 30:case"end":return e.stop()}}),e,this,[[3,15,19,29],[20,,24,28]])}))),X.apply(this,arguments)}function Y(){return Y=(0,y.default)(c.default.mark((function e(t){var n,r=arguments;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:void 0,"function"==typeof t){e.next=3;break}throw new o("fn",["Function","AsyncFunction"],t);case 3:return e.next=5,q.call(this,(0,y.default)(c.default.mark((function e(){var n=arguments;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.apply(void 0,n);case 2:return e.abrupt("return",!e.sent);case 3:case"end":return e.stop()}}),e)}))),n);case 5:return e.abrupt("return",!e.sent);case 6:case"end":return e.stop()}}),e,this)}))),Y.apply(this,arguments)}function K(){return K=(0,y.default)(c.default.mark((function e(t,n){var r,i,a,o,s,u;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=!1,i=!1,e.prev=2,o=z(Z.call(this,t,n));case 4:return e.next=6,o.next();case 6:if(!(r=!(s=e.sent).done)){e.next=12;break}return u=s.value,e.abrupt("return",u);case 9:r=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](2),i=!0,a=e.t0;case 18:if(e.prev=18,e.prev=19,!r||null==o.return){e.next=23;break}return e.next=23,o.return();case 23:if(e.prev=23,!i){e.next=26;break}throw a;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,this,[[2,14,18,28],[19,,23,27]])}))),K.apply(this,arguments)}function Q(){return Q=(0,y.default)(c.default.mark((function e(t,n){var r,i,a,s,u,l,h;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=function(){return i=(0,y.default)(c.default.mark((function e(n,r){return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t(n,r);case 2:return e.abrupt("return",G);case 3:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e,t){return i.apply(this,arguments)},"function"==typeof t){e.next=4;break}throw new o("fn",["Function","AsyncFunction"],t);case 4:a=!1,s=!1,e.prev=6,l=z(V.call(this,r,n));case 8:return e.next=10,l.next();case 10:if(!(a=!(h=e.sent).done)){e.next=16;break}h.value;case 13:a=!1,e.next=8;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](6),s=!0,u=e.t0;case 22:if(e.prev=22,e.prev=23,!a||null==l.return){e.next=27;break}return e.next=27,l.return();case 27:if(e.prev=27,!s){e.next=30;break}throw u;case 30:return e.finish(27);case 31:return e.finish(22);case 32:case"end":return e.stop()}}),e,this,[[6,18,22,32],[23,,27,31]])}))),Q.apply(this,arguments)}function Z(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);function n(){return n=(0,y.default)(c.default.mark((function t(n,r){return c.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e(n,r);case 2:if(!t.sent){t.next=6;break}t.t0=n,t.next=7;break;case 6:t.t0=G;case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)}))),n.apply(this,arguments)}return V.call(this,(function(e,t){return n.apply(this,arguments)}),t)}var $=function(e){(0,w.default)(n,e);var t=N(n);function n(){var e;return(0,_.default)(this,n),e=t.call(this,"reduce"),e.message="Reduce of an empty stream requires an initial value",e}return(0,b.default)(n)}(s);function ee(){return ee=(0,y.default)(c.default.mark((function e(t,r,i){var a,s,u,h,f,g,y,_,b,w,S,A,M,T,E=arguments;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"==typeof t){e.next=2;break}throw new o("reducer",["Function","AsyncFunction"],t);case 2:if(null!=i&&p(i,"options"),null!=(null===i||void 0===i?void 0:i.signal)&&d(i.signal,"options.signal"),s=E.length>1,null==i||null===(a=i.signal)||void 0===a||!a.aborted){e.next=10;break}return u=new l(void 0,{cause:i.signal.reason}),this.once("error",(function(){})),e.next=9,x(this.destroy(u));case 9:throw u;case 10:h=new n,f=h.signal,null!=i&&i.signal&&(g=(0,v.default)({once:!0},m,this),i.signal.addEventListener("abort",(function(){return h.abort()}),g)),y=!1,e.prev=13,_=!1,b=!1,e.prev=16,S=z(this);case 18:return e.next=20,S.next();case 20:if(!(_=!(A=e.sent).done)){e.next=34;break}if(M=A.value,y=!0,null==i||null===(T=i.signal)||void 0===T||!T.aborted){e.next=24;break}throw new l;case 24:if(!s){e.next=30;break}return e.next=27,t(r,M,{signal:f});case 27:r=e.sent,e.next=31;break;case 30:r=M,s=!0;case 31:_=!1,e.next=18;break;case 34:e.next=40;break;case 36:e.prev=36,e.t0=e["catch"](16),b=!0,w=e.t0;case 40:if(e.prev=40,e.prev=41,!_||null==S.return){e.next=45;break}return e.next=45,S.return();case 45:if(e.prev=45,!b){e.next=48;break}throw w;case 48:return e.finish(45);case 49:return e.finish(40);case 50:if(y||s){e.next=52;break}throw new $;case 52:return e.prev=52,h.abort(),e.finish(52);case 55:return e.abrupt("return",r);case 56:case"end":return e.stop()}}),e,this,[[13,,52,55],[16,36,40,50],[41,,45,49]])}))),ee.apply(this,arguments)}function te(){return te=(0,y.default)(c.default.mark((function e(t){var n,r,i,a,o,s,u,h;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=t&&p(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),n=[],r=!1,i=!1,e.prev=4,o=z(this);case 6:return e.next=8,o.next();case 8:if(!(r=!(s=e.sent).done)){e.next=16;break}if(u=s.value,null==t||null===(h=t.signal)||void 0===h||!h.aborted){e.next=12;break}throw new l(void 0,{cause:t.signal.reason});case 12:O(n,u);case 13:r=!1,e.next=6;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](4),i=!0,a=e.t0;case 22:if(e.prev=22,e.prev=23,!r||null==o.return){e.next=27;break}return e.next=27,o.return();case 27:if(e.prev=27,!i){e.next=30;break}throw a;case 30:return e.finish(27);case 31:return e.finish(22);case 32:return e.abrupt("return",n);case 33:case"end":return e.stop()}}),e,this,[[4,18,22,32],[23,,27,31]])}))),te.apply(this,arguments)}function ne(e){if(e=D(e),B(e))return 0;if(e<0)throw new u("number",">= 0",e);return e}t.exports.streamReturningOperators={asIndexedPairs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return null!=e&&p(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&d(e.signal,"options.signal"),(0,k.default)(c.default.mark((function t(){var n,r,i,a,o,s,u,h;return c.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=0,r=!1,i=!1,t.prev=3,o=z(this);case 5:return t.next=7,(0,E.default)(o.next());case 7:if(!(r=!(s=t.sent).done)){t.next=16;break}if(u=s.value,null==e||null===(h=e.signal)||void 0===h||!h.aborted){t.next=11;break}throw new l({cause:e.signal.reason});case 11:return t.next=13,[n++,u];case 13:r=!1,t.next=5;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](3),i=!0,a=t.t0;case 22:if(t.prev=22,t.prev=23,!r||null==o.return){t.next=27;break}return t.next=27,(0,E.default)(o.return());case 27:if(t.prev=27,!i){t.next=30;break}throw a;case 30:return t.finish(27);case 31:return t.finish(22);case 32:case"end":return t.stop()}}),t,this,[[3,18,22,32],[23,,27,31]])}))).call(this)},drop:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&p(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),e=ne(e),(0,k.default)(c.default.mark((function n(){var r,i,a,o,s,u,h,d;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null==t||null===(r=t.signal)||void 0===r||!r.aborted){n.next=2;break}throw new l;case 2:i=!1,a=!1,n.prev=4,s=z(this);case 6:return n.next=8,(0,E.default)(s.next());case 8:if(!(i=!(u=n.sent).done)){n.next=19;break}if(h=u.value,null==t||null===(d=t.signal)||void 0===d||!d.aborted){n.next=12;break}throw new l;case 12:if(n.t0=e--<=0,!n.t0){n.next=16;break}return n.next=16,h;case 16:i=!1,n.next=6;break;case 19:n.next=25;break;case 21:n.prev=21,n.t1=n["catch"](4),a=!0,o=n.t1;case 25:if(n.prev=25,n.prev=26,!i||null==s.return){n.next=30;break}return n.next=30,(0,E.default)(s.return());case 30:if(n.prev=30,!a){n.next=33;break}throw o;case 33:return n.finish(30);case 34:return n.finish(25);case 35:case"end":return n.stop()}}),n,this,[[4,21,25,35],[26,,30,34]])}))).call(this)},filter:Z,flatMap:function(e,t){var n=V.call(this,e,t);return(0,k.default)(c.default.mark((function e(){var t,r,i,a,o,s;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=!1,r=!1,e.prev=2,a=z(n);case 4:return e.next=6,(0,E.default)(a.next());case 6:if(!(t=!(o=e.sent).done)){e.next=12;break}return s=o.value,e.delegateYield((0,T.default)(z(s),E.default),"t0",9);case 9:t=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e["catch"](2),r=!0,i=e.t1;case 18:if(e.prev=18,e.prev=19,!t||null==a.return){e.next=23;break}return e.next=23,(0,E.default)(a.return());case 23:if(e.prev=23,!r){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])}))).call(this)},map:V,take:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&p(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),e=ne(e),(0,k.default)(c.default.mark((function n(){var r,i,a,o,s,u,h,d;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null==t||null===(r=t.signal)||void 0===r||!r.aborted){n.next=2;break}throw new l;case 2:i=!1,a=!1,n.prev=4,s=z(this);case 6:return n.next=8,(0,E.default)(s.next());case 8:if(!(i=!(u=n.sent).done)){n.next=21;break}if(h=u.value,null==t||null===(d=t.signal)||void 0===d||!d.aborted){n.next=12;break}throw new l;case 12:if(!(e-- >0)){n.next=17;break}return n.next=15,h;case 15:n.next=18;break;case 17:return n.abrupt("return");case 18:i=!1,n.next=6;break;case 21:n.next=27;break;case 23:n.prev=23,n.t0=n["catch"](4),a=!0,o=n.t0;case 27:if(n.prev=27,n.prev=28,!i||null==s.return){n.next=32;break}return n.next=32,(0,E.default)(s.return());case 32:if(n.prev=32,!a){n.next=35;break}throw o;case 35:return n.finish(32);case 36:return n.finish(27);case 37:case"end":return n.stop()}}),n,this,[[4,23,27,37],[28,,32,36]])}))).call(this)},compose:function(e,t){if(null!=t&&p(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&d(t.signal,"options.signal"),R(e)&&!P(e))throw new a("stream",e,"must be writable");var n=S(this,e);return null!=t&&t.signal&&M(t.signal,n),n}},t.exports.promiseReturningOperators={every:function(e){return Y.apply(this,arguments)},forEach:function(e,t){return Q.apply(this,arguments)},reduce:function(e,t,n){return ee.apply(this,arguments)},toArray:function(e){return te.apply(this,arguments)},some:q,find:function(e,t){return K.apply(this,arguments)}}})),ri=Y((function(e,t){J(),Ht(),kt();var n=Wt(),r=n.ArrayPrototypePop,i=n.Promise,a=Qt(),o=a.isIterable,s=a.isNodeStream,u=a.isWebStream,l=ei(),c=l.pipelineImpl,h=Jt(),d=h.finished;ii(),t.exports={finished:d,pipeline:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new i((function(e,n){var i,a,l=t[t.length-1];if(l&&"object"==(0,M.default)(l)&&!s(l)&&!o(l)&&!u(l)){var h=r(t);i=h.signal,a=h.end}c(t,(function(t,r){t?n(t):e(r)}),{signal:i,end:a})}))}}})),ii=Y((function(e,t){J(),Ht(),kt();var n=(zt(),Q(Ct)),r=n.Buffer,i=Wt(),a=i.ObjectDefineProperty,o=i.ObjectKeys,s=i.ReflectApply,u=Vt(),l=u.promisify.custom,c=ni(),h=c.streamReturningOperators,d=c.promiseReturningOperators,f=Xt(),p=f.codes.ERR_ILLEGAL_CONSTRUCTOR,v=ti(),m=ei(),g=m.pipeline,y=Zt(),_=y.destroyer,b=Jt(),x=ri(),w=Qt(),S=t.exports=Mn().Stream;S.isDisturbed=w.isDisturbed,S.isErrored=w.isErrored,S.isReadable=w.isReadable,S.Readable=Yr();var A,M=F(o(h));try{var T=function(){var e=A.value,t=function e(){if(this instanceof e?this.constructor:void 0)throw p();for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return S.Readable.from(s(n,this,r))};t;var n=h[e];a(t,"name",{__proto__:null,value:n.name}),a(t,"length",{__proto__:null,value:n.length}),a(S.Readable.prototype,e,{__proto__:null,value:t,enumerable:!1,configurable:!0,writable:!0})};for(M.s();!(A=M.n()).done;)T()}catch(I){M.e(I)}finally{M.f()}var E,k=F(o(d));try{var C=function(){var e=E.value,t=function e(){if(this instanceof e?this.constructor:void 0)throw p();for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return s(n,this,r)};t;var n=d[e];a(t,"name",{__proto__:null,value:n.name}),a(t,"length",{__proto__:null,value:n.length}),a(S.Readable.prototype,e,{__proto__:null,value:t,enumerable:!1,configurable:!0,writable:!0})};for(k.s();!(E=k.n()).done;)C()}catch(I){k.e(I)}finally{k.f()}S.Writable=Kr(),S.Duplex=Jr(),S.Transform=Zr(),S.PassThrough=$r(),S.pipeline=g;var P=Tn(),R=P.addAbortSignal;S.addAbortSignal=R,S.finished=b,S.destroy=_,S.compose=v,a(S,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:function(){return x}}),a(g,l,{__proto__:null,enumerable:!0,get:function(){return x.pipeline}}),a(b,l,{__proto__:null,enumerable:!0,get:function(){return x.finished}}),S.Stream=S,S._isUint8Array=function(e){return e instanceof Uint8Array},S._uint8ArrayToBuffer=function(e){return r.from(e.buffer,e.byteOffset,e.byteLength)}})),ai=Y((function(e,t){J(),Ht(),kt();var n=ii(),r=ri(),i=n.Readable.destroy;t.exports=n.Readable,t.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,t.exports._isUint8Array=n._isUint8Array,t.exports.isDisturbed=n.isDisturbed,t.exports.isErrored=n.isErrored,t.exports.isReadable=n.isReadable,t.exports.Readable=n.Readable,t.exports.Writable=n.Writable,t.exports.Duplex=n.Duplex,t.exports.Transform=n.Transform,t.exports.PassThrough=n.PassThrough,t.exports.addAbortSignal=n.addAbortSignal,t.exports.finished=n.finished,t.exports.destroy=n.destroy,t.exports.destroy=i,t.exports.pipeline=n.pipeline,t.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:function(){return r}}),t.exports.Stream=n.Stream,t.exports.default=t.exports})),oi=Y((function(e,t){J(),Ht(),kt(),"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}})),si=Y((function(e,t){J(),Ht(),kt();var n=(zt(),Q(Ct)),r=n.Buffer,i=Symbol.for("BufferList");function a(e){if(!(this instanceof a))return new a(e);a._init.call(this,e)}a._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},a.prototype._new=function(e){return new a(e)},a.prototype._offset=function(e){if(0===e)return[0,0];for(var t=0,n=0;n<this._bufs.length;n++){var r=t+this._bufs[n].length;if(e<r||n===this._bufs.length-1)return[n,e-t];t=r}},a.prototype._reverseOffset=function(e){for(var t=e[0],n=e[1],r=0;r<t;r++)n+=this._bufs[r].length;return n},a.prototype.get=function(e){if(!(e>this.length||e<0)){var t=this._offset(e);return this._bufs[t[0]][t[1]]}},a.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},a.prototype.copy=function(e,t,n,i){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof i||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||r.alloc(0);var a=!!e,o=this._offset(n),s=i-n,u=s,l=a&&t||0,c=o[1];if(0===n&&i===this.length){if(!a)return 1===this._bufs.length?this._bufs[0]:r.concat(this._bufs,this.length);for(var h=0;h<this._bufs.length;h++)this._bufs[h].copy(e,l),l+=this._bufs[h].length;return e}if(u<=this._bufs[o[0]].length-c)return a?this._bufs[o[0]].copy(e,t,c,c+u):this._bufs[o[0]].slice(c,c+u);a||(e=r.allocUnsafe(s));for(var d=o[0];d<this._bufs.length;d++){var f=this._bufs[d].length-c;if(!(u>f)){this._bufs[d].copy(e,l,c,c+u),l+=f;break}this._bufs[d].copy(e,l,c),l+=f,u-=f,c&&(c=0)}return e.length>l?e.slice(0,l):e},a.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();var n=this._offset(e),r=this._offset(t),i=this._bufs.slice(n[0],r[0]+1);return 0===r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!==n[1]&&(i[0]=i[0].slice(n[1])),this._new(i)},a.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},a.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},a.prototype.duplicate=function(){for(var e=this._new(),t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},a.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(r.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(var t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(var n=0;n<e._bufs.length;n++)this.append(e._bufs[n]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(r.from(e));return this},a.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},a.prototype.indexOf=function(e,t,n){if(void 0===n&&"string"==typeof t&&(n=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=r.from([e]):"string"==typeof e?e=r.from(e,n):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=r.from(e.buffer,e.byteOffset,e.byteLength):r.isBuffer(e)||(e=r.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;for(var i=this._offset(t),a=i[0],o=i[1];a<this._bufs.length;a++){for(var s=this._bufs[a];o<s.length;)if(s.length-o>=e.length){var u=s.indexOf(e,o);if(-1!==u)return this._reverseOffset([a,u]);o=s.length-e.length+1}else{var l=this._reverseOffset([a,o]);if(this._match(l,e))return l;o++}o=0}return-1},a.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(var n=0;n<t.length;n++)if(this.get(e+n)!==t[n])return!1;return!0},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var t in e)(function(t){a.prototype[t]=null===e[t]?function(e,n){return this.slice(e,e+n)[t](0,n)}:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.slice(n,n+e[t])[t](0)}})(t)}(),a.prototype._isBufferList=function(e){return e instanceof a||a.isBufferList(e)},a.isBufferList=function(e){return null!=e&&e[i]},t.exports=a})),ui=Y((function(e,t){J(),Ht(),kt();var n=ai().Duplex,r=oi(),i=si();function a(e){if(!(this instanceof a))return new a(e);if("function"==typeof e){this._callback=e;var t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}i._init.call(this,e),n.call(this)}r(a,n),Object.assign(a.prototype,i.prototype),a.prototype._new=function(e){return new a(e)},a.prototype._write=function(e,t,n){this._appendBuffer(e),"function"==typeof n&&n()},a.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},a.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},a.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},a.prototype._isBufferList=function(e){return e instanceof a||e instanceof i||a.isBufferList(e)},a.isBufferList=i.isBufferList,t.exports=a,t.exports.BufferListStream=a,t.exports.BufferList=i})),li=Y((function(e,t){J(),Ht(),kt();var n=(0,b.default)((function e(){(0,_.default)(this,e),this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}));t.exports=n})),ci=Y((function(e,t){J(),Ht(),kt();var n=t.exports,r=(zt(),Q(Ct)),i=r.Buffer;for(var a in n.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},n.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},n.requiredHeaderFlagsErrors={},n.requiredHeaderFlags){var o=n.requiredHeaderFlags[a];n.requiredHeaderFlagsErrors[a]="Invalid header flag bits, must be 0x"+o.toString(16)+" for "+n.types[a]+" packet"}for(var s in n.codes={},n.types){var u=n.types[s];n.codes[u]=s}for(var l in n.CMD_SHIFT=4,n.CMD_MASK=240,n.DUP_MASK=8,n.QOS_MASK=3,n.QOS_SHIFT=1,n.RETAIN_MASK=1,n.VARBYTEINT_MASK=127,n.VARBYTEINT_FIN_MASK=128,n.VARBYTEINT_MAX=268435455,n.SESSIONPRESENT_MASK=1,n.SESSIONPRESENT_HEADER=i.from([n.SESSIONPRESENT_MASK]),n.CONNACK_HEADER=i.from([n.codes.connack<<n.CMD_SHIFT]),n.USERNAME_MASK=128,n.PASSWORD_MASK=64,n.WILL_RETAIN_MASK=32,n.WILL_QOS_MASK=24,n.WILL_QOS_SHIFT=3,n.WILL_FLAG_MASK=4,n.CLEAN_SESSION_MASK=2,n.CONNECT_HEADER=i.from([n.codes.connect<<n.CMD_SHIFT]),n.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},n.propertiesCodes={},n.properties){var c=n.properties[l];n.propertiesCodes[c]=l}function h(e){return[0,1,2].map((function(t){return[0,1].map((function(r){return[0,1].map((function(a){var o=i.alloc(1);return o.writeUInt8(n.codes[e]<<n.CMD_SHIFT|(r?n.DUP_MASK:0)|t<<n.QOS_SHIFT|a,0,!0),o}))}))}))}n.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},n.PUBLISH_HEADER=h("publish"),n.SUBSCRIBE_HEADER=h("subscribe"),n.SUBSCRIBE_OPTIONS_QOS_MASK=3,n.SUBSCRIBE_OPTIONS_NL_MASK=1,n.SUBSCRIBE_OPTIONS_NL_SHIFT=2,n.SUBSCRIBE_OPTIONS_RAP_MASK=1,n.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,n.SUBSCRIBE_OPTIONS_RH_MASK=3,n.SUBSCRIBE_OPTIONS_RH_SHIFT=4,n.SUBSCRIBE_OPTIONS_RH=[0,16,32],n.SUBSCRIBE_OPTIONS_NL=4,n.SUBSCRIBE_OPTIONS_RAP=8,n.SUBSCRIBE_OPTIONS_QOS=[0,1,2],n.UNSUBSCRIBE_HEADER=h("unsubscribe"),n.ACKS={unsuback:h("unsuback"),puback:h("puback"),pubcomp:h("pubcomp"),pubrel:h("pubrel"),pubrec:h("pubrec")},n.SUBACK_HEADER=i.from([n.codes.suback<<n.CMD_SHIFT]),n.VERSION3=i.from([3]),n.VERSION4=i.from([4]),n.VERSION5=i.from([5]),n.VERSION131=i.from([131]),n.VERSION132=i.from([132]),n.QOS=[0,1,2].map((function(e){return i.from([e])})),n.EMPTY={pingreq:i.from([n.codes.pingreq<<4,0]),pingresp:i.from([n.codes.pingresp<<4,0]),disconnect:i.from([n.codes.disconnect<<4,0])},n.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},n.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},n.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},n.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},n.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},n.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}})),hi=Y((function(e,t){J(),Ht(),kt();var n=1e3,r=6e4,i=60*r,a=24*i;function o(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}t.exports=function(e,t){t=t||{};var s=(0,M.default)(e);if("string"===s&&e.length>0)return function(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]),s=(t[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*a;case"hours":case"hour":case"hrs":case"hr":case"h":return o*i;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=a?o(e,t,a,"day"):t>=i?o(e,t,i,"hour"):t>=r?o(e,t,r,"minute"):t>=n?o(e,t,n,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=a?Math.round(e/a)+"d":t>=i?Math.round(e/i)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}})),di=Y((function(e,t){J(),Ht(),kt(),t.exports=function(e){function t(e){var r,i,a,o=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var a=s,o=Number(new Date),u=o-(r||o);a.diff=u,a.prev=r,a.curr=o,r=o,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var l=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";l++;var i=t.formatters[r];if("function"==typeof i){var o=n[l];e=i.call(a,o),n.splice(l,1),l--}return e})),t.formatArgs.call(a,n),(a.log||t.log).apply(a,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==o?o:(i!==t.namespaces&&(i=t.namespaces,a=t.enabled(e)),a)},set:function(e){o=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){var r=t(this.namespace+((0,M.default)(n)>"u"?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat((0,m.default)(t.names.map(i)),(0,m.default)(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];var n,r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&(e=r[n].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=hi(),t.destroy=function(){r("warn","Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."," at node_modules/mqtt/dist/mqtt.esm.js:2")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}})),fi=Y((function(e,t){J(),Ht(),kt(),e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(n){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(n){}return!t&&(0,M.default)(Z)<"u"&&"env"in Z&&(t=Z.env.DEBUG),t},e.useColors=function(){return!(!(("undefined"===typeof window?"undefined":(0,M.default)(window))<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(("undefined"===typeof navigator?"undefined":(0,M.default)(navigator))<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(("undefined"===typeof document?"undefined":(0,M.default)(document))<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||("undefined"===typeof window?"undefined":(0,M.default)(window))<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||("undefined"===typeof navigator?"undefined":(0,M.default)(navigator))<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||("undefined"===typeof navigator?"undefined":(0,M.default)(navigator))<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(e){}}(),e.destroy=function(){var e=!1;return function(){e||(e=!0,r("warn","Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."," at node_modules/mqtt/dist/mqtt.esm.js:2"))}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||function(){},t.exports=di()(e);var n=t.exports.formatters;n.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}})),pi=Y((function(e,t){J(),Ht(),kt();var n=ui(),r=(An(),Q(gn)),i=r.EventEmitter,a=li(),o=ci(),s=fi()("mqtt-packet:parser"),u=function(e){(0,w.default)(r,e);var t=N(r);function r(){var e;return(0,_.default)(this,r),e=t.call(this),e.parser=e.constructor.parser,e}return(0,b.default)(r,[{key:"_resetState",value:function(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new a,this.error=null,this._list=n(),this._stateCounter=0}},{key:"parse",value:function(e){for(this.error&&this._resetState(),this._list.append(e),s("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}},{key:"_parseHeader",value:function(){var e=this._list.readUInt8(0),t=e>>o.CMD_SHIFT;this.packet.cmd=o.types[t];var n=15&e,r=o.requiredHeaderFlags[t];return null!=r&&n!==r?this._emitError(new Error(o.requiredHeaderFlagsErrors[t])):(this.packet.retain=0!==(e&o.RETAIN_MASK),this.packet.qos=e>>o.QOS_SHIFT&o.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=0!==(e&o.DUP_MASK),s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}},{key:"_parseLength",value:function(){var e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),s("_parseLength %d",e.value),!!e}},{key:"_parsePayload",value:function(){s("_parsePayload: payload %O",this._list);var e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return s("_parsePayload complete result: %s",e),e}},{key:"_parseConnect",value:function(){s("_parseConnect");var e,t,n,r,i={},a=this.packet,u=this._parseString();if(null===u)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==u&&"MQIsdp"!==u)return this._emitError(new Error("Invalid protocolId"));if(a.protocolId=u,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(a.protocolVersion=this._list.readUInt8(this._pos),a.protocolVersion>=128&&(a.bridgeMode=!0,a.protocolVersion=a.protocolVersion-128),3!==a.protocolVersion&&4!==a.protocolVersion&&5!==a.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(1&this._list.readUInt8(this._pos))return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));i.username=this._list.readUInt8(this._pos)&o.USERNAME_MASK,i.password=this._list.readUInt8(this._pos)&o.PASSWORD_MASK,i.will=this._list.readUInt8(this._pos)&o.WILL_FLAG_MASK;var l=!!(this._list.readUInt8(this._pos)&o.WILL_RETAIN_MASK),c=(this._list.readUInt8(this._pos)&o.WILL_QOS_MASK)>>o.WILL_QOS_SHIFT;if(i.will)a.will={},a.will.retain=l,a.will.qos=c;else{if(l)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(c)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(a.clean=0!==(this._list.readUInt8(this._pos)&o.CLEAN_SESSION_MASK),this._pos++,a.keepalive=this._parseNum(),-1===a.keepalive)return this._emitError(new Error("Packet too short"));if(5===a.protocolVersion){var h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(a.properties=h)}var d=this._parseString();if(null===d)return this._emitError(new Error("Packet too short"));if(a.clientId=d,s("_parseConnect: packet.clientId: %s",a.clientId),i.will){if(5===a.protocolVersion){var f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(a.will.properties=f)}if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse will topic"));if(a.will.topic=e,s("_parseConnect: packet.will.topic: %s",a.will.topic),t=this._parseBuffer(),null===t)return this._emitError(new Error("Cannot parse will payload"));a.will.payload=t,s("_parseConnect: packet.will.paylaod: %s",a.will.payload)}if(i.username){if(r=this._parseString(),null===r)return this._emitError(new Error("Cannot parse username"));a.username=r,s("_parseConnect: packet.username: %s",a.username)}if(i.password){if(n=this._parseBuffer(),null===n)return this._emitError(new Error("Cannot parse password"));a.password=n}return this.settings=a,s("_parseConnect: complete"),a}},{key:"_parseConnack",value:function(){s("_parseConnack");var e=this.packet;if(this._list.length<1)return null;var t=this._list.readUInt8(this._pos++);if(t>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(e.sessionPresent=!!(t&o.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){var n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}s("_parseConnack: complete")}},{key:"_parsePublish",value:function(){s("_parsePublish");var e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length),s("_parsePublish: payload from buffer list: %o",e.payload)}}},{key:"_parseSubscribe",value:function(){s("_parseSubscribe");var e,t,n,r,i,a,u,l=this.packet;if(l.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(l.properties=c)}if(l.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<l.length;){if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=l.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(t=this._parseByte(),5===this.settings.protocolVersion){if(192&t)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(252&t)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(n=t&o.SUBSCRIBE_OPTIONS_QOS_MASK,n>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(a=0!==(t>>o.SUBSCRIBE_OPTIONS_NL_SHIFT&o.SUBSCRIBE_OPTIONS_NL_MASK),i=0!==(t>>o.SUBSCRIBE_OPTIONS_RAP_SHIFT&o.SUBSCRIBE_OPTIONS_RAP_MASK),r=t>>o.SUBSCRIBE_OPTIONS_RH_SHIFT&o.SUBSCRIBE_OPTIONS_RH_MASK,r>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));u={topic:e,qos:n},5===this.settings.protocolVersion?(u.nl=a,u.rap=i,u.rh=r):this.settings.bridgeMode&&(u.rh=0,u.rap=!0,u.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",u),l.subscriptions.push(u)}}}},{key:"_parseSuback",value:function(){s("_parseSuback");var e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}if(e.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){var n=this._list.readUInt8(this._pos++);if(5===this.settings.protocolVersion){if(!o.MQTT5_SUBACK_CODES[n])return this._emitError(new Error("Invalid suback code"))}else if(n>2&&128!==n)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(n)}}}},{key:"_parseUnsubscribe",value:function(){s("_parseUnsubscribe");var e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}if(e.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<e.length;){var n=this._parseString();if(null===n)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",n),e.unsubscriptions.push(n)}}}},{key:"_parseUnsuback",value:function(){s("_parseUnsuback");var e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((3===this.settings.protocolVersion||4===this.settings.protocolVersion)&&2!==e.length)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(e.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(5===this.settings.protocolVersion){var t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;){var n=this._list.readUInt8(this._pos++);if(!o.MQTT5_UNSUBACK_CODES[n])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(n)}}}},{key:"_parseConfirmation",value:function(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);var e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion){if(e.length>2){switch(e.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!o.MQTT5_PUBACK_PUBREC_CODES[e.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!o.MQTT5_PUBREL_PUBCOMP_CODES[e.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}s("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)}else e.reasonCode=0;if(e.length>3){var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}}return!0}},{key:"_parseDisconnect",value:function(){var e=this.packet;if(s("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?(e.reasonCode=this._parseByte(),o.MQTT5_DISCONNECT_CODES[e.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):e.reasonCode=0;var t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return s("_parseDisconnect result: true"),!0}},{key:"_parseAuth",value:function(){s("_parseAuth");var e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(e.reasonCode=this._parseByte(),!o.MQTT5_AUTH_CODES[e.reasonCode])return this._emitError(new Error("Invalid auth reason code"));var t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(e.properties=t),s("_parseAuth: result: true"),!0}},{key:"_parseMessageId",value:function(){var e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",e.messageId),!0)}},{key:"_parseString",value:function(e){var t=this._parseNum(),n=t+this._pos;if(-1===t||n>this._list.length||n>this.packet.length)return null;var r=this._list.toString("utf8",this._pos,n);return this._pos+=t,s("_parseString: result: %s",r),r}},{key:"_parseStringPair",value:function(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}},{key:"_parseBuffer",value:function(){var e=this._parseNum(),t=e+this._pos;if(-1===e||t>this._list.length||t>this.packet.length)return null;var n=this._list.slice(this._pos,t);return this._pos+=e,s("_parseBuffer: result: %o",n),n}},{key:"_parseNum",value:function(){if(this._list.length-this._pos<2)return-1;var e=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",e),e}},{key:"_parse4ByteNum",value:function(){if(this._list.length-this._pos<4)return-1;var e=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",e),e}},{key:"_parseVarByteNum",value:function(e){s("_parseVarByteNum");for(var t,n=0,r=1,i=0,a=!1,u=this._pos?this._pos:0;n<4&&u+n<this._list.length;){if(t=this._list.readUInt8(u+n++),i+=r*(t&o.VARBYTEINT_MASK),r*=128,!(t&o.VARBYTEINT_FIN_MASK)){a=!0;break}if(this._list.length<=n)break}return!a&&4===n&&this._list.length>=n&&this._emitError(new Error("Invalid variable byte integer")),u&&(this._pos+=n),a=!!a&&(e?{bytes:n,value:i}:i),s("_parseVarByteNum: result: %o",a),a}},{key:"_parseByte",value:function(){var e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",e),e}},{key:"_parseByType",value:function(e){switch(s("_parseByType: type: %s",e),e){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}},{key:"_parseProperties",value:function(){s("_parseProperties");for(var e=this._parseVarByteNum(),t=this._pos+e,n={};this._pos<t;){var r=this._parseByte();if(!r)return this._emitError(new Error("Cannot parse property code type")),!1;var i=o.propertiesCodes[r];if(!i)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==i)n[i]?(Array.isArray(n[i])||(n[i]=[n[i]]),n[i].push(this._parseByType(o.propertiesTypes[i]))):n[i]=this._parseByType(o.propertiesTypes[i]);else{n[i]||(n[i]=Object.create(null));var a=this._parseByType(o.propertiesTypes[i]);if(n[i][a.name])if(Array.isArray(n[i][a.name]))n[i][a.name].push(a.value);else{var u=n[i][a.name];n[i][a.name]=[u],n[i][a.name].push(a.value)}else n[i][a.name]=a.value}}return n}},{key:"_newPacket",value:function(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new a,this._pos=0,!0}},{key:"_emitError",value:function(e){s("_emitError",e),this.error=e,this.emit("error",e)}}],[{key:"parser",value:function(e){return this instanceof r?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new r).parser(e)}}]),r}(i);t.exports=u})),vi=Y((function(e,t){J(),Ht(),kt();var n=(zt(),Q(Ct)),r=n.Buffer,i={},a=r.isBuffer(r.from([1,2]).subarray(0,1));function o(e){var t=r.allocUnsafe(2);return t.writeUInt8(e>>8,0),t.writeUInt8(255&e,1),t}t.exports={cache:i,generateCache:function(){for(var e=0;e<65536;e++)i[e]=o(e)},generateNumber:o,genBufVariableByteInt:function(e){var t=0,n=0,i=r.allocUnsafe(4);do{t=e%128|0,e=e/128|0,e>0&&(t|=128),i.writeUInt8(t,n++)}while(e>0&&n<4);return e>0&&(n=0),a?i.subarray(0,n):i.slice(0,n)},generate4ByteBuffer:function(e){var t=r.allocUnsafe(4);return t.writeUInt32BE(e,0),t}}})),mi=Y((function(e,t){J(),Ht(),kt(),(0,M.default)(Z)>"u"||!Z.version||0===Z.version.indexOf("v0.")||0===Z.version.indexOf("v1.")&&0!==Z.version.indexOf("v1.8.")?t.exports={nextTick:function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,a,o=arguments.length;switch(o){case 0:case 1:return Z.nextTick(e);case 2:return Z.nextTick((function(){e.call(null,t)}));case 3:return Z.nextTick((function(){e.call(null,t,n)}));case 4:return Z.nextTick((function(){e.call(null,t,n,r)}));default:for(i=new Array(o-1),a=0;a<i.length;)i[a++]=arguments[a];return Z.nextTick((function(){e.apply(null,i)}))}}}:t.exports=Z})),gi=Y((function(e,t){J(),Ht(),kt();var n=ci(),r=(zt(),Q(Ct)),i=r.Buffer,a=i.allocUnsafe(0),o=i.from([0]),s=vi(),u=mi().nextTick,l=fi()("mqtt-packet:writeToStream"),c=s.cache,h=s.generateNumber,d=s.generateCache,f=s.genBufVariableByteInt,p=s.generate4ByteBuffer,v=S,m=!0;function g(e,t,r){switch(l("generate called"),t.cork&&(t.cork(),u(y,t)),m&&(m=!1,d()),l("generate: packet.cmd: %s",e.cmd),e.cmd){case"connect":return function(e,t,r){var a=e||{},o=a.protocolId||"MQTT",s=a.protocolVersion||4,u=a.will,l=a.clean,c=a.keepalive||0,h=a.clientId||"",d=a.username,f=a.password,p=a.properties;void 0===l&&(l=!0);var m,g,y=0;if(!o||"string"!=typeof o&&!i.isBuffer(o))return t.destroy(new Error("Invalid protocolId")),!1;if(y+=o.length+2,3!==s&&4!==s&&5!==s)return t.destroy(new Error("Invalid protocol version")),!1;if(y+=1,("string"==typeof h||i.isBuffer(h))&&(h||s>=4)&&(h||l))y+=i.byteLength(h)+2;else{if(s<4)return t.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(1*l===0)return t.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof c||c<0||c>65535||c%1!==0)return t.destroy(new Error("Invalid keepalive")),!1;if(y+=2,y+=1,5===s){if(m=E(t,p),!m)return!1;y+=m.length}if(u){if("object"!=(0,M.default)(u))return t.destroy(new Error("Invalid will")),!1;if(!u.topic||"string"!=typeof u.topic)return t.destroy(new Error("Invalid will topic")),!1;if(y+=i.byteLength(u.topic)+2,y+=2,u.payload){if(!(u.payload.length>=0))return t.destroy(new Error("Invalid will payload")),!1;"string"==typeof u.payload?y+=i.byteLength(u.payload):y+=u.payload.length}if(g={},5===s){if(g=E(t,u.properties),!g)return!1;y+=g.length}}var _=!1;if(null!=d){if(!I(d))return t.destroy(new Error("Invalid username")),!1;_=!0,y+=i.byteLength(d)+2}if(null!=f){if(!_)return t.destroy(new Error("Username is required to use password")),!1;if(!I(f))return t.destroy(new Error("Invalid password")),!1;y+=R(f)+2}t.write(n.CONNECT_HEADER),b(t,y),T(t,o),a.bridgeMode&&(s+=128),t.write(131===s?n.VERSION131:132===s?n.VERSION132:4===s?n.VERSION4:5===s?n.VERSION5:n.VERSION3);var w=0;return w|=null!=d?n.USERNAME_MASK:0,w|=null!=f?n.PASSWORD_MASK:0,w|=u&&u.retain?n.WILL_RETAIN_MASK:0,w|=u&&u.qos?u.qos<<n.WILL_QOS_SHIFT:0,w|=u?n.WILL_FLAG_MASK:0,w|=l?n.CLEAN_SESSION_MASK:0,t.write(i.from([w])),v(t,c),5===s&&m.write(),T(t,h),u&&(5===s&&g.write(),x(t,u.topic),T(t,u.payload)),null!=d&&T(t,d),null!=f&&T(t,f),!0}(e,t);case"connack":return function(e,t,r){var a,s=r?r.protocolVersion:4,u=e||{},l=5===s?u.reasonCode:u.returnCode,c=u.properties,h=2;if("number"!=typeof l)return t.destroy(new Error("Invalid return code")),!1;var d=null;if(5===s){if(d=E(t,c),!d)return!1;h+=d.length}return t.write(n.CONNACK_HEADER),b(t,h),t.write(u.sessionPresent?n.SESSIONPRESENT_HEADER:o),t.write(i.from([l])),null!==(a=d)&&void 0!==a&&a.write(),!0}(e,t,r);case"publish":return function(e,t,r){var o;l("publish: packet: %o",e);var s=r?r.protocolVersion:4,u=e||{},c=u.qos||0,h=u.retain?n.RETAIN_MASK:0,d=u.topic,f=u.payload||a,p=u.messageId,m=u.properties,g=0;if("string"==typeof d)g+=i.byteLength(d)+2;else{if(!i.isBuffer(d))return t.destroy(new Error("Invalid topic")),!1;g+=d.length+2}if(i.isBuffer(f)?g+=f.length:g+=i.byteLength(f),c&&"number"!=typeof p)return t.destroy(new Error("Invalid messageId")),!1;c&&(g+=2);var y=null;if(5===s){if(y=E(t,m),!y)return!1;g+=y.length}return t.write(n.PUBLISH_HEADER[c][u.dup?1:0][h?1:0]),b(t,g),v(t,R(d)),t.write(d),c>0&&v(t,p),null!==(o=y)&&void 0!==o&&o.write(),l("publish: payload: %o",f),t.write(f)}(e,t,r);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(e,t,r){var a=r?r.protocolVersion:4,o=e||{},s=o.cmd||"puback",u=o.messageId,l=o.dup&&"pubrel"===s?n.DUP_MASK:0,c=0,h=o.reasonCode,d=o.properties,f=5===a?3:2;if("pubrel"===s&&(c=1),"number"!=typeof u)return t.destroy(new Error("Invalid messageId")),!1;var p=null;if(5===a&&"object"==(0,M.default)(d)){if(p=k(t,d,r,f),!p)return!1;f+=p.length}return t.write(n.ACKS[s][c][l][0]),3===f&&(f+=0!==h?1:-1),b(t,f),v(t,u),5===a&&2!==f&&t.write(i.from([h])),null!==p?p.write():4===f&&t.write(i.from([0])),!0}(e,t,r);case"subscribe":return function(e,t,r){l("subscribe: packet: ");var a=r?r.protocolVersion:4,o=e||{},s=o.dup?n.DUP_MASK:0,u=o.messageId,c=o.subscriptions,h=o.properties,d=0;if("number"!=typeof u)return t.destroy(new Error("Invalid messageId")),!1;d+=2;var f=null;if(5===a){if(f=E(t,h),!f)return!1;d+=f.length}if("object"!=(0,M.default)(c)||!c.length)return t.destroy(new Error("Invalid subscriptions")),!1;for(var p=0;p<c.length;p+=1){var m=c[p].topic,g=c[p].qos;if("string"!=typeof m)return t.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof g)return t.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(5===a){if("boolean"!=typeof(c[p].nl||!1))return t.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(c[p].rap||!1))return t.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;var y=c[p].rh||0;if("number"!=typeof y||y>2)return t.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}d+=i.byteLength(m)+2+1}l("subscribe: writing to stream: %o",n.SUBSCRIBE_HEADER),t.write(n.SUBSCRIBE_HEADER[1][s?1:0][0]),b(t,d),v(t,u),null!==f&&f.write();var _,w=!0,S=F(c);try{for(S.s();!(_=S.n()).done;){var A=_.value,T=A.topic,k=A.qos,C=+A.nl,P=+A.rap,R=A.rh,I=void 0;x(t,T),I=n.SUBSCRIBE_OPTIONS_QOS[k],5===a&&(I|=C?n.SUBSCRIBE_OPTIONS_NL:0,I|=P?n.SUBSCRIBE_OPTIONS_RAP:0,I|=R?n.SUBSCRIBE_OPTIONS_RH[R]:0),w=t.write(i.from([I]))}}catch(O){S.e(O)}finally{S.f()}return w}(e,t,r);case"suback":return function(e,t,r){var a=r?r.protocolVersion:4,o=e||{},s=o.messageId,u=o.granted,l=o.properties,c=0;if("number"!=typeof s)return t.destroy(new Error("Invalid messageId")),!1;if(c+=2,"object"!=(0,M.default)(u)||!u.length)return t.destroy(new Error("Invalid qos vector")),!1;for(var h=0;h<u.length;h+=1){if("number"!=typeof u[h])return t.destroy(new Error("Invalid qos vector")),!1;c+=1}var d=null;if(5===a){if(d=k(t,l,r,c),!d)return!1;c+=d.length}return t.write(n.SUBACK_HEADER),b(t,c),v(t,s),null!==d&&d.write(),t.write(i.from(u))}(e,t,r);case"unsubscribe":return function(e,t,r){var a=r?r.protocolVersion:4,o=e||{},s=o.messageId,u=o.dup?n.DUP_MASK:0,l=o.unsubscriptions,c=o.properties,h=0;if("number"!=typeof s)return t.destroy(new Error("Invalid messageId")),!1;if(h+=2,"object"!=(0,M.default)(l)||!l.length)return t.destroy(new Error("Invalid unsubscriptions")),!1;for(var d=0;d<l.length;d+=1){if("string"!=typeof l[d])return t.destroy(new Error("Invalid unsubscriptions")),!1;h+=i.byteLength(l[d])+2}var f=null;if(5===a){if(f=E(t,c),!f)return!1;h+=f.length}t.write(n.UNSUBSCRIBE_HEADER[1][u?1:0][0]),b(t,h),v(t,s),null!==f&&f.write();for(var p=!0,m=0;m<l.length;m++)p=x(t,l[m]);return p}(e,t,r);case"unsuback":return function(e,t,r){var a=r?r.protocolVersion:4,o=e||{},s=o.messageId,u=o.dup?n.DUP_MASK:0,l=o.granted,c=o.properties,h=o.cmd,d=2;if("number"!=typeof s)return t.destroy(new Error("Invalid messageId")),!1;if(5===a){if("object"!=(0,M.default)(l)||!l.length)return t.destroy(new Error("Invalid qos vector")),!1;for(var f=0;f<l.length;f+=1){if("number"!=typeof l[f])return t.destroy(new Error("Invalid qos vector")),!1;d+=1}}var p=null;if(5===a){if(p=k(t,c,r,d),!p)return!1;d+=p.length}return t.write(n.ACKS[h][0][u][0]),b(t,d),v(t,s),null!==p&&p.write(),5===a&&t.write(i.from(l)),!0}(e,t,r);case"pingreq":case"pingresp":return function(e,t,r){return t.write(n.EMPTY[e.cmd])}(e,t);case"disconnect":return function(e,t,r){var a=r?r.protocolVersion:4,o=e||{},s=o.reasonCode,u=o.properties,l=5===a?1:0,c=null;if(5===a){if(c=k(t,u,r,l),!c)return!1;l+=c.length}return t.write(i.from([n.codes.disconnect<<4])),b(t,l),5===a&&t.write(i.from([s])),null!==c&&c.write(),!0}(e,t,r);case"auth":return function(e,t,r){var a=r?r.protocolVersion:4,o=e||{},s=o.reasonCode,u=o.properties,l=5===a?1:0;5!==a&&t.destroy(new Error("Invalid mqtt version for auth packet"));var c=k(t,u,r,l);return!!c&&(l+=c.length,t.write(i.from([n.codes.auth<<4])),b(t,l),t.write(i.from([s])),null!==c&&c.write(),!0)}(e,t,r);default:return t.destroy(new Error("Unknown command")),!1}}function y(e){e.uncork()}Object.defineProperty(g,"cacheNumbers",{get:function(){return v===S},set:function(e){e?((!c||0===Object.keys(c).length)&&(m=!0),v=S):(m=!1,v=A)}});var _={};function b(e,t){if(t>n.VARBYTEINT_MAX)return e.destroy(new Error("Invalid variable byte integer: ".concat(t))),!1;var r=_[t];return r||(r=f(t),t<16384&&(_[t]=r)),l("writeVarByteInt: writing to stream: %o",r),e.write(r)}function x(e,t){var n=i.byteLength(t);return v(e,n),l("writeString: %s",t),e.write(t,"utf8")}function w(e,t,n){x(e,t),x(e,n)}function S(e,t){return l("writeNumberCached: number: %d",t),l("writeNumberCached: %o",c[t]),e.write(c[t])}function A(e,t){var n=h(t);return l("writeNumberGenerated: %o",n),e.write(n)}function T(e,t){"string"==typeof t?x(e,t):t?(v(e,t.length),e.write(t)):v(e,0)}function E(e,t){if("object"!=(0,M.default)(t)||null!=t.length)return{length:1,write:function(){P(e,{},0)}};var r=0;function a(t,r){var a=n.propertiesTypes[t],o=0;switch(a){case"byte":if("boolean"!=typeof r)return e.destroy(new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=2;break;case"int8":if("number"!=typeof r||r<0||r>255)return e.destroy(new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=2;break;case"binary":if(r&&null===r)return e.destroy(new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=1+i.byteLength(r)+2;break;case"int16":if("number"!=typeof r||r<0||r>65535)return e.destroy(new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=3;break;case"int32":if("number"!=typeof r||r<0||r>4294967295)return e.destroy(new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=5;break;case"var":if("number"!=typeof r||r<0||r>268435455)return e.destroy(new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=1+i.byteLength(f(r));break;case"string":if("string"!=typeof r)return e.destroy(new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=3+i.byteLength(r.toString());break;case"pair":if("object"!=(0,M.default)(r))return e.destroy(new Error("Invalid ".concat(t,": ").concat(r))),!1;o+=Object.getOwnPropertyNames(r).reduce((function(e,t){var n=r[t];return Array.isArray(n)?e+=n.reduce((function(e,n){return e+=3+i.byteLength(t.toString())+2+i.byteLength(n.toString()),e}),0):e+=3+i.byteLength(t.toString())+2+i.byteLength(r[t].toString()),e}),0);break;default:return e.destroy(new Error("Invalid property ".concat(t,": ").concat(r))),!1}return o}if(t)for(var o in t){var s=0,u=0,l=t[o];if(Array.isArray(l))for(var c=0;c<l.length;c++){if(u=a(o,l[c]),!u)return!1;s+=u}else{if(u=a(o,l),!u)return!1;s=u}if(!s)return!1;r+=s}return{length:i.byteLength(f(r))+r,write:function(){P(e,t,r)}}}function k(e,t,n,r){var i=["reasonString","userProperties"],a=n&&n.properties&&n.properties.maximumPacketSize?n.properties.maximumPacketSize:0,o=E(e,t);if(a)for(;r+o.length>a;){var s=i.shift();if(!s||!t[s])return!1;delete t[s],o=E(e,t)}return o}function C(e,t,r){switch(n.propertiesTypes[t]){case"byte":e.write(i.from([n.properties[t]])),e.write(i.from([+r]));break;case"int8":e.write(i.from([n.properties[t]])),e.write(i.from([r]));break;case"binary":e.write(i.from([n.properties[t]])),T(e,r);break;case"int16":e.write(i.from([n.properties[t]])),v(e,r);break;case"int32":e.write(i.from([n.properties[t]])),function(e,t){var n=p(t);l("write4ByteNumber: %o",n),e.write(n)}(e,r);break;case"var":e.write(i.from([n.properties[t]])),b(e,r);break;case"string":e.write(i.from([n.properties[t]])),x(e,r);break;case"pair":Object.getOwnPropertyNames(r).forEach((function(a){var o=r[a];Array.isArray(o)?o.forEach((function(r){e.write(i.from([n.properties[t]])),w(e,a.toString(),r.toString())})):(e.write(i.from([n.properties[t]])),w(e,a.toString(),o.toString()))}));break;default:return e.destroy(new Error("Invalid property ".concat(t," value: ").concat(r))),!1}}function P(e,t,n){for(var r in b(e,n),t)if(Object.prototype.hasOwnProperty.call(t,r)&&null!==t[r]){var i=t[r];if(Array.isArray(i))for(var a=0;a<i.length;a++)C(e,r,i[a]);else C(e,r,i)}}function R(e){return e?e instanceof i?e.length:i.byteLength(e):0}function I(e){return"string"==typeof e||e instanceof i}t.exports=g})),yi=Y((function(e,t){J(),Ht(),kt();var n=gi(),r=(An(),Q(gn)),i=r.EventEmitter,a=(zt(),Q(Ct)),o=a.Buffer;var s=function(e){(0,w.default)(n,e);var t=N(n);function n(){var e;return(0,_.default)(this,n),e=t.call(this),e._array=new Array(20),e._i=0,e}return(0,b.default)(n,[{key:"write",value:function(e){return this._array[this._i++]=e,!0}},{key:"concat",value:function(){var e,t=0,n=new Array(this._array.length),r=this._array,i=0;for(e=0;e<r.length&&void 0!==r[e];e++)"string"!=typeof r[e]?n[e]=r[e].length:n[e]=o.byteLength(r[e]),t+=n[e];var a=o.allocUnsafe(t);for(e=0;e<r.length&&void 0!==r[e];e++)"string"!=typeof r[e]?(r[e].copy(a,i),i+=n[e]):(a.write(r[e],i),i+=n[e]);return a}},{key:"destroy",value:function(e){e&&this.emit("error",e)}}]),n}(i);t.exports=function(e,t){var r=new s;return n(e,r,t),r.concat()}})),_i=Y((function(e){J(),Ht(),kt(),e.parser=pi().parser,e.generate=yi(),e.writeToStream=gi()})),bi=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(){(0,_.default)(this,e),this.nextId=Math.max(1,Math.floor(65535*Math.random()))}return(0,b.default)(e,[{key:"allocate",value:function(){var e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e}},{key:"getLastAllocated",value:function(){return 1===this.nextId?65535:this.nextId-1}},{key:"register",value:function(e){return!0}},{key:"deallocate",value:function(e){}},{key:"clear",value:function(){}}]),e}();e.default=t})),xi=Y((function(e,t){function n(e){return e instanceof Nt?Nt.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}J(),Ht(),kt(),t.exports=function(e){return e=e||{},e.circles?function(e){var t=[],r=[];return e.proto?function e(a){if("object"!=(0,M.default)(a)||null===a)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return i(a,e);if(a instanceof Map)return new Map(i(Array.from(a),e));if(a instanceof Set)return new Set(i(Array.from(a),e));var o={};for(var s in t.push(a),r.push(o),a){var u=a[s];if("object"!=(0,M.default)(u)||null===u)o[s]=u;else if(u instanceof Date)o[s]=new Date(u);else if(u instanceof Map)o[s]=new Map(i(Array.from(u),e));else if(u instanceof Set)o[s]=new Set(i(Array.from(u),e));else if(ArrayBuffer.isView(u))o[s]=n(u);else{var l=t.indexOf(u);o[s]=-1!==l?r[l]:e(u)}}return t.pop(),r.pop(),o}:function e(a){if("object"!=(0,M.default)(a)||null===a)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return i(a,e);if(a instanceof Map)return new Map(i(Array.from(a),e));if(a instanceof Set)return new Set(i(Array.from(a),e));var o={};for(var s in t.push(a),r.push(o),a)if(!1!==Object.hasOwnProperty.call(a,s)){var u=a[s];if("object"!=(0,M.default)(u)||null===u)o[s]=u;else if(u instanceof Date)o[s]=new Date(u);else if(u instanceof Map)o[s]=new Map(i(Array.from(u),e));else if(u instanceof Set)o[s]=new Set(i(Array.from(u),e));else if(ArrayBuffer.isView(u))o[s]=n(u);else{var l=t.indexOf(u);o[s]=-1!==l?r[l]:e(u)}}return t.pop(),r.pop(),o};function i(e,i){for(var a=Object.keys(e),o=new Array(a.length),s=0;s<a.length;s++){var u=a[s],l=e[u];if("object"!=(0,M.default)(l)||null===l)o[u]=l;else if(l instanceof Date)o[u]=new Date(l);else if(ArrayBuffer.isView(l))o[u]=n(l);else{var c=t.indexOf(l);o[u]=-1!==c?r[c]:i(l)}}return o}}(e):e.proto?function e(r){if("object"!=(0,M.default)(r)||null===r)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return t(r,e);if(r instanceof Map)return new Map(t(Array.from(r),e));if(r instanceof Set)return new Set(t(Array.from(r),e));var i={};for(var a in r){var o=r[a];"object"!=(0,M.default)(o)||null===o?i[a]=o:o instanceof Date?i[a]=new Date(o):o instanceof Map?i[a]=new Map(t(Array.from(o),e)):o instanceof Set?i[a]=new Set(t(Array.from(o),e)):ArrayBuffer.isView(o)?i[a]=n(o):i[a]=e(o)}return i}:function e(r){if("object"!=(0,M.default)(r)||null===r)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return t(r,e);if(r instanceof Map)return new Map(t(Array.from(r),e));if(r instanceof Set)return new Set(t(Array.from(r),e));var i={};for(var a in r)if(!1!==Object.hasOwnProperty.call(r,a)){var o=r[a];"object"!=(0,M.default)(o)||null===o?i[a]=o:o instanceof Date?i[a]=new Date(o):o instanceof Map?i[a]=new Map(t(Array.from(o),e)):o instanceof Set?i[a]=new Set(t(Array.from(o),e)):ArrayBuffer.isView(o)?i[a]=n(o):i[a]=e(o)}return i};function t(e,t){for(var r=Object.keys(e),i=new Array(r.length),a=0;a<r.length;a++){var o=r[a],s=e[o];"object"!=(0,M.default)(s)||null===s?i[o]=s:s instanceof Date?i[o]=new Date(s):ArrayBuffer.isView(s)?i[o]=n(s):i[o]=t(s)}return i}}})),wi=Y((function(e,t){J(),Ht(),kt(),t.exports=xi()()})),Si=Y((function(e){function t(e){for(var t=e.split("/"),n=0;n<t.length;n++)if("+"!==t[n]){if("#"===t[n])return n===t.length-1;if(-1!==t[n].indexOf("+")||-1!==t[n].indexOf("#"))return!1}return!0}J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopics=e.validateTopic=void 0,e.validateTopic=t,e.validateTopics=function(e){if(0===e.length)return"empty_topic_list";for(var n=0;n<e.length;n++)if(!t(e[n]))return e[n];return null}})),Ai=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0});var t=ai(),n={objectMode:!0},r={clean:!0},i=function(){function e(t){(0,_.default)(this,e),this.options=t||{},this.options=Object.assign(Object.assign({},r),t),this._inflights=new Map}return(0,b.default)(e,[{key:"put",value:function(e,t){return this._inflights.set(e.messageId,e),t&&t(),this}},{key:"createStream",value:function(){var e=new t.Readable(n),r=[],i=!1,a=0;return this._inflights.forEach((function(e,t){r.push(e)})),e._read=function(){!i&&a<r.length?e.push(r[a++]):e.push(null)},e.destroy=function(t){if(!i)return i=!0,setTimeout((function(){e.emit("close")}),0),e},e}},{key:"del",value:function(e,t){var n=this._inflights.get(e.messageId);return n?(this._inflights.delete(e.messageId),t(null,n)):t&&t(new Error("missing packet")),this}},{key:"get",value:function(e,t){var n=this._inflights.get(e.messageId);return n?t(null,n):t&&t(new Error("missing packet")),this}},{key:"close",value:function(e){this.options.clean&&(this._inflights=null),e&&e()}}]),e}();e.default=i})),Mi=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153];e.default=function(e,n,r){e.log("handlePublish: packet %o",n),r=(0,M.default)(r)<"u"?r:e.noop;var i,a=n.topic.toString(),o=n.payload,s=n.qos,u=n.messageId,l=e.options;if(5===e.options.protocolVersion&&(n.properties&&(i=n.properties.topicAlias),(0,M.default)(i)<"u"))if(0===a.length){if(!(i>0&&i<=65535))return e.log("handlePublish :: topic alias out of range. alias: %d",i),void e.emit("error",new Error("Received Topic Alias is out of range"));var c=e.topicAliasRecv.getTopicByAlias(i);if(!c)return e.log("handlePublish :: unregistered topic alias. alias: %d",i),void e.emit("error",new Error("Received unregistered Topic Alias"));a=c,e.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",a,i)}else{if(!e.topicAliasRecv.put(a,i))return e.log("handlePublish :: topic alias out of range. alias: %d",i),void e.emit("error",new Error("Received Topic Alias is out of range"));e.log("handlePublish :: registered topic: %s - alias: %d",a,i)}switch(e.log("handlePublish: qos %d",s),s){case 2:l.customHandleAcks(a,o,n,(function(i,a){return"number"==typeof i&&(a=i,i=null),i?e.emit("error",i):-1===t.indexOf(a)?e.emit("error",new Error("Wrong reason code for pubrec")):void(a?e._sendPacket({cmd:"pubrec",messageId:u,reasonCode:a},r):e.incomingStore.put(n,(function(){e._sendPacket({cmd:"pubrec",messageId:u},r)})))}));break;case 1:l.customHandleAcks(a,o,n,(function(i,s){return"number"==typeof i&&(s=i,i=null),i?e.emit("error",i):-1===t.indexOf(s)?e.emit("error",new Error("Wrong reason code for puback")):(s||e.emit("message",a,o,n),void e.handleMessage(n,(function(t){if(t)return r&&r(t);e._sendPacket({cmd:"puback",messageId:u,reasonCode:s},r)})))}));break;case 0:e.emit("message",a,o,n),e.handleMessage(n,r);break;default:e.log("handlePublish: unknown QoS. Doing nothing.");break}}})),Ti=Y((function(e,t){t.exports={version:"5.10.1"}})),Ei=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.applyMixin=e.ErrorWithReasonCode=void 0;var t=function(e){(0,w.default)(n,e);var t=N(n);function n(e,r){var i;return(0,_.default)(this,n),i=t.call(this,e),i.code=r,Object.setPrototypeOf((0,x.default)(i),n.prototype),Object.getPrototypeOf((0,x.default)(i)).name="ErrorWithReasonCode",i}return(0,b.default)(n)}((0,g.default)(Error));e.ErrorWithReasonCode=t,e.applyMixin=function(e,t){for(var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[t];;){var a=i[0],o=Object.getPrototypeOf(a);if(null===o||void 0===o||!o.prototype)break;i.unshift(o)}for(var s=0,u=i;s<u.length;s++){var l,c=u[s],h=F(Object.getOwnPropertyNames(c.prototype));try{for(h.s();!(l=h.n()).done;){var d=l.value;(r||"constructor"!==d)&&Object.defineProperty(e.prototype,d,null!==(n=Object.getOwnPropertyDescriptor(c.prototype,d))&&void 0!==n?n:Object.create(null))}}catch(f){h.e(f)}finally{h.f()}}},e.nextTick="function"==typeof(null===Z||void 0===Z?void 0:Z.nextTick)?Z.nextTick:function(e){setTimeout(e,0)},e.MQTTJS_VERSION=Ti().version})),ki=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var t=Ei();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};e.default=function(n,r){var i=r.messageId,a=r.cmd,o=null,s=n.outgoing[i]?n.outgoing[i].cb:null,u=null;if(s){switch(n.log("_handleAck :: packet type",a),a){case"pubcomp":case"puback":var l=r.reasonCode;l&&l>0&&16!==l?(u=new t.ErrorWithReasonCode("Publish error: ".concat(e.ReasonCodes[l]),l),n._removeOutgoingAndStoreMessage(i,(function(){s(u,r)}))):n._removeOutgoingAndStoreMessage(i,s);break;case"pubrec":o={cmd:"pubrel",qos:2,messageId:i};var c=r.reasonCode;c&&c>0&&16!==c?(u=new t.ErrorWithReasonCode("Publish error: ".concat(e.ReasonCodes[c]),c),n._removeOutgoingAndStoreMessage(i,(function(){s(u,r)}))):n._sendPacket(o);break;case"suback":delete n.outgoing[i],n.messageIdProvider.deallocate(i);for(var h=r.granted,d=0;d<h.length;d++){var f=h[d];if(128&f){u=new Error("Subscribe error: ".concat(e.ReasonCodes[f])),u.code=f;var p=n.messageIdToTopic[i];p&&p.forEach((function(e){delete n._resubscribeTopics[e]}))}}delete n.messageIdToTopic[i],n._invokeStoreProcessingQueue(),s(u,r);break;case"unsuback":delete n.outgoing[i],n.messageIdProvider.deallocate(i),n._invokeStoreProcessingQueue(),s(null,r);break;default:n.emit("error",new Error("unrecognized packet type"))}n.disconnecting&&0===Object.keys(n.outgoing).length&&n.emit("outgoingEmpty")}else n.log("_handleAck :: Server sent an ack in error. Ignoring.")}})),Ci=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ei(),n=ki();e.default=function(e,r){var i=e.options,a=i.protocolVersion,o=5===a?r.reasonCode:r.returnCode;if(5===a)e.handleAuth(r,(function(r,i){if(r)e.emit("error",r);else if(24===o)e.reconnecting=!1,e._sendPacket(i);else{var a=new t.ErrorWithReasonCode("Connection refused: ".concat(n.ReasonCodes[o]),o);e.emit("error",a)}}));else{var s=new t.ErrorWithReasonCode("Protocol error: Auth packets are only supported in MQTT 5. Your version:".concat(a),o);e.emit("error",s)}}})),Pi=Y((function(e){var t,n,i,a,o,s,u,l,h,x,S,A,T,E,k,R,B,j,z,H,G,W,V,q,X,Y,K,Q,$,ee,te,ne,re,ie,ae,oe,se,ue,le,ce,he,de;J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var fe="object"==("undefined"===typeof performance?"undefined":(0,M.default)(performance))&&performance&&"function"==typeof performance.now?performance:Date,pe=new Set,ve="object"==(0,M.default)(Z)&&Z?Z:{},me=function(e,t,n,i){"function"==typeof ve.emitWarning?ve.emitWarning(e,t,n,i):r("error","[".concat(n,"] ").concat(t,": ").concat(e)," at node_modules/mqtt/dist/mqtt.esm.js:2")},ge=globalThis.AbortController,ye=globalThis.AbortSignal;if((0,M.default)(ge)>"u"){var _e;ye=function(){function e(){(0,_.default)(this,e),(0,v.default)(this,"onabort",void 0),(0,v.default)(this,"_onabort",[]),(0,v.default)(this,"reason",void 0),(0,v.default)(this,"aborted",!1)}return(0,b.default)(e,[{key:"addEventListener",value:function(e,t){this._onabort.push(t)}}]),e}(),ge=function(){function e(){(0,_.default)(this,e),(0,v.default)(this,"signal",new ye),xe()}return(0,b.default)(e,[{key:"abort",value:function(e){if(!this.signal.aborted){var t,n;this.signal.reason=e,this.signal.aborted=!0;var r,i=F(this.signal._onabort);try{for(i.s();!(r=i.n()).done;){var a=r.value;a(e)}}catch(o){i.e(o)}finally{i.f()}null===(t=(n=this.signal).onabort)||void 0===t||t.call(n,e)}}}]),e}();var be="1"!==(null===(_e=ve.env)||void 0===_e?void 0:_e.LRU_CACHE_IGNORE_AC_WARNING),xe=function e(){be&&(be=!1,me("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}Symbol("type");var we=function(e){return e&&e===Math.floor(e)&&e>0&&isFinite(e)},Se=function(e){return we(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Ae:null:null},Ae=function(e){(0,w.default)(n,e);var t=N(n);function n(e){var r;return(0,_.default)(this,n),r=t.call(this,e),r.fill(0),r}return(0,b.default)(n)}((0,g.default)(Array)),Me=(n=function(){function e(t,r){if((0,_.default)(this,e),(0,v.default)(this,"heap",void 0),(0,v.default)(this,"length",void 0),!function(e,t,n){return D(e,t),L(n,"get"),function(e,t){if(t.get)return t.get.call(e);return t.value}(e,n)}(e,n,i))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(t),this.length=0}return(0,b.default)(e,[{key:"push",value:function(e){this.heap[this.length++]=e}},{key:"pop",value:function(){return this.heap[--this.length]}}],[{key:"create",value:function(t){var r=Se(t);if(!r)return[];O(e,n,i,!0);var a=new e(t,r);return O(e,n,i,!1),a}}]),e}(),i={writable:!0,value:!1},n),Te=(a=new WeakMap,o=new WeakMap,s=new WeakMap,u=new WeakMap,l=new WeakMap,h=new WeakMap,x=new WeakMap,S=new WeakMap,A=new WeakMap,T=new WeakMap,E=new WeakMap,k=new WeakMap,R=new WeakMap,B=new WeakMap,j=new WeakMap,z=new WeakMap,H=new WeakMap,G=new WeakMap,W=new WeakMap,V=new WeakMap,q=new WeakMap,X=new WeakMap,Y=new WeakSet,K=new WeakMap,Q=new WeakMap,$=new WeakMap,ee=new WeakMap,te=new WeakSet,ne=new WeakMap,re=new WeakMap,ie=new WeakMap,ae=new WeakSet,oe=new WeakSet,se=new WeakSet,ue=new WeakSet,le=new WeakSet,ce=new WeakSet,he=new WeakSet,de=new WeakSet,t=Symbol.iterator,function(){function e(t){(0,_.default)(this,e),C(this,de),C(this,he),C(this,ce),C(this,le),C(this,ue),C(this,se),C(this,oe),C(this,ae),C(this,te),C(this,Y),P(this,a,{writable:!0,value:void 0}),P(this,o,{writable:!0,value:void 0}),P(this,s,{writable:!0,value:void 0}),P(this,u,{writable:!0,value:void 0}),P(this,l,{writable:!0,value:void 0}),(0,v.default)(this,"ttl",void 0),(0,v.default)(this,"ttlResolution",void 0),(0,v.default)(this,"ttlAutopurge",void 0),(0,v.default)(this,"updateAgeOnGet",void 0),(0,v.default)(this,"updateAgeOnHas",void 0),(0,v.default)(this,"allowStale",void 0),(0,v.default)(this,"noDisposeOnSet",void 0),(0,v.default)(this,"noUpdateTTL",void 0),(0,v.default)(this,"maxEntrySize",void 0),(0,v.default)(this,"sizeCalculation",void 0),(0,v.default)(this,"noDeleteOnFetchRejection",void 0),(0,v.default)(this,"noDeleteOnStaleGet",void 0),(0,v.default)(this,"allowStaleOnFetchAbort",void 0),(0,v.default)(this,"allowStaleOnFetchRejection",void 0),(0,v.default)(this,"ignoreFetchAbort",void 0),P(this,h,{writable:!0,value:void 0}),P(this,x,{writable:!0,value:void 0}),P(this,S,{writable:!0,value:void 0}),P(this,A,{writable:!0,value:void 0}),P(this,T,{writable:!0,value:void 0}),P(this,E,{writable:!0,value:void 0}),P(this,k,{writable:!0,value:void 0}),P(this,R,{writable:!0,value:void 0}),P(this,B,{writable:!0,value:void 0}),P(this,j,{writable:!0,value:void 0}),P(this,z,{writable:!0,value:void 0}),P(this,H,{writable:!0,value:void 0}),P(this,G,{writable:!0,value:void 0}),P(this,W,{writable:!0,value:void 0}),P(this,V,{writable:!0,value:void 0}),P(this,q,{writable:!0,value:void 0}),P(this,X,{writable:!0,value:void 0}),P(this,K,{writable:!0,value:function(){}}),P(this,Q,{writable:!0,value:function(){}}),P(this,$,{writable:!0,value:function(){}}),P(this,ee,{writable:!0,value:function(){return!1}}),P(this,ne,{writable:!0,value:function(e){}}),P(this,re,{writable:!0,value:function(e,t,n){}}),P(this,ie,{writable:!0,value:function(e,t,n,r){if(n||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0}});var n=t.max,r=void 0===n?0:n,i=t.ttl,c=t.ttlResolution,d=void 0===c?1:c,m=t.ttlAutopurge,g=t.updateAgeOnGet,y=t.updateAgeOnHas,b=t.allowStale,w=t.dispose,M=t.disposeAfter,O=t.noDisposeOnSet,L=t.noUpdateTTL,D=t.maxSize,U=void 0===D?0:D,N=t.maxEntrySize,F=void 0===N?0:N,J=t.sizeCalculation,Z=t.fetchMethod,fe=t.noDeleteOnFetchRejection,ve=t.noDeleteOnStaleGet,ge=t.allowStaleOnFetchRejection,ye=t.allowStaleOnFetchAbort,_e=t.ignoreFetchAbort;if(0!==r&&!we(r))throw new TypeError("max option must be a nonnegative integer");var be=r?Se(r):Array;if(!be)throw new Error("invalid max value: "+r);if((0,f.default)(this,a,r),(0,f.default)(this,o,U),this.maxEntrySize=F||(0,p.default)(this,o),this.sizeCalculation=J,this.sizeCalculation){if(!(0,p.default)(this,o)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==Z&&"function"!=typeof Z)throw new TypeError("fetchMethod must be a function if specified");if((0,f.default)(this,l,Z),(0,f.default)(this,q,!!Z),(0,f.default)(this,S,new Map),(0,f.default)(this,A,new Array(r).fill(void 0)),(0,f.default)(this,T,new Array(r).fill(void 0)),(0,f.default)(this,E,new be(r)),(0,f.default)(this,k,new be(r)),(0,f.default)(this,R,0),(0,f.default)(this,B,0),(0,f.default)(this,j,Me.create(r)),(0,f.default)(this,h,0),(0,f.default)(this,x,0),"function"==typeof w&&(0,f.default)(this,s,w),"function"==typeof M?((0,f.default)(this,u,M),(0,f.default)(this,z,[])):((0,f.default)(this,u,void 0),(0,f.default)(this,z,void 0)),(0,f.default)(this,V,!!(0,p.default)(this,s)),(0,f.default)(this,X,!!(0,p.default)(this,u)),this.noDisposeOnSet=!!O,this.noUpdateTTL=!!L,this.noDeleteOnFetchRejection=!!fe,this.allowStaleOnFetchRejection=!!ge,this.allowStaleOnFetchAbort=!!ye,this.ignoreFetchAbort=!!_e,0!==this.maxEntrySize){if(0!==(0,p.default)(this,o)&&!we((0,p.default)(this,o)))throw new TypeError("maxSize must be a positive integer if specified");if(!we(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");I(this,te,ke).call(this)}if(this.allowStale=!!b,this.noDeleteOnStaleGet=!!ve,this.updateAgeOnGet=!!g,this.updateAgeOnHas=!!y,this.ttlResolution=we(d)||0===d?d:1,this.ttlAutopurge=!!m,this.ttl=i||0,this.ttl){if(!we(this.ttl))throw new TypeError("ttl must be a positive integer if specified");I(this,Y,Ee).call(this)}if(0===(0,p.default)(this,a)&&0===this.ttl&&0===(0,p.default)(this,o))throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!(0,p.default)(this,a)&&!(0,p.default)(this,o)){var xe="LRU_CACHE_UNBOUNDED";(function(e){return!pe.has(e)})(xe)&&(pe.add(xe),me("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",xe,e))}}return(0,b.default)(e,[{key:"max",get:function(){return(0,p.default)(this,a)}},{key:"maxSize",get:function(){return(0,p.default)(this,o)}},{key:"calculatedSize",get:function(){return(0,p.default)(this,x)}},{key:"size",get:function(){return(0,p.default)(this,h)}},{key:"fetchMethod",get:function(){return(0,p.default)(this,l)}},{key:"dispose",get:function(){return(0,p.default)(this,s)}},{key:"disposeAfter",get:function(){return(0,p.default)(this,u)}},{key:"getRemainingTTL",value:function(e){return(0,p.default)(this,S).has(e)?1/0:0}},{key:"entries",value:c.default.mark((function e(){var t,n,r;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=F(I(this,ae,Ce).call(this)),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}if(r=n.value,e.t0=void 0!==(0,p.default)(this,T)[r]&&void 0!==(0,p.default)(this,A)[r]&&!I(this,ce,Le).call(this,(0,p.default)(this,T)[r]),!e.t0){e.next=9;break}return e.next=9,[(0,p.default)(this,A)[r],(0,p.default)(this,T)[r]];case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e["catch"](1),t.e(e.t1);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"rentries",value:c.default.mark((function e(){var t,n,r;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=F(I(this,oe,Pe).call(this)),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}if(r=n.value,e.t0=void 0!==(0,p.default)(this,T)[r]&&void 0!==(0,p.default)(this,A)[r]&&!I(this,ce,Le).call(this,(0,p.default)(this,T)[r]),!e.t0){e.next=9;break}return e.next=9,[(0,p.default)(this,A)[r],(0,p.default)(this,T)[r]];case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e["catch"](1),t.e(e.t1);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"keys",value:c.default.mark((function e(){var t,n,r,i;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=F(I(this,ae,Ce).call(this)),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}if(r=n.value,i=(0,p.default)(this,A)[r],e.t0=void 0!==i&&!I(this,ce,Le).call(this,(0,p.default)(this,T)[r]),!e.t0){e.next=10;break}return e.next=10,i;case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e["catch"](1),t.e(e.t1);case 17:return e.prev=17,t.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))},{key:"rkeys",value:c.default.mark((function e(){var t,n,r,i;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=F(I(this,oe,Pe).call(this)),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=12;break}if(r=n.value,i=(0,p.default)(this,A)[r],e.t0=void 0!==i&&!I(this,ce,Le).call(this,(0,p.default)(this,T)[r]),!e.t0){e.next=10;break}return e.next=10,i;case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e["catch"](1),t.e(e.t1);case 17:return e.prev=17,t.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,14,17,20]])}))},{key:"values",value:c.default.mark((function e(){var t,n,r;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=F(I(this,ae,Ce).call(this)),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}if(r=n.value,e.t0=void 0!==(0,p.default)(this,T)[r]&&!I(this,ce,Le).call(this,(0,p.default)(this,T)[r]),!e.t0){e.next=9;break}return e.next=9,(0,p.default)(this,T)[r];case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e["catch"](1),t.e(e.t1);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:"rvalues",value:c.default.mark((function e(){var t,n,r;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=F(I(this,oe,Pe).call(this)),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}if(r=n.value,e.t0=void 0!==(0,p.default)(this,T)[r]&&!I(this,ce,Le).call(this,(0,p.default)(this,T)[r]),!e.t0){e.next=9;break}return e.next=9,(0,p.default)(this,T)[r];case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e["catch"](1),t.e(e.t1);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))},{key:t,value:function(){return this.entries()}},{key:"find",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=F(I(this,ae,Ce).call(this));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=(0,p.default)(this,T)[i],o=I(this,ce,Le).call(this,a)?a.__staleWhileFetching:a;if(void 0!==o&&e(o,(0,p.default)(this,A)[i],this))return this.get((0,p.default)(this,A)[i],n)}}catch(s){r.e(s)}finally{r.f()}}},{key:"forEach",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,r=F(I(this,ae,Ce).call(this));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=(0,p.default)(this,T)[i],o=I(this,ce,Le).call(this,a)?a.__staleWhileFetching:a;void 0!==o&&e.call(n,o,(0,p.default)(this,A)[i],this)}}catch(s){r.e(s)}finally{r.f()}}},{key:"rforEach",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,r=F(I(this,oe,Pe).call(this));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=(0,p.default)(this,T)[i],o=I(this,ce,Le).call(this,a)?a.__staleWhileFetching:a;void 0!==o&&e.call(n,o,(0,p.default)(this,A)[i],this)}}catch(s){r.e(s)}finally{r.f()}}},{key:"purgeStale",value:function(){var e,t=!1,n=F(I(this,oe,Pe).call(this,{allowStale:!0}));try{for(n.s();!(e=n.n()).done;){var r=e.value;(0,p.default)(this,ee).call(this,r)&&(this.delete((0,p.default)(this,A)[r]),t=!0)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"dump",value:function(){var e,t=[],n=F(I(this,ae,Ce).call(this,{allowStale:!0}));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=(0,p.default)(this,A)[r],a=(0,p.default)(this,T)[r],o=I(this,ce,Le).call(this,a)?a.__staleWhileFetching:a;if(void 0!==o&&void 0!==i){var s={value:o};if((0,p.default)(this,W)&&(0,p.default)(this,G)){s.ttl=(0,p.default)(this,W)[r];var u=fe.now()-(0,p.default)(this,G)[r];s.start=Math.floor(Date.now()-u)}(0,p.default)(this,H)&&(s.size=(0,p.default)(this,H)[r]),t.unshift([i,s])}}}catch(l){n.e(l)}finally{n.f()}return t}},{key:"load",value:function(e){this.clear();var t,n=F(e);try{for(n.s();!(t=n.n()).done;){var r=(0,d.default)(t.value,2),i=r[0],a=r[1];if(a.start){var o=Date.now()-a.start;a.start=fe.now()-o}this.set(i,a.value,a)}}catch(s){n.e(s)}finally{n.f()}}},{key:"set",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t)return this.delete(e),this;var i=r.ttl,o=void 0===i?this.ttl:i,l=r.start,c=r.noDisposeOnSet,d=void 0===c?this.noDisposeOnSet:c,v=r.sizeCalculation,g=void 0===v?this.sizeCalculation:v,y=r.status,_=r.noUpdateTTL,b=void 0===_?this.noUpdateTTL:_,x=(0,p.default)(this,ie).call(this,e,t,r.size||0,g);if(this.maxEntrySize&&x>this.maxEntrySize)return y&&(y.set="miss",y.maxEntrySizeExceeded=!0),this.delete(e),this;var w=0===(0,p.default)(this,h)?void 0:(0,p.default)(this,S).get(e);if(void 0===w)w=0===(0,p.default)(this,h)?(0,p.default)(this,B):0!==(0,p.default)(this,j).length?(0,p.default)(this,j).pop():(0,p.default)(this,h)===(0,p.default)(this,a)?I(this,ue,Ie).call(this,!1):(0,p.default)(this,h),(0,p.default)(this,A)[w]=e,(0,p.default)(this,T)[w]=t,(0,p.default)(this,S).set(e,w),(0,p.default)(this,E)[(0,p.default)(this,B)]=w,(0,p.default)(this,k)[w]=(0,p.default)(this,B),(0,f.default)(this,B,w),(0,f.default)(this,h,(n=(0,p.default)(this,h),n++,n)),(0,p.default)(this,re).call(this,w,x,y),y&&(y.set="add"),b=!1;else{I(this,de,Be).call(this,w);var M=(0,p.default)(this,T)[w];if(t!==M){var C,P;if((0,p.default)(this,q)&&I(this,ce,Le).call(this,M)){var R,O;M.__abortController.abort(new Error("replaced"));var L=M.__staleWhileFetching;void 0!==L&&!d&&((0,p.default)(this,V)&&null!==(R=(0,p.default)(this,s))&&void 0!==R&&R.call(this,L,e,"set"),(0,p.default)(this,X)&&(null===(O=(0,p.default)(this,z))||void 0===O||O.push([L,e,"set"])))}else d||((0,p.default)(this,V)&&null!==(C=(0,p.default)(this,s))&&void 0!==C&&C.call(this,M,e,"set"),(0,p.default)(this,X)&&(null===(P=(0,p.default)(this,z))||void 0===P||P.push([M,e,"set"])));if((0,p.default)(this,ne).call(this,w),(0,p.default)(this,re).call(this,w,x,y),(0,p.default)(this,T)[w]=t,y){y.set="replace";var D=M&&I(this,ce,Le).call(this,M)?M.__staleWhileFetching:M;void 0!==D&&(y.oldValue=D)}}else y&&(y.set="update")}if(0!==o&&!(0,p.default)(this,W)&&I(this,Y,Ee).call(this),(0,p.default)(this,W)&&(b||(0,p.default)(this,$).call(this,w,o,l),y&&(0,p.default)(this,Q).call(this,y,w)),!d&&(0,p.default)(this,X)&&(0,p.default)(this,z))for(var U,N=(0,p.default)(this,z);U=null===N||void 0===N?void 0:N.shift();){var F,H;null===(F=(0,p.default)(this,u))||void 0===F||(H=F).call.apply(H,[this].concat((0,m.default)(U)))}return this}},{key:"pop",value:function(){try{for(;(0,p.default)(this,h);){var e=(0,p.default)(this,T)[(0,p.default)(this,R)];if(I(this,ue,Ie).call(this,!0),I(this,ce,Le).call(this,e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if((0,p.default)(this,X)&&(0,p.default)(this,z))for(var t,n=(0,p.default)(this,z);t=null===n||void 0===n?void 0:n.shift();){var r,i;null===(r=(0,p.default)(this,u))||void 0===r||(i=r).call.apply(i,[this].concat((0,m.default)(t)))}}}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.updateAgeOnHas,r=void 0===n?this.updateAgeOnHas:n,i=t.status,a=(0,p.default)(this,S).get(e);if(void 0!==a){var o=(0,p.default)(this,T)[a];if(I(this,ce,Le).call(this,o)&&void 0===o.__staleWhileFetching)return!1;if(!(0,p.default)(this,ee).call(this,a))return r&&(0,p.default)(this,K).call(this,a),i&&(i.has="hit",(0,p.default)(this,Q).call(this,i,a)),!0;i&&(i.has="stale",(0,p.default)(this,Q).call(this,i,a))}else i&&(i.has="miss");return!1}},{key:"peek",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.allowStale,r=void 0===n?this.allowStale:n,i=(0,p.default)(this,S).get(e);if(void 0!==i&&(r||!(0,p.default)(this,ee).call(this,i))){var a=(0,p.default)(this,T)[i];return I(this,ce,Le).call(this,a)?a.__staleWhileFetching:a}}},{key:"fetch",value:function(){var e=(0,y.default)(c.default.mark((function e(t){var n,r,i,a,o,s,u,l,h,d,f,v,m,g,y,_,b,x,w,A,M,E,k,C,P,R,O,L,D,B,U,N,F,j,z,H,G,W,V=arguments;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=V.length>1&&void 0!==V[1]?V[1]:{},r=n.allowStale,i=void 0===r?this.allowStale:r,a=n.updateAgeOnGet,o=void 0===a?this.updateAgeOnGet:a,s=n.noDeleteOnStaleGet,u=void 0===s?this.noDeleteOnStaleGet:s,l=n.ttl,h=void 0===l?this.ttl:l,d=n.noDisposeOnSet,f=void 0===d?this.noDisposeOnSet:d,v=n.size,m=void 0===v?0:v,g=n.sizeCalculation,y=void 0===g?this.sizeCalculation:g,_=n.noUpdateTTL,b=void 0===_?this.noUpdateTTL:_,x=n.noDeleteOnFetchRejection,w=void 0===x?this.noDeleteOnFetchRejection:x,A=n.allowStaleOnFetchRejection,M=void 0===A?this.allowStaleOnFetchRejection:A,E=n.ignoreFetchAbort,k=void 0===E?this.ignoreFetchAbort:E,C=n.allowStaleOnFetchAbort,P=void 0===C?this.allowStaleOnFetchAbort:C,R=n.context,O=n.forceRefresh,L=void 0!==O&&O,D=n.status,B=n.signal,(0,p.default)(this,q)){e.next=4;break}return e.abrupt("return",(D&&(D.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:o,noDeleteOnStaleGet:u,status:D})));case 4:if(U={allowStale:i,updateAgeOnGet:o,noDeleteOnStaleGet:u,ttl:h,noDisposeOnSet:f,size:m,sizeCalculation:y,noUpdateTTL:b,noDeleteOnFetchRejection:w,allowStaleOnFetchRejection:M,allowStaleOnFetchAbort:P,ignoreFetchAbort:k,status:D,signal:B},N=(0,p.default)(this,S).get(t),void 0!==N){e.next=11;break}return D&&(D.fetch="miss"),F=I(this,le,Oe).call(this,t,N,U,R),e.abrupt("return",F.__returned=F);case 11:if(j=(0,p.default)(this,T)[N],!I(this,ce,Le).call(this,j)){e.next=15;break}return z=i&&void 0!==j.__staleWhileFetching,e.abrupt("return",(D&&(D.fetch="inflight",z&&(D.returnedStale=!0)),z?j.__staleWhileFetching:j.__returned=j));case 15:if(H=(0,p.default)(this,ee).call(this,N),L||H){e.next=18;break}return e.abrupt("return",(D&&(D.fetch="hit"),I(this,de,Be).call(this,N),o&&(0,p.default)(this,K).call(this,N),D&&(0,p.default)(this,Q).call(this,D,N),j));case 18:return G=I(this,le,Oe).call(this,t,N,U,R),W=void 0!==G.__staleWhileFetching&&i,e.abrupt("return",(D&&(D.fetch=H?"stale":"refresh",W&&H&&(D.returnedStale=!0)),W?G.__staleWhileFetching:G.__returned=G));case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.allowStale,r=void 0===n?this.allowStale:n,i=t.updateAgeOnGet,a=void 0===i?this.updateAgeOnGet:i,o=t.noDeleteOnStaleGet,s=void 0===o?this.noDeleteOnStaleGet:o,u=t.status,l=(0,p.default)(this,S).get(e);if(void 0!==l){var c=(0,p.default)(this,T)[l],h=I(this,ce,Le).call(this,c);return u&&(0,p.default)(this,Q).call(this,u,l),(0,p.default)(this,ee).call(this,l)?(u&&(u.get="stale"),h?(u&&r&&void 0!==c.__staleWhileFetching&&(u.returnedStale=!0),r?c.__staleWhileFetching:void 0):(s||this.delete(e),u&&r&&(u.returnedStale=!0),r?c:void 0)):(u&&(u.get="hit"),h?c.__staleWhileFetching:(I(this,de,Be).call(this,l),a&&(0,p.default)(this,K).call(this,l),c))}u&&(u.get="miss")}},{key:"delete",value:function(e){var t,n=!1;if(0!==(0,p.default)(this,h)){var r=(0,p.default)(this,S).get(e);if(void 0!==r)if(n=!0,1===(0,p.default)(this,h))this.clear();else{var i,a,o;(0,p.default)(this,ne).call(this,r);var l=(0,p.default)(this,T)[r];I(this,ce,Le).call(this,l)?l.__abortController.abort(new Error("deleted")):((0,p.default)(this,V)||(0,p.default)(this,X))&&((0,p.default)(this,V)&&null!==(a=(0,p.default)(this,s))&&void 0!==a&&a.call(this,l,e,"delete"),(0,p.default)(this,X)&&(null===(o=(0,p.default)(this,z))||void 0===o||o.push([l,e,"delete"]))),(0,p.default)(this,S).delete(e),(0,p.default)(this,A)[r]=void 0,(0,p.default)(this,T)[r]=void 0,r===(0,p.default)(this,B)?(0,f.default)(this,B,(0,p.default)(this,k)[r]):r===(0,p.default)(this,R)?(0,f.default)(this,R,(0,p.default)(this,E)[r]):((0,p.default)(this,E)[(0,p.default)(this,k)[r]]=(0,p.default)(this,E)[r],(0,p.default)(this,k)[(0,p.default)(this,E)[r]]=(0,p.default)(this,k)[r]),(0,f.default)(this,h,(i=(0,p.default)(this,h),i--,i)),(0,p.default)(this,j).push(r)}}if((0,p.default)(this,X)&&null!==(t=(0,p.default)(this,z))&&void 0!==t&&t.length)for(var c,d=(0,p.default)(this,z);c=null===d||void 0===d?void 0:d.shift();){var v,g;null===(v=(0,p.default)(this,u))||void 0===v||(g=v).call.apply(g,[this].concat((0,m.default)(c)))}return n}},{key:"clear",value:function(){var e,t=F(I(this,oe,Pe).call(this,{allowStale:!0}));try{for(t.s();!(e=t.n()).done;){var n=e.value,r=(0,p.default)(this,T)[n];if(I(this,ce,Le).call(this,r))r.__abortController.abort(new Error("deleted"));else{var i,a,o=(0,p.default)(this,A)[n];(0,p.default)(this,V)&&null!==(i=(0,p.default)(this,s))&&void 0!==i&&i.call(this,r,o,"delete"),(0,p.default)(this,X)&&(null===(a=(0,p.default)(this,z))||void 0===a||a.push([r,o,"delete"]))}}}catch(g){t.e(g)}finally{t.f()}if((0,p.default)(this,S).clear(),(0,p.default)(this,T).fill(void 0),(0,p.default)(this,A).fill(void 0),(0,p.default)(this,W)&&(0,p.default)(this,G)&&((0,p.default)(this,W).fill(0),(0,p.default)(this,G).fill(0)),(0,p.default)(this,H)&&(0,p.default)(this,H).fill(0),(0,f.default)(this,R,0),(0,f.default)(this,B,0),(0,p.default)(this,j).length=0,(0,f.default)(this,x,0),(0,f.default)(this,h,0),(0,p.default)(this,X)&&(0,p.default)(this,z))for(var l,c=(0,p.default)(this,z);l=null===c||void 0===c?void 0:c.shift();){var d,v;null===(d=(0,p.default)(this,u))||void 0===d||(v=d).call.apply(v,[this].concat((0,m.default)(l)))}}}],[{key:"unsafeExposeInternals",value:function(e){return{starts:(0,p.default)(e,G),ttls:(0,p.default)(e,W),sizes:(0,p.default)(e,H),keyMap:(0,p.default)(e,S),keyList:(0,p.default)(e,A),valList:(0,p.default)(e,T),next:(0,p.default)(e,E),prev:(0,p.default)(e,k),get head(){return(0,p.default)(e,R)},get tail(){return(0,p.default)(e,B)},free:(0,p.default)(e,j),isBackgroundFetch:function(t){return I(e,ce,Le).call(e,t)},backgroundFetch:function(t,n,r,i){return I(e,le,Oe).call(e,t,n,r,i)},moveToTail:function(t){return I(e,de,Be).call(e,t)},indexes:function(t){return I(e,ae,Ce).call(e,t)},rindexes:function(t){return I(e,oe,Pe).call(e,t)},isStale:function(t){return(0,p.default)(e,ee).call(e,t)}}}}]),e}());function Ee(){var e=this,t=new Ae((0,p.default)(this,a)),n=new Ae((0,p.default)(this,a));(0,f.default)(this,W,t),(0,f.default)(this,G,n),(0,f.default)(this,$,(function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fe.now();if(n[r]=0!==i?a:0,t[r]=i,0!==i&&e.ttlAutopurge){var o=setTimeout((function(){(0,p.default)(e,ee).call(e,r)&&e.delete((0,p.default)(e,A)[r])}),i+1);o.unref&&o.unref()}})),(0,f.default)(this,K,(function(e){n[e]=0!==t[e]?fe.now():0})),(0,f.default)(this,Q,(function(e,a){if(t[a]){var o=t[a],s=n[a];e.ttl=o,e.start=s,e.now=r||i();var u=e.now-s;e.remainingTTL=o-u}}));var r=0,i=function(){var t=fe.now();if(e.ttlResolution>0){r=t;var n=setTimeout((function(){return r=0}),e.ttlResolution);n.unref&&n.unref()}return t};this.getRemainingTTL=function(a){var o=(0,p.default)(e,S).get(a);if(void 0===o)return 0;var s=t[o],u=n[o];if(0===s||0===u)return 1/0;var l=(r||i())-u;return s-l},(0,f.default)(this,ee,(function(e){return 0!==t[e]&&0!==n[e]&&(r||i())-n[e]>t[e]}))}function ke(){var e=this,t=new Ae((0,p.default)(this,a));(0,f.default)(this,x,0),(0,f.default)(this,H,t),(0,f.default)(this,ne,(function(n){(0,f.default)(e,x,(0,p.default)(e,x)-t[n]),t[n]=0})),(0,f.default)(this,ie,(function(t,n,r,i){if(I(e,ce,Le).call(e,n))return 0;if(!we(r)){if(!i)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof i)throw new TypeError("sizeCalculation must be a function");if(r=i(n,t),!we(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r})),(0,f.default)(this,re,(function(n,r,i){if(t[n]=r,(0,p.default)(e,o))for(var a=(0,p.default)(e,o)-t[n];(0,p.default)(e,x)>a;)I(e,ue,Ie).call(e,!0);(0,f.default)(e,x,(0,p.default)(e,x)+t[n]),i&&(i.entrySize=r,i.totalCalculatedSize=(0,p.default)(e,x))}))}function Ce(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.allowStale,r=void 0===n?this.allowStale:n;return c.default.mark((function t(){var n;return c.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(0,p.default)(e,h)){t.next=13;break}n=(0,p.default)(e,B);case 2:if(t.t0=!I(e,se,Re).call(e,n),t.t0){t.next=9;break}if(t.t1=r||!(0,p.default)(e,ee).call(e,n),!t.t1){t.next=8;break}return t.next=8,n;case 8:t.t0=n===(0,p.default)(e,R);case 9:if(t.t0){t.next=13;break}n=(0,p.default)(e,k)[n];case 11:t.next=2;break;case 13:case"end":return t.stop()}}),t)}))()}function Pe(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.allowStale,r=void 0===n?this.allowStale:n;return c.default.mark((function t(){var n;return c.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(0,p.default)(e,h)){t.next=13;break}n=(0,p.default)(e,R);case 2:if(t.t0=!I(e,se,Re).call(e,n),t.t0){t.next=9;break}if(t.t1=r||!(0,p.default)(e,ee).call(e,n),!t.t1){t.next=8;break}return t.next=8,n;case 8:t.t0=n===(0,p.default)(e,B);case 9:if(t.t0){t.next=13;break}n=(0,p.default)(e,E)[n];case 11:t.next=2;break;case 13:case"end":return t.stop()}}),t)}))()}function Re(e){return void 0!==e&&(0,p.default)(this,S).get((0,p.default)(this,A)[e])===e}function Ie(e){var t,n,r,i=(0,p.default)(this,R),a=(0,p.default)(this,A)[i],o=(0,p.default)(this,T)[i];return(0,p.default)(this,q)&&I(this,ce,Le).call(this,o)?o.__abortController.abort(new Error("evicted")):((0,p.default)(this,V)||(0,p.default)(this,X))&&((0,p.default)(this,V)&&null!==(t=(0,p.default)(this,s))&&void 0!==t&&t.call(this,o,a,"evict"),(0,p.default)(this,X)&&(null===(n=(0,p.default)(this,z))||void 0===n||n.push([o,a,"evict"]))),(0,p.default)(this,ne).call(this,i),e&&((0,p.default)(this,A)[i]=void 0,(0,p.default)(this,T)[i]=void 0,(0,p.default)(this,j).push(i)),1===(0,p.default)(this,h)?((0,f.default)(this,R,(0,f.default)(this,B,0)),(0,p.default)(this,j).length=0):(0,f.default)(this,R,(0,p.default)(this,E)[i]),(0,p.default)(this,S).delete(a),(0,f.default)(this,h,(r=(0,p.default)(this,h),r--,r)),i}function Oe(e,t,n,r){var i=this,a=void 0===t?void 0:(0,p.default)(this,T)[t];if(I(this,ce,Le).call(this,a))return a;var o=new ge,s=n.signal;null===s||void 0===s||s.addEventListener("abort",(function(){return o.abort(s.reason)}),{signal:o.signal});var u={signal:o.signal,options:n,context:r},c=function(r){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=o.signal.aborted,l=n.ignoreFetchAbort&&void 0!==r;if(n.status&&(s&&!a?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,l&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),s&&!l&&!a)return h(o.signal.reason);var c=d;return(0,p.default)(i,T)[t]===d&&(void 0===r?c.__staleWhileFetching?(0,p.default)(i,T)[t]=c.__staleWhileFetching:i.delete(e):(n.status&&(n.status.fetchUpdated=!0),i.set(e,r,u.options))),r},h=function(r){var a=o.signal.aborted,s=a&&n.allowStaleOnFetchAbort,u=s||n.allowStaleOnFetchRejection,l=u||n.noDeleteOnFetchRejection,c=d;if((0,p.default)(i,T)[t]===d&&(l&&void 0!==c.__staleWhileFetching?s||((0,p.default)(i,T)[t]=c.__staleWhileFetching):i.delete(e)),u)return n.status&&void 0!==c.__staleWhileFetching&&(n.status.returnedStale=!0),c.__staleWhileFetching;if(c.__returned===c)throw r};n.status&&(n.status.fetchDispatched=!0);var d=new Promise((function(t,r){var s,h=null===(s=(0,p.default)(i,l))||void 0===s?void 0:s.call(i,e,a,u);h&&h instanceof Promise&&h.then((function(e){return t(void 0===e?void 0:e)}),r),o.signal.addEventListener("abort",(function(){(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(t(void 0),n.allowStaleOnFetchAbort&&(t=function(e){return c(e,!0)}))}))})).then(c,(function(e){return n.status&&(n.status.fetchRejected=!0,n.status.fetchError=e),h(e)})),f=Object.assign(d,{__abortController:o,__staleWhileFetching:a,__returned:void 0});return void 0===t?(this.set(e,f,U(U({},u.options),{},{status:void 0})),t=(0,p.default)(this,S).get(e)):(0,p.default)(this,T)[t]=f,f}function Le(e){if(!(0,p.default)(this,q))return!1;var t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof ge}function De(e,t){(0,p.default)(this,k)[t]=e,(0,p.default)(this,E)[e]=t}function Be(e){e!==(0,p.default)(this,B)&&(e===(0,p.default)(this,R)?(0,f.default)(this,R,(0,p.default)(this,E)[e]):I(this,he,De).call(this,(0,p.default)(this,k)[e],(0,p.default)(this,E)[e]),I(this,he,De).call(this,(0,p.default)(this,B),e),(0,f.default)(this,B,e))}e.LRUCache=Te})),Ri=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var t=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(0,_.default)(this,e),this.iteratorType=t}return(0,b.default)(e,[{key:"equals",value:function(e){return this.o===e.o}}]),e}();e.ContainerIterator=t;var n=function(){function e(){(0,_.default)(this,e),this.i=0}return(0,b.default)(e,[{key:"length",get:function(){return this.i}},{key:"size",value:function(){return this.i}},{key:"empty",value:function(){return 0===this.i}}]),e}();e.Base=n;var r=function(e){(0,w.default)(n,e);var t=N(n);function n(){return(0,_.default)(this,n),t.apply(this,arguments)}return(0,b.default)(n)}(n);e.Container=r})),Ii=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ri(),n=function(e){(0,w.default)(n,e);var t=N(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,_.default)(this,n),e=t.call(this),e.S=[];var i=(0,x.default)(e);return r.forEach((function(e){i.push(e)})),e}return(0,b.default)(n,[{key:"clear",value:function(){this.i=0,this.S=[]}},{key:"push",value:function(e){return this.S.push(e),this.i+=1,this.i}},{key:"pop",value:function(){if(0!==this.i)return this.i-=1,this.S.pop()}},{key:"top",value:function(){return this.S[this.i-1]}}]),n}(t.Base),r=n;e.default=r})),Oi=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ri(),n=function(e){(0,w.default)(n,e);var t=N(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,_.default)(this,n),e=t.call(this),e.j=0,e.q=[];var i=(0,x.default)(e);return r.forEach((function(e){i.push(e)})),e}return(0,b.default)(n,[{key:"clear",value:function(){this.q=[],this.i=this.j=0}},{key:"push",value:function(e){var t=this.q.length;if(this.j/t>.5&&this.j+this.i>=t&&t>4096){for(var n=this.i,r=0;r<n;++r)this.q[r]=this.q[this.j+r];this.j=0,this.q[this.i]=e}else this.q[this.j+this.i]=e;return++this.i}},{key:"pop",value:function(){if(0!==this.i){var e=this.q[this.j++];return this.i-=1,e}}},{key:"front",value:function(){if(0!==this.i)return this.q[this.j]}}]),n}(t.Base),r=n;e.default=r})),Li=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ri(),n=function(e){(0,w.default)(n,e);var t=N(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e>t?-1:e<t?1:0},a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if((0,_.default)(this,n),e=t.call(this),e.v=i,Array.isArray(r))e.C=a?(0,m.default)(r):r;else{e.C=[];var o=(0,x.default)(e);r.forEach((function(e){o.C.push(e)}))}e.i=e.C.length;for(var s=e.i>>1,u=e.i-1>>1;u>=0;--u)e.k(u,s);return(0,S.default)(e)}return(0,b.default)(n,[{key:"m",value:function(e){for(var t=this.C[e];e>0;){var n=e-1>>1,r=this.C[n];if(this.v(r,t)<=0)break;this.C[e]=r,e=n}this.C[e]=t}},{key:"k",value:function(e,t){for(var n=this.C[e];e<t;){var r=e<<1|1,i=r+1,a=this.C[r];if(i<this.i&&this.v(a,this.C[i])>0&&(r=i,a=this.C[i]),this.v(a,n)>=0)break;this.C[e]=a,e=r}this.C[e]=n}},{key:"clear",value:function(){this.i=0,this.C.length=0}},{key:"push",value:function(e){this.C.push(e),this.m(this.i),this.i+=1}},{key:"pop",value:function(){if(0!==this.i){var e=this.C[0],t=this.C.pop();return this.i-=1,this.i&&(this.C[0]=t,this.k(0,this.i>>1)),e}}},{key:"top",value:function(){return this.C[0]}},{key:"find",value:function(e){return this.C.indexOf(e)>=0}},{key:"remove",value:function(e){var t=this.C.indexOf(e);return!(t<0)&&(0===t?this.pop():t===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(t,1,this.C.pop()),this.i-=1,this.m(t),this.k(t,this.i>>1)),!0)}},{key:"updateItem",value:function(e){var t=this.C.indexOf(e);return!(t<0)&&(this.m(t),this.k(t,this.i>>1),!0)}},{key:"toArray",value:function(){return(0,m.default)(this.C)}}]),n}(t.Base),r=n;e.default=r})),Di=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ri(),n=function(e){(0,w.default)(n,e);var t=N(n);function n(){return(0,_.default)(this,n),t.apply(this,arguments)}return(0,b.default)(n)}(t.Container),r=n;e.default=r})),Bi=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=function(){throw new RangeError("Iterator access denied!")}})),Ui=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=Ri(),n=Bi(),r=function(e){(0,w.default)(r,e);var t=N(r);function r(e,i){var a;return(0,_.default)(this,r),a=t.call(this,i),a.o=e,0===a.iteratorType?(a.pre=function(){return 0===this.o&&(0,n.throwIteratorAccessError)(),this.o-=1,this},a.next=function(){return this.o===this.container.size()&&(0,n.throwIteratorAccessError)(),this.o+=1,this}):(a.pre=function(){return this.o===this.container.size()-1&&(0,n.throwIteratorAccessError)(),this.o+=1,this},a.next=function(){return-1===this.o&&(0,n.throwIteratorAccessError)(),this.o-=1,this}),a}return(0,b.default)(r,[{key:"pointer",get:function(){return this.container.getElementByPos(this.o)},set:function(e){this.container.setElementByPos(this.o,e)}}]),r}(t.ContainerIterator);e.RandomIterator=r})),Ni=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=function(e){return e&&e.t?e:{default:e}}(Di()),n=Ui();var r=function(e){(0,w.default)(n,e);var t=N(n);function n(e,r,i){var a;return(0,_.default)(this,n),a=t.call(this,e,i),a.container=r,a}return(0,b.default)(n,[{key:"copy",value:function(){return new n(this.o,this.container,this.iteratorType)}}]),n}(n.RandomIterator),i=function(e,t){(0,w.default)(i,e);var n=N(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((0,_.default)(this,i),e=n.call(this),Array.isArray(t))e.J=r?(0,m.default)(t):t,e.i=t.length;else{e.J=[];var a=(0,x.default)(e);t.forEach((function(e){a.pushBack(e)}))}return(0,S.default)(e)}return(0,b.default)(i,[{key:"clear",value:function(){this.i=0,this.J.length=0}},{key:"begin",value:function(){return new r(0,this)}},{key:"end",value:function(){return new r(this.i,this)}},{key:"rBegin",value:function(){return new r(this.i-1,this,1)}},{key:"rEnd",value:function(){return new r(-1,this,1)}},{key:"front",value:function(){return this.J[0]}},{key:"back",value:function(){return this.J[this.i-1]}},{key:"getElementByPos",value:function(e){if(e<0||e>this.i-1)throw new RangeError;return this.J[e]}},{key:"eraseElementByPos",value:function(e){if(e<0||e>this.i-1)throw new RangeError;return this.J.splice(e,1),this.i-=1,this.i}},{key:"eraseElementByValue",value:function(e){for(var t=0,n=0;n<this.i;++n)this.J[n]!==e&&(this.J[t++]=this.J[n]);return this.i=this.J.length=t,this.i}},{key:"eraseElementByIterator",value:function(e){var t=e.o;return e=e.next(),this.eraseElementByPos(t),e}},{key:"pushBack",value:function(e){return this.J.push(e),this.i+=1,this.i}},{key:"popBack",value:function(){if(0!==this.i)return this.i-=1,this.J.pop()}},{key:"setElementByPos",value:function(e,t){if(e<0||e>this.i-1)throw new RangeError;this.J[e]=t}},{key:"insert",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e<0||e>this.i)throw new RangeError;return(n=this.J).splice.apply(n,[e,0].concat((0,m.default)(new Array(r).fill(t)))),this.i+=r,this.i}},{key:"find",value:function(e){for(var t=0;t<this.i;++t)if(this.J[t]===e)return new r(t,this);return this.end()}},{key:"reverse",value:function(){this.J.reverse()}},{key:"unique",value:function(){for(var e=1,t=1;t<this.i;++t)this.J[t]!==this.J[t-1]&&(this.J[e++]=this.J[t]);return this.i=this.J.length=e,this.i}},{key:"sort",value:function(e){this.J.sort(e)}},{key:"forEach",value:function(e){for(var t=0;t<this.i;++t)e(this.J[t],t,this)}},{key:t,value:function(){return c.default.mark((function e(){return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.delegateYield(this.J,"t0",1);case 1:case"end":return e.stop()}}),e,this)})).bind(this)()}}]),i}(t.default,Symbol.iterator),a=i;e.default=a})),Fi=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=function(e){return e&&e.t?e:{default:e}}(Di()),n=Ri(),r=Bi();var i=function(e){(0,w.default)(n,e);var t=N(n);function n(e,i,a,o){var s;return(0,_.default)(this,n),s=t.call(this,o),s.o=e,s.h=i,s.container=a,0===s.iteratorType?(s.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},s.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(s.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},s.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this}),s}return(0,b.default)(n,[{key:"pointer",get:function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l},set:function(e){this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l=e}},{key:"copy",value:function(){return new n(this.o,this.h,this.container,this.iteratorType)}}]),n}(n.ContainerIterator),a=function(e,t){(0,w.default)(a,e);var n=N(a);function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,_.default)(this,a),e=n.call(this),e.h={},e.p=e._=e.h.L=e.h.B=e.h;var r=(0,x.default)(e);return t.forEach((function(e){r.pushBack(e)})),e}return(0,b.default)(a,[{key:"V",value:function(e){var t=e.L,n=e.B;t.B=n,n.L=t,e===this.p&&(this.p=n),e===this._&&(this._=t),this.i-=1}},{key:"G",value:function(e,t){var n=t.B,r={l:e,L:t,B:n};t.B=r,n.L=r,t===this.h&&(this.p=r),n===this.h&&(this._=r),this.i+=1}},{key:"clear",value:function(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}},{key:"begin",value:function(){return new i(this.p,this.h,this)}},{key:"end",value:function(){return new i(this.h,this.h,this)}},{key:"rBegin",value:function(){return new i(this._,this.h,this,1)}},{key:"rEnd",value:function(){return new i(this.h,this.h,this,1)}},{key:"front",value:function(){return this.p.l}},{key:"back",value:function(){return this._.l}},{key:"getElementByPos",value:function(e){if(e<0||e>this.i-1)throw new RangeError;for(var t=this.p;e--;)t=t.B;return t.l}},{key:"eraseElementByPos",value:function(e){if(e<0||e>this.i-1)throw new RangeError;for(var t=this.p;e--;)t=t.B;return this.V(t),this.i}},{key:"eraseElementByValue",value:function(e){for(var t=this.p;t!==this.h;)t.l===e&&this.V(t),t=t.B;return this.i}},{key:"eraseElementByIterator",value:function(e){var t=e.o;return t===this.h&&(0,r.throwIteratorAccessError)(),e=e.next(),this.V(t),e}},{key:"pushBack",value:function(e){return this.G(e,this._),this.i}},{key:"popBack",value:function(){if(0!==this.i){var e=this._.l;return this.V(this._),e}}},{key:"pushFront",value:function(e){return this.G(e,this.h),this.i}},{key:"popFront",value:function(){if(0!==this.i){var e=this.p.l;return this.V(this.p),e}}},{key:"setElementByPos",value:function(e,t){if(e<0||e>this.i-1)throw new RangeError;for(var n=this.p;e--;)n=n.B;n.l=t}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e<0||e>this.i)throw new RangeError;if(n<=0)return this.i;if(0===e)for(;n--;)this.pushFront(t);else if(e===this.i)for(;n--;)this.pushBack(t);else{for(var r=this.p,i=1;i<e;++i)r=r.B;var a=r.B;for(this.i+=n;n--;)r.B={l:t,L:r},r.B.L=r,r=r.B;r.B=a,a.L=r}return this.i}},{key:"find",value:function(e){for(var t=this.p;t!==this.h;){if(t.l===e)return new i(t,this.h,this);t=t.B}return this.end()}},{key:"reverse",value:function(){if(!(this.i<=1))for(var e=this.p,t=this._,n=0;n<<1<this.i;){var r=e.l;e.l=t.l,t.l=r,e=e.B,t=t.L,n+=1}}},{key:"unique",value:function(){if(this.i<=1)return this.i;for(var e=this.p;e!==this.h;){for(var t=e;t.B!==this.h&&t.l===t.B.l;)t=t.B,this.i-=1;e.B=t.B,e.B.L=e,e=e.B}return this.i}},{key:"sort",value:function(e){if(!(this.i<=1)){var t=[];this.forEach((function(e){t.push(e)})),t.sort(e);var n=this.p;t.forEach((function(e){n.l=e,n=n.B}))}}},{key:"merge",value:function(e){var t=this;if(0===this.i)e.forEach((function(e){t.pushBack(e)}));else{var n=this.p;e.forEach((function(e){for(;n!==t.h&&n.l<=e;)n=n.B;t.G(e,n.L)}))}return this.i}},{key:"forEach",value:function(e){for(var t=this.p,n=0;t!==this.h;)e(t.l,n++,this),t=t.B}},{key:t,value:function(){return c.default.mark((function e(){var t;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.i){e.next=2;break}return e.abrupt("return");case 2:t=this.p;case 3:if(t===this.h){e.next=9;break}return e.next=6,t.l;case 6:t=t.B;case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})).bind(this)()}}]),a}(t.default,Symbol.iterator),o=a;e.default=o})),ji=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=function(e){return e&&e.t?e:{default:e}}(Di()),n=Ui();var r=function(e){(0,w.default)(n,e);var t=N(n);function n(e,r,i){var a;return(0,_.default)(this,n),a=t.call(this,e,i),a.container=r,a}return(0,b.default)(n,[{key:"copy",value:function(){return new n(this.o,this.container,this.iteratorType)}}]),n}(n.RandomIterator),i=function(e,t){(0,w.default)(i,e);var n=N(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;(0,_.default)(this,i),e=n.call(this),e.j=0,e.D=0,e.R=0,e.N=0,e.P=0,e.A=[];var a=function(){if("number"==typeof t.length)return t.length;if("number"==typeof t.size)return t.size;if("function"==typeof t.size)return t.size();throw new TypeError("Cannot get the length or size of the container")}();e.F=r,e.P=Math.max(Math.ceil(a/e.F),1);for(var o=0;o<e.P;++o)e.A.push(new Array(e.F));var s=Math.ceil(a/e.F);e.j=e.R=(e.P>>1)-(s>>1),e.D=e.N=e.F-a%e.F>>1;var u=(0,x.default)(e);return t.forEach((function(e){u.pushBack(e)})),e}return(0,b.default)(i,[{key:"T",value:function(){for(var e=[],t=Math.max(this.P>>1,1),n=0;n<t;++n)e[n]=new Array(this.F);for(var r=this.j;r<this.P;++r)e[e.length]=this.A[r];for(var i=0;i<this.R;++i)e[e.length]=this.A[i];e[e.length]=(0,m.default)(this.A[this.R]),this.j=t,this.R=e.length-1;for(var a=0;a<t;++a)e[e.length]=new Array(this.F);this.A=e,this.P=e.length}},{key:"O",value:function(e){var t=this.D+e+1,n=t%this.F,r=n-1,i=this.j+(t-n)/this.F;return 0===n&&(i-=1),i%=this.P,r<0&&(r+=this.F),{curNodeBucketIndex:i,curNodePointerIndex:r}}},{key:"clear",value:function(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}},{key:"begin",value:function(){return new r(0,this)}},{key:"end",value:function(){return new r(this.i,this)}},{key:"rBegin",value:function(){return new r(this.i-1,this,1)}},{key:"rEnd",value:function(){return new r(-1,this,1)}},{key:"front",value:function(){if(0!==this.i)return this.A[this.j][this.D]}},{key:"back",value:function(){if(0!==this.i)return this.A[this.R][this.N]}},{key:"pushBack",value:function(e){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=e,this.i}},{key:"popBack",value:function(){if(0!==this.i){var e=this.A[this.R][this.N];return 1!==this.i&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,e}}},{key:"pushFront",value:function(e){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=e,this.i}},{key:"popFront",value:function(){if(0!==this.i){var e=this.A[this.j][this.D];return 1!==this.i&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,e}}},{key:"getElementByPos",value:function(e){if(e<0||e>this.i-1)throw new RangeError;var t=this.O(e),n=t.curNodeBucketIndex,r=t.curNodePointerIndex;return this.A[n][r]}},{key:"setElementByPos",value:function(e,t){if(e<0||e>this.i-1)throw new RangeError;var n=this.O(e),r=n.curNodeBucketIndex,i=n.curNodePointerIndex;this.A[r][i]=t}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e<0||e>this.i)throw new RangeError;if(0===e)for(;n--;)this.pushFront(t);else if(e===this.i)for(;n--;)this.pushBack(t);else{for(var r=[],i=e;i<this.i;++i)r.push(this.getElementByPos(i));this.cut(e-1);for(var a=0;a<n;++a)this.pushBack(t);for(var o=0;o<r.length;++o)this.pushBack(r[o])}return this.i}},{key:"cut",value:function(e){if(e<0)return this.clear(),0;var t=this.O(e),n=t.curNodeBucketIndex,r=t.curNodePointerIndex;return this.R=n,this.N=r,this.i=e+1,this.i}},{key:"eraseElementByPos",value:function(e){if(e<0||e>this.i-1)throw new RangeError;if(0===e)this.popFront();else if(e===this.i-1)this.popBack();else{for(var t=[],n=e+1;n<this.i;++n)t.push(this.getElementByPos(n));this.cut(e),this.popBack();var r=this;t.forEach((function(e){r.pushBack(e)}))}return this.i}},{key:"eraseElementByValue",value:function(e){if(0===this.i)return 0;for(var t=[],n=0;n<this.i;++n){var r=this.getElementByPos(n);r!==e&&t.push(r)}for(var i=t.length,a=0;a<i;++a)this.setElementByPos(a,t[a]);return this.cut(i-1)}},{key:"eraseElementByIterator",value:function(e){var t=e.o;return this.eraseElementByPos(t),e=e.next(),e}},{key:"find",value:function(e){for(var t=0;t<this.i;++t)if(this.getElementByPos(t)===e)return new r(t,this);return this.end()}},{key:"reverse",value:function(){for(var e=0,t=this.i-1;e<t;){var n=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(t)),this.setElementByPos(t,n),e+=1,t-=1}}},{key:"unique",value:function(){if(this.i<=1)return this.i;for(var e=1,t=this.getElementByPos(0),n=1;n<this.i;++n){var r=this.getElementByPos(n);r!==t&&(t=r,this.setElementByPos(e++,r))}for(;this.i>e;)this.popBack();return this.i}},{key:"sort",value:function(e){for(var t=[],n=0;n<this.i;++n)t.push(this.getElementByPos(n));t.sort(e);for(var r=0;r<this.i;++r)this.setElementByPos(r,t[r])}},{key:"shrinkToFit",value:function(){if(0!==this.i){var e=[];this.forEach((function(t){e.push(t)})),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(var t=0;t<this.P;++t)this.A.push(new Array(this.F));for(var n=0;n<e.length;++n)this.pushBack(e[n])}}},{key:"forEach",value:function(e){for(var t=0;t<this.i;++t)e(this.getElementByPos(t),t,this)}},{key:t,value:function(){return c.default.mark((function e(){var t;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.i)){e.next=7;break}return e.next=4,this.getElementByPos(t);case 4:++t,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)})).bind(this)()}}]),i}(t.default,Symbol.iterator),a=i;e.default=a})),zi=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=function(){function e(t,n){(0,_.default)(this,e),this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=t,this.l=n}return(0,b.default)(e,[{key:"L",value:function(){var e=this;if(1===e.ee&&e.tt.tt===e)e=e.W;else if(e.U)for(e=e.U;e.W;)e=e.W;else{for(var t=e.tt;t.U===e;)e=t,t=e.tt;e=t}return e}},{key:"B",value:function(){var e=this;if(e.W){for(e=e.W;e.U;)e=e.U;return e}for(var t=e.tt;t.W===e;)e=t,t=e.tt;return e.W!==t?t:e}},{key:"te",value:function(){var e=this.tt,t=this.W,n=t.U;return e.tt===this?e.tt=t:e.U===this?e.U=t:e.W=t,t.tt=e,t.U=this,this.tt=t,this.W=n,n&&(n.tt=this),t}},{key:"se",value:function(){var e=this.tt,t=this.U,n=t.W;return e.tt===this?e.tt=t:e.U===this?e.U=t:e.W=t,t.tt=e,t.W=this,this.tt=t,this.U=n,n&&(n.tt=this),t}}]),e}();e.TreeNode=t;var n=function(e){(0,w.default)(n,e);var t=N(n);function n(){var e;return(0,_.default)(this,n),e=t.apply(this,arguments),e.rt=1,e}return(0,b.default)(n,[{key:"te",value:function(){var e=(0,h.default)((0,A.default)(n.prototype),"te",this).call(this);return this.ie(),e.ie(),e}},{key:"se",value:function(){var e=(0,h.default)((0,A.default)(n.prototype),"se",this).call(this);return this.ie(),e.ie(),e}},{key:"ie",value:function(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}}]),n}(t);e.TreeNodeEnableIndex=n})),Hi=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=zi(),n=Ri(),r=Bi(),i=function(e){(0,w.default)(i,e);var n=N(i);function i(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return e<t?-1:e>t?1:0},a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,_.default)(this,i),e=n.call(this),e.Y=void 0,e.v=r,a?(e.re=t.TreeNodeEnableIndex,e.M=function(e,t,n){var r=this.ne(e,t,n);if(r){for(var i=r.tt;i!==this.h;)i.rt+=1,i=i.tt;var a=this.he(r);if(a){var o=a.parentNode,s=a.grandParent,u=a.curNode;o.ie(),s.ie(),u.ie()}}return this.i},e.V=function(e){for(var t=this.fe(e);t!==this.h;)t.rt-=1,t=t.tt}):(e.re=t.TreeNode,e.M=function(e,t,n){var r=this.ne(e,t,n);return r&&this.he(r),this.i},e.V=e.fe),e.h=new e.re,e}return(0,b.default)(i,[{key:"X",value:function(e,t){for(var n=this.h;e;){var r=this.v(e.u,t);if(r<0)e=e.W;else{if(!(r>0))return e;n=e,e=e.U}}return n}},{key:"Z",value:function(e,t){for(var n=this.h;e;)this.v(e.u,t)<=0?e=e.W:(n=e,e=e.U);return n}},{key:"$",value:function(e,t){for(var n=this.h;e;){var r=this.v(e.u,t);if(r<0)n=e,e=e.W;else{if(!(r>0))return e;e=e.U}}return n}},{key:"rr",value:function(e,t){for(var n=this.h;e;)this.v(e.u,t)<0?(n=e,e=e.W):e=e.U;return n}},{key:"ue",value:function(e){for(;;){var t=e.tt;if(t===this.h)return;if(1===e.ee)return void(e.ee=0);if(e===t.U){var n=t.W;if(1===n.ee)n.ee=0,t.ee=1,t===this.Y?this.Y=t.te():t.te();else{if(n.W&&1===n.W.ee)return n.ee=t.ee,t.ee=0,n.W.ee=0,void(t===this.Y?this.Y=t.te():t.te());n.U&&1===n.U.ee?(n.ee=1,n.U.ee=0,n.se()):(n.ee=1,e=t)}}else{var r=t.U;if(1===r.ee)r.ee=0,t.ee=1,t===this.Y?this.Y=t.se():t.se();else{if(r.U&&1===r.U.ee)return r.ee=t.ee,t.ee=0,r.U.ee=0,void(t===this.Y?this.Y=t.se():t.se());r.W&&1===r.W.ee?(r.ee=1,r.W.ee=0,r.te()):(r.ee=1,e=t)}}}}},{key:"fe",value:function(e){if(1===this.i)return this.clear(),this.h;for(var t=e;t.U||t.W;){var n,r;if(t.W)for(t=t.W;t.U;)t=t.U;else t=t.U;n=[t.u,e.u],e.u=n[0],t.u=n[1],r=[t.l,e.l],e.l=r[0],t.l=r[1],e=t}this.h.U===t?this.h.U=t.tt:this.h.W===t&&(this.h.W=t.tt),this.ue(t);var i=t.tt;return t===i.U?i.U=void 0:i.W=void 0,this.i-=1,this.Y.ee=0,i}},{key:"oe",value:function(e,t){return void 0!==e&&(!(!this.oe(e.U,t)&&!t(e))||this.oe(e.W,t))}},{key:"he",value:function(e){for(;;){var t=e.tt;if(0===t.ee)return;var n=t.tt;if(t===n.U){var r=n.W;if(r&&1===r.ee){if(r.ee=t.ee=0,n===this.Y)return;n.ee=1,e=n;continue}if(e===t.W){if(e.ee=0,e.U&&(e.U.tt=t),e.W&&(e.W.tt=n),t.W=e.U,n.U=e.W,e.U=t,e.W=n,n===this.Y)this.Y=e,this.h.tt=e;else{var i=n.tt;i.U===n?i.U=e:i.W=e}return e.tt=n.tt,t.tt=e,n.tt=e,n.ee=1,{parentNode:t,grandParent:n,curNode:e}}t.ee=0,n===this.Y?this.Y=n.se():n.se(),n.ee=1}else{var a=n.U;if(a&&1===a.ee){if(a.ee=t.ee=0,n===this.Y)return;n.ee=1,e=n;continue}if(e===t.U){if(e.ee=0,e.U&&(e.U.tt=n),e.W&&(e.W.tt=t),n.W=e.U,t.U=e.W,e.U=n,e.W=t,n===this.Y)this.Y=e,this.h.tt=e;else{var o=n.tt;o.U===n?o.U=e:o.W=e}return e.tt=n.tt,t.tt=e,n.tt=e,n.ee=1,{parentNode:t,grandParent:n,curNode:e}}t.ee=0,n===this.Y?this.Y=n.te():n.te(),n.ee=1}return}}},{key:"ne",value:function(e,t,n){if(void 0===this.Y)return this.i+=1,this.Y=new this.re(e,t),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,void(this.h.W=this.Y);var r,i=this.h.U,a=this.v(i.u,e);if(0!==a){if(a>0)i.U=new this.re(e,t),i.U.tt=i,r=i.U,this.h.U=r;else{var o=this.h.W,s=this.v(o.u,e);if(0===s)return void(o.l=t);if(s<0)o.W=new this.re(e,t),o.W.tt=o,r=o.W,this.h.W=r;else{if(void 0!==n){var u=n.o;if(u!==this.h){var l=this.v(u.u,e);if(0===l)return void(u.l=t);if(l>0){var c=u.L(),h=this.v(c.u,e);if(0===h)return void(c.l=t);h<0&&(r=new this.re(e,t),void 0===c.W?(c.W=r,r.tt=c):(u.U=r,r.tt=u))}}}if(void 0===r)for(r=this.Y;;){var d=this.v(r.u,e);if(d>0){if(void 0===r.U){r.U=new this.re(e,t),r.U.tt=r,r=r.U;break}r=r.U}else{if(!(d<0))return void(r.l=t);if(void 0===r.W){r.W=new this.re(e,t),r.W.tt=r,r=r.W;break}r=r.W}}}}return this.i+=1,r}i.l=t}},{key:"I",value:function(e,t){for(;e;){var n=this.v(e.u,t);if(n<0)e=e.W;else{if(!(n>0))return e;e=e.U}}return e||this.h}},{key:"clear",value:function(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}},{key:"updateKeyByIterator",value:function(e,t){var n=e.o;if(n===this.h&&(0,r.throwIteratorAccessError)(),1===this.i)return n.u=t,!0;if(n===this.h.U)return this.v(n.B().u,t)>0&&(n.u=t,!0);if(n===this.h.W)return this.v(n.L().u,t)<0&&(n.u=t,!0);var i=n.L().u;if(this.v(i,t)>=0)return!1;var a=n.B().u;return!(this.v(a,t)<=0)&&(n.u=t,!0)}},{key:"eraseElementByPos",value:function(e){if(e<0||e>this.i-1)throw new RangeError;var t=0,n=this;return this.oe(this.Y,(function(r){return e===t?(n.V(r),!0):(t+=1,!1)})),this.i}},{key:"eraseElementByKey",value:function(e){if(0===this.i)return!1;var t=this.I(this.Y,e);return t!==this.h&&(this.V(t),!0)}},{key:"eraseElementByIterator",value:function(e){var t=e.o;t===this.h&&(0,r.throwIteratorAccessError)();var n=void 0===t.W;return 0===e.iteratorType?n&&e.next():(!n||void 0===t.U)&&e.next(),this.V(t),e}},{key:"forEach",value:function(e){var t,n=0,r=F(this);try{for(r.s();!(t=r.n()).done;){var i=t.value;e(i,n++,this)}}catch(a){r.e(a)}finally{r.f()}}},{key:"getElementByPos",value:function(e){if(e<0||e>this.i-1)throw new RangeError;var t,n,r=0,i=F(this);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(r===e){t=a;break}r+=1}}catch(o){i.e(o)}finally{i.f()}return t}},{key:"getHeight",value:function(){if(0===this.i)return 0;return function e(t){return t?Math.max(e(t.U),e(t.W))+1:0}(this.Y)}}]),i}(n.Container),a=i;e.default=a})),Gi=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ri(),n=Bi(),r=function(e){(0,w.default)(r,e);var t=N(r);function r(e,i,a){var o;return(0,_.default)(this,r),o=t.call(this,a),o.o=e,o.h=i,0===o.iteratorType?(o.pre=function(){return this.o===this.h.U&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this},o.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this}):(o.pre=function(){return this.o===this.h.W&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this},o.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this}),o}return(0,b.default)(r,[{key:"index",get:function(){var e=this.o,t=this.h.tt;if(e===this.h)return t?t.rt-1:0;var n=0;for(e.U&&(n+=e.U.rt);e!==t;){var r=e.tt;e===r.W&&(n+=1,r.U&&(n+=r.U.rt)),e=r}return n}}]),r}(t.ContainerIterator),i=r;e.default=i})),Wi=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i(Hi()),n=i(Gi()),r=Bi();function i(e){return e&&e.t?e:{default:e}}var a=function(e){(0,w.default)(n,e);var t=N(n);function n(e,r,i,a){var o;return(0,_.default)(this,n),o=t.call(this,e,r,a),o.container=i,o}return(0,b.default)(n,[{key:"pointer",get:function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}},{key:"copy",value:function(){return new n(this.o,this.h,this.container,this.iteratorType)}}]),n}(n.default),o=function(e,t){(0,w.default)(r,e);var n=N(r);function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;(0,_.default)(this,r),e=n.call(this,i,a);var o=(0,x.default)(e);return t.forEach((function(e){o.insert(e)})),e}return(0,b.default)(r,[{key:"K",value:c.default.mark((function e(t){return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=void 0!==t,!e.t0){e.next=6;break}return e.delegateYield(this.K(t.U),"t1",3);case 3:return e.next=5,t.u;case 5:return e.delegateYield(this.K(t.W),"t2",6);case 6:case"end":return e.stop()}}),e,this)}))},{key:"begin",value:function(){return new a(this.h.U||this.h,this.h,this)}},{key:"end",value:function(){return new a(this.h,this.h,this)}},{key:"rBegin",value:function(){return new a(this.h.W||this.h,this.h,this,1)}},{key:"rEnd",value:function(){return new a(this.h,this.h,this,1)}},{key:"front",value:function(){return this.h.U?this.h.U.u:void 0}},{key:"back",value:function(){return this.h.W?this.h.W.u:void 0}},{key:"insert",value:function(e,t){return this.M(e,void 0,t)}},{key:"find",value:function(e){var t=this.I(this.Y,e);return new a(t,this.h,this)}},{key:"lowerBound",value:function(e){var t=this.X(this.Y,e);return new a(t,this.h,this)}},{key:"upperBound",value:function(e){var t=this.Z(this.Y,e);return new a(t,this.h,this)}},{key:"reverseLowerBound",value:function(e){var t=this.$(this.Y,e);return new a(t,this.h,this)}},{key:"reverseUpperBound",value:function(e){var t=this.rr(this.Y,e);return new a(t,this.h,this)}},{key:"union",value:function(e){var t=this;return e.forEach((function(e){t.insert(e)})),this.i}},{key:t,value:function(){return this.K(this.Y)}}]),r}(t.default,Symbol.iterator),s=o;e.default=s})),Vi=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=i(Hi()),n=i(Gi()),r=Bi();function i(e){return e&&e.t?e:{default:e}}var a=function(e){(0,w.default)(n,e);var t=N(n);function n(e,r,i,a){var o;return(0,_.default)(this,n),o=t.call(this,e,r,a),o.container=i,o}return(0,b.default)(n,[{key:"pointer",get:function(){this.o===this.h&&(0,r.throwIteratorAccessError)();var e=this;return new Proxy([],{get:function(t,n){return"0"===n?e.o.u:"1"===n?e.o.l:void 0},set:function(t,n,r){if("1"!==n)throw new TypeError("props must be 1");return e.o.l=r,!0}})}},{key:"copy",value:function(){return new n(this.o,this.h,this.container,this.iteratorType)}}]),n}(n.default),o=function(e,t){(0,w.default)(r,e);var n=N(r);function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;(0,_.default)(this,r),e=n.call(this,i,a);var o=(0,x.default)(e);return t.forEach((function(e){o.setElement(e[0],e[1])})),e}return(0,b.default)(r,[{key:"K",value:c.default.mark((function e(t){return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=void 0!==t,!e.t0){e.next=6;break}return e.delegateYield(this.K(t.U),"t1",3);case 3:return e.next=5,[t.u,t.l];case 5:return e.delegateYield(this.K(t.W),"t2",6);case 6:case"end":return e.stop()}}),e,this)}))},{key:"begin",value:function(){return new a(this.h.U||this.h,this.h,this)}},{key:"end",value:function(){return new a(this.h,this.h,this)}},{key:"rBegin",value:function(){return new a(this.h.W||this.h,this.h,this,1)}},{key:"rEnd",value:function(){return new a(this.h,this.h,this,1)}},{key:"front",value:function(){if(0!==this.i){var e=this.h.U;return[e.u,e.l]}}},{key:"back",value:function(){if(0!==this.i){var e=this.h.W;return[e.u,e.l]}}},{key:"lowerBound",value:function(e){var t=this.X(this.Y,e);return new a(t,this.h,this)}},{key:"upperBound",value:function(e){var t=this.Z(this.Y,e);return new a(t,this.h,this)}},{key:"reverseLowerBound",value:function(e){var t=this.$(this.Y,e);return new a(t,this.h,this)}},{key:"reverseUpperBound",value:function(e){var t=this.rr(this.Y,e);return new a(t,this.h,this)}},{key:"setElement",value:function(e,t,n){return this.M(e,t,n)}},{key:"find",value:function(e){var t=this.I(this.Y,e);return new a(t,this.h,this)}},{key:"getElementByKey",value:function(e){return this.I(this.Y,e).l}},{key:"union",value:function(e){var t=this;return e.forEach((function(e){t.setElement(e[0],e[1])})),this.i}},{key:t,value:function(){return this.K(this.Y)}}]),r}(t.default,Symbol.iterator),s=o;e.default=s})),qi=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.default=function(e){var t=(0,M.default)(e);return"object"===t&&null!==e||"function"===t}})),Xi=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t=Ri(),n=function(e){return e&&e.t?e:{default:e}}(qi()),r=Bi();var i=function(e){(0,w.default)(n,e);var t=N(n);function n(e,i,a){var o;return(0,_.default)(this,n),o=t.call(this,a),o.o=e,o.h=i,0===o.iteratorType?(o.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},o.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(o.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},o.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this}),o}return(0,b.default)(n)}(t.ContainerIterator);e.HashContainerIterator=i;var a=function(e){(0,w.default)(i,e);var t=N(i);function i(){var e;return(0,_.default)(this,i),e=t.call(this),e.H=[],e.g={},e.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(e.g,null),e.h={},e.h.L=e.h.B=e.p=e._=e.h,e}return(0,b.default)(i,[{key:"V",value:function(e){var t=e.L,n=e.B;t.B=n,n.L=t,e===this.p&&(this.p=n),e===this._&&(this._=t),this.i-=1}},{key:"M",value:function(e,t,r){var i;if(void 0===r&&(r=(0,n.default)(e)),r){var a=e[this.HASH_TAG];if(void 0!==a)return this.H[a].l=t,this.i;Object.defineProperty(e,this.HASH_TAG,{value:this.H.length,configurable:!0}),i={u:e,l:t,L:this._,B:this.h},this.H.push(i)}else{var o=this.g[e];if(o)return o.l=t,this.i;i={u:e,l:t,L:this._,B:this.h},this.g[e]=i}return 0===this.i?(this.p=i,this.h.B=i):this._.B=i,this._=i,this.h.L=i,++this.i}},{key:"I",value:function(e,t){if(void 0===t&&(t=(0,n.default)(e)),t){var r=e[this.HASH_TAG];return void 0===r?this.h:this.H[r]}return this.g[e]||this.h}},{key:"clear",value:function(){var e=this.HASH_TAG;this.H.forEach((function(t){delete t.u[e]})),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}},{key:"eraseElementByKey",value:function(e,t){var r;if(void 0===t&&(t=(0,n.default)(e)),t){var i=e[this.HASH_TAG];if(void 0===i)return!1;delete e[this.HASH_TAG],r=this.H[i],delete this.H[i]}else{if(r=this.g[e],void 0===r)return!1;delete this.g[e]}return this.V(r),!0}},{key:"eraseElementByIterator",value:function(e){var t=e.o;return t===this.h&&(0,r.throwIteratorAccessError)(),this.V(t),e.next()}},{key:"eraseElementByPos",value:function(e){if(e<0||e>this.i-1)throw new RangeError;for(var t=this.p;e--;)t=t.B;return this.V(t),this.i}}]),i}(t.Container);e.HashContainer=a})),Yi=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Xi(),n=Bi(),r=function(e){(0,w.default)(r,e);var t=N(r);function r(e,n,i,a){var o;return(0,_.default)(this,r),o=t.call(this,e,n,a),o.container=i,o}return(0,b.default)(r,[{key:"pointer",get:function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}},{key:"copy",value:function(){return new r(this.o,this.h,this.container,this.iteratorType)}}]),r}(t.HashContainerIterator),i=function(e,t){(0,w.default)(i,e);var n=N(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,_.default)(this,i),e=n.call(this);var r=(0,x.default)(e);return t.forEach((function(e){r.insert(e)})),e}return(0,b.default)(i,[{key:"begin",value:function(){return new r(this.p,this.h,this)}},{key:"end",value:function(){return new r(this.h,this.h,this)}},{key:"rBegin",value:function(){return new r(this._,this.h,this,1)}},{key:"rEnd",value:function(){return new r(this.h,this.h,this,1)}},{key:"front",value:function(){return this.p.u}},{key:"back",value:function(){return this._.u}},{key:"insert",value:function(e,t){return this.M(e,void 0,t)}},{key:"getElementByPos",value:function(e){if(e<0||e>this.i-1)throw new RangeError;for(var t=this.p;e--;)t=t.B;return t.u}},{key:"find",value:function(e,t){var n=this.I(e,t);return new r(n,this.h,this)}},{key:"forEach",value:function(e){for(var t=0,n=this.p;n!==this.h;)e(n.u,t++,this),n=n.B}},{key:t,value:function(){return c.default.mark((function e(){var t;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.p;case 1:if(t===this.h){e.next=7;break}return e.next=4,t.u;case 4:t=t.B;case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e,this)})).bind(this)()}}]),i}(t.HashContainer,Symbol.iterator),a=i;e.default=a})),Ki=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Xi(),n=function(e){return e&&e.t?e:{default:e}}(qi()),r=Bi();var i=function(e){(0,w.default)(n,e);var t=N(n);function n(e,r,i,a){var o;return(0,_.default)(this,n),o=t.call(this,e,r,a),o.container=i,o}return(0,b.default)(n,[{key:"pointer",get:function(){this.o===this.h&&(0,r.throwIteratorAccessError)();var e=this;return new Proxy([],{get:function(t,n){return"0"===n?e.o.u:"1"===n?e.o.l:void 0},set:function(t,n,r){if("1"!==n)throw new TypeError("props must be 1");return e.o.l=r,!0}})}},{key:"copy",value:function(){return new n(this.o,this.h,this.container,this.iteratorType)}}]),n}(t.HashContainerIterator),a=function(e,t){(0,w.default)(a,e);var r=N(a);function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,_.default)(this,a),e=r.call(this);var n=(0,x.default)(e);return t.forEach((function(e){n.setElement(e[0],e[1])})),e}return(0,b.default)(a,[{key:"begin",value:function(){return new i(this.p,this.h,this)}},{key:"end",value:function(){return new i(this.h,this.h,this)}},{key:"rBegin",value:function(){return new i(this._,this.h,this,1)}},{key:"rEnd",value:function(){return new i(this.h,this.h,this,1)}},{key:"front",value:function(){if(0!==this.i)return[this.p.u,this.p.l]}},{key:"back",value:function(){if(0!==this.i)return[this._.u,this._.l]}},{key:"setElement",value:function(e,t,n){return this.M(e,t,n)}},{key:"getElementByKey",value:function(e,t){if(void 0===t&&(t=(0,n.default)(e)),t){var r=e[this.HASH_TAG];return void 0!==r?this.H[r].l:void 0}var i=this.g[e];return i?i.l:void 0}},{key:"getElementByPos",value:function(e){if(e<0||e>this.i-1)throw new RangeError;for(var t=this.p;e--;)t=t.B;return[t.u,t.l]}},{key:"find",value:function(e,t){var n=this.I(e,t);return new i(n,this.h,this)}},{key:"forEach",value:function(e){for(var t=0,n=this.p;n!==this.h;)e([n.u,n.l],t++,this),n=n.B}},{key:t,value:function(){return c.default.mark((function e(){var t;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.p;case 1:if(t===this.h){e.next=7;break}return e.next=4,[t.u,t.l];case 4:t=t.B;case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e,this)})).bind(this)()}}]),a}(t.HashContainer,Symbol.iterator),o=a;e.default=o})),Qi=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return i.default}});var t=h(Ii()),n=h(Oi()),r=h(Li()),i=h(Ni()),a=h(Fi()),o=h(ji()),s=h(Wi()),u=h(Vi()),l=h(Yi()),c=h(Ki());function h(e){return e&&e.t?e:{default:e}}})),Ji=Y((function(e,t){J(),Ht(),kt();var n=Qi().OrderedSet,i=fi()("number-allocator:trace"),a=fi()("number-allocator:error");function o(e,t){this.low=e,this.high=t}function s(e,t){if(!(this instanceof s))return new s(e,t);this.min=e,this.max=t,this.ss=new n([],(function(e,t){return e.compare(t)})),i("Create"),this.clear()}o.prototype.equals=function(e){return this.low===e.low&&this.high===e.high},o.prototype.compare=function(e){return this.low<e.low&&this.high<e.low?-1:e.low<this.low&&e.high<this.low?1:0},s.prototype.firstVacant=function(){return 0===this.ss.size()?null:this.ss.front().low},s.prototype.alloc=function(){if(0===this.ss.size())return i("alloc():empty"),null;var e=this.ss.begin(),t=e.pointer.low,n=e.pointer.high,r=t;return r+1<=n?this.ss.updateKeyByIterator(e,new o(t+1,n)):this.ss.eraseElementByPos(0),i("alloc():"+r),r},s.prototype.use=function(e){var t=new o(e,e),n=this.ss.lowerBound(t);if(!n.equals(this.ss.end())){var r=n.pointer.low,a=n.pointer.high;return n.pointer.equals(t)?(this.ss.eraseElementByIterator(n),i("use():"+e),!0):!(r>e)&&(r===e?(this.ss.updateKeyByIterator(n,new o(r+1,a)),i("use():"+e),!0):a===e?(this.ss.updateKeyByIterator(n,new o(r,a-1)),i("use():"+e),!0):(this.ss.updateKeyByIterator(n,new o(e+1,a)),this.ss.insert(new o(r,e-1)),i("use():"+e),!0))}return i("use():failed"),!1},s.prototype.free=function(e){if(e<this.min||e>this.max)a("free():"+e+" is out of range");else{var t=new o(e,e),n=this.ss.upperBound(t);if(n.equals(this.ss.end())){if(n.equals(this.ss.begin()))return void this.ss.insert(t);n.pre();var r=n.pointer.high;n.pointer.high+1===e?this.ss.updateKeyByIterator(n,new o(r,e)):this.ss.insert(t)}else if(n.equals(this.ss.begin()))if(e+1===n.pointer.low){var s=n.pointer.high;this.ss.updateKeyByIterator(n,new o(e,s))}else this.ss.insert(t);else{var u=n.pointer.low,l=n.pointer.high;n.pre();var c=n.pointer.low;n.pointer.high+1===e?e+1===u?(this.ss.eraseElementByIterator(n),this.ss.updateKeyByIterator(n,new o(c,l))):this.ss.updateKeyByIterator(n,new o(c,e)):e+1===u?(this.ss.eraseElementByIterator(n.next()),this.ss.insert(new o(e,l))):this.ss.insert(t)}i("free():"+e)}},s.prototype.clear=function(){i("clear()"),this.ss.clear(),this.ss.insert(new o(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){r("log","length:"+this.ss.size()," at node_modules/mqtt/dist/mqtt.esm.js:2");var e,t=F(this.ss);try{for(t.s();!(e=t.n()).done;){var n=e.value;r("log",n," at node_modules/mqtt/dist/mqtt.esm.js:2")}}catch(i){t.e(i)}finally{t.f()}},t.exports=s})),Zi=Y((function(e,t){J(),Ht(),kt();var n=Ji();t.exports.NumberAllocator=n})),$i=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0});var t=Pi(),n=Zi(),r=function(){function e(r){(0,_.default)(this,e),r>0&&(this.aliasToTopic=new t.LRUCache({max:r}),this.topicToAlias={},this.numberAllocator=new n.NumberAllocator(1,r),this.max=r,this.length=0)}return(0,b.default)(e,[{key:"put",value:function(e,t){if(0===t||t>this.max)return!1;var n=this.aliasToTopic.get(t);return n&&delete this.topicToAlias[n],this.aliasToTopic.set(t,e),this.topicToAlias[e]=t,this.numberAllocator.use(t),this.length=this.aliasToTopic.size,!0}},{key:"getTopicByAlias",value:function(e){return this.aliasToTopic.get(e)}},{key:"getAliasByTopic",value:function(e){var t=this.topicToAlias[e];return(0,M.default)(t)<"u"&&this.aliasToTopic.get(t),t}},{key:"clear",value:function(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}},{key:"getLruAlias",value:function(){var e=this.numberAllocator.firstVacant();return e||(0,m.default)(this.aliasToTopic.keys())[this.aliasToTopic.size-1]}}]),e}();e.default=r})),ea=Y((function(e){J(),Ht(),kt();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var n=ki(),r=t($i()),i=Ei();e.default=function(e,t){e.log("_handleConnack");var a=e.options,o=5===a.protocolVersion?t.reasonCode:t.returnCode;if(clearTimeout(e.connackTimer),delete e.topicAliasSend,t.properties){if(t.properties.topicAliasMaximum){if(t.properties.topicAliasMaximum>65535)return void e.emit("error",new Error("topicAliasMaximum from broker is out of range"));t.properties.topicAliasMaximum>0&&(e.topicAliasSend=new r.default(t.properties.topicAliasMaximum))}t.properties.serverKeepAlive&&a.keepalive&&(a.keepalive=t.properties.serverKeepAlive),t.properties.maximumPacketSize&&(a.properties||(a.properties={}),a.properties.maximumPacketSize=t.properties.maximumPacketSize)}if(0===o)e.reconnecting=!1,e._onConnect(t);else if(o>0){var s=new i.ErrorWithReasonCode("Connection refused: ".concat(n.ReasonCodes[o]),o);e.emit("error",s)}}})),ta=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0});e.default=function(e,t,n){e.log("handling pubrel packet");var r=(0,M.default)(n)<"u"?n:e.noop,i=t.messageId,a={cmd:"pubcomp",messageId:i};e.incomingStore.get(t,(function(t,n){t?e._sendPacket(a,r):(e.emit("message",n.topic,n.payload,n),e.handleMessage(n,(function(t){if(t)return r(t);e.incomingStore.del(n,e.noop),e._sendPacket(a,r)})))}))}})),na=Y((function(e){J(),Ht(),kt();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var n=t(Mi()),r=t(Ci()),i=t(ea()),a=t(ki()),o=t(ta());e.default=function(e,t,s){var u=e.options;if(5===u.protocolVersion&&u.properties&&u.properties.maximumPacketSize&&u.properties.maximumPacketSize<t.length)return e.emit("error",new Error("exceeding packets size ".concat(t.cmd))),e.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),e;switch(e.log("_handlePacket :: emitting packetreceive"),e.emit("packetreceive",t),t.cmd){case"publish":(0,n.default)(e,t,s);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":e.reschedulePing(),(0,a.default)(e,t),s();break;case"pubrel":e.reschedulePing(),(0,o.default)(e,t,s);break;case"connack":(0,i.default)(e,t),s();break;case"auth":e.reschedulePing(),(0,r.default)(e,t),s();break;case"pingresp":e.log("_handlePacket :: received pingresp"),e.reschedulePing(!0),s();break;case"disconnect":e.emit("disconnect",t),s();break;default:e.log("_handlePacket :: unknown command"),s();break}}})),ra=Y((function(e){J(),Ht(),kt();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var n=t((An(),Q(gn))),r=Ei(),i=(0,b.default)((function e(){(0,_.default)(this,e)}));e.TypedEventEmitter=i,(0,r.applyMixin)(i,n.default)})),ia=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var t=function(){var e,t,n;return!("object"!=("undefined"===typeof self?"undefined":(0,M.default)(self))||null===(n=null===(t=null===(e=self)||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)||void 0===n||!n.includes("WorkerGlobalScope"))},n=function(){return("undefined"===typeof navigator?"undefined":(0,M.default)(navigator))<"u"&&"ReactNative"===navigator.product},r=function(){var e;return("undefined"===typeof window?"undefined":(0,M.default)(window))<"u"&&(("undefined"===typeof navigator?"undefined":(0,M.default)(navigator))<"u"&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.toLowerCase().indexOf(" electron/"))>-1&&null!==Z&&void 0!==Z&&Z.versions?!Object.prototype.hasOwnProperty.call(Z.versions,"electron"):(0,M.default)(window.document)<"u")}()||t()||n();e.isWebWorker=t(),e.isReactNativeBrowser=n(),e.default=r})),aa=Y((function(n,r){J(),Ht(),kt(),function(i,a){"object"==(0,M.default)(n)&&(0,M.default)(r)<"u"?a(n):(s=[t],o=a,u="function"===typeof o?o.apply(t,s):o,void 0===u||(e.exports=u))}(0,(function(e){var t=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,r=2*n,i=new WeakMap,a=function(e){return function(t,n){return e.set(t,n),n}}(i),o=function(e,i){return function(a){var o=i.get(a),s=void 0===o?a.size:o<r?o+1:0;if(!a.has(s))return e(a,s);if(a.size<n){for(;a.has(s);)s=Math.floor(Math.random()*r);return e(a,s)}if(a.size>t)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;a.has(s);)s=Math.floor(Math.random()*t);return e(a,s)}}(a,i),s=function(e){return function(t){var n=e(t);return t.add(n),n}}(o);e.addUniqueNumber=s,e.generateUniqueNumber=o}))})),oa=Y((function(r,i){J(),Ht(),kt(),function(a,l){"object"==(0,M.default)(r)&&(0,M.default)(i)<"u"?l(r,aa()):(s=[t,n("dfd8")],o=l,u="function"===typeof o?o.apply(t,s):o,void 0===u||(e.exports=u))}(0,(function(e,t){e.load=function(e){var n=new Map([[0,function(){}]]),r=new Map([[0,function(){}]]),i=new Map,a=new Worker(e);a.addEventListener("message",(function(e){var t=e.data;if(function(e){return void 0!==e.method&&"call"===e.method}(t)){var a=t.params,o=a.timerId,s=a.timerType;if("interval"===s){var u=n.get(o);if("number"==typeof u){var l=i.get(u);if(void 0===l||l.timerId!==o||l.timerType!==s)throw new Error("The timer is in an undefined state.")}else{if(!((0,M.default)(u)<"u"))throw new Error("The timer is in an undefined state.");u()}}else if("timeout"===s){var c=r.get(o);if("number"==typeof c){var h=i.get(c);if(void 0===h||h.timerId!==o||h.timerType!==s)throw new Error("The timer is in an undefined state.")}else{if(!((0,M.default)(c)<"u"))throw new Error("The timer is in an undefined state.");c(),r.delete(o)}}}else{if(!function(e){return null===e.error&&"number"==typeof e.id}(t)){var d=t.error.message;throw new Error(d)}var f=t.id,p=i.get(f);if(void 0===p)throw new Error("The timer is in an undefined state.");var v=p.timerId,m=p.timerType;i.delete(f),"interval"===m?n.delete(v):r.delete(v)}}));return{clearInterval:function(e){var r=t.generateUniqueNumber(i);i.set(r,{timerId:e,timerType:"interval"}),n.set(e,r),a.postMessage({id:r,method:"clear",params:{timerId:e,timerType:"interval"}})},clearTimeout:function(e){var n=t.generateUniqueNumber(i);i.set(n,{timerId:e,timerType:"timeout"}),r.set(e,n),a.postMessage({id:n,method:"clear",params:{timerId:e,timerType:"timeout"}})},setInterval:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t.generateUniqueNumber(n);return n.set(i,(function(){e(),"function"==typeof n.get(i)&&a.postMessage({id:null,method:"set",params:{delay:r,now:performance.now(),timerId:i,timerType:"interval"}})})),a.postMessage({id:null,method:"set",params:{delay:r,now:performance.now(),timerId:i,timerType:"interval"}}),i},setTimeout:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t.generateUniqueNumber(r);return r.set(i,e),a.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:i,timerType:"timeout"}}),i}}}}))})),sa=Y((function(r,i){J(),Ht(),kt(),function(a,l){"object"==(0,M.default)(r)&&(0,M.default)(i)<"u"?l(r,oa()):(s=[t,n("6254")],o=l,u="function"===typeof o?o.apply(t,s):o,void 0===u||(e.exports=u))}(0,(function(e,t){var n=function(e,t){var n=null;return function(){if(null!==n)return n;var r=new Blob([t],{type:"application/javascript; charset=utf-8"}),i=URL.createObjectURL(r);return n=e(i),setTimeout((function(){return URL.revokeObjectURL(i)})),n}}(t.load,'(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error(\'The given type "\'.concat(c,\'" is not supported\'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error(\'The given method "\'.concat(t.method,\'" is not supported\'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error(\'The given type "\'.concat(v,\'" is not supported\'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();');e.clearInterval=function(e){return n().clearInterval(e)},e.clearTimeout=function(e){return n().clearTimeout(e)},e.setInterval=function(){var e;return(e=n()).setInterval.apply(e,arguments)},e.setTimeout=function(){var e;return(e=n()).setTimeout.apply(e,arguments)}}))})),ua=Y((function(e){J(),Ht(),kt();var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r};Object.defineProperty(e,"__esModule",{value:!0});var i=r(ia()),a=sa(),o={set:a.setInterval,clear:a.clearInterval},s={set:function(e,t){return setInterval(e,t)},clear:function(e){return clearInterval(e)}};e.default=function(e){switch(e){case"native":return s;case"worker":return o;case"auto":default:return!i.default||i.isWebWorker||i.isReactNativeBrowser?s:o}}})),la=Y((function(e){J(),Ht(),kt();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var n=t(ua()),r=function(){function e(t,r){(0,_.default)(this,e),this.destroyed=!1,this.client=t,this.timer="object"==(0,M.default)(r)&&"set"in r&&"clear"in r?r:(0,n.default)(r),this.setKeepalive(t.options.keepalive)}return(0,b.default)(e,[{key:"keepaliveTimeoutTimestamp",get:function(){return this._keepaliveTimeoutTimestamp}},{key:"intervalEvery",get:function(){return this._intervalEvery}},{key:"keepalive",get:function(){return this._keepalive}},{key:"clear",value:function(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}},{key:"setKeepalive",value:function(e){if(e*=1e3,isNaN(e)||e<=0||e>2147483647)throw new Error("Keepalive value must be an integer between 0 and 2147483647. Provided value is ".concat(e));this._keepalive=e,this.reschedule(),this.client.log("KeepaliveManager: set keepalive to ".concat(e,"ms"))}},{key:"destroy",value:function(){this.clear(),this.destroyed=!0}},{key:"reschedule",value:function(){var e=this;if(!this.destroyed){this.clear(),this.counter=0;var t=Math.ceil(1.5*this._keepalive);this._keepaliveTimeoutTimestamp=Date.now()+t,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set((function(){e.destroyed||(e.counter+=1,2===e.counter?e.client.sendPing():e.counter>2&&e.client.onKeepaliveTimeout())}),this._intervalEvery)}}}]),e}();e.default=r})),ca=Y((function(e){J(),Ht(),kt();var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r},i=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(Gt()),o=i(_i()),s=i(bi()),u=ai(),l=i(wi()),c=r(Si()),h=i(fi()),d=i(Ai()),f=i(na()),p=Ei(),v=ra(),m=i(la()),g=r(ia()),y=globalThis.setImmediate||function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift();(0,p.nextTick)((function(){r.apply(void 0,t)}))},S={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},A=function(e){(0,w.default)(n,e);var t=N(n);function n(e,r){var i;for(var u in(0,_.default)(this,n),i=t.call(this),i.options=r||{},S)(0,M.default)(i.options[u])>"u"?i.options[u]=S[u]:i.options[u]=r[u];return i.log=i.options.log||(0,h.default)("mqttjs:client"),i.noop=i._noop.bind((0,x.default)(i)),i.log("MqttClient :: version:",n.VERSION),g.isWebWorker?i.log("MqttClient :: environment","webworker"):i.log("MqttClient :: environment",g.default?"browser":"node"),i.log("MqttClient :: options.protocol",r.protocol),i.log("MqttClient :: options.protocolVersion",r.protocolVersion),i.log("MqttClient :: options.username",r.username),i.log("MqttClient :: options.keepalive",r.keepalive),i.log("MqttClient :: options.reconnectPeriod",r.reconnectPeriod),i.log("MqttClient :: options.rejectUnauthorized",r.rejectUnauthorized),i.log("MqttClient :: options.properties.topicAliasMaximum",r.properties?r.properties.topicAliasMaximum:void 0),i.options.clientId="string"==typeof r.clientId?r.clientId:n.defaultId(),i.log("MqttClient :: clientId",i.options.clientId),i.options.customHandleAcks=5===r.protocolVersion&&r.customHandleAcks?r.customHandleAcks:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[3](null,0)},i.options.writeCache||(o.default.writeToStream.cacheNumbers=!1),i.streamBuilder=e,i.messageIdProvider=(0,M.default)(i.options.messageIdProvider)>"u"?new s.default:i.options.messageIdProvider,i.outgoingStore=r.outgoingStore||new d.default,i.incomingStore=r.incomingStore||new d.default,i.queueQoSZero=void 0===r.queueQoSZero||r.queueQoSZero,i._resubscribeTopics={},i.messageIdToTopic={},i.keepaliveManager=null,i.connected=!1,i.disconnecting=!1,i.reconnecting=!1,i.queue=[],i.connackTimer=null,i.reconnectTimer=null,i._storeProcessing=!1,i._packetIdsDuringStoreProcessing={},i._storeProcessingQueue=[],i.outgoing={},i._firstConnection=!0,r.properties&&r.properties.topicAliasMaximum>0&&(r.properties.topicAliasMaximum>65535?i.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):i.topicAliasRecv=new a.default(r.properties.topicAliasMaximum)),i.on("connect",(function(){var e=(0,x.default)(i),t=e.queue;i.log("connect :: sending queued packets"),function e(){var n=t.shift();i.log("deliver :: entry %o",n);var r;if(n){r=n.packet,i.log("deliver :: call _sendPacket for %o",r);var a=!0;r.messageId&&0!==r.messageId&&(i.messageIdProvider.register(r.messageId)||(a=!1)),a?i._sendPacket(r,(function(t){n.cb&&n.cb(t),e()})):(i.log("messageId: %d has already used. The message is skipped and removed.",r.messageId),e())}else i._resubscribe()}()})),i.on("close",(function(){i.log("close :: connected set to `false`"),i.connected=!1,i.log("close :: clearing connackTimer"),clearTimeout(i.connackTimer),i._destroyKeepaliveManager(),i.topicAliasRecv&&i.topicAliasRecv.clear(),i.log("close :: calling _setupReconnect"),i._setupReconnect()})),i.options.manualConnect||(i.log("MqttClient :: setting up stream"),i.connect()),i}return(0,b.default)(n,[{key:"handleAuth",value:function(e,t){t()}},{key:"handleMessage",value:function(e,t){t()}},{key:"_nextId",value:function(){return this.messageIdProvider.allocate()}},{key:"getLastMessageId",value:function(){return this.messageIdProvider.getLastAllocated()}},{key:"connect",value:function(){var e,t=this,n=new u.Writable,r=o.default.parser(this.options),i=null,a=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new d.default,this.outgoingStore=this.options.outgoingStore||new d.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),r.on("packet",(function(e){t.log("parser :: on packet push to packets array."),a.push(e)}));var s=function(){t.log("work :: getting next packet in queue");var e=a.shift();if(e)t.log("work :: packet pulled from queue"),(0,f.default)(t,e,l);else{t.log("work :: no packets in queue");var n=i;i=null,t.log("work :: done flag is %s",!!n),n&&n()}},l=function(){if(a.length)(0,p.nextTick)(s);else{var e=i;i=null,e()}};n._write=function(e,n,a){i=a,t.log("writable stream :: parsing buffer"),r.parse(e),s()};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(n),this.stream.on("error",(function(e){t.log("streamErrorHandler :: error",e.message),e.code?(t.log("streamErrorHandler :: emitting error"),t.emit("error",e)):t.noop(e)})),this.stream.on("close",(function(){t.log("(%s)stream :: on close",t.options.clientId),t._flushVolatile(),t.log("stream: emit close to MqttClient"),t.emit("close")})),this.log("connect: sending packet `connect`");var c={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(c.will=Object.assign(Object.assign({},this.options.will),{payload:null===(e=this.options.will)||void 0===e?void 0:e.payload})),this.topicAliasRecv&&(c.properties||(c.properties={}),this.topicAliasRecv&&(c.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(c),r.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end((function(){return t.emit("error",new Error("Packet has no Authentication Method"))})),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==(0,M.default)(this.options.authPacket)){var h=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(h)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){t.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),t.emit("error",new Error("connack timeout")),t._cleanUp(!0)}),this.options.connectTimeout),this}},{key:"publish",value:function(e,t,n,r){var i=this;this.log("publish :: message `%s` to topic `%s`",t,e);var a=this.options;"function"==typeof n&&(r=n,n=null),n=n||{},n=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),n);var o=n,s=o.qos,u=o.retain,l=o.dup,c=o.properties,h=o.cbStorePut;if(this._checkDisconnecting(r))return this;var d=function(){var n=0;if((1===s||2===s)&&(n=i._nextId(),null===n))return i.log("No messageId left"),!1;var o={cmd:"publish",topic:e,payload:t,qos:s,retain:u,messageId:n,dup:l};switch(5===a.protocolVersion&&(o.properties=c),i.log("publish :: qos",s),s){case 1:case 2:i.outgoing[o.messageId]={volatile:!1,cb:r||i.noop},i.log("MqttClient:publish: packet cmd: %s",o.cmd),i._sendPacket(o,void 0,h);break;default:i.log("MqttClient:publish: packet cmd: %s",o.cmd),i._sendPacket(o,r,h);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!d())&&this._storeProcessingQueue.push({invoke:d,cbStorePut:n.cbStorePut,callback:r}),this}},{key:"publishAsync",value:function(e,t,n){var r=this;return new Promise((function(i,a){r.publish(e,t,n,(function(e,t){e?a(e):i(t)}))}))}},{key:"subscribe",value:function(e,t,n){var r=this,i=this.options.protocolVersion;"function"==typeof t&&(n=t),n=n||this.noop;var a=!1,o=[];"string"==typeof e?(e=[e],o=e):Array.isArray(e)?o=e:"object"==(0,M.default)(e)&&(a=e.resubscribe,delete e.resubscribe,o=Object.keys(e));var s=c.validateTopics(o);if(null!==s)return y(n,new Error("Invalid topic ".concat(s))),this;if(this._checkDisconnecting(n))return this.log("subscribe: discconecting true"),this;var u={qos:0};5===i&&(u.nl=!1,u.rap=!1,u.rh=0),t=Object.assign(Object.assign({},u),t);var l=t.properties,h=[],d=function(e,n){if(n=n||t,!Object.prototype.hasOwnProperty.call(r._resubscribeTopics,e)||r._resubscribeTopics[e].qos<n.qos||a){var o={topic:e,qos:n.qos};5===i&&(o.nl=n.nl,o.rap=n.rap,o.rh=n.rh,o.properties=l),r.log("subscribe: pushing topic `%s` and qos `%s` to subs list",o.topic,o.qos),h.push(o)}};if(Array.isArray(e)?e.forEach((function(e){r.log("subscribe: array topic %s",e),d(e)})):Object.keys(e).forEach((function(t){r.log("subscribe: object topic %s, %o",t,e[t]),d(t,e[t])})),!h.length)return n(null,[]),this;var f=function(){var e=r._nextId();if(null===e)return r.log("No messageId left"),!1;var t={cmd:"subscribe",subscriptions:h,messageId:e};if(l&&(t.properties=l),r.options.resubscribe){r.log("subscribe :: resubscribe true");var a=[];h.forEach((function(e){if(r.options.reconnectPeriod>0){var t={qos:e.qos};5===i&&(t.nl=e.nl||!1,t.rap=e.rap||!1,t.rh=e.rh||0,t.properties=e.properties),r._resubscribeTopics[e.topic]=t,a.push(e.topic)}})),r.messageIdToTopic[t.messageId]=a}return r.outgoing[t.messageId]={volatile:!0,cb:function(e,t){if(!e)for(var r=t.granted,i=0;i<r.length;i+=1)h[i].qos=r[i];n(e,h,t)}},r.log("subscribe :: call _sendPacket"),r._sendPacket(t),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!f())&&this._storeProcessingQueue.push({invoke:f,callback:n}),this}},{key:"subscribeAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.subscribe(e,t,(function(e,t){e?i(e):r(t)}))}))}},{key:"unsubscribe",value:function(e,t,n){var r=this;"string"==typeof e&&(e=[e]),"function"==typeof t&&(n=t),n=n||this.noop;var i=c.validateTopics(e);if(null!==i)return y(n,new Error("Invalid topic ".concat(i))),this;if(this._checkDisconnecting(n))return this;var a=function(){var i=r._nextId();if(null===i)return r.log("No messageId left"),!1;var a={cmd:"unsubscribe",messageId:i,unsubscriptions:[]};return"string"==typeof e?a.unsubscriptions=[e]:Array.isArray(e)&&(a.unsubscriptions=e),r.options.resubscribe&&a.unsubscriptions.forEach((function(e){delete r._resubscribeTopics[e]})),"object"==(0,M.default)(t)&&t.properties&&(a.properties=t.properties),r.outgoing[a.messageId]={volatile:!0,cb:n},r.log("unsubscribe: call _sendPacket"),r._sendPacket(a),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!a())&&this._storeProcessingQueue.push({invoke:a,callback:n}),this}},{key:"unsubscribeAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.unsubscribe(e,t,(function(e,t){e?i(e):r(t)}))}))}},{key:"end",value:function(e,t,n){var r=this;this.log("end :: (%s)",this.options.clientId),(null==e||"boolean"!=typeof e)&&(n=n||t,t=e,e=!1),"object"!=(0,M.default)(t)&&(n=n||t,t=null),this.log("end :: cb? %s",!!n),(!n||"function"!=typeof n)&&(n=this.noop);var i=function(){r.log("end :: closeStores: closing incoming and outgoing stores"),r.disconnected=!0,r.incomingStore.close((function(e){r.outgoingStore.close((function(t){if(r.log("end :: closeStores: emitting end"),r.emit("end"),n){var i=e||t;r.log("end :: closeStores: invoking callback with args"),n(i)}}))})),r._deferredReconnect?r._deferredReconnect():(0===r.options.reconnectPeriod||r.options.manualConnect)&&(r.disconnecting=!1)},a=function(){r.log("end :: (%s) :: finish :: calling _cleanUp with force %s",r.options.clientId,e),r._cleanUp(e,(function(){r.log("end :: finish :: calling process.nextTick on closeStores"),(0,p.nextTick)(i)}),t)};return this.disconnecting?(n(),this):(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,a,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),a()),this)}},{key:"endAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.end(e,t,(function(e){e?i(e):r()}))}))}},{key:"removeOutgoingMessage",value:function(e){if(this.outgoing[e]){var t=this.outgoing[e].cb;this._removeOutgoingAndStoreMessage(e,(function(){t(new Error("Message removed"))}))}return this}},{key:"reconnect",value:function(e){var t=this;this.log("client reconnect");var n=function(){e?(t.options.incomingStore=e.incomingStore,t.options.outgoingStore=e.outgoingStore):(t.options.incomingStore=null,t.options.outgoingStore=null),t.incomingStore=t.options.incomingStore||new d.default,t.outgoingStore=t.options.outgoingStore||new d.default,t.disconnecting=!1,t.disconnected=!1,t._deferredReconnect=null,t._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=n:n(),this}},{key:"_flushVolatile",value:function(){var e=this;this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach((function(t){e.outgoing[t].volatile&&"function"==typeof e.outgoing[t].cb&&(e.outgoing[t].cb(new Error("Connection closed")),delete e.outgoing[t])})))}},{key:"_flush",value:function(){var e=this;this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach((function(t){"function"==typeof e.outgoing[t].cb&&(e.outgoing[t].cb(new Error("Connection closed")),delete e.outgoing[t])})))}},{key:"_removeTopicAliasAndRecoverTopicName",value:function(e){var t;e.properties&&(t=e.properties.topicAlias);var n=e.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",t,n),0===n.length){if((0,M.default)(t)>"u")return new Error("Unregistered Topic Alias");if(n=this.topicAliasSend.getTopicByAlias(t),(0,M.default)(n)>"u")return new Error("Unregistered Topic Alias");e.topic=n}t&&delete e.properties.topicAlias}},{key:"_checkDisconnecting",value:function(e){return this.disconnecting&&(e&&e!==this.noop?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}},{key:"_reconnect",value:function(){var e=this;this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end((function(){e.connect()})),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}},{key:"_setupReconnect",value:function(){var e=this;!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval((function(){e.log("reconnectTimer :: reconnect triggered!"),e._reconnect()}),this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}},{key:"_clearReconnect",value:function(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}},{key:"_cleanUp",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",t)),this.log("_cleanUp :: forced? %s",e),e)0===this.options.reconnectPeriod&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{var i=Object.assign({cmd:"disconnect"},r);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(i,(function(){n.log("_cleanUp :: (%s) :: destroying stream",n.options.clientId),y((function(){n.stream.end((function(){n.log("_cleanUp :: (%s) :: stream destroyed",n.options.clientId)}))}))}))}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),t&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",t),t())}},{key:"_storeAndSend",value:function(e,t,n){var r=this;this.log("storeAndSend :: store packet with cmd %s to outgoingStore",e.cmd);var i,a=e;if("publish"===a.cmd&&(a=(0,l.default)(e),i=this._removeTopicAliasAndRecoverTopicName(a),i))return t&&t(i);this.outgoingStore.put(a,(function(i){if(i)return t&&t(i);n(),r._writePacket(e,t)}))}},{key:"_applyTopicAlias",value:function(e){if(5===this.options.protocolVersion&&"publish"===e.cmd){var t;e.properties&&(t=e.properties.topicAlias);var n=e.topic.toString();if(this.topicAliasSend)if(t){if(0!==n.length&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",n,t),!this.topicAliasSend.put(n,t)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",n,t),new Error("Sending Topic Alias out of range")}else 0!==n.length&&(this.options.autoAssignTopicAlias?(t=this.topicAliasSend.getAliasByTopic(n),t?(e.topic="",e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:t}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",n,t)):(t=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(n,t),e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:t}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",n,t))):this.options.autoUseTopicAlias&&(t=this.topicAliasSend.getAliasByTopic(n),t&&(e.topic="",e.properties=Object.assign(Object.assign({},e.properties),{topicAlias:t}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",n,t))));else if(t)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",n,t),new Error("Sending Topic Alias out of range")}}},{key:"_noop",value:function(e){this.log("noop ::",e)}},{key:"_writePacket",value:function(e,t){this.log("_writePacket :: packet: %O",e),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",e),this.log("_writePacket :: writing to stream");var n=o.default.writeToStream(e,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",n),!n&&t&&t!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",t)):t&&(this.log("_writePacket :: invoking cb"),t())}},{key:"_sendPacket",value:function(e,t,n,r){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),n=n||this.noop,t=t||this.noop;var i=this._applyTopicAlias(e);if(i)t(i);else{if(!this.connected)return"auth"===e.cmd?void this._writePacket(e,t):(this.log("_sendPacket :: client not connected. Storing packet offline."),void this._storePacket(e,t,n));if(r)this._writePacket(e,t);else{switch(e.cmd){case"publish":break;case"pubrel":return void this._storeAndSend(e,t,n);default:return void this._writePacket(e,t)}switch(e.qos){case 2:case 1:this._storeAndSend(e,t,n);break;case 0:default:this._writePacket(e,t);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}}}},{key:"_storePacket",value:function(e,t,n){this.log("_storePacket :: packet: %o",e),this.log("_storePacket :: cb? %s",!!t),n=n||this.noop;var r=e;if("publish"===r.cmd){r=(0,l.default)(e);var i=this._removeTopicAliasAndRecoverTopicName(r);if(i)return t&&t(i)}var a=r.qos||0;0===a&&this.queueQoSZero||"publish"!==r.cmd?this.queue.push({packet:r,cb:t}):a>0?(t=this.outgoing[r.messageId]?this.outgoing[r.messageId].cb:null,this.outgoingStore.put(r,(function(e){if(e)return t&&t(e);n()}))):t&&t(new Error("No connection to broker"))}},{key:"_setupKeepaliveManager",value:function(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new m.default(this,this.options.timerVariant))}},{key:"_destroyKeepaliveManager",value:function(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}},{key:"reschedulePing",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.keepaliveManager&&this.options.keepalive&&(e||this.options.reschedulePings)&&this._reschedulePing()}},{key:"_reschedulePing",value:function(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}},{key:"sendPing",value:function(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}},{key:"onKeepaliveTimeout",value:function(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}},{key:"_resubscribe",value:function(){this.log("_resubscribe");var e=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&e.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion){this.log("_resubscribe: protocolVersion 5");for(var t=0;t<e.length;t++){var n={};n[e[t]]=this._resubscribeTopics[e[t]],n.resubscribe=!0,this.subscribe(n,{properties:n[e[t]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}},{key:"_onConnect",value:function(e){var t=this;if(this.disconnected)this.emit("connect",e);else{this.connackPacket=e,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;(function n(){var r=t.outgoingStore.createStream(),i=function(){r.destroy(),r=null,t._flushStoreProcessingQueue(),a()},a=function(){t._storeProcessing=!1,t._packetIdsDuringStoreProcessing={}};t.once("close",i),r.on("error",(function(e){a(),t._flushStoreProcessingQueue(),t.removeListener("close",i),t.emit("error",e)}));r.on("end",(function(){var r=!0;for(var o in t._packetIdsDuringStoreProcessing)if(!t._packetIdsDuringStoreProcessing[o]){r=!1;break}t.removeListener("close",i),r?(a(),t._invokeAllStoreProcessingQueue(),t.emit("connect",e)):n()})),function e(){if(r){var n,i=r.read(1);i?(t._storeProcessing=!0,t._packetIdsDuringStoreProcessing[i.messageId]?e():t.disconnecting||t.reconnectTimer?r.destroy&&r.destroy():(n=t.outgoing[i.messageId]?t.outgoing[i.messageId].cb:null,t.outgoing[i.messageId]={volatile:!1,cb:function(t,r){n&&n(t,r),e()}},t._packetIdsDuringStoreProcessing[i.messageId]=!0,t.messageIdProvider.register(i.messageId)?t._sendPacket(i,void 0,void 0,!0):t.log("messageId: %d has already used.",i.messageId))):r.once("readable",e)}}()})()}}},{key:"_invokeStoreProcessingQueue",value:function(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){var e=this._storeProcessingQueue[0];if(e&&e.invoke())return this._storeProcessingQueue.shift(),!0}return!1}},{key:"_invokeAllStoreProcessingQueue",value:function(){for(;this._invokeStoreProcessingQueue(););}},{key:"_flushStoreProcessingQueue",value:function(){var e,t=F(this._storeProcessingQueue);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.cbStorePut&&n.cbStorePut(new Error("Connection closed")),n.callback&&n.callback(new Error("Connection closed"))}}catch(r){t.e(r)}finally{t.f()}this._storeProcessingQueue.splice(0)}},{key:"_removeOutgoingAndStoreMessage",value:function(e,t){var n=this;delete this.outgoing[e],this.outgoingStore.del({messageId:e},(function(r,i){t(r,i),n.messageIdProvider.deallocate(e),n._invokeStoreProcessingQueue()}))}}],[{key:"defaultId",value:function(){return"mqttjs_".concat(Math.random().toString(16).substr(2,8))}}]),n}(v.TypedEventEmitter);A.VERSION=p.MQTTJS_VERSION,e.default=A})),ha=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zi(),n=function(){function e(){(0,_.default)(this,e),this.numberAllocator=new t.NumberAllocator(1,65535)}return(0,b.default)(e,[{key:"allocate",value:function(){return this.lastId=this.numberAllocator.alloc(),this.lastId}},{key:"getLastAllocated",value:function(){return this.lastId}},{key:"register",value:function(e){return this.numberAllocator.use(e)}},{key:"deallocate",value:function(e){this.numberAllocator.free(e)}},{key:"clear",value:function(){this.numberAllocator.clear()}}]),e}();e.default=n}));function da(e){throw new RangeError(ya[e])}function fa(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]);var i=function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(ga,".")).split("."),t).join(".");return r+i}function pa(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}var va,ma,ga,ya,_a,ba,xa,wa,Sa,Aa,Ma,Ta=X((function(){J(),Ht(),kt(),va=/^xn--/,ma=/[^\0-\x7E]/,ga=/[\x2E\u3002\uFF0E\uFF61]/g,ya={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_a=Math.floor,ba=String.fromCharCode,xa=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},wa=function(e,t,n){var r=0;for(e=n?_a(e/700):e>>1,e+=_a(e/t);e>455;r+=36)e=_a(e/35);return _a(r+36*e/(e+38))},Sa=function(e){var t,n=[],r=e.length,i=0,a=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&da("not-basic"),n.push(e.charCodeAt(u));for(var l=s>0?s+1:0;l<r;){for(var c=i,h=1,d=36;;d+=36){l>=r&&da("invalid-input");var f=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(f>=36||f>_a((2147483647-i)/h))&&da("overflow"),i+=f*h;var p=d<=o?1:d>=o+26?26:d-o;if(f<p)break;var v=36-p;h>_a(2147483647/v)&&da("overflow"),h*=v}var m=n.length+1;o=wa(i-c,m,0==c),_a(i/m)>2147483647-a&&da("overflow"),a+=_a(i/m),i%=m,n.splice(i++,0,a)}return String.fromCodePoint.apply(String,n)},Aa=function(e){var t,n=[],r=(e=pa(e)).length,i=128,a=0,o=72,s=F(e);try{for(s.s();!(t=s.n()).done;){var u=t.value;u<128&&n.push(ba(u))}}catch(A){s.e(A)}finally{s.f()}var l=n.length,c=l;for(l&&n.push("-");c<r;){var h,d=2147483647,f=F(e);try{for(f.s();!(h=f.n()).done;){var p=h.value;p>=i&&p<d&&(d=p)}}catch(A){f.e(A)}finally{f.f()}var v=c+1;d-i>_a((2147483647-a)/v)&&da("overflow"),a+=(d-i)*v,i=d;var m,g=F(e);try{for(g.s();!(m=g.n()).done;){var y=m.value;if(y<i&&++a>2147483647&&da("overflow"),y==i){for(var _=a,b=36;;b+=36){var x=b<=o?1:b>=o+26?26:b-o;if(_<x)break;var w=_-x,S=36-x;n.push(ba(xa(x+w%S,0))),_=_a(w/S)}n.push(ba(xa(_,0))),o=wa(a,v,c==l),a=0,++c}}}catch(A){g.e(A)}finally{g.f()}++a,++i}return n.join("")},Ma={version:"2.1.0",ucs2:{decode:pa,encode:function(e){return String.fromCodePoint.apply(String,(0,m.default)(e))}},decode:Sa,encode:Aa,toASCII:function(e){return fa(e,(function(e){return ma.test(e)?"xn--"+Aa(e):e}))},toUnicode:function(e){return fa(e,(function(e){return va.test(e)?Sa(e.slice(4).toLowerCase()):e}))}},Ma.decode,Ma.encode,Ma.toASCII,Ma.toUnicode,Ma.ucs2,Ma.version}));function Ea(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ka,Ca,Pa,Ra,Ia=X((function(){J(),Ht(),kt(),ka=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var u=0;u<s;++u){var l,c,h,d,f=e[u].replace(a,"%20"),p=f.indexOf(n);p>=0?(l=f.substr(0,p),c=f.substr(p+1)):(l=f,c=""),h=decodeURIComponent(l),d=decodeURIComponent(c),Ea(i,h)?Array.isArray(i[h])?i[h].push(d):i[h]=[i[h],d]:i[h]=d}return i},Ca=function(e){switch((0,M.default)(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Pa=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==(0,M.default)(e)?Object.keys(e).map((function(r){var i=encodeURIComponent(Ca(r))+n;return Array.isArray(e[r])?e[r].map((function(e){return i+encodeURIComponent(Ca(e))})).join(t):i+encodeURIComponent(Ca(e[r]))})).join(t):r?encodeURIComponent(Ca(r))+n+encodeURIComponent(Ca(e)):""},Ra={},Ra.decode=Ra.parse=ka,Ra.encode=Ra.stringify=Pa,Ra.decode,Ra.encode,Ra.parse,Ra.stringify}));function Oa(){throw new Error("setTimeout has not been defined")}function La(){throw new Error("clearTimeout has not been defined")}function Da(e){if(za===setTimeout)return setTimeout(e,0);if((za===Oa||!za)&&setTimeout)return za=setTimeout,setTimeout(e,0);try{return za(e,0)}catch(t){try{return za.call(null,e,0)}catch(n){return za.call(this||Ga,e,0)}}}function Ba(){Xa&&Va&&(Xa=!1,Va.length?qa=Va.concat(qa):Ya=-1,qa.length&&Ua())}function Ua(){if(!Xa){var e=Da(Ba);Xa=!0;for(var t=qa.length;t;){for(Va=qa,qa=[];++Ya<t;)Va&&Va[Ya].run();Ya=-1,t=qa.length}Va=null,Xa=!1,function(e){if(Ha===clearTimeout)return clearTimeout(e);if((Ha===La||!Ha)&&clearTimeout)return Ha=clearTimeout,clearTimeout(e);try{Ha(e)}catch(t){try{return Ha.call(null,e)}catch(n){return Ha.call(this||Ga,e)}}}(e)}}function Na(e,t){(this||Ga).fun=e,(this||Ga).array=t}function Fa(){}var ja,za,Ha,Ga,Wa,Va,qa,Xa,Ya,Ka,Qa=X((function(){J(),Ht(),kt(),Ga=("undefined"===typeof globalThis?"undefined":(0,M.default)(globalThis))<"u"?globalThis:("undefined"===typeof self?"undefined":(0,M.default)(self))<"u"?self:i,Wa=ja={},function(){try{za="function"==typeof setTimeout?setTimeout:Oa}catch(e){za=Oa}try{Ha="function"==typeof clearTimeout?clearTimeout:La}catch(t){Ha=La}}(),qa=[],Xa=!1,Ya=-1,Wa.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];qa.push(new Na(e,t)),1!==qa.length||Xa||Da(Ua)},Na.prototype.run=function(){(this||Ga).fun.apply(null,(this||Ga).array)},Wa.title="browser",Wa.browser=!0,Wa.env={},Wa.argv=[],Wa.version="",Wa.versions={},Wa.on=Fa,Wa.addListener=Fa,Wa.once=Fa,Wa.off=Fa,Wa.removeListener=Fa,Wa.removeAllListeners=Fa,Wa.emit=Fa,Wa.prependListener=Fa,Wa.prependOnceListener=Fa,Wa.listeners=function(e){return[]},Wa.binding=function(e){throw new Error("process.binding is not supported")},Wa.cwd=function(){return"/"},Wa.chdir=function(e){throw new Error("process.chdir is not supported")},Wa.umask=function(){return 0},Ka=ja,Ka.addListener,Ka.argv,Ka.binding,Ka.browser,Ka.chdir,Ka.cwd,Ka.emit,Ka.env,Ka.listeners,Ka.nextTick,Ka.off,Ka.on,Ka.once,Ka.prependListener,Ka.prependOnceListener,Ka.removeAllListeners,Ka.removeListener,Ka.title,Ka.umask,Ka.version,Ka.versions}));function Ja(){if($a)return Za;$a=!0;var e,t,n=Za={};function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(i){return e.call(this||eo,t,0)}}}(function(){try{e="function"==typeof setTimeout?setTimeout:r}catch(n){e=r}try{t="function"==typeof clearTimeout?clearTimeout:i}catch(a){t=i}})();var o,s=[],u=!1,l=-1;function c(){!u||!o||(u=!1,o.length?s=o.concat(s):l=-1,s.length&&h())}function h(){if(!u){var e=a(c);u=!0;for(var n=s.length;n;){for(o=s,s=[];++l<n;)o&&o[l].run();l=-1,n=s.length}o=null,u=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===i||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(n){try{return t.call(null,e)}catch(r){return t.call(this||eo,e)}}}(e)}}function d(e,t){(this||eo).fun=e,(this||eo).array=t}function f(){}return n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new d(e,t)),1===s.length&&!u&&a(h)},d.prototype.run=function(){(this||eo).fun.apply(null,(this||eo).array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=f,n.addListener=f,n.once=f,n.off=f,n.removeListener=f,n.removeAllListeners=f,n.emit=f,n.prependListener=f,n.prependOnceListener=f,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0},Za}var Za,$a,eo,to,no=X((function(){J(),Ht(),kt(),Za={},$a=!1,eo=("undefined"===typeof globalThis?"undefined":(0,M.default)(globalThis))<"u"?globalThis:("undefined"===typeof self?"undefined":(0,M.default)(self))<"u"?self:i,to=Ja(),to.platform="browser",to.addListener,to.argv,to.binding,to.browser,to.chdir,to.cwd,to.emit,to.env,to.listeners,to.nextTick,to.off,to.on,to.once,to.prependListener,to.prependOnceListener,to.removeAllListeners,to.removeListener,to.title,to.umask,to.version,to.versions}));var ro,io,ao,oo=X((function(){J(),Ht(),kt(),no(),ro={},io=!1,ao=function(){if(io)return ro;io=!0;var e=to;function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,a=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(a!==s-1&&1!==o)if(a!==s-1&&2===o){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){-1===u?(r="",i=0):(r=r.slice(0,u),i=r.length-1-r.lastIndexOf("/")),a=s,o=0;continue}}else if(2===r.length||1===r.length){r="",i=0,a=s,o=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(a+1,s):r=e.slice(a+1,s),i=s-a-1;a=s,o=0}else 46===n&&-1!==o?++o:o=-1}return r}var r={resolve:function(){for(var r,i="",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var s;o>=0?s=arguments[o]:(void 0===r&&(r=e.cwd()),s=r),t(s),0!==s.length&&(i=s+"/"+i,a=47===s.charCodeAt(0))}return i=n(i,!a),a?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return e=n(e,!r),0===e.length&&!r&&(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n||(e=r.resolve(e),n=r.resolve(n),e===n))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var a=e.length,o=a-i,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var u=n.length,l=u-s,c=o<l?o:l,h=-1,d=0;d<=c;++d){if(d===c){if(l>c){if(47===n.charCodeAt(s+d))return n.slice(s+d+1);if(0===d)return n.slice(s+d)}else o>c&&(47===e.charCodeAt(i+d)?h=d:0===d&&(h=0));break}var f=e.charCodeAt(i+d),p=n.charCodeAt(s+d);if(f!==p)break;47===f&&(h=d)}var v="";for(d=i+h+1;d<=a;++d)(d===a||47===e.charCodeAt(d))&&(0===v.length?v+="..":v+="/..");return v.length>0?v+n.slice(s+h):(s+=h,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,a=!0,o=e.length-1;o>=1;--o)if(n=e.charCodeAt(o),47===n){if(!a){i=o;break}}else a=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,a=-1,o=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var s=n.length-1,u=-1;for(r=e.length-1;r>=0;--r){var l=e.charCodeAt(r);if(47===l){if(!o){i=r+1;break}}else-1===u&&(o=!1,u=r+1),s>=0&&(l===n.charCodeAt(s)?-1===--s&&(a=r):(s=-1,a=u))}return i===a?a=u:-1===a&&(a=e.length),e.slice(i,a)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!o){i=r+1;break}}else-1===a&&(o=!1,a=r+1);return-1===a?"":e.slice(i,a)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var u=e.charCodeAt(s);if(47!==u)-1===i&&(a=!1,i=s+1),46===u?-1===n?n=s:1!==o&&(o=1):-1!==n&&(o=-1);else if(!a){r=s+1;break}}return-1===n||-1===i||0===o||1===o&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=(0,M.default)(e))throw new TypeError('The "pathObject" argument must be of type Object. Received type '+(0,M.default)(e));return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),a=47===i;a?(n.root="/",r=1):r=0;for(var o=-1,s=0,u=-1,l=!0,c=e.length-1,h=0;c>=r;--c)if(i=e.charCodeAt(c),47!==i)-1===u&&(l=!1,u=c+1),46===i?-1===o?o=c:1!==h&&(h=1):-1!==o&&(h=-1);else if(!l){s=c+1;break}return-1===o||-1===u||0===h||1===h&&o===u-1&&o===s+1?-1!==u&&(n.base=n.name=0===s&&a?e.slice(1,u):e.slice(s,u)):(0===s&&a?(n.name=e.slice(1,o),n.base=e.slice(1,u)):(n.name=e.slice(s,o),n.base=e.slice(s,u)),n.ext=e.slice(o,u)),s>0?n.dir=e.slice(0,s-1):a&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,ro=r,ro}()})),so={};function uo(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function lo(e,t,n){if(e&&go.isObject(e)&&e instanceof uo)return e;var r=new uo;return r.parse(e,t,n),r}function co(e){if("string"==typeof e)e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if("file:"!==e.protocol)throw new Deno.errors.InvalidData("invalid url scheme");return Fo?function(e){for(var t=e.hostname,n=e.pathname,r=0;r<n.length;r++)if("%"===n[r]){var i=n.codePointAt(r+2)||32;if("2"===n[r+1]&&102===i||"5"===n[r+1]&&99===i)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(n=n.replace(jo,"\\"),n=decodeURIComponent(n),""!==t)return"\\\\".concat(t).concat(n);var a=32|n.codePointAt(1),o=n[2];if(a<Uo||a>No||":"!==o)throw new Deno.errors.InvalidData("file url path must be absolute");return n.slice(1)}(e):function(e){if(""!==e.hostname)throw new Deno.errors.InvalidData("invalid file url hostname");for(var t=e.pathname,n=0;n<t.length;n++)if("%"===t[n]){var r=t.codePointAt(n+2)||32;if("2"===t[n+1]&&102===r)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}(e)}function ho(e){var t=Oo.resolve(e),n=e.charCodeAt(e.length-1);(n===Bo||Fo&&n===Do)&&t[t.length-1]!==Oo.sep&&(t+="/");var r=new URL("file://");return t.includes("%")&&(t=t.replace(zo,"%25")),!Fo&&t.includes("\\")&&(t=t.replace(Ho,"%5C")),t.includes("\n")&&(t=t.replace(Go,"%0A")),t.includes("\r")&&(t=t.replace(Wo,"%0D")),t.includes("\t")&&(t=t.replace(Vo,"%09")),r.pathname=t,r}function fo(e){if("string"==typeof e)e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if("file:"!==e.protocol)throw new Deno.errors.InvalidData("invalid url scheme");return rs?function(e){for(var t=e.hostname,n=e.pathname,r=0;r<n.length;r++)if("%"===n[r]){var i=n.codePointAt(r+2)||32;if("2"===n[r+1]&&102===i||"5"===n[r+1]&&99===i)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(n=n.replace(is,"\\"),n=decodeURIComponent(n),""!==t)return"\\\\".concat(t).concat(n);var a=32|n.codePointAt(1),o=n[2];if(a<ts||a>ns||":"!==o)throw new Deno.errors.InvalidData("file url path must be absolute");return n.slice(1)}(e):function(e){if(""!==e.hostname)throw new Deno.errors.InvalidData("invalid file url hostname");for(var t=e.pathname,n=0;n<t.length;n++)if("%"===t[n]){var r=t.codePointAt(n+2)||32;if("2"===t[n+1]&&102===r)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}(e)}function po(e){var t=ao.resolve(e),n=e.charCodeAt(e.length-1);(n===es||rs&&n===$o)&&t[t.length-1]!==ao.sep&&(t+="/");var r=new URL("file://");return t.includes("%")&&(t=t.replace(as,"%25")),!rs&&t.includes("\\")&&(t=t.replace(os,"%5C")),t.includes("\n")&&(t=t.replace(ss,"%0A")),t.includes("\r")&&(t=t.replace(us,"%0D")),t.includes("\t")&&(t=t.replace(ls,"%09")),r.pathname=t,r}K(so,{URL:function(){return Zo},Url:function(){return Xo},default:function(){return vo},fileURLToPath:function(){return fo},format:function(){return Yo},parse:function(){return Jo},pathToFileURL:function(){return po},resolve:function(){return Ko},resolveObject:function(){return Qo}});var vo,mo,go,yo,_o,bo,xo,wo,So,Ao,Mo,To,Eo,ko,Co,Po,Ro,Io,Oo,Lo,Do,Bo,Uo,No,Fo,jo,zo,Ho,Go,Wo,Vo,qo,Xo,Yo,Ko,Qo,Jo,Zo,$o,es,ts,ns,rs,is,as,os,ss,us,ls,cs=X((function(){J(),Ht(),kt(),Ta(),Ia(),Qa(),oo(),no(),vo={},mo=Ma,go={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==(0,M.default)(e)&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}},vo.parse=lo,vo.resolve=function(e,t){return lo(e,!1,!0).resolve(t)},vo.resolveObject=function(e,t){return e?lo(e,!1,!0).resolveObject(t):t},vo.format=function(e){return go.isString(e)&&(e=lo(e)),e instanceof uo?e.format():uo.prototype.format.call(e)},vo.Url=uo,yo=/^([a-z0-9.+-]+:)/i,_o=/:[0-9]*$/,bo=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,xo=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),wo=["'"].concat(xo),So=["%","/","?",";","#"].concat(wo),Ao=["/","?","#"],Mo=/^[+a-z0-9A-Z_-]{0,63}$/,To=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Eo={javascript:!0,"javascript:":!0},ko={javascript:!0,"javascript:":!0},Co={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Po=Ra,uo.prototype.parse=function(e,t,n){if(!go.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+(0,M.default)(e));var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",a=e.split(i);a[0]=a[0].replace(/\\/g,"/");var o=e=a.join(i);if(o=o.trim(),!n&&1===e.split("#").length){var s=bo.exec(o);if(s)return this.path=o,this.href=o,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?Po.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=yo.exec(o);if(u){var l=(u=u[0]).toLowerCase();this.protocol=l,o=o.substr(u.length)}if(n||u||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===o.substr(0,2);!c||u&&ko[u]||(o=o.substr(2),this.slashes=!0)}if(!ko[u]&&(c||u&&!Co[u])){for(var h,d,f=-1,p=0;p<Ao.length;p++)-1!==(v=o.indexOf(Ao[p]))&&(-1===f||v<f)&&(f=v);for(-1!==(d=-1===f?o.lastIndexOf("@"):o.lastIndexOf("@",f))&&(h=o.slice(0,d),o=o.slice(d+1),this.auth=decodeURIComponent(h)),f=-1,p=0;p<So.length;p++){var v;-1!==(v=o.indexOf(So[p]))&&(-1===f||v<f)&&(f=v)}-1===f&&(f=o.length),this.host=o.slice(0,f),o=o.slice(f),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var g=this.hostname.split(/\./),y=(p=0,g.length);p<y;p++){var _=g[p];if(_&&!_.match(Mo)){for(var b="",x=0,w=_.length;x<w;x++)_.charCodeAt(x)>127?b+="x":b+=_[x];if(!b.match(Mo)){var S=g.slice(0,p),A=g.slice(p+1),T=_.match(To);T&&(S.push(T[1]),A.unshift(T[2])),A.length&&(o="/"+A.join(".")+o),this.hostname=S.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=mo.toASCII(this.hostname));var E=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+E,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!Eo[l])for(p=0,y=wo.length;p<y;p++){var C=wo[p];if(-1!==o.indexOf(C)){var P=encodeURIComponent(C);P===C&&(P=escape(C)),o=o.split(C).join(P)}}var R=o.indexOf("#");-1!==R&&(this.hash=o.substr(R),o=o.slice(0,R));var I=o.indexOf("?");if(-1!==I?(this.search=o.substr(I),this.query=o.substr(I+1),t&&(this.query=Po.parse(this.query)),o=o.slice(0,I)):t&&(this.search="",this.query={}),o&&(this.pathname=o),Co[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){E=this.pathname||"";var O=this.search||"";this.path=E+O}return this.href=this.format(),this},uo.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&go.isObject(this.query)&&Object.keys(this.query).length&&(a=Po.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||Co[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+r},uo.prototype.resolve=function(e){return this.resolveObject(lo(e,!1,!0)).format()},uo.prototype.resolveObject=function(e){if(go.isString(e)){var t=new uo;t.parse(e,!1,!0),e=t}for(var n=new uo,r=Object.keys(this),i=0;i<r.length;i++){var a=r[i];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),s=0;s<o.length;s++){var u=o[s];"protocol"!==u&&(n[u]=e[u])}return Co[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Co[e.protocol]){for(var l=Object.keys(e),c=0;c<l.length;c++){var h=l[c];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||ko[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",p=n.search||"";n.path=f+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),g=m||v||n.host&&e.pathname,y=g,_=n.pathname&&n.pathname.split("/")||[],b=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!Co[n.protocol]);if(b&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),g=g&&(""===d[0]||""===_[0])),m)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=d;else if(d.length)_||(_=[]),_.pop(),_=_.concat(d),n.search=e.search,n.query=e.query;else if(!go.isNullOrUndefined(e.search))return b&&(n.hostname=n.host=_.shift(),(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift())),n.search=e.search,n.query=e.query,go.isNull(n.pathname)&&go.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=_.slice(-1)[0],w=(n.host||e.host||_.length>1)&&("."===x||".."===x)||""===x,S=0,A=_.length;A>=0;A--)"."===(x=_[A])?_.splice(A,1):".."===x?(_.splice(A,1),S++):S&&(_.splice(A,1),S--);if(!g&&!y)for(;S--;S)_.unshift("..");!g||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),w&&"/"!==_.join("/").substr(-1)&&_.push("");var M,T=""===_[0]||_[0]&&"/"===_[0].charAt(0);return b&&(n.hostname=n.host=T?"":_.length?_.shift():"",(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift())),(g=g||n.host&&_.length)&&!T&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),go.isNull(n.pathname)&&go.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},uo.prototype.parseHost=function(){var e=this.host,t=_o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},vo.Url,vo.format,vo.resolve,vo.resolveObject,Ro={},Io=!1,Oo=function(){if(Io)return Ro;Io=!0;var e=Ka;function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,a=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(a!==s-1&&1!==o)if(a!==s-1&&2===o){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){-1===u?(r="",i=0):(r=r.slice(0,u),i=r.length-1-r.lastIndexOf("/")),a=s,o=0;continue}}else if(2===r.length||1===r.length){r="",i=0,a=s,o=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(a+1,s):r=e.slice(a+1,s),i=s-a-1;a=s,o=0}else 46===n&&-1!==o?++o:o=-1}return r}var r={resolve:function(){for(var r,i="",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var s;o>=0?s=arguments[o]:(void 0===r&&(r=e.cwd()),s=r),t(s),0!==s.length&&(i=s+"/"+i,a=47===s.charCodeAt(0))}return i=n(i,!a),a?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return e=n(e,!r),0===e.length&&!r&&(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n||(e=r.resolve(e),n=r.resolve(n),e===n))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var a=e.length,o=a-i,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var u=n.length,l=u-s,c=o<l?o:l,h=-1,d=0;d<=c;++d){if(d===c){if(l>c){if(47===n.charCodeAt(s+d))return n.slice(s+d+1);if(0===d)return n.slice(s+d)}else o>c&&(47===e.charCodeAt(i+d)?h=d:0===d&&(h=0));break}var f=e.charCodeAt(i+d),p=n.charCodeAt(s+d);if(f!==p)break;47===f&&(h=d)}var v="";for(d=i+h+1;d<=a;++d)(d===a||47===e.charCodeAt(d))&&(0===v.length?v+="..":v+="/..");return v.length>0?v+n.slice(s+h):(s+=h,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,a=!0,o=e.length-1;o>=1;--o)if(n=e.charCodeAt(o),47===n){if(!a){i=o;break}}else a=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,a=-1,o=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var s=n.length-1,u=-1;for(r=e.length-1;r>=0;--r){var l=e.charCodeAt(r);if(47===l){if(!o){i=r+1;break}}else-1===u&&(o=!1,u=r+1),s>=0&&(l===n.charCodeAt(s)?-1===--s&&(a=r):(s=-1,a=u))}return i===a?a=u:-1===a&&(a=e.length),e.slice(i,a)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!o){i=r+1;break}}else-1===a&&(o=!1,a=r+1);return-1===a?"":e.slice(i,a)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var u=e.charCodeAt(s);if(47!==u)-1===i&&(a=!1,i=s+1),46===u?-1===n?n=s:1!==o&&(o=1):-1!==n&&(o=-1);else if(!a){r=s+1;break}}return-1===n||-1===i||0===o||1===o&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=(0,M.default)(e))throw new TypeError('The "pathObject" argument must be of type Object. Received type '+(0,M.default)(e));return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),a=47===i;a?(n.root="/",r=1):r=0;for(var o=-1,s=0,u=-1,l=!0,c=e.length-1,h=0;c>=r;--c)if(i=e.charCodeAt(c),47!==i)-1===u&&(l=!1,u=c+1),46===i?-1===o?o=c:1!==h&&(h=1):-1!==o&&(h=-1);else if(!l){s=c+1;break}return-1===o||-1===u||0===h||1===h&&o===u-1&&o===s+1?-1!==u&&(n.base=n.name=0===s&&a?e.slice(1,u):e.slice(s,u)):(0===s&&a?(n.name=e.slice(1,o),n.base=e.slice(1,u)):(n.name=e.slice(s,o),n.base=e.slice(s,u)),n.ext=e.slice(o,u)),s>0?n.dir=e.slice(0,s-1):a&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,Ro=r,Ro}(),Lo=("undefined"===typeof Deno?"undefined":(0,M.default)(Deno))<"u"?"windows"===Deno.build.os?"win32":Deno.build.os:void 0,vo.URL=("undefined"===typeof URL?"undefined":(0,M.default)(URL))<"u"?URL:null,vo.pathToFileURL=ho,vo.fileURLToPath=co,vo.Url,vo.format,vo.resolve,vo.resolveObject,vo.URL,Do=92,Bo=47,Uo=97,No=122,Fo="win32"===Lo,jo=/\//g,zo=/%/g,Ho=/\\/g,Go=/\n/g,Wo=/\r/g,Vo=/\t/g,qo=("undefined"===typeof Deno?"undefined":(0,M.default)(Deno))<"u"?"windows"===Deno.build.os?"win32":Deno.build.os:void 0,vo.URL=("undefined"===typeof URL?"undefined":(0,M.default)(URL))<"u"?URL:null,vo.pathToFileURL=po,vo.fileURLToPath=fo,Xo=vo.Url,Yo=vo.format,Ko=vo.resolve,Qo=vo.resolveObject,Jo=vo.parse,Zo=vo.URL,$o=92,es=47,ts=97,ns=122,rs="win32"===qo,is=/\//g,as=/%/g,os=/\\/g,ss=/\n/g,us=/\r/g,ls=/\t/g})),hs=Y((function(e,t){J(),Ht(),kt(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}})),ds=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=e.writev=void 0;var t=ai(),n=(zt(),Q(Ct));function r(e,t){for(var r=new Array(e.length),i=0;i<e.length;i++)"string"==typeof e[i].chunk?r[i]=n.Buffer.from(e[i].chunk,"utf8"):r[i]=e[i].chunk;this._write(n.Buffer.concat(r),"binary",t)}e.writev=r;var i=function(e){(0,w.default)(n,e);var t=N(n);function n(e,i,a){var o;return(0,_.default)(this,n),o=t.call(this,{objectMode:!0}),o.proxy=i,o.socket=a,o.writeQueue=[],e.objectMode||(o._writev=r.bind((0,x.default)(o))),o.isSocketOpen=!1,o.proxy.on("data",(function(e){o.destroyed||o.push(e)})),o}return(0,b.default)(n,[{key:"_read",value:function(e){this.proxy.read(e)}},{key:"_write",value:function(e,t,n){this.isSocketOpen?this.writeToProxy(e,t,n):this.writeQueue.push({chunk:e,encoding:t,cb:n})}},{key:"_final",value:function(e){this.writeQueue=[],this.proxy.end(e)}},{key:"_destroy",value:function(e,t){this.writeQueue=[],this.proxy.destroy(),t(e)}},{key:"socketReady",value:function(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}},{key:"writeToProxy",value:function(e,t,n){!1===this.proxy.write(e,t)?this.proxy.once("drain",n):n()}},{key:"processWriteQueue",value:function(){for(;this.writeQueue.length>0;){var e=this.writeQueue.shift(),t=e.chunk,n=e.encoding,r=e.cb;this.writeToProxy(t,n,r)}}}]),n}(t.Duplex);e.BufferedDuplex=i})),fs=Y((function(e){J(),Ht(),kt();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var n=(zt(),Q(Ct)),r=t(hs()),i=t(fi()),a=ai(),o=t(ia()),s=ds(),u=(0,i.default)("mqttjs:ws"),l=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function h(e,t){var n="".concat(e.protocol,"://").concat(e.hostname,":").concat(e.port).concat(e.path);return"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}function d(e){var t=e;return e.port||("wss"===e.protocol?t.port=443:t.port=80),e.path||(t.path="/"),e.wsOptions||(t.wsOptions={}),!o.default&&!e.forceNativeWebSocket&&"wss"===e.protocol&&l.forEach((function(n){Object.prototype.hasOwnProperty.call(e,n)&&!Object.prototype.hasOwnProperty.call(e.wsOptions,n)&&(t.wsOptions[n]=e[n])})),t}e.streamBuilder=function(e,t){u("streamBuilder");var n=d(t);n.hostname=n.hostname||n.host||"localhost";var i=h(n,e),a=function(e,t,n){u("createWebSocket"),u("protocol: ".concat(n.protocolId," ").concat(n.protocolVersion));var i,a="MQIsdp"===n.protocolId&&3===n.protocolVersion?"mqttv3.1":"mqtt";return u("creating new Websocket for url: ".concat(t," and protocol: ").concat(a)),i=n.createWebsocket?n.createWebsocket(t,[a],n):new r.default(t,[a],n.wsOptions),i}(0,i,n),o=r.default.createWebSocketStream(a,n.wsOptions);return o.url=i,a.on("close",(function(){o.destroy()})),o};e.browserStreamBuilder=function(e,t){u("browserStreamBuilder");var r,i=function(e){var t=d(e);if(t.hostname||(t.hostname=t.host),!t.hostname){if(("undefined"===typeof document?"undefined":(0,M.default)(document))>"u")throw new Error("Could not determine host. Specify host manually.");var n=new URL(document.URL);t.hostname=n.hostname,t.port||(t.port=Number(n.port))}return void 0===t.objectMode&&(t.objectMode=!(!0===t.binary||void 0===t.binary)),t}(t).browserBufferSize||524288,o=t.browserBufferTimeout||1e3,l=!t.objectMode,f=function(e,t){var n,r="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt",i=h(t,e);return n=t.createWebsocket?t.createWebsocket(i,[r],t):new WebSocket(i,[r]),n.binaryType="arraybuffer",n}(e,t),p=function(e,t,n){var r=new a.Transform({objectMode:e.objectMode});return r._write=t,r._flush=n,r}(t,(function e(t,r,a){if(f.bufferedAmount>i)return void setTimeout(e,o,t,r,a);l&&"string"==typeof t&&(t=n.Buffer.from(t,"utf8"));try{f.send(t)}catch(s){return a(s)}a()}),(function(e){f.close(),e()}));t.objectMode||(p._writev=s.writev.bind(p)),p.on("close",(function(){f.close()}));var v=(0,M.default)(f.addEventListener)<"u";function m(){u("WebSocket onOpen"),r instanceof s.BufferedDuplex&&r.socketReady()}function g(e){u("WebSocket onClose",e),r.end(),r.destroy()}function _(e){u("WebSocket onError",e);var t=new Error("WebSocket error");t.event=e,r.destroy(t)}function b(e){return x.apply(this,arguments)}function x(){return x=(0,y.default)(c.default.mark((function e(t){var r;return c.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.data,!(r instanceof ArrayBuffer)){e.next=5;break}r=n.Buffer.from(r),e.next=14;break;case 5:if(!(r instanceof Blob)){e.next=13;break}return e.t0=n.Buffer,e.next=9,new Response(r).arrayBuffer();case 9:e.t1=e.sent,r=e.t0.from.call(e.t0,e.t1),e.next=14;break;case 13:r=n.Buffer.from(r,"utf8");case 14:p&&!p.destroyed&&p.push(r);case 15:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}return f.readyState===f.OPEN?(r=p,r.socket=f):(r=new s.BufferedDuplex(t,p,f),v?f.addEventListener("open",m):f.onopen=m),v?(f.addEventListener("close",g),f.addEventListener("error",_),f.addEventListener("message",b)):(f.onclose=g,f.onerror=_,f.onmessage=b),r}})),ps={};function vs(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}K(ps,{Server:function(){return vs},Socket:function(){return vs},Stream:function(){return vs},_createServerHandle:function(){return vs},_normalizeArgs:function(){return vs},_setSimultaneousAccepts:function(){return vs},connect:function(){return vs},createConnection:function(){return vs},createServer:function(){return vs},default:function(){return ms},isIP:function(){return vs},isIPv4:function(){return vs},isIPv6:function(){return vs}});var ms,gs=X((function(){J(),Ht(),kt(),ms={_createServerHandle:vs,_normalizeArgs:vs,_setSimultaneousAccepts:vs,connect:vs,createConnection:vs,createServer:vs,isIP:vs,isIPv4:vs,isIPv6:vs,Server:vs,Socket:vs,Stream:vs}})),ys=Y((function(e){J(),Ht(),kt();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var n=t((gs(),Q(ps))),r=t(fi()),i=(0,r.default)("mqttjs:tcp");e.default=function(e,t){t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost";var r=t.port,a=t.path,o=t.hostname;return i("port %d and host %s",r,o),n.default.createConnection({port:r,host:o,path:a})}})),_s={};K(_s,{default:function(){return bs}});var bs,xs=X((function(){J(),Ht(),kt(),bs={}})),ws=Y((function(e){J(),Ht(),kt();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var n=t((xs(),Q(_s))),r=t((gs(),Q(ps))),i=t(fi()),a=(0,i.default)("mqttjs:tls");e.default=function(e,t){t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",0===r.default.isIP(t.host)&&(t.servername=t.host),t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,a("port %d host %s rejectUnauthorized %b",t.port,t.host,t.rejectUnauthorized);var i=n.default.connect(t);function o(n){t.rejectUnauthorized&&e.emit("error",n),i.end()}return i.on("secureConnect",(function(){t.rejectUnauthorized&&!i.authorized?i.emit("error",new Error("TLS not authorized")):i.removeListener("error",o)})),i.on("error",o),i}})),Ss=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0});var t,n,r,i=(zt(),Q(Ct)),o=ai(),s=ds();e.default=function(e,u){if(u.hostname=u.hostname||u.host,!u.hostname)throw new Error("Could not determine host. Specify host manually.");var l="MQIsdp"===u.protocolId&&3===u.protocolVersion?"mqttv3.1":"mqtt";(function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})})(u);var c=function(e,t){var n="wxs"===e.protocol?"wss":"ws",r="".concat(n,"://").concat(e.hostname).concat(e.path);return e.port&&80!==e.port&&443!==e.port&&(r="".concat(n,"://").concat(e.hostname,":").concat(e.port).concat(e.path)),"function"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}(u,e);t=a.connectSocket({url:c,protocols:[l]}),n=function(){var e=new o.Transform;return e._write=function(e,n,r){t.send({data:e.buffer,success:function(){r()},fail:function(e){r(new Error(e))}})},e._flush=function(e){t.close({success:function(){e()}})},e}(),r=new s.BufferedDuplex(u,n,t),r._destroy=function(e,n){t.close({success:function(){n&&n(e)}})};var h=r.destroy;return r.destroy=function(e,n){return r.destroy=h,setTimeout((function(){t.close({fail:function(){r._destroy(e,n)}})}),0),r},function(){t.onOpen((function(){r.socketReady()})),t.onMessage((function(e){var t=e.data;t=t instanceof ArrayBuffer?i.Buffer.from(t):i.Buffer.from(t,"utf8"),n.push(t)})),t.onClose((function(){r.emit("close"),r.end(),r.destroy()})),t.onError((function(e){var t=new Error(e.errMsg);r.destroy(t)}))}(),r}})),As=Y((function(e){J(),Ht(),kt(),Object.defineProperty(e,"__esModule",{value:!0});var t,n,r,i=(zt(),Q(Ct)),a=ai(),o=ds(),s=!1;e.default=function(e,u){if(u.hostname=u.hostname||u.host,!u.hostname)throw new Error("Could not determine host. Specify host manually.");var l="MQIsdp"===u.protocolId&&3===u.protocolVersion?"mqttv3.1":"mqtt";(function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})})(u);var c=function(e,t){var n="alis"===e.protocol?"wss":"ws",r="".concat(n,"://").concat(e.hostname).concat(e.path);return e.port&&80!==e.port&&443!==e.port&&(r="".concat(n,"://").concat(e.hostname,":").concat(e.port).concat(e.path)),"function"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}(u,e);return t=u.my,t.connectSocket({url:c,protocols:l}),n=function(){var e=new a.Transform;return e._write=function(e,n,r){t.sendSocketMessage({data:e.buffer,success:function(){r()},fail:function(){r(new Error)}})},e._flush=function(e){t.closeSocket({success:function(){e()}})},e}(),r=new o.BufferedDuplex(u,n,t),function(){s||(s=!0,t.onSocketOpen((function(){r.socketReady()})),t.onSocketMessage((function(e){if("string"==typeof e.data){var t=i.Buffer.from(e.data,"base64");n.push(t)}else{var r=new FileReader;r.addEventListener("load",(function(){var e=r.result;e=e instanceof ArrayBuffer?i.Buffer.from(e):i.Buffer.from(e,"utf8"),n.push(e)})),r.readAsArrayBuffer(e.data)}})),t.onSocketClose((function(){r.end(),r.destroy()})),t.onSocketError((function(e){r.destroy(e)})))}(),r}})),Ms=Y((function(e){J(),Ht(),kt();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=void 0;var n=t(fi()),r=t((cs(),Q(so))),i=t(ca()),a=t(ia());"function"!=typeof(null===Z||void 0===Z?void 0:Z.nextTick)&&(Z.nextTick=setImmediate);var o=(0,n.default)("mqttjs"),s=null;function u(e,t){var n,u,l,c;if(o("connecting to an MQTT broker..."),"object"==(0,M.default)(e)&&!t&&(t=e,e=""),t=t||{},e&&"string"==typeof e){var h=r.default.parse(e,!0),d={};if(null!=h.port&&(d.port=Number(h.port)),d.host=h.hostname,d.query=h.query,d.auth=h.auth,d.protocol=h.protocol,d.path=h.path,d.protocol=null===(n=d.protocol)||void 0===n?void 0:n.replace(/:$/,""),t=Object.assign(Object.assign({},d),t),!t.protocol)throw new Error("Missing protocol")}if(t.unixSocket=t.unixSocket||(null===(u=t.protocol)||void 0===u?void 0:u.includes("+unix")),t.unixSocket?t.protocol=t.protocol.replace("+unix",""):!(null!==(l=t.protocol)&&void 0!==l&&l.startsWith("ws"))&&!(null!==(c=t.protocol)&&void 0!==c&&c.startsWith("wx"))&&delete t.path,function(e){var t;e.auth&&(t=e.auth.match(/^(.+):(.+)$/),t?(e.username=t[1],e.password=t[2]):e.username=e.auth)}(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;case"wx":t.protocol="wxs";break;case"ali":t.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'.concat(t.protocol,'"!'))}}if(s||(s={},a.default||t.forceNativeWebSocket?(s.ws=fs().browserStreamBuilder,s.wss=fs().browserStreamBuilder,s.wx=Ss().default,s.wxs=Ss().default,s.ali=As().default,s.alis=As().default):(s.ws=fs().streamBuilder,s.wss=fs().streamBuilder,s.mqtt=ys().default,s.tcp=ys().default,s.ssl=ws().default,s.tls=s.ssl,s.mqtts=ws().default)),!s[t.protocol]){var f=-1!==["mqtts","wss"].indexOf(t.protocol);t.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((function(e,t){return(!f||t%2!==0)&&"function"==typeof s[e]}))[0]}if(!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");t.protocol&&(t.defaultProtocol=t.protocol);var p=new i.default((function(e){return t.servers&&((!e._reconnectCount||e._reconnectCount===t.servers.length)&&(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),o("calling streambuilder for",t.protocol),s[t.protocol](e,t)}),t);return p.on("error",(function(){})),p}e.connectAsync=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise((function(r,i){var a=u(e,t),o={connect:function(e){s(),r(a)},end:function(){s(),r(a)},error:function(e){s(),a.end(),i(e)}};function s(){Object.keys(o).forEach((function(e){a.off(e,o[e])}))}!1===n&&(o.close=function(){o.error(new Error("Couldn't connect to server"))}),Object.keys(o).forEach((function(e){a.on(e,o[e])}))}))},e.default=u})),Ts=Y((function(e){J(),Ht(),kt();var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r},i=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)},a=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var o=a(ca());e.MqttClient=o.default;var s=a(bi());e.DefaultMessageIdProvider=s.default;var u=a(ha());e.UniqueMessageIdProvider=u.default;var l=a(Ai());e.Store=l.default;var c=r(Ms());e.connect=c.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return c.connectAsync}});var h=a(la());e.KeepaliveManager=h.default,e.Client=o.default,i(ca(),e),i(Ei(),e);var d=ki();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return d.ReasonCodes}})})),Es=Y((function(e){J(),Ht(),kt();var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r},i=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0});var a=r(Ts());e.default=a,i(Ts(),e)})),ks=Es();
/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
t.default=ks}).call(this,n("f3b9")["default"],n("0ee4"),n("ed83")["default"])},"2be7":function(e,t,n){"use strict";n.r(t);var r=n("e38b");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var a=n("828b"),o=Object(a["a"])(r["default"],void 0,void 0,!1,null,null,null,!1,void 0,void 0);t["default"]=o.exports},"2ec2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={code:{seconds:60,startText:"\u83b7\u53d6\u9a8c\u8bc1\u7801",changeText:"X\u79d2\u91cd\u65b0\u83b7\u53d6",endText:"\u91cd\u65b0\u83b7\u53d6",keepRunning:!1,uniqueKey:""}}},"2ec6":function(e,t,n){if("undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))}),"undefined"!==typeof uni&&uni&&uni.requireGlobal){var r=uni.requireGlobal();ArrayBuffer=r.ArrayBuffer,Int8Array=r.Int8Array,Uint8Array=r.Uint8Array,Uint8ClampedArray=r.Uint8ClampedArray,Int16Array=r.Int16Array,Uint16Array=r.Uint16Array,Int32Array=r.Int32Array,Uint32Array=r.Uint32Array,Float32Array=r.Float32Array,Float64Array=r.Float64Array,BigInt64Array=r.BigInt64Array,BigUint64Array=r.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(n("b485").default)})),__definePage("pages/home",(function(){return Vue.extend(n("4925").default)})),__definePage("pages/service",(function(){return Vue.extend(n("5314").default)})),__definePage("pages/shuju",(function(){return Vue.extend(n("64fe").default)})),__definePage("pages/myPage",(function(){return Vue.extend(n("c27e").default)})),__definePage("pages/myPage/settings",(function(){return Vue.extend(n("77a5").default)})),__definePage("pages/Ai",(function(){return Vue.extend(n("797e").default)})),__definePage("pages/myPage/about",(function(){return Vue.extend(n("a7db").default)})),__definePage("pages/myPage/userInfo/email",(function(){return Vue.extend(n("d0be").default)})),__definePage("pages/myPage/userInfo/ChangePassword",(function(){return Vue.extend(n("6890").default)})),__definePage("pages/myPage/userInfo/ResetPwd",(function(){return Vue.extend(n("af3d").default)})),__definePage("pages/myPage/AboutInfo/functionPage",(function(){return Vue.extend(n("a31d").default)})),__definePage("pages/register",(function(){return Vue.extend(n("5ca8").default)})),__definePage("pages/myPage/privacy",(function(){return Vue.extend(n("aed9").default)})),__definePage("pages/myPage/userInfo/userInfo",(function(){return Vue.extend(n("1c1f").default)}))},"2f2a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{name:{type:String,default:uni.$u.props.icon.name},color:{type:String,default:uni.$u.props.icon.color},size:{type:[String,Number],default:uni.$u.props.icon.size},bold:{type:Boolean,default:uni.$u.props.icon.bold},index:{type:[String,Number],default:uni.$u.props.icon.index},hoverClass:{type:String,default:uni.$u.props.icon.hoverClass},customPrefix:{type:String,default:uni.$u.props.icon.customPrefix},label:{type:[String,Number],default:uni.$u.props.icon.label},labelPos:{type:String,default:uni.$u.props.icon.labelPos},labelSize:{type:[String,Number],default:uni.$u.props.icon.labelSize},labelColor:{type:String,default:uni.$u.props.icon.labelColor},space:{type:[String,Number],default:uni.$u.props.icon.space},imgMode:{type:String,default:uni.$u.props.icon.imgMode},width:{type:[String,Number],default:uni.$u.props.icon.width},height:{type:[String,Number],default:uni.$u.props.icon.height},top:{type:[String,Number],default:uni.$u.props.icon.top},stop:{type:Boolean,default:uni.$u.props.icon.stop}}};t.default=r},"308e":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("3f15")),a=i.default;t.default=a},3193:function(e,t,n){"use strict";(function(e,r){var i=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("3b2d")),o=(i(n("bd29")),i(n("0aa1"))),s=i(n("f2be"));function u(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i in n)for(var o in n[i])n[i].hasOwnProperty(o)&&(e[o]=n[i][o]&&"object"===(0,a.default)(n[i][o])?u(Array.isArray(n[i][o])?[]:{},e[o],n[i][o]):n[i][o]);return e}function l(e){var t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();n>=1&&n<=9&&(n="0"+n),r>=0&&r<=9&&(r="0"+r);var i=t+"-"+n+"-"+r;return i}var c={name:"qiun-data-charts",mixins:[e.mixinDatacom],props:{type:{type:String,default:null},canvasId:{type:String,default:"uchartsid"},canvas2d:{type:Boolean,default:!1},background:{type:String,default:"rgba(0,0,0,0)"},animation:{type:Boolean,default:!0},chartData:{type:Object,default:function(){return{categories:[],series:[]}}},opts:{type:Object,default:function(){return{}}},eopts:{type:Object,default:function(){return{}}},loadingType:{type:Number,default:2},errorShow:{type:Boolean,default:!0},errorReload:{type:Boolean,default:!0},errorMessage:{type:String,default:null},inScrollView:{type:Boolean,default:!1},reshow:{type:Boolean,default:!1},reload:{type:Boolean,default:!1},disableScroll:{type:Boolean,default:!1},optsWatch:{type:Boolean,default:!0},onzoom:{type:Boolean,default:!1},ontap:{type:Boolean,default:!0},ontouch:{type:Boolean,default:!1},onmouse:{type:Boolean,default:!0},onmovetip:{type:Boolean,default:!1},echartsH5:{type:Boolean,default:!1},echartsApp:{type:Boolean,default:!1},tooltipShow:{type:Boolean,default:!0},tooltipFormat:{type:String,default:void 0},tooltipCustom:{type:Object,default:void 0},startDate:{type:String,default:void 0},endDate:{type:String,default:void 0},textEnum:{type:Array,default:function(){return[]}},groupEnum:{type:Array,default:function(){return[]}},pageScrollTop:{type:Number,default:0},directory:{type:String,default:"/"},tapLegend:{type:Boolean,default:!0},menus:{type:Array,default:function(){return[]}}},data:function(){return{cid:"uchartsid",inWx:!1,inAli:!1,inTt:!1,inBd:!1,inH5:!1,inApp:!1,inWin:!1,type2d:!0,disScroll:!1,openmouse:!1,pixel:1,cWidth:375,cHeight:250,showchart:!1,echarts:!1,echartsResize:{state:!1},uchartsOpts:{},echartsOpts:{},drawData:{},lastDrawTime:null}},created:function(){if(this.cid=this.canvasId,"uchartsid"==this.canvasId||""==this.canvasId){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=e.length,n="",r=0;r<32;r++)n+=e.charAt(Math.floor(Math.random()*t));this.cid=n}var i=uni.getSystemInfoSync();"windows"!==i.platform&&"mac"!==i.platform||(this.inWin=!0),this.type2d=!1,this.disScroll=this.disableScroll},mounted:function(){var e=this;this.inApp=!0,!0===this.echartsApp&&(this.echarts=!0,this.openmouse=!1),this.$nextTick((function(){e.beforeInit()}))},destroyed:function(){!0===this.echarts?(delete s.default.option[this.cid],delete s.default.instance[this.cid]):(delete o.default.option[this.cid],delete o.default.instance[this.cid]),uni.offWindowResize((function(){}))},watch:{chartDataProps:{handler:function(e,t){"object"===(0,a.default)(e)?JSON.stringify(e)!==JSON.stringify(t)&&(this._clearChart(),e.series&&e.series.length>0?this.beforeInit():(this.mixinDatacomLoading=!0,this.showchart=!1,this.mixinDatacomErrorMessage=null)):(this.mixinDatacomLoading=!1,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1achartData\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},localdata:{handler:function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&(e.length>0?this.beforeInit():(this.mixinDatacomLoading=!0,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage=null))},immediate:!1,deep:!0},optsProps:{handler:function(e,t){"object"===(0,a.default)(e)?JSON.stringify(e)!==JSON.stringify(t)&&!1===this.echarts&&1==this.optsWatch&&this.checkData(this.drawData):(this.mixinDatacomLoading=!1,this._clearChart(),this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aopts\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},eoptsProps:{handler:function(e,t){"object"===(0,a.default)(e)?JSON.stringify(e)!==JSON.stringify(t)&&!0===this.echarts&&this.checkData(this.drawData):(this.mixinDatacomLoading=!1,this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aeopts\u6570\u636e\u7c7b\u578b\u9519\u8bef")},immediate:!1,deep:!0},reshow:function(e,t){var n=this;!0===e&&!1===this.mixinDatacomLoading&&setTimeout((function(){n.mixinDatacomErrorMessage=null,n.echartsResize.state=!n.echartsResize.state,n.checkData(n.drawData)}),200)},reload:function(e,t){!0===e&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,this.reloading())},mixinDatacomErrorMessage:function(e,t){e&&(this.emitMsg({name:"error",params:{type:"error",errorShow:this.errorShow,msg:e,id:this.cid}}),this.errorShow&&r("log","[\u79cb\u4e91\u56fe\u8868\u7ec4\u4ef6]"+e," at uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts.vue:611"))},errorMessage:function(e,t){e&&this.errorShow&&null!==e&&"null"!==e&&""!==e?(this.showchart=!1,this.mixinDatacomLoading=!1,this.mixinDatacomErrorMessage=e):(this.showchart=!1,this.mixinDatacomErrorMessage=null,this.reloading())}},computed:{optsProps:function(){return JSON.parse(JSON.stringify(this.opts))},eoptsProps:function(){return JSON.parse(JSON.stringify(this.eopts))},chartDataProps:function(){return JSON.parse(JSON.stringify(this.chartData))}},methods:{beforeInit:function(){this.mixinDatacomErrorMessage=null,"object"===(0,a.default)(this.chartData)&&null!=this.chartData&&void 0!==this.chartData.series&&this.chartData.series.length>0?(this.drawData=u({},this.chartData),this.mixinDatacomLoading=!1,this.showchart=!0,this.checkData(this.chartData)):this.localdata.length>0?(this.mixinDatacomLoading=!1,this.showchart=!0,this.localdataInit(this.localdata)):""!==this.collection?(this.mixinDatacomLoading=!1,this.getCloudData()):this.mixinDatacomLoading=!0},localdataInit:function(e){if(this.groupEnum.length>0)for(var t=0;t<e.length;t++)for(var n=0;n<this.groupEnum.length;n++)e[t].group===this.groupEnum[n].value&&(e[t].group=this.groupEnum[n].text);if(this.textEnum.length>0)for(var r=0;r<e.length;r++)for(var i=0;i<this.textEnum.length;i++)e[r].text===this.textEnum[i].value&&(e[r].text=this.textEnum[i].text);var a=!1,c={categories:[],series:[]},h=[],d=[];if(a=!0===this.echarts?s.default.categories.includes(this.type):o.default.categories.includes(this.type),!0===a){if(this.chartData&&this.chartData.categories&&this.chartData.categories.length>0)h=this.chartData.categories;else if(this.startDate&&this.endDate){var f=new Date(this.startDate),p=new Date(this.endDate);while(f<=p)h.push(l(f)),f=f.setDate(f.getDate()+1),f=new Date(f)}else{var v={};e.map((function(e,t){void 0==e.text||v[e.text]||(h.push(e.text),v[e.text]=!0)}))}c.categories=h}var m={};if(e.map((function(e,t){void 0==e.group||m[e.group]||(d.push({name:e.group,data:[]}),m[e.group]=!0)})),0==d.length)if(d=[{name:"\u9ed8\u8ba4\u5206\u7ec4",data:[]}],!0===a)for(var g=0;g<h.length;g++){for(var y=0,_=0;_<e.length;_++)e[_].text==h[g]&&(y=e[_].value);d[0].data.push(y)}else for(var b=0;b<e.length;b++)d[0].data.push({name:e[b].text,value:e[b].value});else for(var x=0;x<d.length;x++)if(h.length>0)for(var w=0;w<h.length;w++){for(var S=0,A=0;A<e.length;A++)d[x].name==e[A].group&&e[A].text==h[w]&&(S=e[A].value);d[x].data.push(S)}else for(var M=0;M<e.length;M++)d[x].name==e[M].group&&d[x].data.push(e[M].value);c.series=d,this.drawData=u({},c),this.checkData(c)},reloading:function(){!1!==this.errorReload&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,""!==this.collection?(this.mixinDatacomLoading=!1,this.onMixinDatacomPropsChange(!0)):this.beforeInit())},checkData:function(e){var t=this,n=this.cid;!0===this.echarts?(s.default.option[n]=u({},this.eopts),s.default.option[n].id=n,s.default.option[n].type=this.type):this.type&&o.default.type.includes(this.type)?(o.default.option[n]=u({},o.default[this.type],this.opts),o.default.option[n].canvasId=n):(this.mixinDatacomLoading=!1,this.showchart=!1,this.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1aprops\u53c2\u6570\u4e2dtype\u7c7b\u578b\u4e0d\u6b63\u786e");var r=u({},e);void 0!==r.series&&r.series.length>0&&(this.mixinDatacomErrorMessage=null,!0===this.echarts?(s.default.option[n].chartData=r,this.$nextTick((function(){t.init()}))):(o.default.option[n].categories=r.categories,o.default.option[n].series=r.series,this.$nextTick((function(){t.init()}))))},resizeHandler:function(){var e=this,t=Date.now(),n=this.lastDrawTime?this.lastDrawTime:t-3e3,r=t-n;if(!(r<1e3))uni.createSelectorQuery().in(this).select("#ChartBoxId"+this.cid).boundingClientRect((function(t){e.showchart=!0,t.width>0&&t.height>0&&(t.width===e.cWidth&&t.height===e.cHeight||e.checkData(e.drawData))})).exec()},getCloudData:function(){var e=this;1!=this.mixinDatacomLoading&&(this.mixinDatacomLoading=!0,this.mixinDatacomGet().then((function(t){e.mixinDatacomResData=t.result.data,e.localdataInit(e.mixinDatacomResData)})).catch((function(t){e.mixinDatacomLoading=!1,e.showchart=!1,e.mixinDatacomErrorMessage="\u8bf7\u6c42\u9519\u8bef\uff1a"+t})))},onMixinDatacomPropsChange:function(e,t){1==e&&""!==this.collection&&(this.showchart=!1,this.mixinDatacomErrorMessage=null,this._clearChart(),this.getCloudData())},_clearChart:function(){var e=this.cid;if(!0!==this.echarts&&o.default.option[e]&&o.default.option[e].context){var t=o.default.option[e].context;"object"!==(0,a.default)(t)||o.default.option[e].update||(t.clearRect(0,0,this.cWidth*this.pixel,this.cHeight*this.pixel),t.draw())}},init:function(){var e=this,t=this.cid;uni.createSelectorQuery().in(this).select("#ChartBoxId"+t).boundingClientRect((function(n){n.width>0&&n.height>0?(e.mixinDatacomLoading=!1,e.showchart=!0,e.lastDrawTime=Date.now(),e.cWidth=n.width,e.cHeight=n.height,!0!==e.echarts&&(o.default.option[t].background="rgba(0,0,0,0)"==e.background?"#FFFFFF":e.background,o.default.option[t].canvas2d=e.type2d,o.default.option[t].pixelRatio=e.pixel,o.default.option[t].animation=e.animation,o.default.option[t].width=n.width*e.pixel,o.default.option[t].height=n.height*e.pixel,o.default.option[t].onzoom=e.onzoom,o.default.option[t].ontap=e.ontap,o.default.option[t].ontouch=e.ontouch,o.default.option[t].onmouse=e.openmouse,o.default.option[t].onmovetip=e.onmovetip,o.default.option[t].tooltipShow=e.tooltipShow,o.default.option[t].tooltipFormat=e.tooltipFormat,o.default.option[t].tooltipCustom=e.tooltipCustom,o.default.option[t].inScrollView=e.inScrollView,o.default.option[t].lastDrawTime=e.lastDrawTime,o.default.option[t].tapLegend=e.tapLegend),e.inH5||e.inApp?1==e.echarts?(s.default.option[t].ontap=e.ontap,s.default.option[t].onmouse=e.openmouse,s.default.option[t].tooltipShow=e.tooltipShow,s.default.option[t].tooltipFormat=e.tooltipFormat,s.default.option[t].tooltipCustom=e.tooltipCustom,s.default.option[t].lastDrawTime=e.lastDrawTime,e.echartsOpts=u({},s.default.option[t])):(o.default.option[t].rotateLock=o.default.option[t].rotate,e.uchartsOpts=u({},o.default.option[t])):(o.default.option[t]=function e(t,n){for(var r in t)t.hasOwnProperty(r)&&null!==t[r]&&"object"===(0,a.default)(t[r])?e(t[r],n):"format"===r&&"string"===typeof t[r]&&(t["formatter"]=n[t[r]]?n[t[r]]:void 0);return t}(o.default.option[t],o.default.formatter),e.mixinDatacomErrorMessage=null,e.mixinDatacomLoading=!1,e.showchart=!0,e.$nextTick((function(){if(!0===e.type2d){var r=uni.createSelectorQuery().in(e);r.select("#"+t).fields({node:!0,size:!0}).exec((function(r){if(r[0]){var i=r[0].node,a=i.getContext("2d");o.default.option[t].context=a,o.default.option[t].rotateLock=o.default.option[t].rotate,o.default.instance[t]&&o.default.option[t]&&!0===o.default.option[t].update?e._updataUChart(t):(i.width=n.width*e.pixel,i.height=n.height*e.pixel,i._width=n.width*e.pixel,i._height=n.height*e.pixel,setTimeout((function(){o.default.option[t].context.restore(),o.default.option[t].context.save(),e._newChart(t)}),100))}else e.showchart=!1,e.mixinDatacomErrorMessage="\u53c2\u6570\u9519\u8bef\uff1a\u5f00\u542f2d\u6a21\u5f0f\u540e\uff0c\u672a\u83b7\u53d6\u5230dom\u8282\u70b9\uff0ccanvas-id:"+t}))}else e.inAli&&(o.default.option[t].rotateLock=o.default.option[t].rotate),o.default.option[t].context=uni.createCanvasContext(t,e),o.default.instance[t]&&o.default.option[t]&&!0===o.default.option[t].update?e._updataUChart(t):setTimeout((function(){o.default.option[t].context.restore(),o.default.option[t].context.save(),e._newChart(t)}),100)})))):(e.mixinDatacomLoading=!1,e.showchart=!1,1==e.reshow&&(e.mixinDatacomErrorMessage="\u5e03\u5c40\u9519\u8bef\uff1a\u672a\u83b7\u53d6\u5230\u7236\u5143\u7d20\u5bbd\u9ad8\u5c3a\u5bf8\uff01canvas-id:"+t))})).exec()},saveImage:function(){uni.canvasToTempFilePath({canvasId:this.cid,success:function(e){uni.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(){uni.showToast({title:"\u4fdd\u5b58\u6210\u529f",duration:2e3})}})}},this)},getImage:function(){var e=this;if(0==this.type2d)uni.canvasToTempFilePath({canvasId:this.cid,success:function(t){e.emitMsg({name:"getImage",params:{type:"getImage",base64:t.tempFilePath}})}},this);else{var t=uni.createSelectorQuery().in(this);t.select("#"+this.cid).fields({node:!0,size:!0}).exec((function(t){if(t[0]){var n=t[0].node;e.emitMsg({name:"getImage",params:{type:"getImage",base64:n.toDataURL("image/png")}})}}))}},_error:function(e){this.mixinDatacomErrorMessage=e.detail.errMsg},emitMsg:function(e){this.$emit(e.name,e.params)},getRenderType:function(){!0===this.echarts&&!1===this.mixinDatacomLoading&&this.beforeInit()},toJSON:function(){return this}}};t.default=c}).call(this,n("861b")["uniCloud"],n("f3b9")["default"])},3352:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"34cf":function(e,t,n){var r=n("ed45"),i=n("7172"),a=n("6382"),o=n("dd3e");e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports["default"]=e.exports},3505:function(e,t,n){"use strict";(function(e){var r=n("3b2d");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,o,s,u,l,c,h,d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n("4e97")),f=n("8add"),p=n("c09e"),v=n("e625");function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var g={data:function(){return{right2:!1,right1:!1,left1:!1,left2:!1}},mounted:function(){this.init()},methods:{init:function(){i=document.getElementById("container"),a=new d.WebGLRenderer,o=new d.PerspectiveCamera(55,i.clientWidth/i.clientHeight,.1,100),o.position.set(1,5.5,12.5),o.fov=50,u=new f.OrbitControls(o,i),u.enableDamping=!0,u.maxDistance=5,u.minZoom=1.5,u.update(),s=new d.Scene,c=new d.Clock,i.addEventListener("mousemove",this.onMouseMove);var t=new p.RGBELoader;t.load("https://launcher-car-assets.vercel.app/static/zwartkops_curve_sunset_1k.hdr",(function(e){e.mapping=d.EquirectangularReflectionMapping,s.background=new d.Color(16777215),s.environment=e}));var n=this,r=new v.GLTFLoader;r.load("https://launcher-car-assets.vercel.app/static/car2.glb",(function(e){new d.Vector2;var t=e.scene;t.position.set(-2,0,0),s.add(t),n.createGUI(e.scene,e.animations)})),a.setPixelRatio(window.devicePixelRatio),a.setSize(i.clientWidth,i.clientHeight),e("log",a," at pages/index/model.vue:90"),i.appendChild(a.domElement),this.myrender()},onMouseMove:function(){new d.Vector2(1,1),event.preventDefault();var t=a.domElement.getBoundingClientRect().left,n=a.domElement.getBoundingClientRect().top,r=(event.clientX-t)/i.clientWidth*2-1,u=-(event.clientY-n)/i.clientHeight*2+1,l=new d.Vector3(r,u),c=l.unproject(o),h=c.sub(o.position).normalize(),f=new d.Raycaster(o.position,h);f.camera=o;var p=f.intersectObjects(s.children,!0);e("log","==="+p.length," at pages/index/model.vue:135"),p.length>0&&(e("log",p[0].object.parent.name," at pages/index/model.vue:137"),"right2"===p[0].object.parent.name&&(e("log","\u4f60\u64cd\u4f5c right2"," at pages/index/model.vue:143"),this.right2?(this.openOrCloseDoor("openRight2",-1),this.right2=!1):(this.openOrCloseDoor("openRight2",1),this.right2=!0)),"right1"===p[0].object.parent.name&&(e("log","\u4f60\u64cd\u4f5c right1"," at pages/index/model.vue:154"),this.right1?(this.openOrCloseDoor("openRight1",-1),this.right1=!1):(this.openOrCloseDoor("openRight1",1),this.right1=!0)),"left1"===p[0].object.parent.name&&(this.left1?(this.openOrCloseDoor("openLeft1",-1),this.left1=!1):(this.openOrCloseDoor("openLeft1",1),this.left1=!0)),"left2"===p[0].object.parent.name&&(this.left2?(this.openOrCloseDoor("openLeft2",-1),this.left2=!1):(this.openOrCloseDoor("openLeft2",1),this.left2=!0)))},openOrCloseDoor:function(e,t){var n="",r=n;n=h[e],r&&r!==n&&(r.setEffectiveWeight(0),r.setEffectiveWeight(1)),h[e].timeScale=t,h[e].reset().play()},createGUI:function(e,t){l=new d.AnimationMixer(e),h={};for(var n=0;n<t.length;n++){var r=t[n],i=l.clipAction(r);i.clampWhenFinished=!0,i.loop=d.LoopOnce,h[r.name]=i}},myrender:function(){a.render(s,o);var e=c.getDelta();l&&l.update(e),requestAnimationFrame(this.myrender)}}};t.default=g}).call(this,n("f3b9")["default"])},"351b":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uIcon:n("df4b").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","settings"),style:e._$s(0,"s",{height:e.containerHeight+"px"}),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","content"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","title"),attrs:{_i:2}}),n("view",{staticClass:e._$s(3,"sc","step"),attrs:{_i:3}},[n("text",{class:e._$s(4,"c",{active:1===e.step}),attrs:{_i:4}}),n("text"),n("text",{class:e._$s(6,"c",{active:2===e.step}),attrs:{_i:6}})]),e._$s(7,"i",1===e.step)?n("view",{staticClass:e._$s(7,"sc","step1"),attrs:{_i:7}},[n("view",{staticClass:e._$s(8,"sc","desc"),attrs:{_i:8}}),n("view",{staticClass:e._$s(9,"sc","phone-box"),attrs:{_i:9}},[n("img",{}),n("text",{staticClass:e._$s(11,"sc","phone"),attrs:{_i:11}},[e._v(e._$s(11,"t0-0",e._s(e.emailValue)))])]),n("view",{staticClass:e._$s(12,"sc","input-box"),attrs:{_i:12}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:e._$s(13,"sc","input"),attrs:{_i:13},domProps:{value:e._$s(13,"v-model",e.code)},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),n("button",{staticClass:e._$s(14,"sc","code-btn"),attrs:{disabled:e._$s(14,"a-disabled",e.countdown>0),_i:14},on:{click:e.getCode}},[e._v(e._$s(14,"t0-0",e._s(e.countdown>0?e.countdown+"s":"\u83b7\u53d6\u9a8c\u8bc1\u7801")))])]),n("button",{staticClass:e._$s(15,"sc","next-btn"),attrs:{disabled:e._$s(15,"a-disabled",!e.code),_i:15},on:{click:e.nextStep}})]):e._e(),e._$s(16,"i",2===e.step)?n("view",{staticClass:e._$s(16,"sc","step2"),attrs:{_i:16}},[n("view",{staticClass:e._$s(17,"sc","input-box"),attrs:{_i:17}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:e._$s(18,"sc","input inputcode"),attrs:{_i:18},domProps:{value:e._$s(18,"v-model",e.password)},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("u-icon",{attrs:{name:"eye",size:"20",color:"#ccc",_i:19}})],1),n("view",{staticClass:e._$s(20,"sc","tips"),attrs:{_i:20}}),n("button",{staticClass:e._$s(21,"sc","next-btn"),attrs:{disabled:e._$s(21,"a-disabled",!e.isValidPassword),_i:21},on:{click:e.submitPassword}})]):e._e()])])},a=[]},"36a6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={scrollList:{indicatorWidth:50,indicatorBarWidth:20,indicator:!0,indicatorColor:"#f2f2f2",indicatorActiveColor:"#3c9cff",indicatorStyle:""}}},"39ca":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={countDown:{time:0,format:"HH:mm:ss",autoStart:!0,millisecond:!1}}},"3af2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={lineProgress:{activeColor:"#19be6b",inactiveColor:"#ececec",percentage:0,showText:!0,height:12}}},"3b2d":function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"3c2d":function(e,t,n){"use strict";n.r(t);var r=n("8174"),i=n("b967");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"39559fc8",null,!1,r["a"],void 0);t["default"]=s.exports},"3d30":function(e,t,n){"use strict";n.r(t);var r=n("a123"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"3dc9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"qiun-error",props:{errorMessage:{type:String,default:null}},data:function(){return{}}};t.default=r},"3e2a":function(e,t){e.exports=function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"3e40":function(e,t,n){"use strict";n.r(t);var r=n("b0fa"),i=n("0750");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"f4e86178",null,!1,r["a"],void 0);t["default"]=s.exports},"3f15":function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("7ca3")),a=r(n("67ad")),o=r(n("0bdb")),s=r(n("2278")),u=r(n("d954")),l=r(n("77fc")),c=r(n("a4be")),h=n("5628"),d=r(n("cfb3"));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,t),(0,h.isPlainObject)(n)||(n={},e("warn","\u8bbe\u7f6e\u5168\u5c40\u53c2\u6570\u5fc5\u987b\u63a5\u6536\u4e00\u4e2aObject"," at uni_modules/uview-ui/libs/luch-request/core/Request.js:39")),this.config=(0,d.default)(p(p({},c.default),n)),this.interceptors={request:new u.default,response:new u.default}}return(0,o.default)(t,[{key:"setConfig",value:function(e){this.config=e(this.config)}},{key:"middleware",value:function(e){e=(0,l.default)(this.config,e);var t=[s.default,void 0],n=Promise.resolve(e);this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));while(t.length)n=n.then(t.shift(),t.shift());return n}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.middleware(e)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.middleware(p({url:e,method:"GET"},t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"POST"},n))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"PUT"},n))}},{key:"delete",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"DELETE"},n))}},{key:"options",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.middleware(p({url:e,data:t,method:"OPTIONS"},n))}},{key:"upload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.url=e,t.method="UPLOAD",this.middleware(t)}},{key:"download",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.url=e,t.method="DOWNLOAD",this.middleware(t)}}]),t}();t.default=v}).call(this,n("f3b9")["default"])},4011:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={picker:{show:!1,showToolbar:!0,title:"",columns:function(){return[]},loading:!1,itemHeight:44,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u5b9a",cancelColor:"#909193",confirmColor:"#3c9cff",visibleItemCount:5,keyName:"text",closeOnClickOverlay:!1,defaultIndex:function(){return[]},immediateChange:!1}}},4018:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","container"),style:e._$s(0,"s",{height:e.containerHeight+"px"}),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","content"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","top"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","imgWrap"),attrs:{_i:3}},[n("img",{})]),n("view",{staticClass:e._$s(5,"sc","info"),attrs:{_i:5}},[n("text",{staticClass:e._$s(6,"sc","appName"),attrs:{_i:6}}),n("text",{staticClass:e._$s(7,"sc","version"),attrs:{_i:7}})])]),n("view",{staticClass:e._$s(8,"sc","itemWrap"),attrs:{_i:8}},[n("Item",{attrs:{text:"\u529f\u80fd\u4ecb\u7ecd",fuc:e.goToFunctionPage,_i:9}}),n("Item",{attrs:{text:"\u7248\u672c\u66f4\u65b0",fuc:e.checkForUpdate,_i:10}})],1)])])},i=[]},4295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={indexList:{inactiveColor:"#606266",activeColor:"#5677fc",indexList:function(){return[]},sticky:!0,customNavHeight:0}}},"43ed":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={qiunLoading:n("9db5").default,qiunError:n("c977").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","chartsview"),attrs:{id:e._$s(0,"a-id","ChartBoxId"+e.cid),_i:0}},[e._$s(1,"i",e.mixinDatacomLoading)?n("view",{attrs:{_i:1}},[n("qiun-loading",{attrs:{loadingType:e.loadingType,_i:2}})],1):e._e(),e._$s(3,"i",e.mixinDatacomErrorMessage&&e.errorShow)?n("view",{attrs:{_i:3},on:{click:e.reloading}},[n("qiun-error",{attrs:{errorMessage:e.errorMessage,_i:4}})],1):e._e(),e._$s(5,"i",e.echarts)?[n("view",{directives:[{name:"show",rawName:"v-show",value:e._$s(6,"v-show",e.showchart),expression:"_$s(6,'v-show',showchart)"}],wxsProps:{"change:resize":"echartsResize","change:prop":"echartsOpts"},style:e._$s(6,"s",{background:e.background}),attrs:{"data-directory":e._$s(6,"a-data-directory",e.directory),id:e._$s(6,"a-id","EC"+e.cid),prop:e._$s(6,"change:echartsOpts",e.echartsOpts),resize:e._$s(6,"change:echartsResize",e.echartsResize),_i:6}})]:[n("view",{wxsProps:{"change:prop":"uchartsOpts"},attrs:{id:e._$s(8,"a-id","UC"+e.cid),prop:e._$s(8,"change:uchartsOpts",e.uchartsOpts),_i:8},on:{}},[n("canvas",{directives:[{name:"show",rawName:"v-show",value:e._$s(9,"v-show",e.showchart),expression:"_$s(9,'v-show',showchart)"}],style:e._$s(9,"s",{width:e.cWidth+"px",height:e.cHeight+"px",background:e.background}),attrs:{id:e._$s(9,"a-id",e.cid),canvasId:e._$s(9,"a-canvasId",e.cid),"disable-scroll":e._$s(9,"a-disable-scroll",e.disableScroll),_i:9},on:{error:e._error}})])]],2)},a=[]},"45e3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={swiperIndicator:{length:0,current:0,indicatorActiveColor:"",indicatorInactiveColor:"",indicatorMode:"line"}}},"466f":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n?r||(r=!0,"function"===typeof e&&e(),setTimeout((function(){r=!1}),t)):r||(r=!0,setTimeout((function(){r=!1,"function"===typeof e&&e()}),t))};t.default=i},"47a9":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"482a":function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=r(n("7ca3")),o=(i={onLaunch:function(){e("log","App Launch"," at App.vue:4")},onShow:function(){e("log","App Show"," at App.vue:7")},onHide:function(){e("log","App Hide"," at App.vue:10")}},(0,a.default)(i,"onLaunch",(function(){uni.$on("tabChanged",(function(t){if(e("log","\u5168\u5c40\u76d1\u542c tabBar \u5207\u6362\uff1a",t," at App.vue:14"),"AI"===t.text){var n=getApp();e("log",n," at App.vue:17"),e("log","\u62e6\u622a AI Tab\uff0c\u963b\u6b62\u8df3\u8f6c\uff01"," at App.vue:19"),uni.switchTab({url:"/pages/home"})}}))})),(0,a.default)(i,"method",{anotherMethod:function(){this.audioCHangeWord()},onLoad:function(){this.audioCHangeWord()},mounted:function(){this.audioCHangeWord()},audioCHangeWord:function(){var t=this;e("log",this," at App.vue:43");var n=new webkitSpeechRecognition;n||(n=new SpeechRecognition),n.lang="zh-CN",n.start(),t.isListening=!0,n.onresult=function(n){var r=n.results[0][0].transcript;e("log","\u8bc6\u522b\u7684\u8bdd\uff1a",r," at App.vue:59"),t.getChat(r)},n.onerror=function(n){t.isListening=!1,t.$message("\u76d1\u542c\u8bed\u97f3\u5931\u8d25:"+n.error),e("error",n.error," at App.vue:66")},n.onend=function(){t.isListening=!1,e("log","\u8bed\u97f3\u8bc6\u522b\u505c\u6b62"," at App.vue:71")}},getChat:function(t){uni.request({url:"http://localhost:8089/dev-api/getChat?value="+t,method:"GET",success:function(t){e("log",t.data.response.response," at App.vue:79"),speechMethods.webSocketSend(t.data.response.response)}})},chat:function(t){var n=this,r={model:"bot-20241012171533-7wdc5",messages:[{role:"user",content:t}]};uni.request({url:"https://ark.cn-beijing.volces.com/api/v3/bots/chat/completions",method:"POST",header:{"Content-Type":"application/json",Authorization:"Bearer c31db783-e7ac-42a1-97a1-e41559c011a0"},data:r,success:function(t){200===t.statusCode?(n.setData({responseData:t.data}),e("log",t.data," at App.vue:108")):uni.showToast({title:"\u8bf7\u6c42\u5931\u8d25",icon:"none"})}})}}),i);t.default=o}).call(this,n("f3b9")["default"])},"48a2":function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("127e")),a=r(n("ee10")),o=n("9900"),s={data:function(){return{title:"\u6b22\u8fce\u56de\u6765\uff01",second:60,showText:!0,email:"",code:"",password:"",isPasswordMode:!1,showPassword:!1}},onLoad:function(){},methods:{toggleInputType:function(e){this.isPassword="password"===e,this.inputValue=""},goToResetPwd:function(){uni.navigateTo({url:"/pages/myPage/userInfo/ResetPwd"})},goToRegister:function(){uni.navigateTo({url:"/pages/register"})},isPasswordModeFuc:function(){this.isPasswordMode?(this.isPasswordMode=!1,this.password=""):(this.isPasswordMode=!0,this.code=""),e("log",this.isPasswordMode," at pages/index/index.vue:81")},handleLogin:function(){var t=this;return(0,a.default)(i.default.mark((function n(){var r,a,s;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t,r.email){n.next=4;break}return uni.showToast({title:"\u8bf7\u8f93\u5165\u90ae\u7bb1",icon:"none"}),n.abrupt("return");case 4:if(/^[1-9][0-9]{4,10}@qq\.com$/.test(r.email)){n.next=7;break}return uni.showToast({title:"\u8bf7\u8f93\u5165\u6b63\u786e\u90ae\u7bb1",icon:"none"}),n.abrupt("return");case 7:if(r.code||t.isPasswordMode){n.next=11;break}return alert("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"),uni.showToast({title:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",icon:"none"}),n.abrupt("return");case 11:if(r.password||!t.isPasswordMode){n.next=15;break}return alert("\u8bf7\u8f93\u5165\u5bc6\u7801"),uni.showToast({title:"\u8bf7\u8f93\u5165\u5bc6\u7801",icon:"none"}),n.abrupt("return");case 15:return uni.switchTab({url:"../home"}),n.prev=16,a=t.password||t.code,n.next=20,(0,o.login)(t.email,a);case 20:s=n.sent,e("log",t.email," at pages/index/index.vue:124"),e("log",s," at pages/index/index.vue:125"),200===s.status?(e("log","\u767b\u5f55\u4fe1\u606f\uff1a",s," at pages/index/index.vue:128"),uni.showToast({title:"\u767b\u5f55\u6210\u529f\uff01",icon:"none"}),uni.switchTab({url:"../home"})):uni.showToast({title:s.msg||"\u767b\u5f55\u5931\u8d25",icon:"none"}),n.next=30;break;case 26:n.prev=26,n.t0=n["catch"](16),e("error","\u767b\u5f55\u5f02\u5e38\uff1a",n.t0," at pages/index/index.vue:144"),uni.showToast({title:"\u7f51\u7edc\u9519\u8bef",icon:"none"});case 30:case"end":return n.stop()}}),n,null,[[16,26]])})))()},sendCode:function(){var t=this;return(0,a.default)(i.default.mark((function n(){var r,a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t,a=setInterval((function(){r.showText=!1;var e=r.second-1;r.second=e}),1e3),setTimeout((function(){clearInterval(a),r.second=60,r.showText=!0}),6e4),t.email){n.next=6;break}return uni.showToast({title:"\u8bf7\u8f93\u5165\u90ae\u7bb1",icon:"none"}),n.abrupt("return");case 6:return n.prev=6,n.next=9,(0,o.sendValidationCode)(t.email);case 9:n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](6),e("error","\u53d1\u9001\u5931\u8d25",n.t0," at pages/index/index.vue:175");case 14:case"end":return n.stop()}}),n,null,[[6,11]])})))()},wxLogin:function(){uni.showToast({title:"\u5fae\u4fe1\u767b\u5f55",icon:"none"})},zfbLogin:function(){uni.showToast({title:"qq\u767b\u5f55",icon:"none"})}}};t.default=s}).call(this,n("f3b9")["default"])},"48bc":function(e,t,n){"use strict";n.r(t);var r=n("860b"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},4925:function(e,t,n){"use strict";n.r(t);var r=n("bca0"),i=n("4d03");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"990b6b1e",null,!1,r["a"],void 0);t["default"]=s.exports},4948:function(e,t,n){"use strict";n.r(t);var r=n("e78b"),i=n("fa22");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"28993e7f",null,!1,r["a"],void 0);t["default"]=s.exports},4965:function(e,t){e.exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"496b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={backtop:{mode:"circle",icon:"arrow-upward",text:"",duration:100,scrollTop:0,top:400,bottom:100,right:20,zIndex:9,iconStyle:function(){return{color:"#909399",fontSize:"19px"}}}}},"4a08":function(e,t,n){"use strict";n.r(t);var r=n("c0e7"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"4ab4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={upload:{accept:"image",capture:function(){return["album","camera"]},compressed:!0,camera:"back",maxDuration:60,uploadIcon:"camera-fill",uploadIconColor:"#D3D4D6",useBeforeRead:!1,previewFullImage:!0,maxCount:52,disabled:!1,imageMode:"aspectFill",name:"",sizeType:function(){return["original","compressed"]},multiple:!1,deletable:!0,maxSize:Number.MAX_VALUE,fileList:function(){return[]},uploadText:"",width:80,height:80,previewImage:!0}};t.default=r},"4cce":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={primary:"#3c9cff",info:"#909399",default:"#909399",warning:"#f9ae3d",error:"#f56c6c",success:"#5ac725",mainColor:"#303133",contentColor:"#606266",tipsColor:"#909399",lightColor:"#c0c4cc",borderColor:"#e4e7ed"};t.default=r},"4d03":function(e,t,n){"use strict";n.r(t);var r=n("bdfa"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"4d23":function(e,t,n){"use strict";n.r(t);var r=n("b003"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"4db2":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","t-login"),attrs:{_i:0}},[n("image",{staticClass:e._$s(1,"sc","img-a"),attrs:{_i:1}}),n("image",{staticClass:e._$s(2,"sc","img-b"),attrs:{_i:2}}),n("view",{staticClass:e._$s(3,"sc","t-b"),attrs:{_i:3}},[e._v(e._$s(3,"t0-0",e._s(e.title)))]),n("view",{staticClass:e._$s(4,"sc","t-b2"),attrs:{_i:4}}),n("form",{staticClass:e._$s(5,"sc","cl"),attrs:{_i:5}},[n("view",{staticClass:e._$s(6,"sc","auth-wrap"),attrs:{_i:6}},[n("view",{staticClass:e._$s(7,"sc","input-wrap"),attrs:{_i:7}},[n("view",{staticClass:e._$s(8,"sc","t-a"),attrs:{_i:8}},[n("image",{attrs:{_i:9}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{_i:10},domProps:{value:e._$s(10,"v-model",e.email)},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._$s(11,"i",!e.isPasswordMode)?n("view",{staticClass:e._$s(11,"sc","t-a"),attrs:{_i:11}},[n("image",{attrs:{_i:12}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{_i:13},domProps:{value:e._$s(13,"v-model",e.code)},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._$s(14,"i",e.showText)?n("view",{staticClass:e._$s(14,"sc","t-c"),attrs:{_i:14},on:{click:function(t){return e.sendCode()}}}):n("view",{staticClass:e._$s(15,"sc","t-c"),attrs:{_i:15}},[e._v(e._$s(15,"t0-0",e._s(e.second)))])]):e._e(),e._$s(16,"i",e.isPasswordMode)?n("view",{staticClass:e._$s(16,"sc","t-a"),attrs:{_i:16}},[n("image",{attrs:{_i:17}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{_i:18},domProps:{value:e._$s(18,"v-model",e.password)},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]):e._e()]),n("view",{staticClass:e._$s(19,"sc","auth-box"),attrs:{_i:19}},[n("view",{attrs:{_i:20},on:{click:e.goToRegister}}),n("view",{staticClass:e._$s(21,"sc","toggle-btn"),attrs:{_i:21},on:{click:e.isPasswordModeFuc}},[e._v(e._$s(21,"t0-0",e._s(e.isPasswordMode?"\u9a8c\u8bc1\u7801":"\u5bc6\u7801")))]),n("view",{attrs:{_i:22},on:{click:e.goToResetPwd}})]),n("button",{staticClass:e._$s(23,"sc","login"),attrs:{_i:23},on:{click:e.handleLogin}})])])])},i=[]},"4db7":function(e,t,n){var r=n("b0bd");e.exports=function(e){var t={},n=!1;function i(t,i){return n=!0,i=new Promise((function(n){n(e[t](i))})),{done:!1,value:new r(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e["throw"]&&(t["throw"]=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e["return"]&&(t["return"]=function(e){return n?(n=!1,e):i("return",e)}),t},e.exports.__esModule=!0,e.exports["default"]=e.exports},"4e1e":function(e,t,n){"use strict";n.r(t);var r=n("d161"),i=n("4a08");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"3a0c90d4",null,!1,r["a"],void 0);t["default"]=s.exports},"4e97":function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.DoubleSide=t.DodecahedronGeometry=t.DisplayP3ColorSpace=t.DiscreteInterpolant=t.DirectionalLightHelper=t.DirectionalLight=t.DetachedBindMode=t.DepthTexture=t.DepthStencilFormat=t.DepthFormat=t.DefaultLoadingManager=t.DecrementWrapStencilOp=t.DecrementStencilOp=t.DataUtils=t.DataTextureLoader=t.DataTexture=t.DataArrayTexture=t.Data3DTexture=t.Cylindrical=t.CylinderGeometry=t.CustomToneMapping=t.CustomBlending=t.CurvePath=t.Curve=t.CullFaceNone=t.CullFaceFrontBack=t.CullFaceFront=t.CullFaceBack=t.CubicInterpolant=t.CubicBezierCurve3=t.CubicBezierCurve=t.CubeUVReflectionMapping=t.CubeTextureLoader=t.CubeTexture=t.CubeRefractionMapping=t.CubeReflectionMapping=t.CubeCamera=t.Controls=t.ConstantColorFactor=t.ConstantAlphaFactor=t.ConeGeometry=t.CompressedTextureLoader=t.CompressedTexture=t.CompressedCubeTexture=t.CompressedArrayTexture=t.ColorManagement=t.ColorKeyframeTrack=t.Color=t.Clock=t.ClampToEdgeWrapping=t.CircleGeometry=t.CineonToneMapping=t.CatmullRomCurve3=t.CapsuleGeometry=t.CanvasTexture=t.CameraHelper=t.Camera=t.Cache=t.ByteType=t.BufferGeometryLoader=t.BufferGeometry=t.BufferAttribute=t.BoxHelper=t.BoxGeometry=t.Box3Helper=t.Box3=t.Box2=t.BooleanKeyframeTrack=t.Bone=t.BatchedMesh=t.BasicShadowMap=t.BasicDepthPacking=t.BackSide=t.AxesHelper=t.AudioLoader=t.AudioListener=t.AudioContext=t.AudioAnalyser=t.Audio=t.AttachedBindMode=t.ArrowHelper=t.ArrayCamera=t.ArcCurve=t.AnimationUtils=t.AnimationObjectGroup=t.AnimationMixer=t.AnimationLoader=t.AnimationClip=t.AnimationAction=t.AmbientLight=t.AlwaysStencilFunc=t.AlwaysDepth=t.AlwaysCompare=t.AlphaFormat=t.AgXToneMapping=t.AdditiveBlending=t.AdditiveAnimationBlendMode=t.AddOperation=t.AddEquation=t.ACESFilmicToneMapping=void 0,t.Material=t.MOUSE=t.LuminanceFormat=t.LuminanceAlphaFormat=t.LoopRepeat=t.LoopPingPong=t.LoopOnce=t.LoadingManager=t.LoaderUtils=t.Loader=t.LinearTransfer=t.LinearToneMapping=t.LinearSRGBColorSpace=t.LinearMipmapNearestFilter=t.LinearMipmapLinearFilter=t.LinearMipMapNearestFilter=t.LinearMipMapLinearFilter=t.LinearInterpolant=t.LinearFilter=t.LinearDisplayP3ColorSpace=t.LineSegments=t.LineLoop=t.LineDashedMaterial=t.LineCurve3=t.LineCurve=t.LineBasicMaterial=t.Line3=t.Line=t.LightProbe=t.Light=t.LessStencilFunc=t.LessEqualStencilFunc=t.LessEqualDepth=t.LessEqualCompare=t.LessDepth=t.LessCompare=t.Layers=t.LatheGeometry=t.LOD=t.KeyframeTrack=t.KeepStencilOp=t.InvertStencilOp=t.InterpolateSmooth=t.InterpolateLinear=t.InterpolateDiscrete=t.Interpolant=t.InterleavedBufferAttribute=t.InterleavedBuffer=t.IntType=t.Int8BufferAttribute=t.Int32BufferAttribute=t.Int16BufferAttribute=t.InstancedMesh=t.InstancedInterleavedBuffer=t.InstancedBufferGeometry=t.InstancedBufferAttribute=t.IncrementWrapStencilOp=t.IncrementStencilOp=t.ImageUtils=t.ImageLoader=t.ImageBitmapLoader=t.IcosahedronGeometry=t.HemisphereLightHelper=t.HemisphereLight=t.HalfFloatType=t.Group=t.GridHelper=t.GreaterStencilFunc=t.GreaterEqualStencilFunc=t.GreaterEqualDepth=t.GreaterEqualCompare=t.GreaterDepth=t.GreaterCompare=t.GLSL3=t.GLSL1=t.GLBufferAttribute=t.Frustum=t.FrontSide=t.FramebufferTexture=t.FogExp2=t.Fog=t.FloatType=t.Float32BufferAttribute=t.Float16BufferAttribute=t.FileLoader=t.ExtrudeGeometry=t.EventDispatcher=t.Euler=t.EquirectangularRefractionMapping=t.EquirectangularReflectionMapping=t.EqualStencilFunc=t.EqualDepth=t.EqualCompare=t.EllipseCurve=t.EdgesGeometry=t.DynamicReadUsage=t.DynamicDrawUsage=t.DynamicCopyUsage=t.DstColorFactor=t.DstAlphaFactor=void 0,t.RGBA_S3TC_DXT1_Format=t.RGBA_PVRTC_4BPPV1_Format=t.RGBA_PVRTC_2BPPV1_Format=t.RGBA_ETC2_EAC_Format=t.RGBA_BPTC_Format=t.RGBA_ASTC_8x8_Format=t.RGBA_ASTC_8x6_Format=t.RGBA_ASTC_8x5_Format=t.RGBA_ASTC_6x6_Format=t.RGBA_ASTC_6x5_Format=t.RGBA_ASTC_5x5_Format=t.RGBA_ASTC_5x4_Format=t.RGBA_ASTC_4x4_Format=t.RGBA_ASTC_12x12_Format=t.RGBA_ASTC_12x10_Format=t.RGBA_ASTC_10x8_Format=t.RGBA_ASTC_10x6_Format=t.RGBA_ASTC_10x5_Format=t.RGBA_ASTC_10x10_Format=t.RGBAIntegerFormat=t.RGBAFormat=t.RGBADepthPacking=t.REVISION=t.RED_RGTC1_Format=t.RED_GREEN_RGTC2_Format=t.QuaternionLinearInterpolant=t.QuaternionKeyframeTrack=t.Quaternion=t.QuadraticBezierCurve3=t.QuadraticBezierCurve=t.PropertyMixer=t.PropertyBinding=t.PositionalAudio=t.PolyhedronGeometry=t.PolarGridHelper=t.PointsMaterial=t.Points=t.PointLightHelper=t.PointLight=t.PlaneHelper=t.PlaneGeometry=t.Plane=t.PerspectiveCamera=t.Path=t.PMREMGenerator=t.PCFSoftShadowMap=t.PCFShadowMap=t.P3Primaries=t.OrthographicCamera=t.OneMinusSrcColorFactor=t.OneMinusSrcAlphaFactor=t.OneMinusDstColorFactor=t.OneMinusDstAlphaFactor=t.OneMinusConstantColorFactor=t.OneMinusConstantAlphaFactor=t.OneFactor=t.OctahedronGeometry=t.ObjectSpaceNormalMap=t.ObjectLoader=t.Object3D=t.NumberKeyframeTrack=t.NotEqualStencilFunc=t.NotEqualDepth=t.NotEqualCompare=t.NormalBlending=t.NormalAnimationBlendMode=t.NoToneMapping=t.NoColorSpace=t.NoBlending=t.NeverStencilFunc=t.NeverDepth=t.NeverCompare=t.NeutralToneMapping=t.NearestMipmapNearestFilter=t.NearestMipmapLinearFilter=t.NearestMipMapNearestFilter=t.NearestMipMapLinearFilter=t.NearestFilter=t.MultiplyOperation=t.MultiplyBlending=t.MixOperation=t.MirroredRepeatWrapping=t.MinEquation=t.MeshToonMaterial=t.MeshStandardMaterial=t.MeshPhysicalMaterial=t.MeshPhongMaterial=t.MeshNormalMaterial=t.MeshMatcapMaterial=t.MeshLambertMaterial=t.MeshDistanceMaterial=t.MeshDepthMaterial=t.MeshBasicMaterial=t.Mesh=t.MaxEquation=t.Matrix4=t.Matrix3=t.Matrix2=t.MathUtils=t.MaterialLoader=void 0,t.Vector3=t.Vector2=t.VSMShadowMap=t.UnsignedShortType=t.UnsignedShort5551Type=t.UnsignedShort4444Type=t.UnsignedIntType=t.UnsignedInt5999Type=t.UnsignedInt248Type=t.UnsignedByteType=t.UniformsUtils=t.UniformsLib=t.UniformsGroup=t.Uniform=t.Uint8ClampedBufferAttribute=t.Uint8BufferAttribute=t.Uint32BufferAttribute=t.Uint16BufferAttribute=t.UVMapping=t.TubeGeometry=t.TrianglesDrawMode=t.TriangleStripDrawMode=t.TriangleFanDrawMode=t.Triangle=t.TorusKnotGeometry=t.TorusGeometry=t.TextureUtils=t.TextureLoader=t.Texture=t.TetrahedronGeometry=t.TangentSpaceNormalMap=t.TOUCH=t.SubtractiveBlending=t.SubtractEquation=t.StringKeyframeTrack=t.StreamReadUsage=t.StreamDrawUsage=t.StreamCopyUsage=t.StereoCamera=t.StaticReadUsage=t.StaticDrawUsage=t.StaticCopyUsage=t.SrcColorFactor=t.SrcAlphaSaturateFactor=t.SrcAlphaFactor=t.SpriteMaterial=t.Sprite=t.SpotLightHelper=t.SpotLight=t.SplineCurve=t.SphericalHarmonics3=t.Spherical=t.SphereGeometry=t.Sphere=t.Source=t.SkinnedMesh=t.SkeletonHelper=t.Skeleton=t.ShortType=t.ShapeUtils=t.ShapePath=t.ShapeGeometry=t.Shape=t.ShadowMaterial=t.ShaderMaterial=t.ShaderLib=t.ShaderChunk=t.Scene=t.SRGBTransfer=t.SRGBColorSpace=t.SIGNED_RED_RGTC1_Format=t.SIGNED_RED_GREEN_RGTC2_Format=t.RingGeometry=t.ReverseSubtractEquation=t.ReplaceStencilOp=t.RepeatWrapping=t.RenderTarget=t.ReinhardToneMapping=t.RedIntegerFormat=t.RedFormat=t.RectAreaLight=t.Rec709Primaries=t.Raycaster=t.Ray=t.RawShaderMaterial=t.RGIntegerFormat=t.RGFormat=t.RGDepthPacking=t.RGB_S3TC_DXT1_Format=t.RGB_PVRTC_4BPPV1_Format=t.RGB_PVRTC_2BPPV1_Format=t.RGB_ETC2_Format=t.RGB_ETC1_Format=t.RGB_BPTC_UNSIGNED_Format=t.RGB_BPTC_SIGNED_Format=t.RGBIntegerFormat=t.RGBFormat=t.RGBDepthPacking=t.RGBA_S3TC_DXT5_Format=t.RGBA_S3TC_DXT3_Format=void 0,t.WebGLRenderer=t.WebGLRenderTarget=t.WebGLMultipleRenderTargets=t.WebGLCubeRenderTarget=t.WebGLCoordinateSystem=t.WebGLArrayRenderTarget=t.WebGL3DRenderTarget=t.VideoTexture=t.VectorKeyframeTrack=t.Vector4=void 0,t.WebGLUtils=Ca,t.ZeroStencilOp=t.ZeroSlopeEnding=t.ZeroFactor=t.ZeroCurvatureEnding=t.WrapAroundEnding=t.WireframeGeometry=t.WebGPUCoordinateSystem=void 0,t.createCanvasElement=G;var i,a,o=r(n("7ce1")),s=r(n("ee10")),u=r(n("34cf")),l=r(n("0670")),c=r(n("af34")),h=r(n("3352")),d=r(n("8ffa")),f=r(n("4ffb")),p=r(n("b4d2")),v=r(n("127e")),m=r(n("7ca3")),g=r(n("67ad")),y=r(n("0bdb"));function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,m.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}
/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}t.REVISION="169";t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2};t.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3};t.CullFaceNone=0;t.CullFaceBack=1;t.CullFaceFront=2;t.CullFaceFrontBack=3;t.BasicShadowMap=0;t.PCFShadowMap=1;t.PCFSoftShadowMap=2;t.VSMShadowMap=3;t.FrontSide=0;t.BackSide=1;t.DoubleSide=2;t.NoBlending=0;t.NormalBlending=1;t.AdditiveBlending=2;t.SubtractiveBlending=3;t.MultiplyBlending=4;t.CustomBlending=5;t.AddEquation=100;t.SubtractEquation=101;t.ReverseSubtractEquation=102;t.MinEquation=103;t.MaxEquation=104;t.ZeroFactor=200;t.OneFactor=201;t.SrcColorFactor=202;t.OneMinusSrcColorFactor=203;t.SrcAlphaFactor=204;t.OneMinusSrcAlphaFactor=205;t.DstAlphaFactor=206;t.OneMinusDstAlphaFactor=207;t.DstColorFactor=208;t.OneMinusDstColorFactor=209;t.SrcAlphaSaturateFactor=210;t.ConstantColorFactor=211;t.OneMinusConstantColorFactor=212;t.ConstantAlphaFactor=213;t.OneMinusConstantAlphaFactor=214;t.NeverDepth=0;t.AlwaysDepth=1;t.LessDepth=2;t.LessEqualDepth=3;t.EqualDepth=4;t.GreaterEqualDepth=5;t.GreaterDepth=6;t.NotEqualDepth=7;t.MultiplyOperation=0;t.MixOperation=1;t.AddOperation=2;t.NoToneMapping=0;t.LinearToneMapping=1;t.ReinhardToneMapping=2;t.CineonToneMapping=3;t.ACESFilmicToneMapping=4;t.CustomToneMapping=5;t.AgXToneMapping=6;t.NeutralToneMapping=7;t.AttachedBindMode="attached";t.DetachedBindMode="detached";t.UVMapping=300;t.CubeReflectionMapping=301;t.CubeRefractionMapping=302;t.EquirectangularReflectionMapping=303;t.EquirectangularRefractionMapping=304;t.CubeUVReflectionMapping=306;t.RepeatWrapping=1e3;t.ClampToEdgeWrapping=1001;t.MirroredRepeatWrapping=1002;t.NearestFilter=1003;t.NearestMipmapNearestFilter=1004;t.NearestMipMapNearestFilter=1004;t.NearestMipmapLinearFilter=1005;t.NearestMipMapLinearFilter=1005;t.LinearFilter=1006;t.LinearMipmapNearestFilter=1007;t.LinearMipMapNearestFilter=1007;t.LinearMipmapLinearFilter=1008;t.LinearMipMapLinearFilter=1008;t.UnsignedByteType=1009;t.ByteType=1010;t.ShortType=1011;t.UnsignedShortType=1012;t.IntType=1013;t.UnsignedIntType=1014;t.FloatType=1015;t.HalfFloatType=1016;t.UnsignedShort4444Type=1017;t.UnsignedShort5551Type=1018;t.UnsignedInt248Type=1020;t.UnsignedInt5999Type=35902;t.AlphaFormat=1021;t.RGBFormat=1022;t.RGBAFormat=1023;t.LuminanceFormat=1024;t.LuminanceAlphaFormat=1025;t.DepthFormat=1026;t.DepthStencilFormat=1027;t.RedFormat=1028;t.RedIntegerFormat=1029;t.RGFormat=1030;t.RGIntegerFormat=1031;t.RGBIntegerFormat=1032;t.RGBAIntegerFormat=1033;t.RGB_S3TC_DXT1_Format=33776;t.RGBA_S3TC_DXT1_Format=33777;t.RGBA_S3TC_DXT3_Format=33778;t.RGBA_S3TC_DXT5_Format=33779;t.RGB_PVRTC_4BPPV1_Format=35840;t.RGB_PVRTC_2BPPV1_Format=35841;t.RGBA_PVRTC_4BPPV1_Format=35842;t.RGBA_PVRTC_2BPPV1_Format=35843;t.RGB_ETC1_Format=36196;t.RGB_ETC2_Format=37492;t.RGBA_ETC2_EAC_Format=37496;t.RGBA_ASTC_4x4_Format=37808;t.RGBA_ASTC_5x4_Format=37809;t.RGBA_ASTC_5x5_Format=37810;t.RGBA_ASTC_6x5_Format=37811;t.RGBA_ASTC_6x6_Format=37812;t.RGBA_ASTC_8x5_Format=37813;t.RGBA_ASTC_8x6_Format=37814;t.RGBA_ASTC_8x8_Format=37815;t.RGBA_ASTC_10x5_Format=37816;t.RGBA_ASTC_10x6_Format=37817;t.RGBA_ASTC_10x8_Format=37818;t.RGBA_ASTC_10x10_Format=37819;t.RGBA_ASTC_12x10_Format=37820;t.RGBA_ASTC_12x12_Format=37821;t.RGBA_BPTC_Format=36492;t.RGB_BPTC_SIGNED_Format=36494;t.RGB_BPTC_UNSIGNED_Format=36495;t.RED_RGTC1_Format=36283;t.SIGNED_RED_RGTC1_Format=36284;t.RED_GREEN_RGTC2_Format=36285;t.SIGNED_RED_GREEN_RGTC2_Format=36286;t.LoopOnce=2200;t.LoopRepeat=2201;t.LoopPingPong=2202;t.InterpolateDiscrete=2300;t.InterpolateLinear=2301;t.InterpolateSmooth=2302;t.ZeroCurvatureEnding=2400;t.ZeroSlopeEnding=2401;t.WrapAroundEnding=2402;t.NormalAnimationBlendMode=2500;t.AdditiveAnimationBlendMode=2501;t.TrianglesDrawMode=0;t.TriangleStripDrawMode=1;t.TriangleFanDrawMode=2;t.BasicDepthPacking=3200;t.RGBADepthPacking=3201;t.RGBDepthPacking=3202;t.RGDepthPacking=3203;t.TangentSpaceNormalMap=0;t.ObjectSpaceNormalMap=1;t.NoColorSpace="";t.SRGBColorSpace="srgb";t.LinearSRGBColorSpace="srgb-linear";t.DisplayP3ColorSpace="display-p3";t.LinearDisplayP3ColorSpace="display-p3-linear";t.LinearTransfer="linear";t.SRGBTransfer="srgb";t.Rec709Primaries="rec709";t.P3Primaries="p3";t.ZeroStencilOp=0;t.KeepStencilOp=7680;t.ReplaceStencilOp=7681;t.IncrementStencilOp=7682;t.DecrementStencilOp=7683;t.IncrementWrapStencilOp=34055;t.DecrementWrapStencilOp=34056;t.InvertStencilOp=5386;t.NeverStencilFunc=512;t.LessStencilFunc=513;t.EqualStencilFunc=514;t.LessEqualStencilFunc=515;t.GreaterStencilFunc=516;t.NotEqualStencilFunc=517;t.GreaterEqualStencilFunc=518;t.AlwaysStencilFunc=519;t.NeverCompare=512;t.LessCompare=513;t.EqualCompare=514;t.LessEqualCompare=515;t.GreaterCompare=516;t.NotEqualCompare=517;t.GreaterEqualCompare=518;t.AlwaysCompare=519;t.StaticDrawUsage=35044;t.DynamicDrawUsage=35048;t.StreamDrawUsage=35040;t.StaticReadUsage=35045;t.DynamicReadUsage=35049;t.StreamReadUsage=35041;t.StaticCopyUsage=35046;t.DynamicCopyUsage=35050;t.StreamCopyUsage=35042;t.GLSL1="100";t.GLSL3="300 es";t.WebGLCoordinateSystem=2e3;t.WebGPUCoordinateSystem=2001;var A=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners,r=n[e];if(void 0!==r){var i=r.indexOf(t);-1!==i&&r.splice(i,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;for(var r=n.slice(0),i=0,a=r.length;i<a;i++)r[i].call(this,e);e.target=null}}}}]),e}();t.EventDispatcher=A;var M=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],T=1234567,E=Math.PI/180,k=180/Math.PI;function C(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=M[255&e]+M[e>>8&255]+M[e>>16&255]+M[e>>24&255]+"-"+M[255&t]+M[t>>8&255]+"-"+M[t>>16&15|64]+M[t>>24&255]+"-"+M[63&n|128]+M[n>>8&255]+"-"+M[n>>16&255]+M[n>>24&255]+M[255&r]+M[r>>8&255]+M[r>>16&255]+M[r>>24&255];return i.toLowerCase()}function P(e,t,n){return Math.max(t,Math.min(n,e))}function R(e,t){return(e%t+t)%t}function I(e,t,n){return(1-n)*e+n*t}function O(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function L(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var D={DEG2RAD:E,RAD2DEG:k,generateUUID:C,clamp:P,euclideanModulo:R,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:I,damp:function(e,t,n,r){return I(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(R(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(6*e-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(T=e);var t=T+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*E},radToDeg:function(e){return e*k},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(t,n,r,i,a){var o=Math.cos,s=Math.sin,u=o(r/2),l=s(r/2),c=o((n+i)/2),h=s((n+i)/2),d=o((n-i)/2),f=s((n-i)/2),p=o((i-n)/2),v=s((i-n)/2);switch(a){case"XYX":t.set(u*h,l*d,l*f,u*c);break;case"YZY":t.set(l*f,u*h,l*d,u*c);break;case"ZXZ":t.set(l*d,l*f,u*h,u*c);break;case"XZX":t.set(u*h,l*v,l*p,u*c);break;case"YXY":t.set(l*p,u*h,l*v,u*c);break;case"ZYZ":t.set(l*v,l*p,u*h,u*c);break;default:e("warn","THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a," at node_modules/three/build/three.module.js:531")}},normalize:L,denormalize:O};t.MathUtils=D;var B=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,g.default)(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return(0,y.default)(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(P(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:e,value:v.default.mark((function e(){return v.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);t.Vector2=B;var U=function(){function e(t,n,r,i,a,o,s,u,l){(0,g.default)(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,u,l)}return(0,y.default)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],h=n[2],d=n[5],f=n[8],p=r[0],v=r[3],m=r[6],g=r[1],y=r[4],_=r[7],b=r[2],x=r[5],w=r[8];return i[0]=a*p+o*g+s*b,i[3]=a*v+o*y+s*x,i[6]=a*m+o*_+s*w,i[1]=u*p+l*g+c*b,i[4]=u*v+l*y+c*x,i[7]=u*m+l*_+c*w,i[2]=h*p+d*g+f*b,i[5]=h*v+d*y+f*x,i[8]=h*m+d*_+f*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-n*i*l+n*o*s+r*i*u-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=l*a-o*u,h=o*s-l*i,d=u*i-a*s,f=t*c+n*h+r*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return e[0]=c*p,e[1]=(r*u-l*n)*p,e[2]=(o*n-r*a)*p,e[3]=h*p,e[4]=(l*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=d*p,e[7]=(n*s-u*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),u=Math.sin(i);return this.set(n*s,n*u,-n*(s*a+u*o)+a+e,-r*u,r*s,-r*(-u*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(N.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(N.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(N.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();t.Matrix3=U;var N=new U;function F(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var j={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function z(e,t){return new j[e](t)}function H(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function G(){var e=H("canvas");return e.style.display="block",e}var W={};function V(t){t in W||(W[t]=!0,e("warn",t," at node_modules/three/build/three.module.js:1562"))}function q(e,t,n){return new Promise((function(r,i){setTimeout((function a(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}),n)}))}function X(e){var t=e.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function Y(e){var t=e.elements,n=-1===t[11];n?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=1-t[14])}var K,Q=(new U).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),J=(new U).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Z=(i={},(0,m.default)(i,"srgb-linear",{transfer:"linear",primaries:"rec709",luminanceCoefficients:[.2126,.7152,.0722],toReference:function(e){return e},fromReference:function(e){return e}}),(0,m.default)(i,"srgb",{transfer:"srgb",primaries:"rec709",luminanceCoefficients:[.2126,.7152,.0722],toReference:function(e){return e.convertSRGBToLinear()},fromReference:function(e){return e.convertLinearToSRGB()}}),(0,m.default)(i,"display-p3-linear",{transfer:"linear",primaries:"p3",luminanceCoefficients:[.2289,.6917,.0793],toReference:function(e){return e.applyMatrix3(J)},fromReference:function(e){return e.applyMatrix3(Q)}}),(0,m.default)(i,"display-p3",{transfer:"srgb",primaries:"p3",luminanceCoefficients:[.2289,.6917,.0793],toReference:function(e){return e.convertSRGBToLinear().applyMatrix3(J)},fromReference:function(e){return e.applyMatrix3(Q).convertLinearToSRGB()}}),i),$=new Set(["srgb-linear","display-p3-linear"]),ee={enabled:!0,_workingColorSpace:"srgb-linear",get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!$.has(e))throw new Error('Unsupported working color space, "'.concat(e,'".'));this._workingColorSpace=e},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;var r=Z[t].toReference,i=Z[n].fromReference;return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return Z[e].primaries},getTransfer:function(e){return""===e?"linear":Z[e].transfer},getLuminanceCoefficients:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._workingColorSpace;return e.fromArray(Z[t].luminanceCoefficients)}};function te(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function ne(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}t.ColorManagement=ee;var re=function(){function t(){(0,g.default)(this,t)}return(0,y.default)(t,null,[{key:"getDataURL",value:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"===typeof HTMLCanvasElement)return t.src;var n;if(t instanceof HTMLCanvasElement)n=t;else{void 0===K&&(K=H("canvas")),K.width=t.width,K.height=t.height;var r=K.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),n=K}return n.width>2048||n.height>2048?(e("warn","THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t," at node_modules/three/build/three.module.js:1823"),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(t){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){var n=H("canvas");n.width=t.width,n.height=t.height;var r=n.getContext("2d");r.drawImage(t,0,0,t.width,t.height);for(var i=r.getImageData(0,0,t.width,t.height),a=i.data,o=0;o<a.length;o++)a[o]=255*te(a[o]/255);return r.putImageData(i,0,0),n}if(t.data){for(var s=t.data.slice(0),u=0;u<s.length;u++)s instanceof Uint8Array||s instanceof Uint8ClampedArray?s[u]=Math.floor(255*te(s[u]/255)):s[u]=te(s[u]);return{data:s,width:t.width,height:t.height}}return e("warn","THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."," at node_modules/three/build/three.module.js:1890"),t}}]),t}();t.ImageUtils=re;var ie=0,ae=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,g.default)(this,e),this.isSource=!0,Object.defineProperty(this,"id",{value:ie++}),this.uuid=C(),this.data=t,this.dataReady=!0,this.version=0}return(0,y.default)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(oe(r[a].image)):i.push(oe(r[a]))}else i=oe(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function oe(t){return"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap?re.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(e("warn","THREE.Texture: Unable to serialize Texture."," at node_modules/three/build/three.module.js:2014"),{})}t.Source=ae;var se=0,ue=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1001,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1001,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1006,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1008,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1023,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1009,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"";return(0,g.default)(this,n),e=t.call(this),e.isTexture=!0,Object.defineProperty((0,h.default)(e),"id",{value:se++}),e.uuid=C(),e.name="",e.source=new ae(r),e.mipmaps=[],e.mapping=i,e.channel=0,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=u,e.anisotropy=d,e.format=l,e.internalFormat=null,e.type=c,e.offset=new B(0,0),e.repeat=new B(1,1),e.center=new B(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new U,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.colorSpace=f,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.pmremVersion=0,e}return(0,y.default)(n,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}},{key:"needsPMREMUpdate",set:function(e){!0===e&&this.pmremVersion++}}]),n}(A);t.Texture=ue,ue.DEFAULT_IMAGE=null,ue.DEFAULT_MAPPING=300,ue.DEFAULT_ANISOTROPY=1;var le=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,g.default)(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return(0,y.default)(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=e.elements,o=a[0],s=a[4],u=a[8],l=a[1],c=a[5],h=a[9],d=a[2],f=a[6],p=a[10];if(Math.abs(s-l)<.01&&Math.abs(u-d)<.01&&Math.abs(h-f)<.01){if(Math.abs(s+l)<.1&&Math.abs(u+d)<.1&&Math.abs(h+f)<.1&&Math.abs(o+c+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var v=(o+1)/2,m=(c+1)/2,g=(p+1)/2,y=(s+l)/4,_=(u+d)/4,b=(h+f)/4;return v>m&&v>g?v<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(v),r=y/n,i=_/n):m>g?m<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(m),n=y/r,i=b/r):g<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(g),n=_/i,r=b/i),this.set(n,r,i,t),this}var x=Math.sqrt((f-h)*(f-h)+(u-d)*(u-d)+(l-s)*(l-s));return Math.abs(x)<.001&&(x=1),this.x=(f-h)/x,this.y=(u-d)/x,this.z=(l-s)/x,this.w=Math.acos((o+c+p-1)/2),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:e,value:v.default.mark((function e(){return v.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);t.Vector4=le;var ce=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,g.default)(this,n),e=t.call(this),e.isRenderTarget=!0,e.width=r,e.height=i,e.depth=1,e.scissor=new le(0,0,r,i),e.scissorTest=!1,e.viewport=new le(0,0,r,i);var o={width:r,height:i,depth:1};a=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:1006,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},a);var s=new ue(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace);s.flipY=!1,s.generateMipmaps=a.generateMipmaps,s.internalFormat=a.internalFormat,e.textures=[];for(var u=a.count,l=0;l<u;l++)e.textures[l]=s.clone(),e.textures[l].isRenderTargetTexture=!0;return e.depthBuffer=a.depthBuffer,e.stencilBuffer=a.stencilBuffer,e.resolveDepthBuffer=a.resolveDepthBuffer,e.resolveStencilBuffer=a.resolveStencilBuffer,e.depthTexture=a.depthTexture,e.samples=a.samples,e}return(0,y.default)(n,[{key:"texture",get:function(){return this.textures[0]},set:function(e){this.textures[0]=e}},{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(var t=0,n=e.textures.length;t<n;t++)this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0;var r=Object.assign({},e.texture.image);return this.texture.source=new ae(r),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(A);t.RenderTarget=ce;var he=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,g.default)(this,n),e=t.call(this,r,i,a),e.isWebGLRenderTarget=!0,e}return(0,y.default)(n)}(ce);t.WebGLRenderTarget=he;var de=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,g.default)(this,n),e=t.call(this,null),e.isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=1003,e.minFilter=1003,e.wrapR=1001,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e.layerUpdates=new Set,e}return(0,y.default)(n,[{key:"addLayerUpdate",value:function(e){this.layerUpdates.add(e)}},{key:"clearLayerUpdates",value:function(){this.layerUpdates.clear()}}]),n}(ue);t.DataArrayTexture=de;var fe=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,g.default)(this,n),e=t.call(this,r,i,o),e.isWebGLArrayRenderTarget=!0,e.depth=a,e.texture=new de(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return(0,y.default)(n)}(he);t.WebGLArrayRenderTarget=fe;var pe=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,g.default)(this,n),e=t.call(this,null),e.isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=1003,e.minFilter=1003,e.wrapR=1001,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,y.default)(n)}(ue);t.Data3DTexture=pe;var ve=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,g.default)(this,n),e=t.call(this,r,i,o),e.isWebGL3DRenderTarget=!0,e.depth=a,e.texture=new pe(null,r,i,a),e.texture.isRenderTargetTexture=!0,e}return(0,y.default)(n)}(he);t.WebGL3DRenderTarget=ve;var me=function(t){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,g.default)(this,n),this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}return(0,y.default)(n,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t._x,i=t._y,a=t._z,o=t._order,s=Math.cos,u=Math.sin,l=s(r/2),c=s(i/2),h=s(a/2),d=u(r/2),f=u(i/2),p=u(a/2);switch(o){case"XYZ":this._x=d*c*h+l*f*p,this._y=l*f*h-d*c*p,this._z=l*c*p+d*f*h,this._w=l*c*h-d*f*p;break;case"YXZ":this._x=d*c*h+l*f*p,this._y=l*f*h-d*c*p,this._z=l*c*p-d*f*h,this._w=l*c*h+d*f*p;break;case"ZXY":this._x=d*c*h-l*f*p,this._y=l*f*h+d*c*p,this._z=l*c*p+d*f*h,this._w=l*c*h-d*f*p;break;case"ZYX":this._x=d*c*h-l*f*p,this._y=l*f*h+d*c*p,this._z=l*c*p-d*f*h,this._w=l*c*h+d*f*p;break;case"YZX":this._x=d*c*h+l*f*p,this._y=l*f*h+d*c*p,this._z=l*c*p-d*f*h,this._w=l*c*h-d*f*p;break;case"XZY":this._x=d*c*h-l*f*p,this._y=l*f*h-d*c*p,this._z=l*c*p+d*f*h,this._w=l*c*h+d*f*p;break;default:e("warn","THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o," at node_modules/three/build/three.module.js:3514")}return!0===n&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],u=t[2],l=t[6],c=t[10],h=n+o+c;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(l-s)*d,this._y=(i-u)*d,this._z=(a-r)*d}else if(n>o&&n>c){var f=2*Math.sqrt(1+n-o-c);this._w=(l-s)/f,this._x=.25*f,this._y=(r+a)/f,this._z=(i+u)/f}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-u)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+l)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-r)/v,this._x=(i+u)/v,this._y=(s+l)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(P(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+a*o+r*u-i*s,this._y=r*l+a*s+i*o-n*u,this._z=i*l+a*u+n*s-r*o,this._w=a*l-n*o-r*s-i*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),h=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=r*h+this._y*d,this._z=i*h+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:t,value:v.default.mark((function e(){return v.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],h=i[a+0],d=i[a+1],f=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=u,e[t+2]=l,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=f,void(e[t+3]=p);if(c!==p||s!==h||u!==d||l!==f){var v=1-o,m=s*h+u*d+l*f+c*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,m*g);v=Math.sin(v*b)/_,o=Math.sin(o*b)/_}var x=o*g;if(s=s*v+h*x,u=u*v+d*x,l=l*v+f*x,c=c*v+p*x,v===1-o){var w=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=w,u*=w,l*=w,c*=w}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],u=n[r+2],l=n[r+3],c=i[a],h=i[a+1],d=i[a+2],f=i[a+3];return e[t]=o*f+l*c+s*d-u*h,e[t+1]=s*f+l*h+u*c-o*d,e[t+2]=u*f+l*d+o*h-s*c,e[t+3]=l*f-o*c-s*h-u*d,e}}]),n}(Symbol.iterator);t.Quaternion=me;var ge=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,g.default)(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return(0,y.default)(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(_e.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(_e.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=2*(a*r-o*n),l=2*(o*t-i*r),c=2*(i*n-a*t);return this.x=t+s*u+a*c-o*l,this.y=n+s*l+o*u-i*c,this.z=r+s*c+i*l-a*u,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return ye.copy(this).projectOnVector(e),this.sub(ye)}},{key:"reflect",value:function(e){return this.sub(ye.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(P(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}},{key:e,value:v.default.mark((function e(){return v.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);t.Vector3=ge;var ye=new ge,_e=new me,be=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ge(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ge(-1/0,-1/0,-1/0);(0,g.default)(this,e),this.isBox3=!0,this.min=t,this.max=n}return(0,y.default)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t+=3)this.expandByPoint(we.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,n=e.count;t<n;t++)this.expandByPoint(we.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=we.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n){var r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(var i=0,a=r.count;i<a;i++)!0===e.isMesh?e.getVertexPosition(i,we):we.fromBufferAttribute(r,i),we.applyMatrix4(e.matrixWorld),this.expandByPoint(we);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),Se.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Se.copy(n.boundingBox)),Se.applyMatrix4(e.matrixWorld),this.union(Se)}for(var o=e.children,s=0,u=o.length;s<u;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,we),we.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Pe),Re.subVectors(this.max,Pe),Ae.subVectors(e.a,Pe),Me.subVectors(e.b,Pe),Te.subVectors(e.c,Pe),Ee.subVectors(Me,Ae),ke.subVectors(Te,Me),Ce.subVectors(Ae,Te);var t=[0,-Ee.z,Ee.y,0,-ke.z,ke.y,0,-Ce.z,Ce.y,Ee.z,0,-Ee.x,ke.z,0,-ke.x,Ce.z,0,-Ce.x,-Ee.y,Ee.x,0,-ke.y,ke.x,0,-Ce.y,Ce.x,0];return!!Le(t,Ae,Me,Te,Re)&&(t=[1,0,0,0,1,0,0,0,1],!!Le(t,Ae,Me,Te,Re)&&(Ie.crossVectors(Ee,ke),t=[Ie.x,Ie.y,Ie.z],Le(t,Ae,Me,Te,Re)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,we).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(we).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(xe[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),xe[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),xe[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),xe[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),xe[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),xe[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),xe[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),xe[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(xe)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();t.Box3=be;var xe=[new ge,new ge,new ge,new ge,new ge,new ge,new ge,new ge],we=new ge,Se=new be,Ae=new ge,Me=new ge,Te=new ge,Ee=new ge,ke=new ge,Ce=new ge,Pe=new ge,Re=new ge,Ie=new ge,Oe=new ge;function Le(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){Oe.fromArray(e,a);var s=i.x*Math.abs(Oe.x)+i.y*Math.abs(Oe.y)+i.z*Math.abs(Oe.z),u=t.dot(Oe),l=n.dot(Oe),c=r.dot(Oe);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}var De=new be,Be=new ge,Ue=new ge,Ne=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ge,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,g.default)(this,e),this.isSphere=!0,this.center=t,this.radius=n}return(0,y.default)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):De.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Be.subVectors(e,this.center);var t=Be.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(Be,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Ue.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Be.copy(e.center).add(Ue)),this.expandByPoint(Be.copy(e.center).sub(Ue))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();t.Sphere=Ne;var Fe=new ge,je=new ge,ze=new ge,He=new ge,Ge=new ge,We=new ge,Ve=new ge,qe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ge,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ge(0,0,-1);(0,g.default)(this,e),this.origin=t,this.direction=n}return(0,y.default)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Fe)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Fe.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Fe.copy(this.origin).addScaledVector(this.direction,t),Fe.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){je.copy(e).add(t).multiplyScalar(.5),ze.copy(t).sub(e).normalize(),He.copy(this.origin).sub(je);var i,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(ze),c=He.dot(this.direction),h=-He.dot(ze),d=He.lengthSq(),f=Math.abs(1-l*l);if(f>0)if(i=l*h-c,a=l*c-h,s=u*f,i>=0)if(a>=-s)if(a<=s){var p=1/f;i*=p,a*=p,o=i*(i+l*a+2*c)+a*(l*i+a+2*h)+d}else a=u,i=Math.max(0,-(l*a+c)),o=-i*i+a*(a+2*h)+d;else a=-u,i=Math.max(0,-(l*a+c)),o=-i*i+a*(a+2*h)+d;else a<=-s?(i=Math.max(0,-(-l*u+c)),a=i>0?-u:Math.min(Math.max(-u,-h),u),o=-i*i+a*(a+2*h)+d):a<=s?(i=0,a=Math.min(Math.max(-u,-h),u),o=a*(a+2*h)+d):(i=Math.max(0,-(l*u+c)),a=i>0?u:Math.min(Math.max(-u,-h),u),o=-i*i+a*(a+2*h)+d);else a=l>0?-u:u,i=Math.max(0,-(l*a+c)),o=-i*i+a*(a+2*h)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(je).addScaledVector(ze,a),o}},{key:"intersectSphere",value:function(e,t){Fe.subVectors(e.center,this.origin);var n=Fe.dot(this.direction),r=Fe.dot(Fe)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;var n=e.normal.dot(this.direction);return n*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,h=this.origin;return u>=0?(n=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(n=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),l>=0?(i=(e.min.y-h.y)*l,a=(e.max.y-h.y)*l):(i=(e.max.y-h.y)*l,a=(e.min.y-h.y)*l),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Fe)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Ge.subVectors(t,e),We.subVectors(n,e),Ve.crossVectors(Ge,We);var a,o=this.direction.dot(Ve);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}He.subVectors(this.origin,e);var s=a*this.direction.dot(We.crossVectors(He,We));if(s<0)return null;var u=a*this.direction.dot(Ge.cross(He));if(u<0)return null;if(s+u>o)return null;var l=-a*He.dot(Ve);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();t.Ray=qe;var Xe=function(){function e(t,n,r,i,a,o,s,u,l,c,h,d,f,p,v,m){(0,g.default)(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,u,l,c,h,d,f,p,v,m)}return(0,y.default)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u,l,c,h,d,f,p,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=u,m[6]=l,m[10]=c,m[14]=h,m[3]=d,m[7]=f,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/Ye.setFromMatrixColumn(e,0).length(),i=1/Ye.setFromMatrixColumn(e,1).length(),a=1/Ye.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=a*l,d=a*c,f=o*l,p=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=d+f*u,t[5]=h-p*u,t[9]=-o*s,t[2]=p-h*u,t[6]=f+d*u,t[10]=a*s}else if("YXZ"===e.order){var v=s*l,m=s*c,g=u*l,y=u*c;t[0]=v+y*o,t[4]=g*o-m,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=m*o-g,t[6]=y+v*o,t[10]=a*s}else if("ZXY"===e.order){var _=s*l,b=s*c,x=u*l,w=u*c;t[0]=_-w*o,t[4]=-a*c,t[8]=x+b*o,t[1]=b+x*o,t[5]=a*l,t[9]=w-_*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var S=a*l,A=a*c,M=o*l,T=o*c;t[0]=s*l,t[4]=M*u-A,t[8]=S*u+T,t[1]=s*c,t[5]=T*u+S,t[9]=A*u-M,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var E=a*s,k=a*u,C=o*s,P=o*u;t[0]=s*l,t[4]=P-E*c,t[8]=C*c+k,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=k*c+C,t[10]=E-P*c}else if("XZY"===e.order){var R=a*s,I=a*u,O=o*s,L=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=R*c+L,t[5]=a*l,t[9]=I*c-O,t[2]=O*c-I,t[6]=o*l,t[10]=L*c+R}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Qe,e,Je)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return et.subVectors(e,t),0===et.lengthSq()&&(et.z=1),et.normalize(),Ze.crossVectors(n,et),0===Ze.lengthSq()&&(1===Math.abs(n.z)?et.x+=1e-4:et.z+=1e-4,et.normalize(),Ze.crossVectors(n,et)),Ze.normalize(),$e.crossVectors(et,Ze),r[0]=Ze.x,r[4]=$e.x,r[8]=et.x,r[1]=Ze.y,r[5]=$e.y,r[9]=et.y,r[2]=Ze.z,r[6]=$e.z,r[10]=et.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],h=n[9],d=n[13],f=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],_=n[11],b=n[15],x=r[0],w=r[4],S=r[8],A=r[12],M=r[1],T=r[5],E=r[9],k=r[13],C=r[2],P=r[6],R=r[10],I=r[14],O=r[3],L=r[7],D=r[11],B=r[15];return i[0]=a*x+o*M+s*C+u*O,i[4]=a*w+o*T+s*P+u*L,i[8]=a*S+o*E+s*R+u*D,i[12]=a*A+o*k+s*I+u*B,i[1]=l*x+c*M+h*C+d*O,i[5]=l*w+c*T+h*P+d*L,i[9]=l*S+c*E+h*R+d*D,i[13]=l*A+c*k+h*I+d*B,i[2]=f*x+p*M+v*C+m*O,i[6]=f*w+p*T+v*P+m*L,i[10]=f*S+p*E+v*R+m*D,i[14]=f*A+p*k+v*I+m*B,i[3]=g*x+y*M+_*C+b*O,i[7]=g*w+y*T+_*P+b*L,i[11]=g*S+y*E+_*R+b*D,i[15]=g*A+y*k+_*I+b*B,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],h=e[10],d=e[14],f=e[3],p=e[7],v=e[11],m=e[15];return f*(+i*s*c-r*u*c-i*o*h+n*u*h+r*o*d-n*s*d)+p*(+t*s*d-t*u*h+i*a*h-r*a*d+r*u*l-i*s*l)+v*(+t*u*c-t*o*d-i*a*c+n*a*d+i*o*l-n*u*l)+m*(-r*o*l-t*s*c+t*o*h+r*a*c-n*a*h+n*s*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],d=e[11],f=e[12],p=e[13],v=e[14],m=e[15],g=c*v*u-p*h*u+p*s*d-o*v*d-c*s*m+o*h*m,y=f*h*u-l*v*u-f*s*d+a*v*d+l*s*m-a*h*m,_=l*p*u-f*c*u+f*o*d-a*p*d-l*o*m+a*c*m,b=f*c*s-l*p*s-f*o*h+a*p*h+l*o*v-a*c*v,x=t*g+n*y+r*_+i*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/x;return e[0]=g*w,e[1]=(p*h*i-c*v*i-p*r*d+n*v*d+c*r*m-n*h*m)*w,e[2]=(o*v*i-p*s*i+p*r*u-n*v*u-o*r*m+n*s*m)*w,e[3]=(c*s*i-o*h*i-c*r*u+n*h*u+o*r*d-n*s*d)*w,e[4]=y*w,e[5]=(l*v*i-f*h*i+f*r*d-t*v*d-l*r*m+t*h*m)*w,e[6]=(f*s*i-a*v*i-f*r*u+t*v*u+a*r*m-t*s*m)*w,e[7]=(a*h*i-l*s*i+l*r*u-t*h*u-a*r*d+t*s*d)*w,e[8]=_*w,e[9]=(f*c*i-l*p*i-f*n*d+t*p*d+l*n*m-t*c*m)*w,e[10]=(a*p*i-f*o*i+f*n*u-t*p*u-a*n*m+t*o*m)*w,e[11]=(l*o*i-a*c*i-l*n*u+t*c*u+a*n*d-t*o*d)*w,e[12]=b*w,e[13]=(l*p*r-f*c*r+f*n*h-t*p*h-l*n*v+t*c*v)*w,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*v-t*o*v)*w,e[15]=(a*c*r-l*o*r+l*n*s-t*c*s-a*n*h+t*o*h)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+n,l*s-r*a,0,u*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,h=i*u,d=i*l,f=i*c,p=a*l,v=a*c,m=o*c,g=s*u,y=s*l,_=s*c,b=n.x,x=n.y,w=n.z;return r[0]=(1-(p+m))*b,r[1]=(d+_)*b,r[2]=(f-y)*b,r[3]=0,r[4]=(d-_)*x,r[5]=(1-(h+m))*x,r[6]=(v+g)*x,r[7]=0,r[8]=(f+y)*w,r[9]=(v-g)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=Ye.set(r[0],r[1],r[2]).length(),a=Ye.set(r[4],r[5],r[6]).length(),o=Ye.set(r[8],r[9],r[10]).length(),s=this.determinant();s<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Ke.copy(this);var u=1/i,l=1/a,c=1/o;return Ke.elements[0]*=u,Ke.elements[1]*=u,Ke.elements[2]*=u,Ke.elements[4]*=l,Ke.elements[5]*=l,Ke.elements[6]*=l,Ke.elements[8]*=c,Ke.elements[9]*=c,Ke.elements[10]*=c,t.setFromRotationMatrix(Ke),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o,s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2e3,l=this.elements,c=2*i/(t-e),h=2*i/(n-r),d=(t+e)/(t-e),f=(n+r)/(n-r);if(2e3===u)o=-(a+i)/(a-i),s=-2*a*i/(a-i);else{if(2001!==u)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);o=-a/(a-i),s=-a*i/(a-i)}return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=h,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=o,l[14]=s,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o,s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2e3,l=this.elements,c=1/(t-e),h=1/(n-r),d=1/(a-i),f=(t+e)*c,p=(n+r)*h;if(2e3===u)o=(a+i)*d,s=-2*d;else{if(2001!==u)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);o=i*d,s=-1*d}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=s,l[14]=-o,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}();t.Matrix4=Xe;var Ye=new ge,Ke=new Xe,Qe=new ge(0,0,0),Je=new ge(1,1,1),Ze=new ge,$e=new ge,et=new ge,tt=new Xe,nt=new me,rt=function(t){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.DEFAULT_ORDER;(0,g.default)(this,n),this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}return(0,y.default)(n,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.elements,a=i[0],o=i[4],s=i[8],u=i[1],l=i[5],c=i[9],h=i[2],d=i[6],f=i[10];switch(n){case"XYZ":this._y=Math.asin(P(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-P(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-h,a),this._z=0);break;case"ZXY":this._x=Math.asin(P(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-P(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(P(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,f));break;case"XZY":this._z=Math.asin(-P(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,f),this._y=0);break;default:e("warn","THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n," at node_modules/three/build/three.module.js:7049")}return this._order=n,!0===r&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return tt.makeRotationFromQuaternion(e),this.setFromRotationMatrix(tt,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return nt.setFromEuler(this),this.setFromQuaternion(nt,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:t,value:v.default.mark((function e(){return v.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),n}(Symbol.iterator);t.Euler=rt,rt.DEFAULT_ORDER="XYZ";var it=function(){function e(){(0,g.default)(this,e),this.mask=1}return(0,y.default)(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}();t.Layers=it;var at=0,ot=new ge,st=new me,ut=new Xe,lt=new ge,ct=new ge,ht=new ge,dt=new me,ft=new ge(1,0,0),pt=new ge(0,1,0),vt=new ge(0,0,1),mt={type:"added"},gt={type:"removed"},yt={type:"childadded",child:null},_t={type:"childremoved",child:null},bt=function(t){(0,d.default)(r,t);var n=S(r);function r(){var e;(0,g.default)(this,r),e=n.call(this),e.isObject3D=!0,Object.defineProperty((0,h.default)(e),"id",{value:at++}),e.uuid=C(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=r.DEFAULT_UP.clone();var t=new ge,i=new rt,a=new me,o=new ge(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties((0,h.default)(e),{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Xe},normalMatrix:{value:new U}}),e.matrix=new Xe,e.matrixWorld=new Xe,e.matrixAutoUpdate=r.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldAutoUpdate=r.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.layers=new it,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return(0,y.default)(r,[{key:"onBeforeShadow",value:function(){}},{key:"onAfterShadow",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return st.setFromAxisAngle(e,t),this.quaternion.multiply(st),this}},{key:"rotateOnWorldAxis",value:function(e,t){return st.setFromAxisAngle(e,t),this.quaternion.premultiply(st),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(ft,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(pt,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(vt,e)}},{key:"translateOnAxis",value:function(e,t){return ot.copy(e).applyQuaternion(this.quaternion),this.position.add(ot.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(ft,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(pt,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(vt,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ut.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?lt.copy(e):lt.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),ct.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ut.lookAt(ct,lt,this.up):ut.lookAt(lt,ct,this.up),this.quaternion.setFromRotationMatrix(ut),r&&(ut.extractRotation(r.matrixWorld),st.setFromRotationMatrix(ut),this.quaternion.premultiply(st.invert()))}},{key:"add",value:function(t){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return t===this?(e("error","THREE.Object3D.add: object can't be added as a child of itself.",t," at node_modules/three/build/three.module.js:7515"),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(mt),yt.child=t,this.dispatchEvent(yt),yt.child=null):e("error","THREE.Object3D.add: object not an instance of THREE.Object3D.",t," at node_modules/three/build/three.module.js:7534"),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(gt),_t.child=e,this.dispatchEvent(_t),_t.child=null),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){return this.remove.apply(this,(0,c.default)(this.children))}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),ut.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ut.multiply(e.parent.matrixWorld)),e.applyMatrix4(ut),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(mt),yt.child=e,this.dispatchEvent(yt),yt.child=null,this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],a=i.getObjectByProperty(e,t);if(void 0!==a)return a}}},{key:"getObjectsByProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[e]===t&&n.push(this);for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].getObjectsByProperty(e,t,n);return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ct,e,ht),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ct,dt,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map((function(e){return{boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()}})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,d=this.material.length;h<d;h++)c.push(i(e.materials,this.material[h]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var f=0;f<this.children.length;f++)r.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];r.animations.push(i(e.animations,v))}}if(t){var m=A(e.geometries),g=A(e.materials),y=A(e.textures),_=A(e.images),b=A(e.shapes),x=A(e.skeletons),w=A(e.animations),S=A(e.nodes);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),_.length>0&&(n.images=_),b.length>0&&(n.shapes=b),x.length>0&&(n.skeletons=x),w.length>0&&(n.animations=w),S.length>0&&(n.nodes=S)}return n.object=r,n;function A(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),r}(A);t.Object3D=bt,bt.DEFAULT_UP=new ge(0,1,0),bt.DEFAULT_MATRIX_AUTO_UPDATE=!0,bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var xt=new ge,wt=new ge,St=new ge,At=new ge,Mt=new ge,Tt=new ge,Et=new ge,kt=new ge,Ct=new ge,Pt=new ge,Rt=new le,It=new le,Ot=new le,Lt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ge,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ge,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ge;(0,g.default)(this,e),this.a=t,this.b=n,this.c=r}return(0,y.default)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return xt.subVectors(this.c,this.b),wt.subVectors(this.a,this.b),.5*xt.cross(wt).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getInterpolation",value:function(t,n,r,i,a){return e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;Mt.subVectors(a,i),Tt.subVectors(o,i),kt.subVectors(e,i);var s=Mt.dot(kt),u=Tt.dot(kt);if(s<=0&&u<=0)return t.copy(i);Ct.subVectors(e,a);var l=Mt.dot(Ct),c=Tt.dot(Ct);if(l>=0&&c<=l)return t.copy(a);var h=s*c-l*u;if(h<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector(Mt,n);Pt.subVectors(e,o);var d=Mt.dot(Pt),f=Tt.dot(Pt);if(f>=0&&d<=f)return t.copy(o);var p=d*u-s*f;if(p<=0&&u>=0&&f<=0)return r=u/(u-f),t.copy(i).addScaledVector(Tt,r);var v=l*f-d*c;if(v<=0&&c-l>=0&&d-f>=0)return Et.subVectors(o,a),r=(c-l)/(c-l+(d-f)),t.copy(a).addScaledVector(Et,r);var m=1/(v+p+h);return n=p*m,r=h*m,t.copy(i).addScaledVector(Mt,n).addScaledVector(Tt,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),xt.subVectors(e,t),r.cross(xt);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){xt.subVectors(r,t),wt.subVectors(n,t),St.subVectors(e,t);var a=xt.dot(xt),o=xt.dot(wt),s=xt.dot(St),u=wt.dot(wt),l=wt.dot(St),c=a*u-o*o;if(0===c)return i.set(0,0,0),null;var h=1/c,d=(u*s-o*l)*h,f=(a*l-o*s)*h;return i.set(1-d-f,f,d)}},{key:"containsPoint",value:function(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,At)&&(At.x>=0&&At.y>=0&&At.x+At.y<=1)}},{key:"getInterpolation",value:function(e,t,n,r,i,a,o,s){return null===this.getBarycoord(e,t,n,r,At)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(i,At.x),s.addScaledVector(a,At.y),s.addScaledVector(o,At.z),s)}},{key:"getInterpolatedAttribute",value:function(e,t,n,r,i,a){return Rt.setScalar(0),It.setScalar(0),Ot.setScalar(0),Rt.fromBufferAttribute(e,t),It.fromBufferAttribute(e,n),Ot.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(Rt,i.x),a.addScaledVector(It,i.y),a.addScaledVector(Ot,i.z),a}},{key:"isFrontFacing",value:function(e,t,n,r){return xt.subVectors(n,t),wt.subVectors(e,t),xt.cross(wt).dot(r)<0}}]),e}();t.Triangle=Lt;var Dt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bt={h:0,s:0,l:0},Ut={h:0,s:0,l:0};function Nt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var Ft=function(t){function n(e,t,r){return(0,g.default)(this,n),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}return(0,y.default)(n,[{key:"set",value:function(e,t,n){if(void 0===t&&void 0===n){var r=e;r&&r.isColor?this.copy(r):"number"===typeof r?this.setHex(r):"string"===typeof r&&this.setStyle(r)}else this.setRGB(e,t,n);return this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"srgb";return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ee.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ee.workingColorSpace;return this.r=e,this.g=t,this.b=n,ee.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ee.workingColorSpace;if(e=R(e,1),t=P(t,0,1),n=P(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=Nt(a,i,e+1/3),this.g=Nt(a,i,e),this.b=Nt(a,i,e-1/3)}return ee.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"srgb";function i(n){void 0!==n&&parseFloat(n)<1&&e("warn","THREE.Color: Alpha component of "+t+" will be ignored."," at node_modules/three/build/three.module.js:8698")}if(n=/^(\w+)\(([^\)]*)\)/.exec(t)){var a,o=n[1],s=n[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,r);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,r);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,r);break;default:e("warn","THREE.Color: Unknown color model "+t," at node_modules/three/build/three.module.js:8774")}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){var u=n[1],l=u.length;if(3===l)return this.setRGB(parseInt(u.charAt(0),16)/15,parseInt(u.charAt(1),16)/15,parseInt(u.charAt(2),16)/15,r);if(6===l)return this.setHex(parseInt(u,16),r);e("warn","THREE.Color: Invalid hex color "+t," at node_modules/three/build/three.module.js:8802")}else if(t&&t.length>0)return this.setColorName(t,r);return this}},{key:"setColorName",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"srgb",r=Dt[t.toLowerCase()];return void 0!==r?this.setHex(r,n):e("warn","THREE.Color: Unknown color "+t," at node_modules/three/build/three.module.js:8829"),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=te(e.r),this.g=te(e.g),this.b=te(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=ne(e.r),this.g=ne(e.g),this.b=ne(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"srgb";return ee.fromWorkingColorSpace(jt.copy(this),e),65536*Math.round(P(255*jt.r,0,255))+256*Math.round(P(255*jt.g,0,255))+Math.round(P(255*jt.b,0,255))}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"srgb";return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.workingColorSpace;ee.fromWorkingColorSpace(jt.copy(this),t);var n,r,i=jt.r,a=jt.g,o=jt.b,s=Math.max(i,a,o),u=Math.min(i,a,o),l=(u+s)/2;if(u===s)n=0,r=0;else{var c=s-u;switch(r=l<=.5?c/(s+u):c/(2-s-u),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4;break}n/=6}return e.h=n,e.s=r,e.l=l,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.workingColorSpace;return ee.fromWorkingColorSpace(jt.copy(this),t),e.r=jt.r,e.g=jt.g,e.b=jt.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"srgb";ee.fromWorkingColorSpace(jt.copy(this),e);var t=jt.r,n=jt.g,r=jt.b;return"srgb"!==e?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Bt),this.setHSL(Bt.h+e,Bt.s+t,Bt.l+n)}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Bt),e.getHSL(Ut);var n=I(Bt.h,Ut.h,t),r=I(Bt.s,Ut.s,t),i=I(Bt.l,Ut.l,t);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:t,value:v.default.mark((function e(){return v.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),n}(Symbol.iterator);t.Color=Ft;var jt=new Ft;Ft.NAMES=Dt;var zt=0,Ht=function(t){(0,d.default)(r,t);var n=S(r);function r(){var e;return(0,g.default)(this,r),e=n.call(this),e.isMaterial=!0,Object.defineProperty((0,h.default)(e),"id",{value:zt++}),e.uuid=C(),e.name="",e.type="Material",e.blending=1,e.side=0,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.alphaHash=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=100,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.blendColor=new Ft(0,0,0),e.blendAlpha=0,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=7680,e.stencilZFail=7680,e.stencilZPass=7680,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return(0,y.default)(r,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(t){if(void 0!==t)for(var n in t){var r=t[n];if(void 0!==r){var i=this[n];void 0!==i?i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r:e("warn","THREE.Material: '".concat(n,"' is not a property of THREE.").concat(this.type,".")," at node_modules/three/build/three.module.js:9287")}else e("warn","THREE.Material: parameter '".concat(n,"' has value of undefined.")," at node_modules/three/build/three.module.js:9278")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),100!==this.blendEquation&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),7680!==this.stencilFail&&(n.stencilFail=this.stencilFail),7680!==this.stencilZFail&&(n.stencilZFail=this.stencilZFail),7680!==this.stencilZPass&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"onBuild",value:function(){e("warn","Material: onBuild() has been removed."," at node_modules/three/build/three.module.js:9678")}}]),r}(A);t.Material=Ht;var Gt=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new Ft(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.envMapRotation=new rt,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Ht);t.MeshBasicMaterial=Gt;var Wt=Vt();function Vt(){for(var e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512),a=0;a<256;++a){var o=a-127;o<-27?(r[a]=0,r[256|a]=32768,i[a]=24,i[256|a]=24):o<-14?(r[a]=1024>>-o-14,r[256|a]=1024>>-o-14|32768,i[a]=-o-1,i[256|a]=-o-1):o<=15?(r[a]=o+15<<10,r[256|a]=o+15<<10|32768,i[a]=13,i[256|a]=13):o<128?(r[a]=31744,r[256|a]=64512,i[a]=24,i[256|a]=24):(r[a]=31744,r[256|a]=64512,i[a]=13,i[256|a]=13)}for(var s=new Uint32Array(2048),u=new Uint32Array(64),l=new Uint32Array(64),c=1;c<1024;++c){var h=c<<13,d=0;while(0===(8388608&h))h<<=1,d-=8388608;h&=-8388609,d+=947912704,s[c]=h|d}for(var f=1024;f<2048;++f)s[f]=939524096+(f-1024<<13);for(var p=1;p<31;++p)u[p]=p<<23;u[31]=1199570944,u[32]=2147483648;for(var v=33;v<63;++v)u[v]=2147483648+(v-32<<23);u[63]=3347054592;for(var m=1;m<64;++m)32!==m&&(l[m]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:u,offsetTable:l}}function qt(t){Math.abs(t)>65504&&e("warn","THREE.DataUtils.toHalfFloat(): Value out of range."," at node_modules/three/build/three.module.js:9905"),t=P(t,-65504,65504),Wt.floatView[0]=t;var n=Wt.uint32View[0],r=n>>23&511;return Wt.baseTable[r]+((8388607&n)>>Wt.shiftTable[r])}function Xt(e){var t=e>>10;return Wt.uint32View[0]=Wt.mantissaTable[Wt.offsetTable[t]+(1023&e)]+Wt.exponentTable[t],Wt.floatView[0]}var Yt={toHalfFloat:qt,fromHalfFloat:Xt};t.DataUtils=Yt;var Kt=new ge,Qt=new B,Jt=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,g.default)(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=35044,this.updateRanges=[],this.gpuType=1015,this.version=0}return(0,y.default)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"addUpdateRange",value:function(e,t){this.updateRanges.push({start:e,count:t})}},{key:"clearUpdateRanges",value:function(){this.updateRanges.length=0}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Qt.fromBufferAttribute(this,t),Qt.applyMatrix3(e),this.setXY(t,Qt.x,Qt.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)Kt.fromBufferAttribute(this,r),Kt.applyMatrix3(e),this.setXYZ(r,Kt.x,Kt.y,Kt.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)Kt.fromBufferAttribute(this,t),Kt.applyMatrix4(e),this.setXYZ(t,Kt.x,Kt.y,Kt.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Kt.fromBufferAttribute(this,t),Kt.applyNormalMatrix(e),this.setXYZ(t,Kt.x,Kt.y,Kt.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Kt.fromBufferAttribute(this,t),Kt.transformDirection(e),this.setXYZ(t,Kt.x,Kt.y,Kt.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getComponent",value:function(e,t){var n=this.array[e*this.itemSize+t];return this.normalized&&(n=O(n,this.array)),n}},{key:"setComponent",value:function(e,t,n){return this.normalized&&(n=L(n,this.array)),this.array[e*this.itemSize+t]=n,this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=O(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=L(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=O(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=L(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=O(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=L(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=O(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=L(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=L(t,this.array),n=L(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=L(t,this.array),n=L(n,this.array),r=L(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=L(t,this.array),n=L(n,this.array),r=L(r,this.array),i=L(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),e}}]),e}();t.BufferAttribute=Jt;var Zt=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){return(0,g.default)(this,n),t.call(this,new Int8Array(e),r,i)}return(0,y.default)(n)}(Jt);t.Int8BufferAttribute=Zt;var $t=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){return(0,g.default)(this,n),t.call(this,new Uint8Array(e),r,i)}return(0,y.default)(n)}(Jt);t.Uint8BufferAttribute=$t;var en=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){return(0,g.default)(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return(0,y.default)(n)}(Jt);t.Uint8ClampedBufferAttribute=en;var tn=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){return(0,g.default)(this,n),t.call(this,new Int16Array(e),r,i)}return(0,y.default)(n)}(Jt);t.Int16BufferAttribute=tn;var nn=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){return(0,g.default)(this,n),t.call(this,new Uint16Array(e),r,i)}return(0,y.default)(n)}(Jt);t.Uint16BufferAttribute=nn;var rn=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){return(0,g.default)(this,n),t.call(this,new Int32Array(e),r,i)}return(0,y.default)(n)}(Jt);t.Int32BufferAttribute=rn;var an=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){return(0,g.default)(this,n),t.call(this,new Uint32Array(e),r,i)}return(0,y.default)(n)}(Jt);t.Uint32BufferAttribute=an;var on=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){var a;return(0,g.default)(this,n),a=t.call(this,new Uint16Array(e),r,i),a.isFloat16BufferAttribute=!0,a}return(0,y.default)(n,[{key:"getX",value:function(e){var t=Xt(this.array[e*this.itemSize]);return this.normalized&&(t=O(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=L(t,this.array)),this.array[e*this.itemSize]=qt(t),this}},{key:"getY",value:function(e){var t=Xt(this.array[e*this.itemSize+1]);return this.normalized&&(t=O(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=L(t,this.array)),this.array[e*this.itemSize+1]=qt(t),this}},{key:"getZ",value:function(e){var t=Xt(this.array[e*this.itemSize+2]);return this.normalized&&(t=O(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=L(t,this.array)),this.array[e*this.itemSize+2]=qt(t),this}},{key:"getW",value:function(e){var t=Xt(this.array[e*this.itemSize+3]);return this.normalized&&(t=O(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=L(t,this.array)),this.array[e*this.itemSize+3]=qt(t),this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=L(t,this.array),n=L(n,this.array)),this.array[e+0]=qt(t),this.array[e+1]=qt(n),this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=L(t,this.array),n=L(n,this.array),r=L(r,this.array)),this.array[e+0]=qt(t),this.array[e+1]=qt(n),this.array[e+2]=qt(r),this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=L(t,this.array),n=L(n,this.array),r=L(r,this.array),i=L(i,this.array)),this.array[e+0]=qt(t),this.array[e+1]=qt(n),this.array[e+2]=qt(r),this.array[e+3]=qt(i),this}}]),n}(Jt);t.Float16BufferAttribute=on;var sn=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){return(0,g.default)(this,n),t.call(this,new Float32Array(e),r,i)}return(0,y.default)(n)}(Jt);t.Float32BufferAttribute=sn;var un=0,ln=new Xe,cn=new bt,hn=new ge,dn=new be,fn=new be,pn=new ge,vn=function(t){(0,d.default)(r,t);var n=S(r);function r(){var e;return(0,g.default)(this,r),e=n.call(this),e.isBufferGeometry=!0,Object.defineProperty((0,h.default)(e),"id",{value:un++}),e.uuid=C(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return(0,y.default)(r,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(F(e)?an:nn)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new U).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return ln.makeRotationFromQuaternion(e),this.applyMatrix4(ln),this}},{key:"rotateX",value:function(e){return ln.makeRotationX(e),this.applyMatrix4(ln),this}},{key:"rotateY",value:function(e){return ln.makeRotationY(e),this.applyMatrix4(ln),this}},{key:"rotateZ",value:function(e){return ln.makeRotationZ(e),this.applyMatrix4(ln),this}},{key:"translate",value:function(e,t,n){return ln.makeTranslation(e,t,n),this.applyMatrix4(ln),this}},{key:"scale",value:function(e,t,n){return ln.makeScale(e,t,n),this.applyMatrix4(ln),this}},{key:"lookAt",value:function(e){return cn.lookAt(e),cn.updateMatrix(),this.applyMatrix4(cn.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(hn).negate(),this.translate(hn.x,hn.y,hn.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new sn(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new be);var t=this.attributes.position,n=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return e("error","THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this," at node_modules/three/build/three.module.js:10831"),void this.boundingBox.set(new ge(-1/0,-1/0,-1/0),new ge(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),n)for(var r=0,i=n.length;r<i;r++){var a=n[r];dn.setFromBufferAttribute(a),this.morphTargetsRelative?(pn.addVectors(this.boundingBox.min,dn.min),this.boundingBox.expandByPoint(pn),pn.addVectors(this.boundingBox.max,dn.max),this.boundingBox.expandByPoint(pn)):(this.boundingBox.expandByPoint(dn.min),this.boundingBox.expandByPoint(dn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&e("error",'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this," at node_modules/three/build/three.module.js:10882")}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Ne);var t=this.attributes.position,n=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return e("error","THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this," at node_modules/three/build/three.module.js:10901"),void this.boundingSphere.set(new ge,1/0);if(t){var r=this.boundingSphere.center;if(dn.setFromBufferAttribute(t),n)for(var i=0,a=n.length;i<a;i++){var o=n[i];fn.setFromBufferAttribute(o),this.morphTargetsRelative?(pn.addVectors(dn.min,fn.min),dn.expandByPoint(pn),pn.addVectors(dn.max,fn.max),dn.expandByPoint(pn)):(dn.expandByPoint(fn.min),dn.expandByPoint(fn.max))}dn.getCenter(r);for(var s=0,u=0,l=t.count;u<l;u++)pn.fromBufferAttribute(t,u),s=Math.max(s,r.distanceToSquared(pn));if(n)for(var c=0,h=n.length;c<h;c++)for(var d=n[c],f=this.morphTargetsRelative,p=0,v=d.count;p<v;p++)pn.fromBufferAttribute(d,p),f&&(hn.fromBufferAttribute(t,p),pn.add(hn)),s=Math.max(s,r.distanceToSquared(pn));this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&e("error",'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this," at node_modules/three/build/three.module.js:10992")}}},{key:"computeTangents",value:function(){var t=this.index,n=this.attributes;if(null!==t&&void 0!==n.position&&void 0!==n.normal&&void 0!==n.uv){var r=n.position,i=n.normal,a=n.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Jt(new Float32Array(4*r.count),4));for(var o=this.getAttribute("tangent"),s=[],u=[],l=0;l<r.count;l++)s[l]=new ge,u[l]=new ge;var c=new ge,h=new ge,d=new ge,f=new B,p=new B,v=new B,m=new ge,g=new ge,y=this.groups;0===y.length&&(y=[{start:0,count:t.count}]);for(var _=0,b=y.length;_<b;++_)for(var x=y[_],w=x.start,S=x.count,A=w,M=w+S;A<M;A+=3)N(t.getX(A+0),t.getX(A+1),t.getX(A+2));for(var T=new ge,E=new ge,k=new ge,C=new ge,P=0,R=y.length;P<R;++P)for(var I=y[P],O=I.start,L=I.count,D=O,U=O+L;D<U;D+=3)F(t.getX(D+0)),F(t.getX(D+1)),F(t.getX(D+2))}else e("error","THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)"," at node_modules/three/build/three.module.js:11013");function N(e,t,n){c.fromBufferAttribute(r,e),h.fromBufferAttribute(r,t),d.fromBufferAttribute(r,n),f.fromBufferAttribute(a,e),p.fromBufferAttribute(a,t),v.fromBufferAttribute(a,n),h.sub(c),d.sub(c),p.sub(f),v.sub(f);var i=1/(p.x*v.y-v.x*p.y);isFinite(i)&&(m.copy(h).multiplyScalar(v.y).addScaledVector(d,-p.y).multiplyScalar(i),g.copy(d).multiplyScalar(p.x).addScaledVector(h,-v.x).multiplyScalar(i),s[e].add(m),s[t].add(m),s[n].add(m),u[e].add(g),u[t].add(g),u[n].add(g))}function F(e){k.fromBufferAttribute(i,e),C.copy(k);var t=s[e];T.copy(t),T.sub(k.multiplyScalar(k.dot(t))).normalize(),E.crossVectors(C,t);var n=E.dot(u[e]),r=n<0?-1:1;o.setXYZW(e,T.x,T.y,T.z,r)}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new Jt(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new ge,o=new ge,s=new ge,u=new ge,l=new ge,c=new ge,h=new ge,d=new ge;if(e)for(var f=0,p=e.count;f<p;f+=3){var v=e.getX(f+0),m=e.getX(f+1),g=e.getX(f+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),u.fromBufferAttribute(n,v),l.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),u.add(h),l.add(h),c.add(h),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,_=t.count;y<_;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)pn.fromBufferAttribute(e,t),pn.normalize(),e.setXYZ(t,pn.x,pn.y,pn.z)}},{key:"toNonIndexed",value:function(){function t(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,u=0,l=t.length;u<l;u++){o=e.isInterleavedBufferAttribute?t[u]*e.data.stride+e.offset:t[u]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new Jt(a,r,i)}if(null===this.index)return e("warn","THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."," at node_modules/three/build/three.module.js:11307"),this;var n=new r,i=this.index.array,a=this.attributes;for(var o in a){var s=a[o],u=t(s,i);n.setAttribute(o,u)}var l=this.morphAttributes;for(var c in l){for(var h=[],d=l[c],f=0,p=d.length;f<p;f++){var v=d[f],m=t(v,i);h.push(m)}n.morphAttributes[c]=h}n.morphTargetsRelative=this.morphTargetsRelative;for(var g=this.groups,y=0,_=g.length;y<_;y++){var b=g[y];n.addGroup(b.start,b.count,b.materialIndex)}return n}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},u=!1;for(var l in this.morphAttributes){for(var c=this.morphAttributes[l],h=[],d=0,f=c.length;d<f;d++){var p=c[d];h.push(p.toJSON(e.data))}h.length>0&&(s[l]=h,u=!0)}u&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var u=[],l=o[s],c=0,h=l.length;c<h;c++)u.push(l[c].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,f=0,p=d.length;f<p;f++){var v=d[f];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),r}(A);t.BufferGeometry=vn;var mn=new Xe,gn=new qe,yn=new Ne,_n=new ge,bn=new ge,xn=new ge,wn=new ge,Sn=new ge,An=new ge,Mn=new ge,Tn=new ge,En=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gt;return(0,g.default)(this,n),e=t.call(this),e.isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,y.default)(n,[{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var o=this.morphTargetInfluences;if(i&&o){An.set(0,0,0);for(var s=0,u=i.length;s<u;s++){var l=o[s],c=i[s];0!==l&&(Sn.fromBufferAttribute(c,e),a?An.addScaledVector(Sn,l):An.addScaledVector(Sn.sub(t),l))}t.add(An)}return t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),yn.copy(n.boundingSphere),yn.applyMatrix4(i),gn.copy(e.ray).recast(e.near),!1===yn.containsPoint(gn.origin)){if(null===gn.intersectSphere(yn,_n))return;if(gn.origin.distanceToSquared(_n)>Math.pow(e.far-e.near,2))return}mn.copy(i).invert(),gn.copy(e.ray).applyMatrix4(mn),null!==n.boundingBox&&!1===gn.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,gn)}}},{key:"_computeIntersections",value:function(e,t,n){var r,i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,u=i.attributes.uv,l=i.attributes.uv1,c=i.attributes.normal,h=i.groups,d=i.drawRange;if(null!==o)if(Array.isArray(a))for(var f=0,p=h.length;f<p;f++)for(var v=h[f],m=a[v.materialIndex],g=Math.max(v.start,d.start),y=Math.min(o.count,Math.min(v.start+v.count,d.start+d.count)),_=g,b=y;_<b;_+=3){var x=o.getX(_),w=o.getX(_+1),S=o.getX(_+2);r=kn(this,m,e,n,u,l,c,x,w,S),r&&(r.faceIndex=Math.floor(_/3),r.face.materialIndex=v.materialIndex,t.push(r))}else for(var A=Math.max(0,d.start),M=Math.min(o.count,d.start+d.count),T=A,E=M;T<E;T+=3){var k=o.getX(T),C=o.getX(T+1),P=o.getX(T+2);r=kn(this,a,e,n,u,l,c,k,C,P),r&&(r.faceIndex=Math.floor(T/3),t.push(r))}else if(void 0!==s)if(Array.isArray(a))for(var R=0,I=h.length;R<I;R++)for(var O=h[R],L=a[O.materialIndex],D=Math.max(O.start,d.start),B=Math.min(s.count,Math.min(O.start+O.count,d.start+d.count)),U=D,N=B;U<N;U+=3){var F=U,j=U+1,z=U+2;r=kn(this,L,e,n,u,l,c,F,j,z),r&&(r.faceIndex=Math.floor(U/3),r.face.materialIndex=O.materialIndex,t.push(r))}else for(var H=Math.max(0,d.start),G=Math.min(s.count,d.start+d.count),W=H,V=G;W<V;W+=3){var q=W,X=W+1,Y=W+2;r=kn(this,a,e,n,u,l,c,q,X,Y),r&&(r.faceIndex=Math.floor(W/3),t.push(r))}}}]),n}(bt);function kn(e,t,n,r,i,a,o,s,u,l){e.getVertexPosition(s,bn),e.getVertexPosition(u,xn),e.getVertexPosition(l,wn);var c=function(e,t,n,r,i,a,o,s){var u;if(u=1===t.side?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,0===t.side,s),null===u)return null;Tn.copy(s),Tn.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(Tn);return l<n.near||l>n.far?null:{distance:l,point:Tn.clone(),object:e}}(e,t,n,r,bn,xn,wn,Mn);if(c){var h=new ge;Lt.getBarycoord(Mn,bn,xn,wn,h),i&&(c.uv=Lt.getInterpolatedAttribute(i,s,u,l,h,new B)),a&&(c.uv1=Lt.getInterpolatedAttribute(a,s,u,l,h,new B)),o&&(c.normal=Lt.getInterpolatedAttribute(o,s,u,l,h,new ge),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));var d={a:s,b:u,c:l,normal:new ge,materialIndex:0};Lt.getNormal(bn,xn,wn,d.normal),c.face=d,c.barycoord=h}return c}t.Mesh=En;var Cn=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;(0,g.default)(this,n),e=t.call(this),e.type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:u};var l=(0,h.default)(e);o=Math.floor(o),s=Math.floor(s),u=Math.floor(u);var c=[],d=[],f=[],p=[],v=0,m=0;function y(e,t,n,r,i,a,o,s,u,h,g){for(var y=a/u,_=o/h,b=a/2,x=o/2,w=s/2,S=u+1,A=h+1,M=0,T=0,E=new ge,k=0;k<A;k++)for(var C=k*_-x,P=0;P<S;P++){var R=P*y-b;E[e]=R*r,E[t]=C*i,E[n]=w,d.push(E.x,E.y,E.z),E[e]=0,E[t]=0,E[n]=s>0?1:-1,f.push(E.x,E.y,E.z),p.push(P/u),p.push(1-k/h),M+=1}for(var I=0;I<h;I++)for(var O=0;O<u;O++){var L=v+O+S*I,D=v+O+S*(I+1),B=v+(O+1)+S*(I+1),U=v+(O+1)+S*I;c.push(L,D,U),c.push(D,B,U),T+=6}l.addGroup(m,T,g),m+=T,v+=M}return y("z","y","x",-1,-1,a,i,r,u,s,0),y("z","y","x",1,-1,a,i,-r,u,s,1),y("x","z","y",1,1,r,a,i,o,u,2),y("x","z","y",1,-1,r,a,-i,o,u,3),y("x","y","z",1,-1,r,i,a,o,s,4),y("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new sn(d,3)),e.setAttribute("normal",new sn(f,3)),e.setAttribute("uv",new sn(p,2)),e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(vn);function Pn(t){var n={};for(var r in t)for(var i in n[r]={},t[r]){var a=t[r][i];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(e("warn","UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."," at node_modules/three/build/three.module.js:12199"),n[r][i]=null):n[r][i]=a.clone():Array.isArray(a)?n[r][i]=a.slice():n[r][i]=a}return n}function Rn(e){for(var t={},n=0;n<e.length;n++){var r=Pn(e[n]);for(var i in r)t[i]=r[i]}return t}function In(e){var t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:ee.workingColorSpace}t.BoxGeometry=Cn;var On={clone:Pn,merge:Rn};t.UniformsUtils=On;var Ln=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.forceSinglePass=!0,r.extensions={clipCullDistance:!1,multiDraw:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Pn(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r],a=i.value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;var o={};for(var s in this.extensions)!0===this.extensions[s]&&(o[s]=!0);return Object.keys(o).length>0&&(t.extensions=o),t}}]),n}(Ht);t.ShaderMaterial=Ln;var Dn=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this),e.isCamera=!0,e.type="Camera",e.matrixWorldInverse=new Xe,e.projectionMatrix=new Xe,e.projectionMatrixInverse=new Xe,e.coordinateSystem=2e3,e}return(0,y.default)(n,[{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}},{key:"getWorldDirection",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"getWorldDirection",this).call(this,e).negate()}},{key:"updateMatrixWorld",value:function(e){(0,l.default)((0,p.default)(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){(0,l.default)((0,p.default)(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(bt);t.Camera=Dn;var Bn=new ge,Un=new B,Nn=new B,Fn=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return(0,g.default)(this,n),e=t.call(this),e.isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return(0,y.default)(n,[{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*k*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*E*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*k*Math.atan(Math.tan(.5*E*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"getViewBounds",value:function(e,t,n){Bn.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Bn.x,Bn.y).multiplyScalar(-e/Bn.z),Bn.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Bn.x,Bn.y).multiplyScalar(-e/Bn.z)}},{key:"getViewSize",value:function(e,t){return this.getViewBounds(e,Un,Nn),t.subVectors(Nn,Un)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*E*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(Dn);t.PerspectiveCamera=Fn;var jn=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){var a;(0,g.default)(this,n),a=t.call(this),a.type="CubeCamera",a.renderTarget=i,a.coordinateSystem=null,a.activeMipmapLevel=0;var o=new Fn(-90,1,e,r);o.layers=a.layers,a.add(o);var s=new Fn(-90,1,e,r);s.layers=a.layers,a.add(s);var u=new Fn(-90,1,e,r);u.layers=a.layers,a.add(u);var l=new Fn(-90,1,e,r);l.layers=a.layers,a.add(l);var c=new Fn(-90,1,e,r);c.layers=a.layers,a.add(c);var h=new Fn(-90,1,e,r);return h.layers=a.layers,a.add(h),a}return(0,y.default)(n,[{key:"updateCoordinateSystem",value:function(){var e,t=this.coordinateSystem,n=this.children.concat(),r=(0,u.default)(n,6),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],c=r[5],h=x(n);try{for(h.s();!(e=h.n()).done;){var d=e.value;this.remove(d)}}catch(m){h.e(m)}finally{h.f()}if(2e3===t)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else{if(2001!==t)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1)}var f,p=x(n);try{for(p.s();!(f=p.n()).done;){var v=f.value;this.add(v),v.updateMatrixWorld()}}catch(m){p.e(m)}finally{p.f()}}},{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=this.activeMipmapLevel;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());var i=(0,u.default)(this.children,6),a=i[0],o=i[1],s=i[2],l=i[3],c=i[4],h=i[5],d=e.getRenderTarget(),f=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;var m=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,a),e.setRenderTarget(n,1,r),e.render(t,o),e.setRenderTarget(n,2,r),e.render(t,s),e.setRenderTarget(n,3,r),e.render(t,l),e.setRenderTarget(n,4,r),e.render(t,c),n.texture.generateMipmaps=m,e.setRenderTarget(n,5,r),e.render(t,h),e.setRenderTarget(d,f,p),e.xr.enabled=v,n.texture.needsPMREMUpdate=!0}}]),n}(bt);t.CubeCamera=jn;var zn=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i,a,o,s,u,l,c,h){var d;return(0,g.default)(this,n),e=void 0!==e?e:[],r=void 0!==r?r:301,d=t.call(this,e,r,i,a,o,s,u,l,c,h),d.isCubeTexture=!0,d.flipY=!1,d}return(0,y.default)(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(ue);t.CubeTexture=zn;var Hn=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,g.default)(this,n),e=t.call(this,r,r,i),e.isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},o=[a,a,a,a,a,a];return e.texture=new zn(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:1006,e}return(0,y.default)(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new Cn(5,5,5),i=new Ln({name:"CubemapFromEquirect",uniforms:Pn(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});i.uniforms.tEquirect.value=t;var a=new En(r,i),o=t.minFilter;1008===t.minFilter&&(t.minFilter=1006);var s=new jn(1,10,this);return s.update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(he);t.WebGLCubeRenderTarget=Hn;var Gn=new ge,Wn=new ge,Vn=new U,qn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ge(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,g.default)(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return(0,y.default)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=Gn.subVectors(n,t).cross(Wn.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(Gn),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||Vn.getNormalMatrix(e),r=this.coplanarPoint(Gn).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();t.Plane=qn;var Xn=new Ne,Yn=new ge,Kn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qn,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qn,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new qn,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new qn,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new qn,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new qn;(0,g.default)(this,e),this.planes=[t,n,r,i,a,o]}return(0,y.default)(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=this.planes,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],c=r[6],h=r[7],d=r[8],f=r[9],p=r[10],v=r[11],m=r[12],g=r[13],y=r[14],_=r[15];if(n[0].setComponents(s-i,h-u,v-d,_-m).normalize(),n[1].setComponents(s+i,h+u,v+d,_+m).normalize(),n[2].setComponents(s+a,h+l,v+f,_+g).normalize(),n[3].setComponents(s-a,h-l,v-f,_-g).normalize(),n[4].setComponents(s-o,h-c,v-p,_-y).normalize(),2e3===t)n[5].setComponents(s+o,h+c,v+p,_+y).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,c,p,y).normalize()}return this}},{key:"intersectsObject",value:function(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Xn.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{var t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Xn.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Xn)}},{key:"intersectsSprite",value:function(e){return Xn.center.set(0,0,0),Xn.radius=.7071067811865476,Xn.applyMatrix4(e.matrixWorld),this.intersectsSphere(Xn)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){var a=t[i].distanceToPoint(n);if(a<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Yn.x=r.normal.x>0?e.max.x:e.min.x,Yn.y=r.normal.y>0?e.max.y:e.min.y,Yn.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Yn)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function Qn(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Jn(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){var i=t.get(n);(!i||i.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version})}else{var a=t.get(n);if(void 0===a)t.set(n,function(t,n){var r,i=t.array,a=t.usage,o=i.byteLength,s=e.createBuffer();if(e.bindBuffer(n,s),e.bufferData(n,i,a),t.onUploadCallback(),i instanceof Float32Array)r=e.FLOAT;else if(i instanceof Uint16Array)r=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(i instanceof Int16Array)r=e.SHORT;else if(i instanceof Uint32Array)r=e.UNSIGNED_INT;else if(i instanceof Int32Array)r=e.INT;else if(i instanceof Int8Array)r=e.BYTE;else if(i instanceof Uint8Array)r=e.UNSIGNED_BYTE;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);r=e.UNSIGNED_BYTE}return{buffer:s,type:r,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version,size:o}}(n,r));else if(a.version<n.version){if(a.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function(t,n,r){var i=n.array,a=n.updateRanges;if(e.bindBuffer(r,t),0===a.length)e.bufferSubData(r,0,i);else{a.sort((function(e,t){return e.start-t.start}));for(var o=0,s=1;s<a.length;s++){var u=a[o],l=a[s];l.start<=u.start+u.count+1?u.count=Math.max(u.count,l.start+l.count-u.start):(++o,a[o]=l)}a.length=o+1;for(var c=0,h=a.length;c<h;c++){var d=a[c];e.bufferSubData(r,d.start*i.BYTES_PER_ELEMENT,i,d.start,d.count)}n.clearUpdateRanges()}n.onUploadCallback()})(a.buffer,n,r),a.version=n.version}}}}}t.Frustum=Kn;var Zn=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,g.default)(this,n),e=t.call(this),e.type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,u=i/2,l=Math.floor(a),c=Math.floor(o),h=l+1,d=c+1,f=r/l,p=i/c,v=[],m=[],y=[],_=[],b=0;b<d;b++)for(var x=b*p-u,w=0;w<h;w++){var S=w*f-s;m.push(S,-x,0),y.push(0,0,1),_.push(w/l),_.push(1-b/c)}for(var A=0;A<c;A++)for(var M=0;M<l;M++){var T=M+h*A,E=M+h*(A+1),k=M+1+h*(A+1),C=M+1+h*A;v.push(T,E,C),v.push(E,k,C)}return e.setIndex(v),e.setAttribute("position",new sn(m,3)),e.setAttribute("normal",new sn(y,3)),e.setAttribute("uv",new sn(_,2)),e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(vn);t.PlaneGeometry=Zn;var $n={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"};t.ShaderChunk=$n;var er={common:{diffuse:{value:new Ft(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new U},alphaMap:{value:null},alphaMapTransform:{value:new U},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new U}},envmap:{envMap:{value:null},envMapRotation:{value:new U},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new U}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new U}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new U},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new U},normalScale:{value:new B(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new U},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new U}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new U}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new U}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ft(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ft(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new U},alphaTest:{value:0},uvTransform:{value:new U}},sprite:{diffuse:{value:new Ft(16777215)},opacity:{value:1},center:{value:new B(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new U},alphaMap:{value:null},alphaMapTransform:{value:new U},alphaTest:{value:0}}};t.UniformsLib=er;var tr={basic:{uniforms:Rn([er.common,er.specularmap,er.envmap,er.aomap,er.lightmap,er.fog]),vertexShader:$n.meshbasic_vert,fragmentShader:$n.meshbasic_frag},lambert:{uniforms:Rn([er.common,er.specularmap,er.envmap,er.aomap,er.lightmap,er.emissivemap,er.bumpmap,er.normalmap,er.displacementmap,er.fog,er.lights,{emissive:{value:new Ft(0)}}]),vertexShader:$n.meshlambert_vert,fragmentShader:$n.meshlambert_frag},phong:{uniforms:Rn([er.common,er.specularmap,er.envmap,er.aomap,er.lightmap,er.emissivemap,er.bumpmap,er.normalmap,er.displacementmap,er.fog,er.lights,{emissive:{value:new Ft(0)},specular:{value:new Ft(1118481)},shininess:{value:30}}]),vertexShader:$n.meshphong_vert,fragmentShader:$n.meshphong_frag},standard:{uniforms:Rn([er.common,er.envmap,er.aomap,er.lightmap,er.emissivemap,er.bumpmap,er.normalmap,er.displacementmap,er.roughnessmap,er.metalnessmap,er.fog,er.lights,{emissive:{value:new Ft(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:$n.meshphysical_vert,fragmentShader:$n.meshphysical_frag},toon:{uniforms:Rn([er.common,er.aomap,er.lightmap,er.emissivemap,er.bumpmap,er.normalmap,er.displacementmap,er.gradientmap,er.fog,er.lights,{emissive:{value:new Ft(0)}}]),vertexShader:$n.meshtoon_vert,fragmentShader:$n.meshtoon_frag},matcap:{uniforms:Rn([er.common,er.bumpmap,er.normalmap,er.displacementmap,er.fog,{matcap:{value:null}}]),vertexShader:$n.meshmatcap_vert,fragmentShader:$n.meshmatcap_frag},points:{uniforms:Rn([er.points,er.fog]),vertexShader:$n.points_vert,fragmentShader:$n.points_frag},dashed:{uniforms:Rn([er.common,er.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:$n.linedashed_vert,fragmentShader:$n.linedashed_frag},depth:{uniforms:Rn([er.common,er.displacementmap]),vertexShader:$n.depth_vert,fragmentShader:$n.depth_frag},normal:{uniforms:Rn([er.common,er.bumpmap,er.normalmap,er.displacementmap,{opacity:{value:1}}]),vertexShader:$n.meshnormal_vert,fragmentShader:$n.meshnormal_frag},sprite:{uniforms:Rn([er.sprite,er.fog]),vertexShader:$n.sprite_vert,fragmentShader:$n.sprite_frag},background:{uniforms:{uvTransform:{value:new U},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:$n.background_vert,fragmentShader:$n.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new U}},vertexShader:$n.backgroundCube_vert,fragmentShader:$n.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:$n.cube_vert,fragmentShader:$n.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:$n.equirect_vert,fragmentShader:$n.equirect_frag},distanceRGBA:{uniforms:Rn([er.common,er.displacementmap,{referencePosition:{value:new ge},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:$n.distanceRGBA_vert,fragmentShader:$n.distanceRGBA_frag},shadow:{uniforms:Rn([er.lights,er.fog,{color:{value:new Ft(0)},opacity:{value:1}}]),vertexShader:$n.shadow_vert,fragmentShader:$n.shadow_frag}};t.ShaderLib=tr,tr.physical={uniforms:Rn([tr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new U},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new U},clearcoatNormalScale:{value:new B(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new U},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new U},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new U},sheen:{value:0},sheenColor:{value:new Ft(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new U},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new U},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new U},transmissionSamplerSize:{value:new B},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new U},attenuationDistance:{value:0},attenuationColor:{value:new Ft(0)},specularColor:{value:new Ft(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new U},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new U},anisotropyVector:{value:new B},anisotropyMap:{value:null},anisotropyMapTransform:{value:new U}}]),vertexShader:$n.meshphysical_vert,fragmentShader:$n.meshphysical_frag};var nr={r:0,b:0,g:0},rr=new rt,ir=new Xe;function ar(e,t,n,r,i,a,o){var s,u,l=new Ft(0),c=!0===a?0:1,h=null,d=0,f=null;function p(e){var r=!0===e.isScene?e.background:null;if(r&&r.isTexture){var i=e.backgroundBlurriness>0;r=(i?n:t).get(r)}return r}function v(t,n){t.getRGB(nr,In(e)),r.buffers.color.setClear(nr.r,nr.g,nr.b,n,o)}return{getClearColor:function(){return l},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),c=t,v(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(e){c=e,v(l,c)},render:function(t){var n=!1,i=p(t);null===i?v(l,c):i&&i.isColor&&(v(i,1),n=!0);var a=e.xr.getEnvironmentBlendMode();"additive"===a?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===a&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){var r=p(n);r&&(r.isCubeTexture||306===r.mapping)?(void 0===u&&(u=new En(new Cn(1,1,1),new Ln({name:"BackgroundCubeMaterial",uniforms:Pn(tr.backgroundCube.uniforms),vertexShader:tr.backgroundCube.vertexShader,fragmentShader:tr.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),rr.copy(n.backgroundRotation),rr.x*=-1,rr.y*=-1,rr.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(rr.y*=-1,rr.z*=-1),u.material.uniforms.envMap.value=r,u.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(ir.makeRotationFromEuler(rr)),u.material.toneMapped="srgb"!==ee.getTransfer(r.colorSpace),h===r&&d===r.version&&f===e.toneMapping||(u.material.needsUpdate=!0,h=r,d=r.version,f=e.toneMapping),u.layers.enableAll(),t.unshift(u,u.geometry,u.material,0,0,null)):r&&r.isTexture&&(void 0===s&&(s=new En(new Zn(2,2),new Ln({name:"BackgroundMaterial",uniforms:Pn(tr.background.uniforms),vertexShader:tr.background.vertexShader,fragmentShader:tr.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=r,s.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,s.material.toneMapped="srgb"!==ee.getTransfer(r.colorSpace),!0===r.matrixAutoUpdate&&r.updateMatrix(),s.material.uniforms.uvTransform.value.copy(r.matrix),h===r&&d===r.version&&f===e.toneMapping||(s.material.needsUpdate=!0,h=r,d=r.version,f=e.toneMapping),s.layers.enableAll(),t.unshift(s,s.geometry,s.material,0,0,null))}}}function or(e,t){var n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=l(null),a=i,o=!1;function s(t){return e.bindVertexArray(t)}function u(t){return e.deleteVertexArray(t)}function l(e){for(var t=[],r=[],i=[],a=0;a<n;a++)t[a]=0,r[a]=0,i[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function c(){for(var e=a.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function h(e){d(e,0)}function d(t,n){var r=a.newAttributes,i=a.enabledAttributes,o=a.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),o[t]!==n&&(e.vertexAttribDivisor(t,n),o[t]=n)}function f(){for(var t=a.newAttributes,n=a.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function p(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function v(){m(),o=!0,a!==i&&(a=i,s(a.object))}function m(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,u,v,m){var g,y=function(t,n,i){var a=!0===i.wireframe,o=r[t.id];void 0===o&&(o={},r[t.id]=o);var s=o[n.id];void 0===s&&(s={},o[n.id]=s);var u=s[a];void 0===u&&(u=l(function(){return e.createVertexArray()}()),s[a]=u);return u}(v,u,i);a!==y&&(a=y,s(a.object)),g=function(e,t,n,r){var i=a.attributes,o=t.attributes,s=0,u=n.getAttributes();for(var l in u){var c=u[l];if(c.location>=0){var h=i[l],d=o[l];if(void 0===d&&("instanceMatrix"===l&&e.instanceMatrix&&(d=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(d=e.instanceColor)),void 0===h)return!0;if(h.attribute!==d)return!0;if(d&&h.data!==d.data)return!0;s++}}return a.attributesNum!==s||a.index!==r}(n,v,u,m),g&&function(e,t,n,r){var i={},o=t.attributes,s=0,u=n.getAttributes();for(var l in u){var c=u[l];if(c.location>=0){var h=o[l];void 0===h&&("instanceMatrix"===l&&e.instanceMatrix&&(h=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(h=e.instanceColor));var d={};d.attribute=h,h&&h.data&&(d.data=h.data),i[l]=d,s++}}a.attributes=i,a.attributesNum=s,a.index=r}(n,v,u,m),null!==m&&t.update(m,e.ELEMENT_ARRAY_BUFFER),(g||o)&&(o=!1,function(n,r,i,a){c();var o=a.attributes,s=i.getAttributes(),u=r.defaultAttributeValues;for(var l in s){var v=s[l];if(v.location>=0){var m=o[l];if(void 0===m&&("instanceMatrix"===l&&n.instanceMatrix&&(m=n.instanceMatrix),"instanceColor"===l&&n.instanceColor&&(m=n.instanceColor)),void 0!==m){var g=m.normalized,y=m.itemSize,_=t.get(m);if(void 0===_)continue;var b=_.buffer,x=_.type,w=_.bytesPerElement,S=x===e.INT||x===e.UNSIGNED_INT||1013===m.gpuType;if(m.isInterleavedBufferAttribute){var A=m.data,M=A.stride,T=m.offset;if(A.isInstancedInterleavedBuffer){for(var E=0;E<v.locationSize;E++)d(v.location+E,A.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=A.meshPerAttribute*A.count)}else for(var k=0;k<v.locationSize;k++)h(v.location+k);e.bindBuffer(e.ARRAY_BUFFER,b);for(var C=0;C<v.locationSize;C++)p(v.location+C,y/v.locationSize,x,g,M*w,(T+y/v.locationSize*C)*w,S)}else{if(m.isInstancedBufferAttribute){for(var P=0;P<v.locationSize;P++)d(v.location+P,m.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=m.meshPerAttribute*m.count)}else for(var R=0;R<v.locationSize;R++)h(v.location+R);e.bindBuffer(e.ARRAY_BUFFER,b);for(var I=0;I<v.locationSize;I++)p(v.location+I,y/v.locationSize,x,g,y*w,y/v.locationSize*I*w,S)}}else if(void 0!==u){var O=u[l];if(void 0!==O)switch(O.length){case 2:e.vertexAttrib2fv(v.location,O);break;case 3:e.vertexAttrib3fv(v.location,O);break;case 4:e.vertexAttrib4fv(v.location,O);break;default:e.vertexAttrib1fv(v.location,O)}}}}f()}(n,i,u,v),null!==m&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(m).buffer))},reset:v,resetDefaultState:m,dispose:function(){for(var e in v(),r){var t=r[e];for(var n in t){var i=t[n];for(var a in i)u(i[a].object),delete i[a];delete t[n]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0!==r[e.id]){var t=r[e.id];for(var n in t){var i=t[n];for(var a in i)u(i[a].object),delete i[a];delete t[n]}delete r[e.id]}},releaseStatesOfProgram:function(e){for(var t in r){var n=r[t];if(void 0!==n[e.id]){var i=n[e.id];for(var a in i)u(i[a].object),delete i[a];delete n[e.id]}}},initAttributes:c,enableAttribute:h,disableUnusedAttributes:f}}function sr(e,t,n){var r;function i(t,i,a){0!==a&&(e.drawArraysInstanced(r,t,i,a),n.update(i,r,a))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,a){if(0!==a){var o=t.get("WEBGL_multi_draw");o.multiDrawArraysWEBGL(r,e,0,i,0,a);for(var s=0,u=0;u<a;u++)s+=i[u];n.update(s,r,1)}},this.renderMultiDrawInstances=function(e,a,o,s){if(0!==o){var u=t.get("WEBGL_multi_draw");if(null===u)for(var l=0;l<e.length;l++)i(e[l],a[l],s[l]);else{u.multiDrawArraysInstancedWEBGL(r,e,0,a,0,s,0,o);for(var c=0,h=0;h<o;h++)c+=a[h];for(var d=0;d<s.length;d++)n.update(c,r,s[d])}}}}function ur(t,n,r,i){var a;function o(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var s=void 0!==r.precision?r.precision:"highp",u=o(s);u!==s&&(e("warn","THREE.WebGLRenderer:",s,"not supported, using",u,"instead."," at node_modules/three/build/three.module.js:15922"),s=u);var l=!0===r.logarithmicDepthBuffer,c=!0===r.reverseDepthBuffer&&n.has("EXT_clip_control");if(!0===c){var h=n.get("EXT_clip_control");h.clipControlEXT(h.LOWER_LEFT_EXT,h.ZERO_TO_ONE_EXT)}var d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),m=t.getParameter(t.MAX_VERTEX_ATTRIBS),g=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),y=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),b=f>0,x=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==a)return a;if(!0===n.has("EXT_texture_filter_anisotropic")){var e=n.get("EXT_texture_filter_anisotropic");a=t.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a},getMaxPrecision:o,textureFormatReadable:function(e){return 1023===e||i.convert(e)===t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(e){var r=1016===e&&(n.has("EXT_color_buffer_half_float")||n.has("EXT_color_buffer_float"));return!(1009!==e&&i.convert(e)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&1015!==e&&!r)},precision:s,logarithmicDepthBuffer:l,reverseDepthBuffer:c,maxTextures:d,maxVertexTextures:f,maxTextureSize:p,maxCubemapSize:v,maxAttributes:m,maxVertexUniforms:g,maxVaryings:y,maxFragmentUniforms:_,vertexTextures:b,maxSamples:x}}function lr(e){var t=this,n=null,r=0,i=!1,a=!1,o=new qn,s=new U,u={value:null,needsUpdate:!1};function l(e,n,r,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=u.value,!0!==i||null===l){var c=r+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===l||l.length<c)&&(l=new Float32Array(c));for(var d=0,f=r;d!==a;++d,f+=4)o.copy(e[d]).applyMatrix4(h,s),o.normal.toArray(l,f),l[f+3]=o.constant}u.value=l,u.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,l(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=l(e,t,0)},this.setState=function(o,s,c){var h=o.clippingPlanes,d=o.clipIntersection,f=o.clipShadows,p=e.get(o);if(!i||null===h||0===h.length||a&&!f)a?l(null):function(){u.value!==n&&(u.value=n,u.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{var v=a?0:r,m=4*v,g=p.clippingState||null;u.value=g,g=l(h,s,m,c);for(var y=0;y!==m;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=v}}}function cr(e){var t=new WeakMap;function n(e,t){return 303===t?e.mapping=301:304===t&&(e.mapping=302),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping;if(303===a||304===a){if(t.has(i)){var o=t.get(i).texture;return n(o,i.mapping)}var s=i.image;if(s&&s.height>0){var u=new Hn(s.height);return u.fromEquirectangularTexture(e,i),t.set(i,u),i.addEventListener("dispose",r),n(u.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var hr=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return(0,g.default)(this,n),e=t.call(this),e.isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=u,e.updateProjectionMatrix(),e}return(0,y.default)(n,[{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=u*this.view.offsetX,a=i+u*this.view.width,o-=l*this.view.offsetY,s=o-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(Dn);t.OrthographicCamera=hr;var dr=[.125,.215,.35,.446,.526,.582],fr=new hr,pr=new Ft,vr=null,mr=0,gr=0,yr=!1,_r=(1+Math.sqrt(5))/2,br=1/_r,xr=[new ge(-_r,br,0),new ge(_r,br,0),new ge(-br,0,_r),new ge(br,0,_r),new ge(0,_r,-br),new ge(0,_r,br),new ge(-1,1,-1),new ge(1,1,-1),new ge(-1,1,1),new ge(1,1,1)],wr=function(){function t(e){(0,g.default)(this,t),this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return(0,y.default)(t,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;vr=this._renderer.getRenderTarget(),mr=this._renderer.getActiveCubeFace(),gr=this._renderer.getActiveMipmapLevel(),yr=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Tr(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Mr(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(vr,mr,gr),this._renderer.xr.enabled=yr,e.scissorTest=!1,Ar(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){301===e.mapping||302===e.mapping?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),vr=this._renderer.getRenderTarget(),mr=this._renderer.getActiveCubeFace(),gr=this._renderer.getActiveMipmapLevel(),yr=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,colorSpace:"srgb-linear",depthBuffer:!1},r=Sr(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Sr(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+dr.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var u=1/s;o>e-4?u=dr[o-e+4-1]:0===o&&(u=0),r.push(u);for(var l=1/(s-2),c=-l,h=1+l,d=[c,c,h,c,h,h,c,c,h,h,c,h],f=new Float32Array(108),p=new Float32Array(72),v=new Float32Array(36),m=0;m<6;m++){var g=m%3*2/3-1,y=m>2?0:-1,_=[g,y,0,g+2/3,y,0,g+2/3,y+1,0,g,y,0,g+2/3,y+1,0,g,y+1,0];f.set(_,18*m),p.set(d,12*m);var b=[m,m,m,m,m,m];v.set(b,6*m)}var x=new vn;x.setAttribute("position",new Jt(f,3)),x.setAttribute("uv",new Jt(p,2)),x.setAttribute("faceIndex",new Jt(v,1)),t.push(x),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(20),i=new ge(0,1,0),a=new Ln({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Er(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new En(this._lodPlanes[0],e);this._renderer.compile(t,fr)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new Fn(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,u=s.autoClear,l=s.toneMapping;s.getClearColor(pr),s.toneMapping=0,s.autoClear=!1;var c=new Gt({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),h=new En(new Cn,c),d=!1,f=e.background;f?f.isColor&&(c.color.copy(f),e.background=null,d=!0):(c.color.copy(pr),d=!0);for(var p=0;p<6;p++){var v=p%3;0===v?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===v?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var m=this._cubeSize;Ar(r,v*m,p>2?m:0,m,m),s.setRenderTarget(r),d&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=l,s.autoClear=u,e.background=f}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=301===e.mapping||302===e.mapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Tr()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Mr());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new En(this._lodPlanes[0],i),o=i.uniforms;o["envMap"].value=e;var s=this._cubeSize;Ar(t,0,0,3*s,2*s),n.setRenderTarget(t),n.render(a,fr)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=this._lodPlanes.length,i=1;i<r;i++){var a=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=xr[(r-i-1)%xr.length];this._blur(e,i-1,i,a,o)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(t,n,r,i,a,o,s){var u=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&e("error","blur direction must be either latitudinal or longitudinal!"," at node_modules/three/build/three.module.js:16852");var c=new En(this._lodPlanes[i],l),h=l.uniforms,d=this._sizeLods[r]-1,f=isFinite(a)?Math.PI/(2*d):2*Math.PI/39,p=a/f,v=isFinite(a)?1+Math.floor(3*p):20;v>20&&e("warn","sigmaRadians, ".concat(a,", is too large and will clip, as it requested ").concat(v," samples when the maximum is set to ").concat(20)," at node_modules/three/build/three.module.js:16870");for(var m=[],g=0,y=0;y<20;++y){var _=y/p,b=Math.exp(-_*_/2);m.push(b),0===y?g+=b:y<v&&(g+=2*b)}for(var x=0;x<m.length;x++)m[x]=m[x]/g;h["envMap"].value=t.texture,h["samples"].value=v,h["weights"].value=m,h["latitudinal"].value="latitudinal"===o,s&&(h["poleAxis"].value=s);var w=this._lodMax;h["dTheta"].value=f,h["mipInt"].value=w-r;var S=this._sizeLods[i],A=3*S*(i>w-4?i-w+4:0),M=4*(this._cubeSize-S);Ar(n,A,M,3*S,2*S),u.setRenderTarget(n),u.render(c,fr)}}]),t}();function Sr(e,t,n){var r=new he(e,t,n);return r.texture.mapping=306,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Ar(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Mr(){return new Ln({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Er(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Tr(){return new Ln({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Er(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Er(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function kr(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=303===a||304===a,s=301===a||302===a;if(o||s){var u=t.get(i),l=void 0!==u?u.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==l)return null===n&&(n=new wr(e)),u=o?n.fromEquirectangular(i,u):n.fromCubemap(i,u),u.texture.pmremVersion=i.pmremVersion,t.set(i,u),u.texture;if(void 0!==u)return u.texture;var c=i.image;return o&&c&&c.height>0||s&&c&&function(e){for(var t=0,n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(c)?(null===n&&(n=new wr(e)),u=o?n.fromEquirectangular(i):n.fromCubemap(i),u.texture.pmremVersion=i.pmremVersion,t.set(i,u),i.addEventListener("dispose",r),u.texture):null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Cr(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){var t=n(e);return null===t&&V("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Pr(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);for(var l in s.morphAttributes)for(var c=s.morphAttributes[l],h=0,d=c.length;h<d;h++)t.remove(c[h]);s.removeEventListener("dispose",o),delete i[s.id];var f=a.get(s);f&&(t.remove(f),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],h=s[u+1],d=s[u+2];n.push(c,h,h,d,d,c)}}else{if(void 0===i)return;var f=i.array;o=i.version;for(var p=0,v=f.length/3-1;p<v;p+=3){var m=p+0,g=p+1,y=p+2;n.push(m,g,g,y,y,m)}}var _=new(F(n)?an:nn)(n,1);_.version=o;var b=a.get(e);b&&t.remove(b),a.set(e,_)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){var r=n.attributes;for(var i in r)t.update(r[i],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],u=0,l=s.length;u<l;u++)t.update(s[u],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Rr(e,t,n){var r,i,a;function o(t,o,s){0!==s&&(e.drawElementsInstanced(r,o,i,t*a,s),n.update(o,r,s))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,a=e.bytesPerElement},this.render=function(t,o){e.drawElements(r,o,i,t*a),n.update(o,r,1)},this.renderInstances=o,this.renderMultiDraw=function(e,a,o){if(0!==o){var s=t.get("WEBGL_multi_draw");s.multiDrawElementsWEBGL(r,a,0,i,e,0,o);for(var u=0,l=0;l<o;l++)u+=a[l];n.update(u,r,1)}},this.renderMultiDrawInstances=function(e,s,u,l){if(0!==u){var c=t.get("WEBGL_multi_draw");if(null===c)for(var h=0;h<e.length;h++)o(e[h]/a,s[h],l[h]);else{c.multiDrawElementsInstancedWEBGL(r,s,0,i,e,0,l,0,u);for(var d=0,f=0;f<u;f++)d+=s[f];for(var p=0;p<l.length;p++)n.update(d,r,l[p])}}}}function Ir(t){var n={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:n,programs:null,autoReset:!0,reset:function(){n.calls=0,n.triangles=0,n.points=0,n.lines=0},update:function(r,i,a){switch(n.calls++,i){case t.TRIANGLES:n.triangles+=a*(r/3);break;case t.LINES:n.lines+=a*(r/2);break;case t.LINE_STRIP:n.lines+=a*(r-1);break;case t.LINE_LOOP:n.lines+=a*r;break;case t.POINTS:n.points+=a*r;break;default:e("error","THREE.WebGLInfo: Unknown draw mode:",i," at node_modules/three/build/three.module.js:17829");break}}}}function Or(e,t,n){var r=new WeakMap,i=new le;return{update:function(a,o,s){var u=a.morphTargetInfluences,l=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,c=void 0!==l?l.length:0,h=r.get(o);if(void 0===h||h.count!==c){void 0!==h&&h.texture.dispose();var d=void 0!==o.morphAttributes.position,f=void 0!==o.morphAttributes.normal,p=void 0!==o.morphAttributes.color,v=o.morphAttributes.position||[],m=o.morphAttributes.normal||[],g=o.morphAttributes.color||[],y=0;!0===d&&(y=1),!0===f&&(y=2),!0===p&&(y=3);var _=o.attributes.position.count*y,b=1;_>t.maxTextureSize&&(b=Math.ceil(_/t.maxTextureSize),_=t.maxTextureSize);var x=new Float32Array(_*b*4*c),w=new de(x,_,b,c);w.type=1015,w.needsUpdate=!0;for(var S=4*y,A=0;A<c;A++)for(var M=v[A],T=m[A],E=g[A],k=_*b*4*A,C=0;C<M.count;C++){var P=C*S;!0===d&&(i.fromBufferAttribute(M,C),x[k+P+0]=i.x,x[k+P+1]=i.y,x[k+P+2]=i.z,x[k+P+3]=0),!0===f&&(i.fromBufferAttribute(T,C),x[k+P+4]=i.x,x[k+P+5]=i.y,x[k+P+6]=i.z,x[k+P+7]=0),!0===p&&(i.fromBufferAttribute(E,C),x[k+P+8]=i.x,x[k+P+9]=i.y,x[k+P+10]=i.z,x[k+P+11]=4===E.itemSize?i.w:1)}h={count:c,texture:w,size:new B(_,b)},r.set(o,h),o.addEventListener("dispose",(function e(){w.dispose(),r.delete(o),o.removeEventListener("dispose",e)}))}if(!0===a.isInstancedMesh&&null!==a.morphTexture)s.getUniforms().setValue(e,"morphTexture",a.morphTexture,n);else{for(var R=0,I=0;I<u.length;I++)R+=u[I];var O=o.morphTargetsRelative?1:1-R;s.getUniforms().setValue(e,"morphTargetBaseInfluence",O),s.getUniforms().setValue(e,"morphTargetInfluences",u)}s.getUniforms().setValue(e,"morphTargetsTexture",h.texture,n),s.getUniforms().setValue(e,"morphTargetsTextureSize",h.size)}}}function Lr(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){var s=r.render.frame,u=o.geometry,l=t.get(o,u);if(i.get(l)!==s&&(t.update(l),i.set(l,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){var c=o.skeleton;i.get(c)!==s&&(c.update(),i.set(c,s))}return l},dispose:function(){i=new WeakMap}}}t.PMREMGenerator=wr;var Dr=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i,a,o,s,u,l,c){var h,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1026;if((0,g.default)(this,n),1026!==d&&1027!==d)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&1026===d&&(i=1014),void 0===i&&1027===d&&(i=1020),h=t.call(this,null,a,o,s,u,l,d,i,c),h.isDepthTexture=!0,h.image={width:e,height:r},h.magFilter=void 0!==u?u:1003,h.minFilter=void 0!==l?l:1003,h.flipY=!1,h.generateMipmaps=!1,h.compareFunction=null,h}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.compareFunction=e.compareFunction,this}},{key:"toJSON",value:function(e){var t=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this,e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}]),n}(ue);t.DepthTexture=Dr;var Br=new ue,Ur=new Dr(1,1),Nr=new de,Fr=new pe,jr=new zn,zr=[],Hr=[],Gr=new Float32Array(16),Wr=new Float32Array(9),Vr=new Float32Array(4);function qr(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=zr[i];if(void 0===a&&(a=new Float32Array(i),zr[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function Xr(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Yr(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Kr(e,t){var n=Hr[t];void 0===n&&(n=new Int32Array(t),Hr[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Qr(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Jr(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Xr(n,t))return;e.uniform2fv(this.addr,t),Yr(n,t)}}function Zr(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Xr(n,t))return;e.uniform3fv(this.addr,t),Yr(n,t)}}function $r(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Xr(n,t))return;e.uniform4fv(this.addr,t),Yr(n,t)}}function ei(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Xr(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Yr(n,t)}else{if(Xr(n,r))return;Vr.set(r),e.uniformMatrix2fv(this.addr,!1,Vr),Yr(n,r)}}function ti(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Xr(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Yr(n,t)}else{if(Xr(n,r))return;Wr.set(r),e.uniformMatrix3fv(this.addr,!1,Wr),Yr(n,r)}}function ni(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Xr(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Yr(n,t)}else{if(Xr(n,r))return;Gr.set(r),e.uniformMatrix4fv(this.addr,!1,Gr),Yr(n,r)}}function ri(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function ii(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Xr(n,t))return;e.uniform2iv(this.addr,t),Yr(n,t)}}function ai(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Xr(n,t))return;e.uniform3iv(this.addr,t),Yr(n,t)}}function oi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Xr(n,t))return;e.uniform4iv(this.addr,t),Yr(n,t)}}function si(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function ui(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Xr(n,t))return;e.uniform2uiv(this.addr,t),Yr(n,t)}}function li(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Xr(n,t))return;e.uniform3uiv(this.addr,t),Yr(n,t)}}function ci(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Xr(n,t))return;e.uniform4uiv(this.addr,t),Yr(n,t)}}function hi(e,t,n){var r,i=this.cache,a=n.allocateTextureUnit();i[0]!==a&&(e.uniform1i(this.addr,a),i[0]=a),this.type===e.SAMPLER_2D_SHADOW?(Ur.compareFunction=515,r=Ur):r=Br,n.setTexture2D(t||r,a)}function di(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Fr,i)}function fi(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||jr,i)}function pi(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Nr,i)}function vi(e,t){e.uniform1fv(this.addr,t)}function mi(e,t){var n=qr(t,this.size,2);e.uniform2fv(this.addr,n)}function gi(e,t){var n=qr(t,this.size,3);e.uniform3fv(this.addr,n)}function yi(e,t){var n=qr(t,this.size,4);e.uniform4fv(this.addr,n)}function _i(e,t){var n=qr(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function bi(e,t){var n=qr(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function xi(e,t){var n=qr(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function wi(e,t){e.uniform1iv(this.addr,t)}function Si(e,t){e.uniform2iv(this.addr,t)}function Ai(e,t){e.uniform3iv(this.addr,t)}function Mi(e,t){e.uniform4iv(this.addr,t)}function Ti(e,t){e.uniform1uiv(this.addr,t)}function Ei(e,t){e.uniform2uiv(this.addr,t)}function ki(e,t){e.uniform3uiv(this.addr,t)}function Ci(e,t){e.uniform4uiv(this.addr,t)}function Pi(e,t,n){var r=this.cache,i=t.length,a=Kr(n,i);Xr(r,a)||(e.uniform1iv(this.addr,a),Yr(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||Br,a[o])}function Ri(e,t,n){var r=this.cache,i=t.length,a=Kr(n,i);Xr(r,a)||(e.uniform1iv(this.addr,a),Yr(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||Fr,a[o])}function Ii(e,t,n){var r=this.cache,i=t.length,a=Kr(n,i);Xr(r,a)||(e.uniform1iv(this.addr,a),Yr(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||jr,a[o])}function Oi(e,t,n){var r=this.cache,i=t.length,a=Kr(n,i);Xr(r,a)||(e.uniform1iv(this.addr,a),Yr(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||Nr,a[o])}var Li=(0,y.default)((function e(t,n,r){(0,g.default)(this,e),this.id=t,this.addr=r,this.cache=[],this.type=n.type,this.setValue=function(e){switch(e){case 5126:return Qr;case 35664:return Jr;case 35665:return Zr;case 35666:return $r;case 35674:return ei;case 35675:return ti;case 35676:return ni;case 5124:case 35670:return ri;case 35667:case 35671:return ii;case 35668:case 35672:return ai;case 35669:case 35673:return oi;case 5125:return si;case 36294:return ui;case 36295:return li;case 36296:return ci;case 35678:case 36198:case 36298:case 36306:case 35682:return hi;case 35679:case 36299:case 36307:return di;case 35680:case 36300:case 36308:case 36293:return fi;case 36289:case 36303:case 36311:case 36292:return pi}}(n.type)})),Di=(0,y.default)((function e(t,n,r){(0,g.default)(this,e),this.id=t,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=function(e){switch(e){case 5126:return vi;case 35664:return mi;case 35665:return gi;case 35666:return yi;case 35674:return _i;case 35675:return bi;case 35676:return xi;case 5124:case 35670:return wi;case 35667:case 35671:return Si;case 35668:case 35672:return Ai;case 35669:case 35673:return Mi;case 5125:return Ti;case 36294:return Ei;case 36295:return ki;case 36296:return Ci;case 35678:case 36198:case 36298:case 36306:case 35682:return Pi;case 35679:case 36299:case 36307:return Ri;case 35680:case 36300:case 36308:case 36293:return Ii;case 36289:case 36303:case 36311:case 36292:return Oi}}(n.type)})),Bi=function(){function e(t){(0,g.default)(this,e),this.id=t,this.seq=[],this.map={}}return(0,y.default)(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),Ui=/(\w+)(\])?(\[|\.)?/g;function Ni(e,t){e.seq.push(t),e.map[t.id]=t}function Fi(e,t,n){var r=e.name,i=r.length;Ui.lastIndex=0;while(1){var a=Ui.exec(r),o=Ui.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===i){Ni(n,void 0===l?new Li(s,e,t):new Di(s,e,t));break}var c=n.map,h=c[s];void 0===h&&(h=new Bi(s),Ni(n,h)),n=h}}var ji=function(){function e(t,n){(0,g.default)(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var a=t.getActiveUniform(n,i),o=t.getUniformLocation(n,a.name);Fi(a,o,this)}}return(0,y.default)(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function zi(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var Hi=0;function Gi(e,t,n){var r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function Wi(t,n){var r=function(t){var n,r=ee.getPrimaries(ee.workingColorSpace),i=ee.getPrimaries(t);switch(r===i?n="":"p3"===r&&"rec709"===i?n="LinearDisplayP3ToLinearSRGB":"rec709"===r&&"p3"===i&&(n="LinearSRGBToLinearDisplayP3"),t){case"srgb-linear":case"display-p3-linear":return[n,"LinearTransferOETF"];case"srgb":case"display-p3":return[n,"sRGBTransferOETF"];default:return e("warn","THREE.WebGLProgram: Unsupported color space:",t," at node_modules/three/build/three.module.js:19385"),[n,"LinearTransferOETF"]}}(n);return"vec4 ".concat(t,"( vec4 value ) { return ").concat(r[0],"( ").concat(r[1],"( value ) ); }")}function Vi(t,n){var r;switch(n){case 1:r="Linear";break;case 2:r="Reinhard";break;case 3:r="Cineon";break;case 4:r="ACESFilmic";break;case 6:r="AgX";break;case 7:r="Neutral";break;case 5:r="Custom";break;default:e("warn","THREE.WebGLProgram: Unsupported toneMapping:",n," at node_modules/three/build/three.module.js:19458"),r="Linear"}return"vec3 "+t+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}var qi=new ge;function Xi(){ee.getLuminanceCoefficients(qi);var e=qi.x.toFixed(4),t=qi.y.toFixed(4),n=qi.z.toFixed(4);return["float luminance( const in vec3 rgb ) {","\tconst vec3 weights = vec3( ".concat(e,", ").concat(t,", ").concat(n," );"),"\treturn dot( weights, rgb );","}"].join("\n")}function Yi(e){return""!==e}function Ki(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Qi(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Ji=/^[ \t]*#include +<([\w\d./]+)>/gm;function Zi(e){return e.replace(Ji,ea)}var $i=new Map;function ea(t,n){var r=$n[n];if(void 0===r){var i=$i.get(n);if(void 0===i)throw new Error("Can not resolve #include <"+n+">");r=$n[i],e("warn",'THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',n,i," at node_modules/three/build/three.module.js:19606")}return Zi(r)}var ta=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function na(e){return e.replace(ta,ra)}function ra(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function ia(e){var t="precision ".concat(e.precision," float;\n\tprecision ").concat(e.precision," int;\n\tprecision ").concat(e.precision," sampler2D;\n\tprecision ").concat(e.precision," samplerCube;\n\tprecision ").concat(e.precision," sampler3D;\n\tprecision ").concat(e.precision," sampler2DArray;\n\tprecision ").concat(e.precision," sampler2DShadow;\n\tprecision ").concat(e.precision," samplerCubeShadow;\n\tprecision ").concat(e.precision," sampler2DArrayShadow;\n\tprecision ").concat(e.precision," isampler2D;\n\tprecision ").concat(e.precision," isampler3D;\n\tprecision ").concat(e.precision," isamplerCube;\n\tprecision ").concat(e.precision," isampler2DArray;\n\tprecision ").concat(e.precision," usampler2D;\n\tprecision ").concat(e.precision," usampler3D;\n\tprecision ").concat(e.precision," usamplerCube;\n\tprecision ").concat(e.precision," usampler2DArray;\n\t");return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function aa(t,n,r,i){var a,o,s=t.getContext(),u=r.defines,l=r.vertexShader,c=r.fragmentShader,h=function(e){var t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(r),d=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:t="ENVMAP_TYPE_CUBE_UV";break}return t}(r),f=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case 302:t="ENVMAP_MODE_REFRACTION";break}return t}(r),p=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD";break}return t}(r),v=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t,i=1/(3*Math.max(Math.pow(2,n),112));return{texelWidth:i,texelHeight:r,maxMip:n}}(r),m=function(e){var t=[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""];return t.filter(Yi).join("\n")}(r),g=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(u),y=s.createProgram(),_=r.glslVersion?"#version "+r.glslVersion+"\n":"";r.isRawShaderMaterial?(a=["#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,g].filter(Yi).join("\n"),a.length>0&&(a+="\n"),o=["#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,g].filter(Yi).join("\n"),o.length>0&&(o+="\n")):(a=[ia(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,g,r.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",r.batching?"#define USE_BATCHING":"",r.batchingColor?"#define USE_BATCHING_COLOR":"",r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.instancingMorph?"#define USE_INSTANCING_MORPH":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.displacementMap?"#define USE_DISPLACEMENTMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.mapUv?"#define MAP_UV "+r.mapUv:"",r.alphaMapUv?"#define ALPHAMAP_UV "+r.alphaMapUv:"",r.lightMapUv?"#define LIGHTMAP_UV "+r.lightMapUv:"",r.aoMapUv?"#define AOMAP_UV "+r.aoMapUv:"",r.emissiveMapUv?"#define EMISSIVEMAP_UV "+r.emissiveMapUv:"",r.bumpMapUv?"#define BUMPMAP_UV "+r.bumpMapUv:"",r.normalMapUv?"#define NORMALMAP_UV "+r.normalMapUv:"",r.displacementMapUv?"#define DISPLACEMENTMAP_UV "+r.displacementMapUv:"",r.metalnessMapUv?"#define METALNESSMAP_UV "+r.metalnessMapUv:"",r.roughnessMapUv?"#define ROUGHNESSMAP_UV "+r.roughnessMapUv:"",r.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+r.anisotropyMapUv:"",r.clearcoatMapUv?"#define CLEARCOATMAP_UV "+r.clearcoatMapUv:"",r.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+r.clearcoatNormalMapUv:"",r.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+r.clearcoatRoughnessMapUv:"",r.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+r.iridescenceMapUv:"",r.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+r.iridescenceThicknessMapUv:"",r.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+r.sheenColorMapUv:"",r.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+r.sheenRoughnessMapUv:"",r.specularMapUv?"#define SPECULARMAP_UV "+r.specularMapUv:"",r.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+r.specularColorMapUv:"",r.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+r.specularIntensityMapUv:"",r.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+r.transmissionMapUv:"",r.thicknessMapUv?"#define THICKNESSMAP_UV "+r.thicknessMapUv:"",r.vertexTangents&&!1===r.flatShading?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.morphColors?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+h:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.numLightProbes>0?"#define USE_LIGHT_PROBES":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Yi).join("\n"),o=[ia(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,g,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+d:"",r.envMap?"#define "+f:"",r.envMap?"#define "+p:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.dispersion?"#define USE_DISPERSION":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.vertexTangents&&!1===r.flatShading?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor||r.batchingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+h:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.numLightProbes>0?"#define USE_LIGHT_PROBES":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==r.toneMapping?"#define TONE_MAPPING":"",0!==r.toneMapping?$n["tonemapping_pars_fragment"]:"",0!==r.toneMapping?Vi("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",$n["colorspace_pars_fragment"],Wi("linearToOutputTexel",r.outputColorSpace),Xi(),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Yi).join("\n")),l=Zi(l),l=Ki(l,r),l=Qi(l,r),c=Zi(c),c=Ki(c,r),c=Qi(c,r),l=na(l),c=na(c),!0!==r.isRawShaderMaterial&&(_="#version 300 es\n",a=[m,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+a,o=["#define varying in","300 es"===r.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===r.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+o);var b,x,w=_+a+l,S=_+o+c,A=zi(s,s.VERTEX_SHADER,w),M=zi(s,s.FRAGMENT_SHADER,S);function T(n){if(t.debug.checkShaderErrors){var r=s.getProgramInfoLog(y).trim(),i=s.getShaderInfoLog(A).trim(),u=s.getShaderInfoLog(M).trim(),l=!0,c=!0;if(!1===s.getProgramParameter(y,s.LINK_STATUS))if(l=!1,"function"===typeof t.debug.onShaderError)t.debug.onShaderError(s,y,A,M);else{var h=Gi(s,A,"vertex"),d=Gi(s,M,"fragment");e("error","THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(y,s.VALIDATE_STATUS)+"\n\nMaterial Name: "+n.name+"\nMaterial Type: "+n.type+"\n\nProgram Info Log: "+r+"\n"+h+"\n"+d," at node_modules/three/build/three.module.js:20268")}else""!==r?e("warn","THREE.WebGLProgram: Program Info Log:",r," at node_modules/three/build/three.module.js:20282"):""!==i&&""!==u||(c=!1);c&&(n.diagnostics={runnable:l,programLog:r,vertexShader:{log:i,prefix:a},fragmentShader:{log:u,prefix:o}})}s.deleteShader(A),s.deleteShader(M),b=new ji(s,y),x=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;a.type===e.FLOAT_MAT2&&(s=2),a.type===e.FLOAT_MAT3&&(s=3),a.type===e.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(s,y)}s.attachShader(y,A),s.attachShader(y,M),void 0!==r.index0AttributeName?s.bindAttribLocation(y,0,r.index0AttributeName):!0===r.morphTargets&&s.bindAttribLocation(y,0,"position"),s.linkProgram(y),this.getUniforms=function(){return void 0===b&&T(this),b},this.getAttributes=function(){return void 0===x&&T(this),x};var E=!1===r.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===E&&(E=s.getProgramParameter(y,37297)),E},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(y),this.program=void 0},this.type=r.shaderType,this.name=r.shaderName,this.id=Hi++,this.cacheKey=n,this.usedTimes=1,this.program=y,this.vertexShader=A,this.fragmentShader=M,this}var oa=0,sa=function(){function e(){(0,g.default)(this,e),this.shaderCache=new Map,this.materialCache=new Map}return(0,y.default)(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=this.materialCache.get(e),r=x(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code)}}catch(a){r.e(a)}finally{r.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new ua(e),t.set(e,n)),n}}]),e}(),ua=(0,y.default)((function e(t){(0,g.default)(this,e),this.id=oa++,this.code=t,this.usedTimes=0}));function la(t,n,r,i,a,o,s){var u=new it,l=new sa,c=new Set,h=[],d=a.logarithmicDepthBuffer,f=a.reverseDepthBuffer,p=a.vertexTextures,v=a.precision,m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(e){return c.add(e),0===e?"uv":"uv".concat(e)}return{getParameters:function(o,u,h,y,_){var b=y.fog,x=_.geometry,w=o.isMeshStandardMaterial?y.environment:null,S=(o.isMeshStandardMaterial?r:n).get(o.envMap||w),A=S&&306===S.mapping?S.image.height:null,M=m[o.type];null!==o.precision&&(v=a.getMaxPrecision(o.precision),v!==o.precision&&e("warn","THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",v,"instead."," at node_modules/three/build/three.module.js:20593"));var T,E,k,C,P=x.morphAttributes.position||x.morphAttributes.normal||x.morphAttributes.color,R=void 0!==P?P.length:0,I=0;if(void 0!==x.morphAttributes.position&&(I=1),void 0!==x.morphAttributes.normal&&(I=2),void 0!==x.morphAttributes.color&&(I=3),M){var O=tr[M];T=O.vertexShader,E=O.fragmentShader}else T=o.vertexShader,E=o.fragmentShader,l.update(o),k=l.getVertexShaderID(o),C=l.getFragmentShaderID(o);var L=t.getRenderTarget(),D=!0===_.isInstancedMesh,B=!0===_.isBatchedMesh,U=!!o.map,N=!!o.matcap,F=!!S,j=!!o.aoMap,z=!!o.lightMap,H=!!o.bumpMap,G=!!o.normalMap,W=!!o.displacementMap,V=!!o.emissiveMap,q=!!o.metalnessMap,X=!!o.roughnessMap,Y=o.anisotropy>0,K=o.clearcoat>0,Q=o.dispersion>0,J=o.iridescence>0,Z=o.sheen>0,$=o.transmission>0,te=Y&&!!o.anisotropyMap,ne=K&&!!o.clearcoatMap,re=K&&!!o.clearcoatNormalMap,ie=K&&!!o.clearcoatRoughnessMap,ae=J&&!!o.iridescenceMap,oe=J&&!!o.iridescenceThicknessMap,se=Z&&!!o.sheenColorMap,ue=Z&&!!o.sheenRoughnessMap,le=!!o.specularMap,ce=!!o.specularColorMap,he=!!o.specularIntensityMap,de=$&&!!o.transmissionMap,fe=$&&!!o.thicknessMap,pe=!!o.gradientMap,ve=!!o.alphaMap,me=o.alphaTest>0,ge=!!o.alphaHash,ye=!!o.extensions,_e=0;o.toneMapped&&(null!==L&&!0!==L.isXRRenderTarget||(_e=t.toneMapping));var be={shaderID:M,shaderType:o.type,shaderName:o.name,vertexShader:T,fragmentShader:E,defines:o.defines,customVertexShaderID:k,customFragmentShaderID:C,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:v,batching:B,batchingColor:B&&null!==_._colorsTexture,instancing:D,instancingColor:D&&null!==_.instanceColor,instancingMorph:D&&null!==_.morphTexture,supportsVertexTextures:p,outputColorSpace:null===L?t.outputColorSpace:!0===L.isXRRenderTarget?L.texture.colorSpace:"srgb-linear",alphaToCoverage:!!o.alphaToCoverage,map:U,matcap:N,envMap:F,envMapMode:F&&S.mapping,envMapCubeUVHeight:A,aoMap:j,lightMap:z,bumpMap:H,normalMap:G,displacementMap:p&&W,emissiveMap:V,normalMapObjectSpace:G&&1===o.normalMapType,normalMapTangentSpace:G&&0===o.normalMapType,metalnessMap:q,roughnessMap:X,anisotropy:Y,anisotropyMap:te,clearcoat:K,clearcoatMap:ne,clearcoatNormalMap:re,clearcoatRoughnessMap:ie,dispersion:Q,iridescence:J,iridescenceMap:ae,iridescenceThicknessMap:oe,sheen:Z,sheenColorMap:se,sheenRoughnessMap:ue,specularMap:le,specularColorMap:ce,specularIntensityMap:he,transmission:$,transmissionMap:de,thicknessMap:fe,gradientMap:pe,opaque:!1===o.transparent&&1===o.blending&&!1===o.alphaToCoverage,alphaMap:ve,alphaTest:me,alphaHash:ge,combine:o.combine,mapUv:U&&g(o.map.channel),aoMapUv:j&&g(o.aoMap.channel),lightMapUv:z&&g(o.lightMap.channel),bumpMapUv:H&&g(o.bumpMap.channel),normalMapUv:G&&g(o.normalMap.channel),displacementMapUv:W&&g(o.displacementMap.channel),emissiveMapUv:V&&g(o.emissiveMap.channel),metalnessMapUv:q&&g(o.metalnessMap.channel),roughnessMapUv:X&&g(o.roughnessMap.channel),anisotropyMapUv:te&&g(o.anisotropyMap.channel),clearcoatMapUv:ne&&g(o.clearcoatMap.channel),clearcoatNormalMapUv:re&&g(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ie&&g(o.clearcoatRoughnessMap.channel),iridescenceMapUv:ae&&g(o.iridescenceMap.channel),iridescenceThicknessMapUv:oe&&g(o.iridescenceThicknessMap.channel),sheenColorMapUv:se&&g(o.sheenColorMap.channel),sheenRoughnessMapUv:ue&&g(o.sheenRoughnessMap.channel),specularMapUv:le&&g(o.specularMap.channel),specularColorMapUv:ce&&g(o.specularColorMap.channel),specularIntensityMapUv:he&&g(o.specularIntensityMap.channel),transmissionMapUv:de&&g(o.transmissionMap.channel),thicknessMapUv:fe&&g(o.thicknessMap.channel),alphaMapUv:ve&&g(o.alphaMap.channel),vertexTangents:!!x.attributes.tangent&&(G||Y),vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!x.attributes.color&&4===x.attributes.color.itemSize,pointsUvs:!0===_.isPoints&&!!x.attributes.uv&&(U||ve),fog:!!b,useFog:!0===o.fog,fogExp2:!!b&&b.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:d,reverseDepthBuffer:f,skinning:!0===_.isSkinnedMesh,morphTargets:void 0!==x.morphAttributes.position,morphNormals:void 0!==x.morphAttributes.normal,morphColors:void 0!==x.morphAttributes.color,morphTargetsCount:R,morphTextureStride:I,numDirLights:u.directional.length,numPointLights:u.point.length,numSpotLights:u.spot.length,numSpotLightMaps:u.spotLightMap.length,numRectAreaLights:u.rectArea.length,numHemiLights:u.hemi.length,numDirLightShadows:u.directionalShadowMap.length,numPointLightShadows:u.pointShadowMap.length,numSpotLightShadows:u.spotShadowMap.length,numSpotLightShadowsWithMaps:u.numSpotLightShadowsWithMaps,numLightProbes:u.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:o.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.length>0,shadowMapType:t.shadowMap.type,toneMapping:_e,decodeVideoTexture:U&&!0===o.map.isVideoTexture&&"srgb"===ee.getTransfer(o.map.colorSpace),premultipliedAlpha:o.premultipliedAlpha,doubleSided:2===o.side,flipSided:1===o.side,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionClipCullDistance:ye&&!0===o.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ye&&!0===o.extensions.multiDraw||B)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:o.customProgramCacheKey()};return be.vertexUv1s=c.has(1),be.vertexUv2s=c.has(2),be.vertexUv3s=c.has(3),c.clear(),be},getProgramCacheKey:function(e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.customVertexShaderID),n.push(e.customFragmentShaderID)),void 0!==e.defines)for(var r in e.defines)n.push(r),n.push(e.defines[r]);return!1===e.isRawShaderMaterial&&(function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,e),function(e,t){u.disableAll(),t.supportsVertexTextures&&u.enable(0);t.instancing&&u.enable(1);t.instancingColor&&u.enable(2);t.instancingMorph&&u.enable(3);t.matcap&&u.enable(4);t.envMap&&u.enable(5);t.normalMapObjectSpace&&u.enable(6);t.normalMapTangentSpace&&u.enable(7);t.clearcoat&&u.enable(8);t.iridescence&&u.enable(9);t.alphaTest&&u.enable(10);t.vertexColors&&u.enable(11);t.vertexAlphas&&u.enable(12);t.vertexUv1s&&u.enable(13);t.vertexUv2s&&u.enable(14);t.vertexUv3s&&u.enable(15);t.vertexTangents&&u.enable(16);t.anisotropy&&u.enable(17);t.alphaHash&&u.enable(18);t.batching&&u.enable(19);t.dispersion&&u.enable(20);t.batchingColor&&u.enable(21);e.push(u.mask),u.disableAll(),t.fog&&u.enable(0);t.useFog&&u.enable(1);t.flatShading&&u.enable(2);t.logarithmicDepthBuffer&&u.enable(3);t.reverseDepthBuffer&&u.enable(4);t.skinning&&u.enable(5);t.morphTargets&&u.enable(6);t.morphNormals&&u.enable(7);t.morphColors&&u.enable(8);t.premultipliedAlpha&&u.enable(9);t.shadowMapEnabled&&u.enable(10);t.doubleSided&&u.enable(11);t.flipSided&&u.enable(12);t.useDepthPacking&&u.enable(13);t.dithering&&u.enable(14);t.transmission&&u.enable(15);t.sheen&&u.enable(16);t.opaque&&u.enable(17);t.pointsUvs&&u.enable(18);t.decodeVideoTexture&&u.enable(19);t.alphaToCoverage&&u.enable(20);e.push(u.mask)}(n,e),n.push(t.outputColorSpace)),n.push(e.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=m[e.type];if(n){var r=tr[n];t=On.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(e,n){for(var r,i=0,a=h.length;i<a;i++){var s=h[i];if(s.cacheKey===n){r=s,++r.usedTimes;break}}return void 0===r&&(r=new aa(t,n,e,o),h.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=h.indexOf(e);h[t]=h[h.length-1],h.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:h,dispose:function(){l.dispose()}}}function ca(){var e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function ha(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function da(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function fa(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=i,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=o,u.group=s),t++,u}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,u,l){var c=a(e,t,o,s,u,l);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||ha),r.length>1&&r.sort(t||da),i.length>1&&i.sort(t||da)}}}function pa(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new fa,e.set(t,[r])):n>=i.length?(r=new fa,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function va(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new ge,color:new Ft};break;case"SpotLight":n={position:new ge,direction:new ge,color:new Ft,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ge,color:new Ft,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ge,skyColor:new Ft,groundColor:new Ft};break;case"RectAreaLight":n={color:new Ft,position:new ge,halfWidth:new ge,halfHeight:new ge};break}return e[t.id]=n,n}}}var ma=0;function ga(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function ya(e){for(var t=new va,n=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new B};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new B};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new B,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0},i=0;i<9;i++)r.probe.push(new ge);var a=new ge,o=new Xe,s=new Xe;return{setup:function(i){for(var a=0,o=0,s=0,u=0;u<9;u++)r.probe[u].set(0,0,0);var l=0,c=0,h=0,d=0,f=0,p=0,v=0,m=0,g=0,y=0,_=0;i.sort(ga);for(var b=0,x=i.length;b<x;b++){var w=i[b],S=w.color,A=w.intensity,M=w.distance,T=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)a+=S.r*A,o+=S.g*A,s+=S.b*A;else if(w.isLightProbe){for(var E=0;E<9;E++)r.probe[E].addScaledVector(w.sh.coefficients[E],A);_++}else if(w.isDirectionalLight){var k=t.get(w);if(k.color.copy(w.color).multiplyScalar(w.intensity),w.castShadow){var C=w.shadow,P=n.get(w);P.shadowIntensity=C.intensity,P.shadowBias=C.bias,P.shadowNormalBias=C.normalBias,P.shadowRadius=C.radius,P.shadowMapSize=C.mapSize,r.directionalShadow[l]=P,r.directionalShadowMap[l]=T,r.directionalShadowMatrix[l]=w.shadow.matrix,p++}r.directional[l]=k,l++}else if(w.isSpotLight){var R=t.get(w);R.position.setFromMatrixPosition(w.matrixWorld),R.color.copy(S).multiplyScalar(A),R.distance=M,R.coneCos=Math.cos(w.angle),R.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),R.decay=w.decay,r.spot[h]=R;var I=w.shadow;if(w.map&&(r.spotLightMap[g]=w.map,g++,I.updateMatrices(w),w.castShadow&&y++),r.spotLightMatrix[h]=I.matrix,w.castShadow){var O=n.get(w);O.shadowIntensity=I.intensity,O.shadowBias=I.bias,O.shadowNormalBias=I.normalBias,O.shadowRadius=I.radius,O.shadowMapSize=I.mapSize,r.spotShadow[h]=O,r.spotShadowMap[h]=T,m++}h++}else if(w.isRectAreaLight){var L=t.get(w);L.color.copy(S).multiplyScalar(A),L.halfWidth.set(.5*w.width,0,0),L.halfHeight.set(0,.5*w.height,0),r.rectArea[d]=L,d++}else if(w.isPointLight){var D=t.get(w);if(D.color.copy(w.color).multiplyScalar(w.intensity),D.distance=w.distance,D.decay=w.decay,w.castShadow){var B=w.shadow,U=n.get(w);U.shadowIntensity=B.intensity,U.shadowBias=B.bias,U.shadowNormalBias=B.normalBias,U.shadowRadius=B.radius,U.shadowMapSize=B.mapSize,U.shadowCameraNear=B.camera.near,U.shadowCameraFar=B.camera.far,r.pointShadow[c]=U,r.pointShadowMap[c]=T,r.pointShadowMatrix[c]=w.shadow.matrix,v++}r.point[c]=D,c++}else if(w.isHemisphereLight){var N=t.get(w);N.skyColor.copy(w.color).multiplyScalar(A),N.groundColor.copy(w.groundColor).multiplyScalar(A),r.hemi[f]=N,f++}}d>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=er.LTC_FLOAT_1,r.rectAreaLTC2=er.LTC_FLOAT_2):(r.rectAreaLTC1=er.LTC_HALF_1,r.rectAreaLTC2=er.LTC_HALF_2)),r.ambient[0]=a,r.ambient[1]=o,r.ambient[2]=s;var F=r.hash;F.directionalLength===l&&F.pointLength===c&&F.spotLength===h&&F.rectAreaLength===d&&F.hemiLength===f&&F.numDirectionalShadows===p&&F.numPointShadows===v&&F.numSpotShadows===m&&F.numSpotMaps===g&&F.numLightProbes===_||(r.directional.length=l,r.spot.length=h,r.rectArea.length=d,r.point.length=c,r.hemi.length=f,r.directionalShadow.length=p,r.directionalShadowMap.length=p,r.pointShadow.length=v,r.pointShadowMap.length=v,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=p,r.pointShadowMatrix.length=v,r.spotLightMatrix.length=m+g-y,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=y,r.numLightProbes=_,F.directionalLength=l,F.pointLength=c,F.spotLength=h,F.rectAreaLength=d,F.hemiLength=f,F.numDirectionalShadows=p,F.numPointShadows=v,F.numSpotShadows=m,F.numSpotMaps=g,F.numLightProbes=_,r.version=ma++)},setupView:function(e,t){for(var n=0,i=0,u=0,l=0,c=0,h=t.matrixWorldInverse,d=0,f=e.length;d<f;d++){var p=e[d];if(p.isDirectionalLight){var v=r.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),a.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(a),v.direction.transformDirection(h),n++}else if(p.isSpotLight){var m=r.spot[u];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(h),m.direction.setFromMatrixPosition(p.matrixWorld),a.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(a),m.direction.transformDirection(h),u++}else if(p.isRectAreaLight){var g=r.rectArea[l];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(h),s.identity(),o.copy(p.matrixWorld),o.premultiply(h),s.extractRotation(o),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(s),g.halfHeight.applyMatrix4(s),l++}else if(p.isPointLight){var y=r.point[i];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(h),i++}else if(p.isHemisphereLight){var _=r.hemi[c];_.direction.setFromMatrixPosition(p.matrixWorld),_.direction.transformDirection(h),c++}}},state:r}}function _a(e){var t=new ya(e),n=[],r=[];var i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function ba(e){var t=new WeakMap;return{get:function(n){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=t.get(n);return void 0===a?(r=new _a(e),t.set(n,[r])):i>=a.length?(r=new _a(e),a.push(r)):r=a[i],r},dispose:function(){t=new WeakMap}}}var xa=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=3200,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(Ht);t.MeshDepthMaterial=xa;var wa=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(Ht);t.MeshDistanceMaterial=wa;function Sa(t,n,r){var i,a=new Kn,o=new B,s=new B,u=new le,l=new xa({depthPacking:3201}),c=new wa,h={},d=r.maxTextureSize,f=(i={},(0,m.default)(i,0,1),(0,m.default)(i,1,0),(0,m.default)(i,2,2),i),p=new Ln({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new B},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),v=p.clone();v.defines.HORIZONTAL_PASS=1;var g=new vn;g.setAttribute("position",new Jt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var y=new En(g,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;var b=this.type;function x(e,r){var i=n.update(y);p.defines.VSM_SAMPLES!==e.blurSamples&&(p.defines.VSM_SAMPLES=e.blurSamples,v.defines.VSM_SAMPLES=e.blurSamples,p.needsUpdate=!0,v.needsUpdate=!0),null===e.mapPass&&(e.mapPass=new he(o.x,o.y)),p.uniforms.shadow_pass.value=e.map.texture,p.uniforms.resolution.value=e.mapSize,p.uniforms.radius.value=e.radius,t.setRenderTarget(e.mapPass),t.clear(),t.renderBufferDirect(r,null,i,p,y,null),v.uniforms.shadow_pass.value=e.mapPass.texture,v.uniforms.resolution.value=e.mapSize,v.uniforms.radius.value=e.radius,t.setRenderTarget(e.map),t.clear(),t.renderBufferDirect(r,null,i,v,y,null)}function w(e,n,r,i){var a=null,o=!0===r.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?c:l,t.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var s=a.uuid,u=n.uuid,d=h[s];void 0===d&&(d={},h[s]=d);var p=d[u];void 0===p&&(p=a.clone(),d[u]=p,n.addEventListener("dispose",A)),a=p}if(a.visible=n.visible,a.wireframe=n.wireframe,a.side=3===i?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:f[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial){var v=t.properties.get(a);v.light=r}return a}function S(e,r,i,o,s){if(!1!==e.visible){var u=e.layers.test(r.layers);if(u&&(e.isMesh||e.isLine||e.isPoints)&&(e.castShadow||e.receiveShadow&&3===s)&&(!e.frustumCulled||a.intersectsObject(e))){e.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,e.matrixWorld);var l=n.update(e),c=e.material;if(Array.isArray(c))for(var h=l.groups,d=0,f=h.length;d<f;d++){var p=h[d],v=c[p.materialIndex];if(v&&v.visible){var m=w(e,v,o,s);e.onBeforeShadow(t,e,r,i,l,m,p),t.renderBufferDirect(i,null,l,m,e,p),e.onAfterShadow(t,e,r,i,l,m,p)}}else if(c.visible){var g=w(e,c,o,s);e.onBeforeShadow(t,e,r,i,l,g,null),t.renderBufferDirect(i,null,l,g,e,null),e.onAfterShadow(t,e,r,i,l,g,null)}}for(var y=e.children,_=0,b=y.length;_<b;_++)S(y[_],r,i,o,s)}}function A(e){var t=e.target;for(var n in t.removeEventListener("dispose",A),h){var r=h[n],i=e.target.uuid;if(i in r){var a=r[i];a.dispose(),delete r[i]}}}this.render=function(n,r,i){if(!1!==_.enabled&&(!1!==_.autoUpdate||!1!==_.needsUpdate)&&0!==n.length){var l=t.getRenderTarget(),c=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),f=t.state;f.setBlending(0),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var p=3!==b&&3===this.type,v=3===b&&3!==this.type,m=0,g=n.length;m<g;m++){var y=n[m],w=y.shadow;if(void 0!==w){if(!1!==w.autoUpdate||!1!==w.needsUpdate){o.copy(w.mapSize);var A=w.getFrameExtents();if(o.multiply(A),s.copy(w.mapSize),(o.x>d||o.y>d)&&(o.x>d&&(s.x=Math.floor(d/A.x),o.x=s.x*A.x,w.mapSize.x=s.x),o.y>d&&(s.y=Math.floor(d/A.y),o.y=s.y*A.y,w.mapSize.y=s.y)),null===w.map||!0===p||!0===v){var M=3!==this.type?{minFilter:1003,magFilter:1003}:{};null!==w.map&&w.map.dispose(),w.map=new he(o.x,o.y,M),w.map.texture.name=y.name+".shadowMap",w.camera.updateProjectionMatrix()}t.setRenderTarget(w.map),t.clear();for(var T=w.getViewportCount(),E=0;E<T;E++){var k=w.getViewport(E);u.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),f.viewport(u),w.updateMatrices(y,E),a=w.getFrustum(),S(r,i,w.camera,y,this.type)}!0!==w.isPointLightShadow&&3===this.type&&x(w,i),w.needsUpdate=!1}}else e("warn","THREE.WebGLShadowMap:",y,"has no shadow."," at node_modules/three/build/three.module.js:22325")}b=this.type,_.needsUpdate=!1,t.setRenderTarget(l,c,h)}}}var Aa=(a={},(0,m.default)(a,0,1),(0,m.default)(a,2,6),(0,m.default)(a,4,7),(0,m.default)(a,3,5),(0,m.default)(a,1,0),(0,m.default)(a,6,2),(0,m.default)(a,7,4),(0,m.default)(a,5,3),a);function Ma(t){var n,r;var i=new function(){var e=!1,n=new le,r=null,i=new le(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,a,o,s){!0===s&&(e*=o,r*=o,a*=o),n.set(e,r,a,o),!1===i.equals(n)&&(t.clearColor(e,r,a,o),i.copy(n))},reset:function(){e=!1,r=null,i.set(-1,0,0,0)}}},a=new function(){var e=!1,n=!1,r=null,i=null,a=null;return{setReversed:function(e){n=e},setTest:function(e){e?G(t.DEPTH_TEST):W(t.DEPTH_TEST)},setMask:function(n){r===n||e||(t.depthMask(n),r=n)},setFunc:function(e){if(n&&(e=Aa[e]),i!==e){switch(e){case 0:t.depthFunc(t.NEVER);break;case 1:t.depthFunc(t.ALWAYS);break;case 2:t.depthFunc(t.LESS);break;case 3:t.depthFunc(t.LEQUAL);break;case 4:t.depthFunc(t.EQUAL);break;case 5:t.depthFunc(t.GEQUAL);break;case 6:t.depthFunc(t.GREATER);break;case 7:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}i=e}},setLocked:function(t){e=t},setClear:function(e){a!==e&&(t.clearDepth(e),a=e)},reset:function(){e=!1,r=null,i=null,a=null}}},o=new function(){var e=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(n){e||(n?G(t.STENCIL_TEST):W(t.STENCIL_TEST))},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,o){r===e&&i===n&&a===o||(t.stencilFunc(e,n,o),r=e,i=n,a=o)},setOp:function(e,n,r){o===e&&s===n&&u===r||(t.stencilOp(e,n,r),o=e,s=n,u=r)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null}}},s=new WeakMap,u=new WeakMap,l={},c={},h=new WeakMap,d=[],f=null,p=!1,v=null,g=null,y=null,_=null,b=null,x=null,w=null,S=new Ft(0,0,0),A=0,M=!1,T=null,E=null,k=null,C=null,P=null,R=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),I=!1,O=0,L=t.getParameter(t.VERSION);-1!==L.indexOf("WebGL")?(O=parseFloat(/^WebGL (\d)/.exec(L)[1]),I=O>=1):-1!==L.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),I=O>=2);var D=null,B={},U=t.getParameter(t.SCISSOR_BOX),N=t.getParameter(t.VIEWPORT),F=(new le).fromArray(U),j=(new le).fromArray(N);function z(e,n,r,i){var a=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var s=0;s<r;s++)e===t.TEXTURE_3D||e===t.TEXTURE_2D_ARRAY?t.texImage3D(n,0,t.RGBA,1,1,i,0,t.RGBA,t.UNSIGNED_BYTE,a):t.texImage2D(n+s,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,a);return o}var H={};function G(e){!0!==l[e]&&(t.enable(e),l[e]=!0)}function W(e){!1!==l[e]&&(t.disable(e),l[e]=!1)}H[t.TEXTURE_2D]=z(t.TEXTURE_2D,t.TEXTURE_2D,1),H[t.TEXTURE_CUBE_MAP]=z(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),H[t.TEXTURE_2D_ARRAY]=z(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),H[t.TEXTURE_3D]=z(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),a.setClear(1),o.setClear(0),G(t.DEPTH_TEST),a.setFunc(3),Y(!1),K(1),G(t.CULL_FACE),X(0);var V=(n={},(0,m.default)(n,100,t.FUNC_ADD),(0,m.default)(n,101,t.FUNC_SUBTRACT),(0,m.default)(n,102,t.FUNC_REVERSE_SUBTRACT),n);V[103]=t.MIN,V[104]=t.MAX;var q=(r={},(0,m.default)(r,200,t.ZERO),(0,m.default)(r,201,t.ONE),(0,m.default)(r,202,t.SRC_COLOR),(0,m.default)(r,204,t.SRC_ALPHA),(0,m.default)(r,210,t.SRC_ALPHA_SATURATE),(0,m.default)(r,208,t.DST_COLOR),(0,m.default)(r,206,t.DST_ALPHA),(0,m.default)(r,203,t.ONE_MINUS_SRC_COLOR),(0,m.default)(r,205,t.ONE_MINUS_SRC_ALPHA),(0,m.default)(r,209,t.ONE_MINUS_DST_COLOR),(0,m.default)(r,207,t.ONE_MINUS_DST_ALPHA),(0,m.default)(r,211,t.CONSTANT_COLOR),(0,m.default)(r,212,t.ONE_MINUS_CONSTANT_COLOR),(0,m.default)(r,213,t.CONSTANT_ALPHA),(0,m.default)(r,214,t.ONE_MINUS_CONSTANT_ALPHA),r);function X(n,r,i,a,o,s,u,l,c,h){if(0!==n){if(!1===p&&(G(t.BLEND),p=!0),5===n)o=o||r,s=s||i,u=u||a,r===g&&o===b||(t.blendEquationSeparate(V[r],V[o]),g=r,b=o),i===y&&a===_&&s===x&&u===w||(t.blendFuncSeparate(q[i],q[a],q[s],q[u]),y=i,_=a,x=s,w=u),!1!==l.equals(S)&&c===A||(t.blendColor(l.r,l.g,l.b,c),S.copy(l),A=c),v=n,M=!1;else if(n!==v||h!==M){if(100===g&&100===b||(t.blendEquation(t.FUNC_ADD),g=100,b=100),h)switch(n){case 1:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.ONE,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case 4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:e("error","THREE.WebGLState: Invalid blending: ",n," at node_modules/three/build/three.module.js:23279");break}else switch(n){case 1:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case 4:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:e("error","THREE.WebGLState: Invalid blending: ",n," at node_modules/three/build/three.module.js:23305");break}y=null,_=null,x=null,w=null,S.set(0,0,0),A=0,v=n,M=h}}else!0===p&&(W(t.BLEND),p=!1)}function Y(e){T!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),T=e)}function K(e){0!==e?(G(t.CULL_FACE),e!==E&&(1===e?t.cullFace(t.BACK):2===e?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):W(t.CULL_FACE),E=e}function Q(e,n,r){e?(G(t.POLYGON_OFFSET_FILL),C===n&&P===r||(t.polygonOffset(n,r),C=n,P=r)):W(t.POLYGON_OFFSET_FILL)}return{buffers:{color:i,depth:a,stencil:o},enable:G,disable:W,bindFramebuffer:function(e,n){return c[e]!==n&&(t.bindFramebuffer(e,n),c[e]=n,e===t.DRAW_FRAMEBUFFER&&(c[t.FRAMEBUFFER]=n),e===t.FRAMEBUFFER&&(c[t.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(e,n){var r=d,i=!1;if(e){r=h.get(n),void 0===r&&(r=[],h.set(n,r));var a=e.textures;if(r.length!==a.length||r[0]!==t.COLOR_ATTACHMENT0){for(var o=0,s=a.length;o<s;o++)r[o]=t.COLOR_ATTACHMENT0+o;r.length=a.length,i=!0}}else r[0]!==t.BACK&&(r[0]=t.BACK,i=!0);i&&t.drawBuffers(r)},useProgram:function(e){return f!==e&&(t.useProgram(e),f=e,!0)},setBlending:X,setMaterial:function(e,n){2===e.side?W(t.CULL_FACE):G(t.CULL_FACE);var r=1===e.side;n&&(r=!r),Y(r),1===e.blending&&!1===e.transparent?X(0):X(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.blendColor,e.blendAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),i.setMask(e.colorWrite);var s=e.stencilWrite;o.setTest(s),s&&(o.setMask(e.stencilWriteMask),o.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),o.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Q(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?G(t.SAMPLE_ALPHA_TO_COVERAGE):W(t.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Y,setCullFace:K,setLineWidth:function(e){e!==k&&(I&&t.lineWidth(e),k=e)},setPolygonOffset:Q,setScissorTest:function(e){e?G(t.SCISSOR_TEST):W(t.SCISSOR_TEST)},activeTexture:function(e){void 0===e&&(e=t.TEXTURE0+R-1),D!==e&&(t.activeTexture(e),D=e)},bindTexture:function(e,n,r){void 0===r&&(r=null===D?t.TEXTURE0+R-1:D);var i=B[r];void 0===i&&(i={type:void 0,texture:void 0},B[r]=i),i.type===e&&i.texture===n||(D!==r&&(t.activeTexture(r),D=r),t.bindTexture(e,n||H[e]),i.type=e,i.texture=n)},unbindTexture:function(){var e=B[D];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(n){e("error","THREE.WebGLState:",n," at node_modules/three/build/three.module.js:23592")}},compressedTexImage3D:function(){try{t.compressedTexImage3D.apply(t,arguments)}catch(n){e("error","THREE.WebGLState:",n," at node_modules/three/build/three.module.js:23606")}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(n){e("error","THREE.WebGLState:",n," at node_modules/three/build/three.module.js:23704")}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(n){e("error","THREE.WebGLState:",n," at node_modules/three/build/three.module.js:23718")}},updateUBOMapping:function(e,n){var r=u.get(n);void 0===r&&(r=new WeakMap,u.set(n,r));var i=r.get(e);void 0===i&&(i=t.getUniformBlockIndex(n,e.name),r.set(e,i))},uniformBlockBinding:function(e,n){var r=u.get(n),i=r.get(e);s.get(n)!==i&&(t.uniformBlockBinding(n,i,e.__bindingPointIndex),s.set(n,i))},texStorage2D:function(){try{t.texStorage2D.apply(t,arguments)}catch(n){e("error","THREE.WebGLState:",n," at node_modules/three/build/three.module.js:23676")}},texStorage3D:function(){try{t.texStorage3D.apply(t,arguments)}catch(n){e("error","THREE.WebGLState:",n," at node_modules/three/build/three.module.js:23690")}},texSubImage2D:function(){try{t.texSubImage2D.apply(t,arguments)}catch(n){e("error","THREE.WebGLState:",n," at node_modules/three/build/three.module.js:23620")}},texSubImage3D:function(){try{t.texSubImage3D.apply(t,arguments)}catch(n){e("error","THREE.WebGLState:",n," at node_modules/three/build/three.module.js:23634")}},compressedTexSubImage2D:function(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(n){e("error","THREE.WebGLState:",n," at node_modules/three/build/three.module.js:23648")}},compressedTexSubImage3D:function(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(n){e("error","THREE.WebGLState:",n," at node_modules/three/build/three.module.js:23662")}},scissor:function(e){!1===F.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),F.copy(e))},viewport:function(e){!1===j.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),j.copy(e))},reset:function(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),l={},D=null,B={},c={},h=new WeakMap,d=[],f=null,p=!1,v=null,g=null,y=null,_=null,b=null,x=null,w=null,S=new Ft(0,0,0),A=0,M=!1,T=null,E=null,k=null,C=null,P=null,F.set(0,0,t.canvas.width,t.canvas.height),j.set(0,0,t.canvas.width,t.canvas.height),i.reset(),a.reset(),o.reset()}}}function Ta(e,t,n,r){var i=function(e){switch(e){case 1009:case 1010:return{byteLength:1,components:1};case 1012:case 1011:case 1016:return{byteLength:2,components:1};case 1017:case 1018:return{byteLength:2,components:4};case 1014:case 1013:case 1015:return{byteLength:4,components:1};case 35902:return{byteLength:4,components:3}}throw new Error("Unknown texture type ".concat(e,"."))}(r);switch(n){case 1021:return e*t;case 1024:return e*t;case 1025:return e*t*2;case 1028:return e*t/i.components*i.byteLength;case 1029:return e*t/i.components*i.byteLength;case 1030:return e*t*2/i.components*i.byteLength;case 1031:return e*t*2/i.components*i.byteLength;case 1022:return e*t*3/i.components*i.byteLength;case 1023:return e*t*4/i.components*i.byteLength;case 1033:return e*t*4/i.components*i.byteLength;case 33776:case 33777:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case 33778:case 33779:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case 35841:case 35843:return Math.max(e,16)*Math.max(t,8)/4;case 35840:case 35842:return Math.max(e,8)*Math.max(t,8)/2;case 36196:case 37492:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case 37496:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case 37808:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case 37809:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case 37810:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case 37811:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case 37812:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case 37813:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case 37814:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case 37815:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case 37816:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case 37817:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case 37818:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case 37819:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case 37820:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case 37821:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case 36492:case 36494:case 36495:return Math.ceil(e/4)*Math.ceil(t/4)*16;case 36283:case 36284:return Math.ceil(e/4)*Math.ceil(t/4)*8;case 36285:case 36286:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error("Unable to determine texture byte length for ".concat(n," format."))}var Ea={contain:function(e,t){var n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e},cover:function(e,t){var n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e},fill:function(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e},getByteLength:Ta};function ka(t,n,r,i,a,o,s){var u,l,c,h,d=n.has("WEBGL_multisampled_render_to_texture")?n.get("WEBGL_multisampled_render_to_texture"):null,f="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),p=new B,v=new WeakMap,g=new WeakMap,y=!1;try{y="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(K){}function _(e,t){return y?new OffscreenCanvas(e,t):H("canvas")}function b(t,n,r){var i=1,a=Y(t);if((a.width>r||a.height>r)&&(i=r/Math.max(a.width,a.height)),i<1){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!==typeof VideoFrame&&t instanceof VideoFrame){var o=Math.floor(i*a.width),s=Math.floor(i*a.height);void 0===h&&(h=_(o,s));var u=n?_(o,s):h;u.width=o,u.height=s;var l=u.getContext("2d");return l.drawImage(t,0,0,o,s),e("warn","THREE.WebGLRenderer: Texture has been resized from ("+a.width+"x"+a.height+") to ("+o+"x"+s+")."," at node_modules/three/build/three.module.js:24219"),u}return"data"in t&&e("warn","THREE.WebGLRenderer: Image in DataTexture is too big ("+a.width+"x"+a.height+")."," at node_modules/three/build/three.module.js:24227"),t}return t}function w(e){return e.generateMipmaps&&1003!==e.minFilter&&1006!==e.minFilter}function S(e){t.generateMipmap(e)}function A(r,i,a,o){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null!==r){if(void 0!==t[r])return t[r];e("warn","THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+r+"'"," at node_modules/three/build/three.module.js:24259")}var u=i;if(i===t.RED&&(a===t.FLOAT&&(u=t.R32F),a===t.HALF_FLOAT&&(u=t.R16F),a===t.UNSIGNED_BYTE&&(u=t.R8)),i===t.RED_INTEGER&&(a===t.UNSIGNED_BYTE&&(u=t.R8UI),a===t.UNSIGNED_SHORT&&(u=t.R16UI),a===t.UNSIGNED_INT&&(u=t.R32UI),a===t.BYTE&&(u=t.R8I),a===t.SHORT&&(u=t.R16I),a===t.INT&&(u=t.R32I)),i===t.RG&&(a===t.FLOAT&&(u=t.RG32F),a===t.HALF_FLOAT&&(u=t.RG16F),a===t.UNSIGNED_BYTE&&(u=t.RG8)),i===t.RG_INTEGER&&(a===t.UNSIGNED_BYTE&&(u=t.RG8UI),a===t.UNSIGNED_SHORT&&(u=t.RG16UI),a===t.UNSIGNED_INT&&(u=t.RG32UI),a===t.BYTE&&(u=t.RG8I),a===t.SHORT&&(u=t.RG16I),a===t.INT&&(u=t.RG32I)),i===t.RGB_INTEGER&&(a===t.UNSIGNED_BYTE&&(u=t.RGB8UI),a===t.UNSIGNED_SHORT&&(u=t.RGB16UI),a===t.UNSIGNED_INT&&(u=t.RGB32UI),a===t.BYTE&&(u=t.RGB8I),a===t.SHORT&&(u=t.RGB16I),a===t.INT&&(u=t.RGB32I)),i===t.RGBA_INTEGER&&(a===t.UNSIGNED_BYTE&&(u=t.RGBA8UI),a===t.UNSIGNED_SHORT&&(u=t.RGBA16UI),a===t.UNSIGNED_INT&&(u=t.RGBA32UI),a===t.BYTE&&(u=t.RGBA8I),a===t.SHORT&&(u=t.RGBA16I),a===t.INT&&(u=t.RGBA32I)),i===t.RGB&&a===t.UNSIGNED_INT_5_9_9_9_REV&&(u=t.RGB9_E5),i===t.RGBA){var l=s?"linear":ee.getTransfer(o);a===t.FLOAT&&(u=t.RGBA32F),a===t.HALF_FLOAT&&(u=t.RGBA16F),a===t.UNSIGNED_BYTE&&(u="srgb"===l?t.SRGB8_ALPHA8:t.RGBA8),a===t.UNSIGNED_SHORT_4_4_4_4&&(u=t.RGBA4),a===t.UNSIGNED_SHORT_5_5_5_1&&(u=t.RGB5_A1)}return u!==t.R16F&&u!==t.R32F&&u!==t.RG16F&&u!==t.RG32F&&u!==t.RGBA16F&&u!==t.RGBA32F||n.get("EXT_color_buffer_float"),u}function M(n,r){var i;return n?null===r||1014===r||1020===r?i=t.DEPTH24_STENCIL8:1015===r?i=t.DEPTH32F_STENCIL8:1012===r&&(i=t.DEPTH24_STENCIL8,e("warn","DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment."," at node_modules/three/build/three.module.js:24371")):null===r||1014===r||1020===r?i=t.DEPTH_COMPONENT24:1015===r?i=t.DEPTH_COMPONENT32F:1012===r&&(i=t.DEPTH_COMPONENT16),i}function T(e,t){return!0===w(e)||e.isFramebufferTexture&&1003!==e.minFilter&&1006!==e.minFilter?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function E(e){var t=e.target;t.removeEventListener("dispose",E),function(e){var t=i.get(e);if(void 0===t.__webglInit)return;var n=e.source,r=g.get(n);if(r){var a=r[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&C(e),0===Object.keys(r).length&&g.delete(n)}i.remove(e)}(t),t.isVideoTexture&&v.delete(t)}function k(e){var n=e.target;n.removeEventListener("dispose",k),function(e){var n=i.get(e);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(var r=0;r<6;r++){if(Array.isArray(n.__webglFramebuffer[r]))for(var a=0;a<n.__webglFramebuffer[r].length;a++)t.deleteFramebuffer(n.__webglFramebuffer[r][a]);else t.deleteFramebuffer(n.__webglFramebuffer[r]);n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[r])}else{if(Array.isArray(n.__webglFramebuffer))for(var o=0;o<n.__webglFramebuffer.length;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(var u=0;u<n.__webglColorRenderbuffer.length;u++)n.__webglColorRenderbuffer[u]&&t.deleteRenderbuffer(n.__webglColorRenderbuffer[u]);n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer)}for(var l=e.textures,c=0,h=l.length;c<h;c++){var d=i.get(l[c]);d.__webglTexture&&(t.deleteTexture(d.__webglTexture),s.memory.textures--),i.remove(l[c])}i.remove(e)}(n)}function C(e){var n=i.get(e);t.deleteTexture(n.__webglTexture);var r=e.source,a=g.get(r);delete a[n.__cacheKey],s.memory.textures--}var P=0;function R(n,a){var o=i.get(n);if(n.isVideoTexture&&function(e){var t=s.render.frame;v.get(e)!==t&&(v.set(e,t),e.update())}(n),!1===n.isRenderTargetTexture&&n.version>0&&o.__version!==n.version){var u=n.image;if(null===u)e("warn","THREE.WebGLRenderer: Texture marked for update but no image data found."," at node_modules/three/build/three.module.js:24646");else{if(!1!==u.complete)return void N(o,n,a);e("warn","THREE.WebGLRenderer: Texture marked for update but image is incomplete"," at node_modules/three/build/three.module.js:24650")}}r.bindTexture(t.TEXTURE_2D,o.__webglTexture,t.TEXTURE0+a)}var I=(u={},(0,m.default)(u,1e3,t.REPEAT),(0,m.default)(u,1001,t.CLAMP_TO_EDGE),(0,m.default)(u,1002,t.MIRRORED_REPEAT),u),O=(l={},(0,m.default)(l,1003,t.NEAREST),(0,m.default)(l,1004,t.NEAREST_MIPMAP_NEAREST),(0,m.default)(l,1005,t.NEAREST_MIPMAP_LINEAR),(0,m.default)(l,1006,t.LINEAR),(0,m.default)(l,1007,t.LINEAR_MIPMAP_NEAREST),(0,m.default)(l,1008,t.LINEAR_MIPMAP_LINEAR),l),L=(c={},(0,m.default)(c,512,t.NEVER),(0,m.default)(c,519,t.ALWAYS),(0,m.default)(c,513,t.LESS),(0,m.default)(c,515,t.LEQUAL),(0,m.default)(c,514,t.EQUAL),(0,m.default)(c,518,t.GEQUAL),(0,m.default)(c,516,t.GREATER),(0,m.default)(c,517,t.NOTEQUAL),c);function D(r,o){if(1015!==o.type||!1!==n.has("OES_texture_float_linear")||1006!==o.magFilter&&1007!==o.magFilter&&1005!==o.magFilter&&1008!==o.magFilter&&1006!==o.minFilter&&1007!==o.minFilter&&1005!==o.minFilter&&1008!==o.minFilter||e("warn","THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."," at node_modules/three/build/three.module.js:24743"),t.texParameteri(r,t.TEXTURE_WRAP_S,I[o.wrapS]),t.texParameteri(r,t.TEXTURE_WRAP_T,I[o.wrapT]),r!==t.TEXTURE_3D&&r!==t.TEXTURE_2D_ARRAY||t.texParameteri(r,t.TEXTURE_WRAP_R,I[o.wrapR]),t.texParameteri(r,t.TEXTURE_MAG_FILTER,O[o.magFilter]),t.texParameteri(r,t.TEXTURE_MIN_FILTER,O[o.minFilter]),o.compareFunction&&(t.texParameteri(r,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(r,t.TEXTURE_COMPARE_FUNC,L[o.compareFunction])),!0===n.has("EXT_texture_filter_anisotropic")){if(1003===o.magFilter)return;if(1005!==o.minFilter&&1008!==o.minFilter)return;if(1015===o.type&&!1===n.has("OES_texture_float_linear"))return;if(o.anisotropy>1||i.get(o).__currentAnisotropy){var s=n.get("EXT_texture_filter_anisotropic");t.texParameterf(r,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,a.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy}}}function U(e,n){var r=!1;void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",E));var i=n.source,a=g.get(i);void 0===a&&(a={},g.set(i,a));var o=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(o!==e.__cacheKey){void 0===a[o]&&(a[o]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,r=!0),a[o].usedTimes++;var u=a[e.__cacheKey];void 0!==u&&(a[e.__cacheKey].usedTimes--,0===u.usedTimes&&C(n)),e.__cacheKey=o,e.__webglTexture=a[o].texture}return r}function N(n,s,u){var l=t.TEXTURE_2D;(s.isDataArrayTexture||s.isCompressedArrayTexture)&&(l=t.TEXTURE_2D_ARRAY),s.isData3DTexture&&(l=t.TEXTURE_3D);var c=U(n,s),h=s.source;r.bindTexture(l,n.__webglTexture,t.TEXTURE0+u);var d=i.get(h);if(h.version!==d.__version||!0===c){r.activeTexture(t.TEXTURE0+u);var f=ee.getPrimaries(ee.workingColorSpace),p=""===s.colorSpace?null:ee.getPrimaries(s.colorSpace),v=""===s.colorSpace||f===p?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,s.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,v);var m=b(s.image,!1,a.maxTextureSize);m=X(s,m);var g,y=o.convert(s.format,s.colorSpace),_=o.convert(s.type),E=A(s.internalFormat,y,_,s.colorSpace,s.isVideoTexture);D(l,s);var k=s.mipmaps,C=!0!==s.isVideoTexture,P=void 0===d.__version||!0===c,R=h.dataReady,I=T(s,m);if(s.isDepthTexture)E=M(1027===s.format,s.type),P&&(C?r.texStorage2D(t.TEXTURE_2D,1,E,m.width,m.height):r.texImage2D(t.TEXTURE_2D,0,E,m.width,m.height,0,y,_,null));else if(s.isDataTexture)if(k.length>0){C&&P&&r.texStorage2D(t.TEXTURE_2D,I,E,k[0].width,k[0].height);for(var O=0,L=k.length;O<L;O++)g=k[O],C?R&&r.texSubImage2D(t.TEXTURE_2D,O,0,0,g.width,g.height,y,_,g.data):r.texImage2D(t.TEXTURE_2D,O,E,g.width,g.height,0,y,_,g.data);s.generateMipmaps=!1}else C?(P&&r.texStorage2D(t.TEXTURE_2D,I,E,m.width,m.height),R&&r.texSubImage2D(t.TEXTURE_2D,0,0,0,m.width,m.height,y,_,m.data)):r.texImage2D(t.TEXTURE_2D,0,E,m.width,m.height,0,y,_,m.data);else if(s.isCompressedTexture)if(s.isCompressedArrayTexture){C&&P&&r.texStorage3D(t.TEXTURE_2D_ARRAY,I,E,k[0].width,k[0].height,m.depth);for(var B=0,N=k.length;B<N;B++)if(g=k[B],1023!==s.format)if(null!==y)if(C){if(R)if(s.layerUpdates.size>0){var F,j=Ta(g.width,g.height,s.format,s.type),z=x(s.layerUpdates);try{for(z.s();!(F=z.n()).done;){var H=F.value,G=g.data.subarray(H*j/g.data.BYTES_PER_ELEMENT,(H+1)*j/g.data.BYTES_PER_ELEMENT);r.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,B,0,0,H,g.width,g.height,1,y,G,0,0)}}catch(K){z.e(K)}finally{z.f()}s.clearLayerUpdates()}else r.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,B,0,0,0,g.width,g.height,m.depth,y,g.data,0,0)}else r.compressedTexImage3D(t.TEXTURE_2D_ARRAY,B,E,g.width,g.height,m.depth,0,g.data,0,0);else e("warn","THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"," at node_modules/three/build/three.module.js:25043");else C?R&&r.texSubImage3D(t.TEXTURE_2D_ARRAY,B,0,0,0,g.width,g.height,m.depth,y,_,g.data):r.texImage3D(t.TEXTURE_2D_ARRAY,B,E,g.width,g.height,m.depth,0,y,_,g.data)}else{C&&P&&r.texStorage2D(t.TEXTURE_2D,I,E,k[0].width,k[0].height);for(var W=0,V=k.length;W<V;W++)g=k[W],1023!==s.format?null!==y?C?R&&r.compressedTexSubImage2D(t.TEXTURE_2D,W,0,0,g.width,g.height,y,g.data):r.compressedTexImage2D(t.TEXTURE_2D,W,E,g.width,g.height,0,g.data):e("warn","THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"," at node_modules/three/build/three.module.js:25099"):C?R&&r.texSubImage2D(t.TEXTURE_2D,W,0,0,g.width,g.height,y,_,g.data):r.texImage2D(t.TEXTURE_2D,W,E,g.width,g.height,0,y,_,g.data)}else if(s.isDataArrayTexture)if(C){if(P&&r.texStorage3D(t.TEXTURE_2D_ARRAY,I,E,m.width,m.height,m.depth),R)if(s.layerUpdates.size>0){var q,Q=Ta(m.width,m.height,s.format,s.type),J=x(s.layerUpdates);try{for(J.s();!(q=J.n()).done;){var Z=q.value,$=m.data.subarray(Z*Q/m.data.BYTES_PER_ELEMENT,(Z+1)*Q/m.data.BYTES_PER_ELEMENT);r.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Z,m.width,m.height,1,y,_,$)}}catch(K){J.e(K)}finally{J.f()}s.clearLayerUpdates()}else r.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,m.width,m.height,m.depth,y,_,m.data)}else r.texImage3D(t.TEXTURE_2D_ARRAY,0,E,m.width,m.height,m.depth,0,y,_,m.data);else if(s.isData3DTexture)C?(P&&r.texStorage3D(t.TEXTURE_3D,I,E,m.width,m.height,m.depth),R&&r.texSubImage3D(t.TEXTURE_3D,0,0,0,0,m.width,m.height,m.depth,y,_,m.data)):r.texImage3D(t.TEXTURE_3D,0,E,m.width,m.height,m.depth,0,y,_,m.data);else if(s.isFramebufferTexture){if(P)if(C)r.texStorage2D(t.TEXTURE_2D,I,E,m.width,m.height);else for(var te=m.width,ne=m.height,re=0;re<I;re++)r.texImage2D(t.TEXTURE_2D,re,E,te,ne,0,y,_,null),te>>=1,ne>>=1}else if(k.length>0){if(C&&P){var ie=Y(k[0]);r.texStorage2D(t.TEXTURE_2D,I,E,ie.width,ie.height)}for(var ae=0,oe=k.length;ae<oe;ae++)g=k[ae],C?R&&r.texSubImage2D(t.TEXTURE_2D,ae,0,0,y,_,g):r.texImage2D(t.TEXTURE_2D,ae,E,y,_,g);s.generateMipmaps=!1}else if(C){if(P){var se=Y(m);r.texStorage2D(t.TEXTURE_2D,I,E,se.width,se.height)}R&&r.texSubImage2D(t.TEXTURE_2D,0,0,0,y,_,m)}else r.texImage2D(t.TEXTURE_2D,0,E,y,_,m);w(s)&&S(l),d.__version=h.version,s.onUpdate&&s.onUpdate(s)}n.__version=s.version}function F(e,n,a,s,u,l){var c=o.convert(a.format,a.colorSpace),h=o.convert(a.type),f=A(a.internalFormat,c,h,a.colorSpace),p=i.get(n);if(!p.__hasExternalTextures){var v=Math.max(1,n.width>>l),m=Math.max(1,n.height>>l);u===t.TEXTURE_3D||u===t.TEXTURE_2D_ARRAY?r.texImage3D(u,l,f,v,m,n.depth,0,c,h,null):r.texImage2D(u,l,f,v,m,0,c,h,null)}r.bindFramebuffer(t.FRAMEBUFFER,e),q(n)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,s,u,i.get(a).__webglTexture,0,V(n)):(u===t.TEXTURE_2D||u>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&u<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,s,u,i.get(a).__webglTexture,l),r.bindFramebuffer(t.FRAMEBUFFER,null)}function j(e,n,r){if(t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer){var i=n.depthTexture,a=i&&i.isDepthTexture?i.type:null,s=M(n.stencilBuffer,a),u=n.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,l=V(n),c=q(n);c?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,l,s,n.width,n.height):r?t.renderbufferStorageMultisample(t.RENDERBUFFER,l,s,n.width,n.height):t.renderbufferStorage(t.RENDERBUFFER,s,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,u,t.RENDERBUFFER,e)}else for(var h=n.textures,f=0;f<h.length;f++){var p=h[f],v=o.convert(p.format,p.colorSpace),m=o.convert(p.type),g=A(p.internalFormat,v,m,p.colorSpace),y=V(n);r&&!1===q(n)?t.renderbufferStorageMultisample(t.RENDERBUFFER,y,g,n.width,n.height):q(n)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,y,g,n.width,n.height):t.renderbufferStorage(t.RENDERBUFFER,g,n.width,n.height)}t.bindRenderbuffer(t.RENDERBUFFER,null)}function z(e){var n=i.get(e),a=!0===e.isWebGLCubeRenderTarget;if(n.__boundDepthTexture!==e.depthTexture){var o=e.depthTexture;if(n.__depthDisposeCallback&&n.__depthDisposeCallback(),o){var s=function e(){delete n.__boundDepthTexture,delete n.__depthDisposeCallback,o.removeEventListener("dispose",e)};o.addEventListener("dispose",s),n.__depthDisposeCallback=s}n.__boundDepthTexture=o}if(e.depthTexture&&!n.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");(function(e,n){var a=n&&n.isWebGLCubeRenderTarget;if(a)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),R(n.depthTexture,0);var o=i.get(n.depthTexture).__webglTexture,s=V(n);if(1026===n.depthTexture.format)q(n)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,o,0,s):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,o,0);else{if(1027!==n.depthTexture.format)throw new Error("Unknown depthTexture format");q(n)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,o,0,s):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,o,0)}})(n.__webglFramebuffer,e)}else if(a){n.__webglDepthbuffer=[];for(var u=0;u<6;u++)if(r.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[u]),void 0===n.__webglDepthbuffer[u])n.__webglDepthbuffer[u]=t.createRenderbuffer(),j(n.__webglDepthbuffer[u],e,!1);else{var l=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,c=n.__webglDepthbuffer[u];t.bindRenderbuffer(t.RENDERBUFFER,c),t.framebufferRenderbuffer(t.FRAMEBUFFER,l,t.RENDERBUFFER,c)}}else if(r.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),void 0===n.__webglDepthbuffer)n.__webglDepthbuffer=t.createRenderbuffer(),j(n.__webglDepthbuffer,e,!1);else{var h=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,f=n.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,f),t.framebufferRenderbuffer(t.FRAMEBUFFER,h,t.RENDERBUFFER,f)}r.bindFramebuffer(t.FRAMEBUFFER,null)}var G=[],W=[];function V(e){return Math.min(a.maxSamples,e.samples)}function q(e){var t=i.get(e);return e.samples>0&&!0===n.has("WEBGL_multisampled_render_to_texture")&&!1!==t.__useRenderToTexture}function X(t,n){var r=t.colorSpace,i=t.format,a=t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture||"srgb-linear"!==r&&""!==r&&("srgb"===ee.getTransfer(r)?1023===i&&1009===a||e("warn","THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."," at node_modules/three/build/three.module.js:26241"):e("error","THREE.WebGLTextures: Unsupported texture color space:",r," at node_modules/three/build/three.module.js:26247")),n}function Y(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?(p.width=e.naturalWidth||e.width,p.height=e.naturalHeight||e.height):"undefined"!==typeof VideoFrame&&e instanceof VideoFrame?(p.width=e.displayWidth,p.height=e.displayHeight):(p.width=e.width,p.height=e.height),p}this.allocateTextureUnit=function(){var t=P;return t>=a.maxTextures&&e("warn","THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+a.maxTextures," at node_modules/three/build/three.module.js:24599"),P+=1,t},this.resetTextureUnits=function(){P=0},this.setTexture2D=R,this.setTexture2DArray=function(e,n){var a=i.get(e);e.version>0&&a.__version!==e.version?N(a,e,n):r.bindTexture(t.TEXTURE_2D_ARRAY,a.__webglTexture,t.TEXTURE0+n)},this.setTexture3D=function(e,n){var a=i.get(e);e.version>0&&a.__version!==e.version?N(a,e,n):r.bindTexture(t.TEXTURE_3D,a.__webglTexture,t.TEXTURE0+n)},this.setTextureCube=function(n,s){var u=i.get(n);n.version>0&&u.__version!==n.version?function(n,s,u){if(6!==s.image.length)return;var l=U(n,s),c=s.source;r.bindTexture(t.TEXTURE_CUBE_MAP,n.__webglTexture,t.TEXTURE0+u);var h=i.get(c);if(c.version!==h.__version||!0===l){r.activeTexture(t.TEXTURE0+u);var d=ee.getPrimaries(ee.workingColorSpace),f=""===s.colorSpace?null:ee.getPrimaries(s.colorSpace),p=""===s.colorSpace||d===f?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,s.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);for(var v=s.isCompressedTexture||s.image[0].isCompressedTexture,m=s.image[0]&&s.image[0].isDataTexture,g=[],y=0;y<6;y++)g[y]=v||m?m?s.image[y].image:s.image[y]:b(s.image[y],!0,a.maxCubemapSize),g[y]=X(s,g[y]);var _,x=g[0],M=o.convert(s.format,s.colorSpace),E=o.convert(s.type),k=A(s.internalFormat,M,E,s.colorSpace),C=!0!==s.isVideoTexture,P=void 0===h.__version||!0===l,R=c.dataReady,I=T(s,x);if(D(t.TEXTURE_CUBE_MAP,s),v){C&&P&&r.texStorage2D(t.TEXTURE_CUBE_MAP,I,k,x.width,x.height);for(var O=0;O<6;O++){_=g[O].mipmaps;for(var L=0;L<_.length;L++){var B=_[L];1023!==s.format?null!==M?C?R&&r.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+O,L,0,0,B.width,B.height,M,B.data):r.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+O,L,k,B.width,B.height,0,B.data):e("warn","THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"," at node_modules/three/build/three.module.js:25393"):C?R&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+O,L,0,0,B.width,B.height,M,E,B.data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+O,L,k,B.width,B.height,0,M,E,B.data)}}}else{if(_=s.mipmaps,C&&P){_.length>0&&I++;var N=Y(g[0]);r.texStorage2D(t.TEXTURE_CUBE_MAP,I,k,N.width,N.height)}for(var F=0;F<6;F++)if(m){C?R&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,0,0,g[F].width,g[F].height,M,E,g[F].data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,k,g[F].width,g[F].height,0,M,E,g[F].data);for(var j=0;j<_.length;j++){var z=_[j],H=z.image[F].image;C?R&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,j+1,0,0,H.width,H.height,M,E,H.data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,j+1,k,H.width,H.height,0,M,E,H.data)}}else{C?R&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,0,0,M,E,g[F]):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,k,M,E,g[F]);for(var G=0;G<_.length;G++){var W=_[G];C?R&&r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,G+1,0,0,M,E,W.image[F]):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,G+1,k,M,E,W.image[F])}}}w(s)&&S(t.TEXTURE_CUBE_MAP),h.__version=c.version,s.onUpdate&&s.onUpdate(s)}n.__version=s.version}(u,n,s):r.bindTexture(t.TEXTURE_CUBE_MAP,u.__webglTexture,t.TEXTURE0+s)},this.rebindTextures=function(e,n,r){var a=i.get(e);void 0!==n&&F(a.__webglFramebuffer,e,e.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),void 0!==r&&z(e)},this.setupRenderTarget=function(e){var n=e.texture,a=i.get(e),u=i.get(n);e.addEventListener("dispose",k);var l=e.textures,c=!0===e.isWebGLCubeRenderTarget,h=l.length>1;if(h||(void 0===u.__webglTexture&&(u.__webglTexture=t.createTexture()),u.__version=n.version,s.memory.textures++),c){a.__webglFramebuffer=[];for(var d=0;d<6;d++)if(n.mipmaps&&n.mipmaps.length>0){a.__webglFramebuffer[d]=[];for(var f=0;f<n.mipmaps.length;f++)a.__webglFramebuffer[d][f]=t.createFramebuffer()}else a.__webglFramebuffer[d]=t.createFramebuffer()}else{if(n.mipmaps&&n.mipmaps.length>0){a.__webglFramebuffer=[];for(var p=0;p<n.mipmaps.length;p++)a.__webglFramebuffer[p]=t.createFramebuffer()}else a.__webglFramebuffer=t.createFramebuffer();if(h)for(var v=0,m=l.length;v<m;v++){var g=i.get(l[v]);void 0===g.__webglTexture&&(g.__webglTexture=t.createTexture(),s.memory.textures++)}if(e.samples>0&&!1===q(e)){a.__webglMultisampledFramebuffer=t.createFramebuffer(),a.__webglColorRenderbuffer=[],r.bindFramebuffer(t.FRAMEBUFFER,a.__webglMultisampledFramebuffer);for(var y=0;y<l.length;y++){var _=l[y];a.__webglColorRenderbuffer[y]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,a.__webglColorRenderbuffer[y]);var b=o.convert(_.format,_.colorSpace),x=o.convert(_.type),M=A(_.internalFormat,b,x,_.colorSpace,!0===e.isXRRenderTarget),T=V(e);t.renderbufferStorageMultisample(t.RENDERBUFFER,T,M,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+y,t.RENDERBUFFER,a.__webglColorRenderbuffer[y])}t.bindRenderbuffer(t.RENDERBUFFER,null),e.depthBuffer&&(a.__webglDepthRenderbuffer=t.createRenderbuffer(),j(a.__webglDepthRenderbuffer,e,!0)),r.bindFramebuffer(t.FRAMEBUFFER,null)}}if(c){r.bindTexture(t.TEXTURE_CUBE_MAP,u.__webglTexture),D(t.TEXTURE_CUBE_MAP,n);for(var E=0;E<6;E++)if(n.mipmaps&&n.mipmaps.length>0)for(var C=0;C<n.mipmaps.length;C++)F(a.__webglFramebuffer[E][C],e,n,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+E,C);else F(a.__webglFramebuffer[E],e,n,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+E,0);w(n)&&S(t.TEXTURE_CUBE_MAP),r.unbindTexture()}else if(h){for(var P=0,R=l.length;P<R;P++){var I=l[P],O=i.get(I);r.bindTexture(t.TEXTURE_2D,O.__webglTexture),D(t.TEXTURE_2D,I),F(a.__webglFramebuffer,e,I,t.COLOR_ATTACHMENT0+P,t.TEXTURE_2D,0),w(I)&&S(t.TEXTURE_2D)}r.unbindTexture()}else{var L=t.TEXTURE_2D;if((e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(L=e.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),r.bindTexture(L,u.__webglTexture),D(L,n),n.mipmaps&&n.mipmaps.length>0)for(var B=0;B<n.mipmaps.length;B++)F(a.__webglFramebuffer[B],e,n,t.COLOR_ATTACHMENT0,L,B);else F(a.__webglFramebuffer,e,n,t.COLOR_ATTACHMENT0,L,0);w(n)&&S(L),r.unbindTexture()}e.depthBuffer&&z(e)},this.updateRenderTargetMipmap=function(e){for(var n=e.textures,a=0,o=n.length;a<o;a++){var s=n[a];if(w(s)){var u=e.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,l=i.get(s).__webglTexture;r.bindTexture(u,l),S(u),r.unbindTexture()}}},this.updateMultisampleRenderTarget=function(e){if(e.samples>0)if(!1===q(e)){var n=e.textures,a=e.width,o=e.height,s=t.COLOR_BUFFER_BIT,u=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,l=i.get(e),c=n.length>1;if(c)for(var h=0;h<n.length;h++)r.bindFramebuffer(t.FRAMEBUFFER,l.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+h,t.RENDERBUFFER,null),r.bindFramebuffer(t.FRAMEBUFFER,l.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+h,t.TEXTURE_2D,null,0);r.bindFramebuffer(t.READ_FRAMEBUFFER,l.__webglMultisampledFramebuffer),r.bindFramebuffer(t.DRAW_FRAMEBUFFER,l.__webglFramebuffer);for(var d=0;d<n.length;d++){if(e.resolveDepthBuffer&&(e.depthBuffer&&(s|=t.DEPTH_BUFFER_BIT),e.stencilBuffer&&e.resolveStencilBuffer&&(s|=t.STENCIL_BUFFER_BIT)),c){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,l.__webglColorRenderbuffer[d]);var p=i.get(n[d]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,p,0)}t.blitFramebuffer(0,0,a,o,0,0,a,o,s,t.NEAREST),!0===f&&(G.length=0,W.length=0,G.push(t.COLOR_ATTACHMENT0+d),e.depthBuffer&&!1===e.resolveDepthBuffer&&(G.push(u),W.push(u),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,W)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,G))}if(r.bindFramebuffer(t.READ_FRAMEBUFFER,null),r.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),c)for(var v=0;v<n.length;v++){r.bindFramebuffer(t.FRAMEBUFFER,l.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+v,t.RENDERBUFFER,l.__webglColorRenderbuffer[v]);var m=i.get(n[v]).__webglTexture;r.bindFramebuffer(t.FRAMEBUFFER,l.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+v,t.TEXTURE_2D,m,0)}r.bindFramebuffer(t.DRAW_FRAMEBUFFER,l.__webglMultisampledFramebuffer)}else if(e.depthBuffer&&!1===e.resolveDepthBuffer&&f){var g=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[g])}},this.setupDepthRenderbuffer=z,this.setupFrameBufferTexture=F,this.useMultisampledRTT=q}function Ca(e,t){return{convert:function(n){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=ee.getTransfer(i);if(1009===n)return e.UNSIGNED_BYTE;if(1017===n)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return e.UNSIGNED_SHORT_5_5_5_1;if(35902===n)return e.UNSIGNED_INT_5_9_9_9_REV;if(1010===n)return e.BYTE;if(1011===n)return e.SHORT;if(1012===n)return e.UNSIGNED_SHORT;if(1013===n)return e.INT;if(1014===n)return e.UNSIGNED_INT;if(1015===n)return e.FLOAT;if(1016===n)return e.HALF_FLOAT;if(1021===n)return e.ALPHA;if(1022===n)return e.RGB;if(1023===n)return e.RGBA;if(1024===n)return e.LUMINANCE;if(1025===n)return e.LUMINANCE_ALPHA;if(1026===n)return e.DEPTH_COMPONENT;if(1027===n)return e.DEPTH_STENCIL;if(1028===n)return e.RED;if(1029===n)return e.RED_INTEGER;if(1030===n)return e.RG;if(1031===n)return e.RG_INTEGER;if(1033===n)return e.RGBA_INTEGER;if(33776===n||33777===n||33778===n||33779===n)if("srgb"===a){if(r=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===r)return null;if(33776===n)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===n)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===n)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===n)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(r=t.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(33776===n)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===n)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===n)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===n)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===n||35841===n||35842===n||35843===n){if(r=t.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(35840===n)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n||37492===n||37496===n){if(r=t.get("WEBGL_compressed_texture_etc"),null===r)return null;if(36196===n||37492===n)return"srgb"===a?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(37496===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(r=t.get("WEBGL_compressed_texture_astc"),null===r)return null;if(37808===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return"srgb"===a?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===n||36494===n||36495===n){if(r=t.get("EXT_texture_compression_bptc"),null===r)return null;if(36492===n)return"srgb"===a?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===n)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===n)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===n||36284===n||36285===n||36286===n){if(r=t.get("EXT_texture_compression_rgtc"),null===r)return null;if(36492===n)return r.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return 1020===n?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}t.TextureUtils=Ea;var Pa=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,g.default)(this,n),e=t.call(this),e.isArrayCamera=!0,e.cameras=r,e}return(0,y.default)(n)}(Fn);t.ArrayCamera=Pa;var Ra=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this),e.isGroup=!0,e.type="Group",e}return(0,y.default)(n)}(bt);t.Group=Ra;var Ia={type:"move"},Oa=function(){function e(){(0,g.default)(this,e),this._targetRay=null,this._grip=null,this._hand=null}return(0,y.default)(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Ra,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Ra,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ge,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ge),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Ra,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ge,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ge),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=x(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(a){r.e(a)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,u=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(u&&e.hand){a=!0;var l,c=x(e.hand.values());try{for(c.s();!(l=c.n()).done;){var h=l.value,d=t.getJointPose(h,n),f=this._getHandJoint(u,h);null!==d&&(f.matrix.fromArray(d.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,f.jointRadius=d.radius),f.visible=null!==d}}catch(g){c.e(g)}finally{c.f()}var p=u.joints["index-finger-tip"],v=u.joints["thumb-tip"],m=p.position.distanceTo(v.position);u.inputState.pinching&&m>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&m<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Ia)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==u&&(u.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new Ra;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),La=function(){function e(){(0,g.default)(this,e),this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}return(0,y.default)(e,[{key:"init",value:function(e,t,n){if(null===this.texture){var r=new ue,i=e.properties.get(r);i.__webglTexture=t.texture,t.depthNear==n.depthNear&&t.depthFar==n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}},{key:"getMesh",value:function(e){if(null!==this.texture&&null===this.mesh){var t=e.cameras[0].viewport,n=new Ln({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new En(new Zn(20,20),n)}return this.mesh}},{key:"reset",value:function(){this.texture=null,this.mesh=null}},{key:"getDepthTexture",value:function(){return this.texture}}]),e}(),Da=function(t){(0,d.default)(r,t);var n=S(r);function r(t,i){var a;(0,g.default)(this,r),a=n.call(this);var o=(0,h.default)(a),u=null,l=1,c=null,d="local-floor",f=1,p=null,m=null,y=null,_=null,b=null,x=null,w=new La,S=i.getContextAttributes(),A=null,M=null,T=[],E=[],C=new B,P=null,R=new Fn;R.layers.enable(1),R.viewport=new le;var I=new Fn;I.layers.enable(2),I.viewport=new le;var O=[R,I],L=new Pa;L.layers.enable(1),L.layers.enable(2);var D=null,U=null;function N(e){var t=E.indexOf(e.inputSource);if(-1!==t){var n=T[t];void 0!==n&&(n.update(e.inputSource,e.frame,p||c),n.dispatchEvent({type:e.type,data:e.inputSource}))}}function F(){u.removeEventListener("select",N),u.removeEventListener("selectstart",N),u.removeEventListener("selectend",N),u.removeEventListener("squeeze",N),u.removeEventListener("squeezestart",N),u.removeEventListener("squeezeend",N),u.removeEventListener("end",F),u.removeEventListener("inputsourceschange",j);for(var e=0;e<T.length;e++){var n=E[e];null!==n&&(E[e]=null,T[e].disconnect(n))}D=null,U=null,w.reset(),t.setRenderTarget(A),b=null,_=null,y=null,u=null,M=null,V.stop(),o.isPresenting=!1,t.setPixelRatio(P),t.setSize(C.width,C.height,!1),o.dispatchEvent({type:"sessionend"})}function j(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=E.indexOf(n);r>=0&&(E[r]=null,T[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=E.indexOf(a);if(-1===o){for(var s=0;s<T.length;s++){if(s>=E.length){E.push(a),o=s;break}if(null===E[s]){E[s]=a,o=s;break}}if(-1===o)break}var u=T[o];u&&u.connect(a)}}a.cameraAutoUpdate=!0,a.enabled=!1,a.isPresenting=!1,a.getController=function(e){var t=T[e];return void 0===t&&(t=new Oa,T[e]=t),t.getTargetRaySpace()},a.getControllerGrip=function(e){var t=T[e];return void 0===t&&(t=new Oa,T[e]=t),t.getGripSpace()},a.getHand=function(e){var t=T[e];return void 0===t&&(t=new Oa,T[e]=t),t.getHandSpace()},a.setFramebufferScaleFactor=function(t){l=t,!0===o.isPresenting&&e("warn","THREE.WebXRManager: Cannot change framebuffer scale while presenting."," at node_modules/three/build/three.module.js:27167")},a.setReferenceSpaceType=function(t){d=t,!0===o.isPresenting&&e("warn","THREE.WebXRManager: Cannot change reference space type while presenting."," at node_modules/three/build/three.module.js:27179")},a.getReferenceSpace=function(){return p||c},a.setReferenceSpace=function(e){p=e},a.getBaseLayer=function(){return null!==_?_:b},a.getBinding=function(){return y},a.getFrame=function(){return x},a.getSession=function(){return u},a.setSession=function(){var e=(0,s.default)(v.default.mark((function e(n){var r,a,s,h,m;return v.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u=n,null===u){e.next=27;break}if(A=t.getRenderTarget(),u.addEventListener("select",N),u.addEventListener("selectstart",N),u.addEventListener("selectend",N),u.addEventListener("squeeze",N),u.addEventListener("squeezestart",N),u.addEventListener("squeezeend",N),u.addEventListener("end",F),u.addEventListener("inputsourceschange",j),!0===S.xrCompatible){e.next=14;break}return e.next=14,i.makeXRCompatible();case 14:return P=t.getPixelRatio(),t.getSize(C),void 0===u.renderState.layers?(r={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:l},b=new XRWebGLLayer(u,i,r),u.updateRenderState({baseLayer:b}),t.setPixelRatio(1),t.setSize(b.framebufferWidth,b.framebufferHeight,!1),M=new he(b.framebufferWidth,b.framebufferHeight,{format:1023,type:1009,colorSpace:t.outputColorSpace,stencilBuffer:S.stencil})):(a=null,s=null,h=null,S.depth&&(h=S.stencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24,a=S.stencil?1027:1026,s=S.stencil?1020:1014),m={colorFormat:i.RGBA8,depthFormat:h,scaleFactor:l},y=new XRWebGLBinding(u,i),_=y.createProjectionLayer(m),u.updateRenderState({layers:[_]}),t.setPixelRatio(1),t.setSize(_.textureWidth,_.textureHeight,!1),M=new he(_.textureWidth,_.textureHeight,{format:1023,type:1009,depthTexture:new Dr(_.textureWidth,_.textureHeight,s,void 0,void 0,void 0,void 0,void 0,void 0,a),stencilBuffer:S.stencil,colorSpace:t.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:!1===_.ignoreDepthValues})),M.isXRRenderTarget=!0,this.setFoveation(f),p=null,e.next=22,u.requestReferenceSpace(d);case 22:c=e.sent,V.setContext(u),V.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"});case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.getEnvironmentBlendMode=function(){if(null!==u)return u.environmentBlendMode},a.getDepthTexture=function(){return w.getDepthTexture()};var z=new ge,H=new ge;function G(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}a.updateCamera=function(e){if(null!==u){var t=e.near,n=e.far;null!==w.texture&&(w.depthNear>0&&(t=w.depthNear),w.depthFar>0&&(n=w.depthFar)),L.near=I.near=R.near=t,L.far=I.far=R.far=n,D===L.near&&U===L.far||(u.updateRenderState({depthNear:L.near,depthFar:L.far}),D=L.near,U=L.far);var r=e.parent,i=L.cameras;G(L,r);for(var a=0;a<i.length;a++)G(i[a],r);2===i.length?function(e,t,n){z.setFromMatrixPosition(t.matrixWorld),H.setFromMatrixPosition(n.matrixWorld);var r=z.distanceTo(H),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(a[8]+1)/a[0],d=o*c,f=o*h,p=r/(-c+h),v=p*-c;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===i[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{var m=o+p,g=s+p,y=d-v,_=f+(r-v),b=u*s/g*m,x=l*s/g*m;e.projectionMatrix.makePerspective(y,_,b,x,m,g),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(L,R,I):L.projectionMatrix.copy(R.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*k*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,L,r)}},a.getCamera=function(){return L},a.getFoveation=function(){if(null!==_||null!==b)return f},a.setFoveation=function(e){f=e,null!==_&&(_.fixedFoveation=e),null!==b&&void 0!==b.fixedFoveation&&(b.fixedFoveation=e)},a.hasDepthSensing=function(){return null!==w.texture},a.getDepthSensingMesh=function(){return w.getMesh(L)};var W=null;var V=new Qn;return V.setAnimationLoop((function(e,n){if(m=n.getViewerPose(p||c),x=n,null!==m){var r=m.views;null!==b&&(t.setRenderTargetFramebuffer(M,b.framebuffer),t.setRenderTarget(M));var i=!1;r.length!==L.cameras.length&&(L.cameras.length=0,i=!0);for(var a=0;a<r.length;a++){var s=r[a],l=null;if(null!==b)l=b.getViewport(s);else{var h=y.getViewSubImage(_,s);l=h.viewport,0===a&&(t.setRenderTargetTextures(M,h.colorTexture,_.ignoreDepthValues?void 0:h.depthStencilTexture),t.setRenderTarget(M))}var d=O[a];void 0===d&&(d=new Fn,d.layers.enable(a),d.viewport=new le,O[a]=d),d.matrix.fromArray(s.transform.matrix),d.matrix.decompose(d.position,d.quaternion,d.scale),d.projectionMatrix.fromArray(s.projectionMatrix),d.projectionMatrixInverse.copy(d.projectionMatrix).invert(),d.viewport.set(l.x,l.y,l.width,l.height),0===a&&(L.matrix.copy(d.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),!0===i&&L.cameras.push(d)}var f=u.enabledFeatures;if(f&&f.includes("depth-sensing")){var v=y.getDepthInformation(r[0]);v&&v.isValid&&v.texture&&w.init(t,v,u.renderState)}}for(var g=0;g<T.length;g++){var S=E[g],A=T[g];null!==S&&void 0!==A&&A.update(S,n,p||c)}W&&W(e,n),n.detectedPlanes&&o.dispatchEvent({type:"planesdetected",data:n}),x=null})),a.setAnimationLoop=function(e){W=e},a.dispose=function(){},a}return(0,y.default)(r)}(A),Ba=new rt,Ua=new Xe;function Na(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,1===r.side&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),1===r.side&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);var i=t.get(r),a=i.envMap,o=i.envMapRotation;a&&(e.envMap.value=a,Ba.copy(o),Ba.x*=-1,Ba.y*=-1,Ba.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(Ba.y*=-1,Ba.z*=-1),e.envMapRotation.value.setFromMatrix4(Ua.makeRotationFromEuler(Ba)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,In(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),1===t.side&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){var r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Fa(t,n,r,i){var a={},o={},s=[],u=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,r){var i=e.value,a=t+"_"+n;if(void 0===r[a])return r[a]="number"===typeof i||"boolean"===typeof i?i:i.clone(),!0;var o=r[a];if("number"===typeof i||"boolean"===typeof i){if(o!==i)return r[a]=i,!0}else if(!1===o.equals(i))return o.copy(i),!0;return!1}function c(t){var n={boundary:0,storage:0};return"number"===typeof t||"boolean"===typeof t?(n.boundary=4,n.storage=4):t.isVector2?(n.boundary=8,n.storage=8):t.isVector3||t.isColor?(n.boundary=16,n.storage=12):t.isVector4?(n.boundary=16,n.storage=16):t.isMatrix3?(n.boundary=48,n.storage=48):t.isMatrix4?(n.boundary=64,n.storage=64):t.isTexture?e("warn","THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."," at node_modules/three/build/three.module.js:28726"):e("warn","THREE.WebGLRenderer: Unsupported uniform value type.",t," at node_modules/three/build/three.module.js:28730"),n}function h(e){var n=e.target;n.removeEventListener("dispose",h);var r=s.indexOf(n.__bindingPointIndex);s.splice(r,1),t.deleteBuffer(a[n.id]),delete a[n.id],delete o[n.id]}return{bind:function(e,t){var n=t.program;i.uniformBlockBinding(e,n)},update:function(r,d){var f=a[r.id];void 0===f&&(function(e){for(var t=e.uniforms,n=0,r=0,i=t.length;r<i;r++)for(var a=Array.isArray(t[r])?t[r]:[t[r]],o=0,s=a.length;o<s;o++)for(var u=a[o],l=Array.isArray(u.value)?u.value:[u.value],h=0,d=l.length;h<d;h++){var f=l[h],p=c(f),v=n%16,m=v%p.boundary,g=v+m;n+=m,0!==g&&16-g<p.storage&&(n+=16-g),u.__data=new Float32Array(p.storage/Float32Array.BYTES_PER_ELEMENT),u.__offset=n,n+=p.storage}var y=n%16;y>0&&(n+=16-y);e.__size=n,e.__cache={}}(r),f=function(n){var r=function(){for(var t=0;t<u;t++)if(-1===s.indexOf(t))return s.push(t),t;return e("error","THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."," at node_modules/three/build/three.module.js:28471"),0}();n.__bindingPointIndex=r;var i=t.createBuffer(),a=n.__size,o=n.usage;return t.bindBuffer(t.UNIFORM_BUFFER,i),t.bufferData(t.UNIFORM_BUFFER,a,o),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,r,i),i}(r),a[r.id]=f,r.addEventListener("dispose",h));var p=d.program;i.updateUBOMapping(r,p);var v=n.render.frame;o[r.id]!==v&&(function(e){var n=a[e.id],r=e.uniforms,i=e.__cache;t.bindBuffer(t.UNIFORM_BUFFER,n);for(var o=0,s=r.length;o<s;o++)for(var u=Array.isArray(r[o])?r[o]:[r[o]],h=0,d=u.length;h<d;h++){var f=u[h];if(!0===l(f,o,h,i)){for(var p=f.__offset,v=Array.isArray(f.value)?f.value:[f.value],m=0,g=0;g<v.length;g++){var y=v[g],_=c(y);"number"===typeof y||"boolean"===typeof y?(f.__data[0]=y,t.bufferSubData(t.UNIFORM_BUFFER,p+m,f.__data)):y.isMatrix3?(f.__data[0]=y.elements[0],f.__data[1]=y.elements[1],f.__data[2]=y.elements[2],f.__data[3]=0,f.__data[4]=y.elements[3],f.__data[5]=y.elements[4],f.__data[6]=y.elements[5],f.__data[7]=0,f.__data[8]=y.elements[6],f.__data[9]=y.elements[7],f.__data[10]=y.elements[8],f.__data[11]=0):(y.toArray(f.__data,m),m+=_.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,p,f.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}(r),o[r.id]=v)},dispose:function(){for(var e in a)t.deleteBuffer(a[e]);s=[],a={},o={}}}}var ja=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,g.default)(this,t);var r,i=n.canvas,a=void 0===i?G():i,o=n.context,u=void 0===o?null:o,l=n.depth,c=void 0===l||l,h=n.stencil,d=void 0!==h&&h,f=n.alpha,p=void 0!==f&&f,m=n.antialias,y=void 0!==m&&m,_=n.premultipliedAlpha,b=void 0===_||_,x=n.preserveDrawingBuffer,w=void 0!==x&&x,S=n.powerPreference,A=void 0===S?"default":S,M=n.failIfMajorPerformanceCaveat,T=void 0!==M&&M;if(this.isWebGLRenderer=!0,null!==u){if("undefined"!==typeof WebGLRenderingContext&&u instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");r=u.getContextAttributes().alpha}else r=p;var E=new Uint32Array(4),k=new Int32Array(4),C=null,P=null,R=[],I=[];this.domElement=a,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace="srgb",this.toneMapping=0,this.toneMappingExposure=1;var O=this,L=!1,D=0,B=0,U=null,N=-1,F=null,j=new le,z=new le,H=null,W=new Ft(0),K=0,Q=a.width,J=a.height,Z=1,$=null,te=null,ne=new le(0,0,Q,J),re=new le(0,0,Q,J),ie=!1,ae=new Kn,oe=!1,se=!1,ue=new Xe,ce=new Xe,de=new ge,fe=new le,pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},ve=!1;function me(){return null===U?Z:1}var ye,_e,be,xe,we,Se,Ae,Me,Te,Ee,ke,Ce,Pe,Re,Ie,Oe,Le,De,Be,Ue,Ne,Fe,je,ze,He=u;function Ge(e,t){return a.getContext(e,t)}try{var We={alpha:!0,depth:c,stencil:d,antialias:y,premultipliedAlpha:b,preserveDrawingBuffer:w,powerPreference:A,failIfMajorPerformanceCaveat:T};if("setAttribute"in a&&a.setAttribute("data-engine","three.js r".concat("169")),a.addEventListener("webglcontextlost",Ke,!1),a.addEventListener("webglcontextrestored",Qe,!1),a.addEventListener("webglcontextcreationerror",Je,!1),null===He){var Ve="webgl2";if(He=Ge(Ve,We),null===He)throw Ge(Ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(yt){throw e("error","THREE.WebGLRenderer: "+yt.message," at node_modules/three/build/three.module.js:28990"),yt}function qe(){ye=new Cr(He),ye.init(),Fe=new Ca(He,ye),_e=new ur(He,ye,n,Fe),be=new Ma(He),_e.reverseDepthBuffer&&be.buffers.depth.setReversed(!0),xe=new Ir(He),we=new ca,Se=new ka(He,ye,be,we,_e,Fe,xe),Ae=new cr(O),Me=new kr(O),Te=new Jn(He),je=new or(He,Te),Ee=new Pr(He,Te,xe,je),ke=new Lr(He,Ee,Te,xe),Be=new Or(He,_e,Se),Oe=new lr(we),Ce=new la(O,Ae,Me,ye,_e,je,Oe),Pe=new Na(O,we),Re=new pa,Ie=new ba(ye),De=new ar(O,Ae,Me,be,ke,r,b),Le=new Sa(O,ke,_e),ze=new Fa(He,xe,_e,be),Ue=new sr(He,ye,xe),Ne=new Rr(He,ye,xe),xe.programs=Ce.programs,O.capabilities=_e,O.extensions=ye,O.properties=we,O.renderLists=Re,O.shadowMap=Le,O.state=be,O.info=xe}qe();var Ye=new Da(O,He);function Ke(t){t.preventDefault(),e("log","THREE.WebGLRenderer: Context Lost."," at node_modules/three/build/three.module.js:29384"),L=!0}function Qe(){e("log","THREE.WebGLRenderer: Context Restored."," at node_modules/three/build/three.module.js:29392"),L=!1;var t=xe.autoReset,n=Le.enabled,r=Le.autoUpdate,i=Le.needsUpdate,a=Le.type;qe(),xe.autoReset=t,Le.enabled=n,Le.autoUpdate=r,Le.needsUpdate=i,Le.type=a}function Je(t){e("error","THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",t.statusMessage," at node_modules/three/build/three.module.js:29414")}function Ze(e){var t=e.target;t.removeEventListener("dispose",Ze),$e(t)}function $e(e){et(e),we.remove(e)}function et(e){var t=we.get(e).programs;void 0!==t&&(t.forEach((function(e){Ce.releaseProgram(e)})),e.isShaderMaterial&&Ce.releaseShaderCache(e))}function tt(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,dt(e,t,n),e.side=0,e.needsUpdate=!0,dt(e,t,n),e.side=2):dt(e,t,n)}this.xr=Ye,this.getContext=function(){return He},this.getContextAttributes=function(){return He.getContextAttributes()},this.forceContextLoss=function(){var e=ye.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=ye.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(e){void 0!==e&&(Z=e,this.setSize(Q,J,!1))},this.getSize=function(e){return e.set(Q,J)},this.setSize=function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ye.isPresenting?e("warn","THREE.WebGLRenderer: Can't change size while VR device is presenting."," at node_modules/three/build/three.module.js:29112"):(Q=t,J=n,a.width=Math.floor(t*Z),a.height=Math.floor(n*Z),!0===r&&(a.style.width=t+"px",a.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(e){return e.set(Q*Z,J*Z).floor()},this.setDrawingBufferSize=function(e,t,n){Q=e,J=t,Z=n,a.width=Math.floor(e*n),a.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(j)},this.getViewport=function(e){return e.copy(ne)},this.setViewport=function(e,t,n,r){e.isVector4?ne.set(e.x,e.y,e.z,e.w):ne.set(e,t,n,r),be.viewport(j.copy(ne).multiplyScalar(Z).round())},this.getScissor=function(e){return e.copy(re)},this.setScissor=function(e,t,n,r){e.isVector4?re.set(e.x,e.y,e.z,e.w):re.set(e,t,n,r),be.scissor(z.copy(re).multiplyScalar(Z).round())},this.getScissorTest=function(){return ie},this.setScissorTest=function(e){be.setScissorTest(ie=e)},this.setOpaqueSort=function(e){$=e},this.setTransparentSort=function(e){te=e},this.getClearColor=function(e){return e.copy(De.getClearColor())},this.setClearColor=function(){De.setClearColor.apply(De,arguments)},this.getClearAlpha=function(){return De.getClearAlpha()},this.setClearAlpha=function(){De.setClearAlpha.apply(De,arguments)},this.clear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;if(e){var i=!1;if(null!==U){var a=U.texture.format;i=1033===a||1031===a||1029===a}if(i){var o=U.texture.type,s=1009===o||1014===o||1012===o||1020===o||1017===o||1018===o,u=De.getClearColor(),l=De.getClearAlpha(),c=u.r,h=u.g,d=u.b;s?(E[0]=c,E[1]=h,E[2]=d,E[3]=l,He.clearBufferuiv(He.COLOR,0,E)):(k[0]=c,k[1]=h,k[2]=d,k[3]=l,He.clearBufferiv(He.COLOR,0,k))}else r|=He.COLOR_BUFFER_BIT}t&&(r|=He.DEPTH_BUFFER_BIT,He.clearDepth(this.capabilities.reverseDepthBuffer?0:1)),n&&(r|=He.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),He.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){a.removeEventListener("webglcontextlost",Ke,!1),a.removeEventListener("webglcontextrestored",Qe,!1),a.removeEventListener("webglcontextcreationerror",Je,!1),Re.dispose(),Ie.dispose(),we.dispose(),Ae.dispose(),Me.dispose(),ke.dispose(),je.dispose(),ze.dispose(),Ce.dispose(),Ye.dispose(),Ye.removeEventListener("sessionstart",it),Ye.removeEventListener("sessionend",at),ot.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=pe);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=vt(e,t,n,r,i);be.setMaterial(r,o);var u=n.index,l=1;if(!0===r.wireframe){if(u=Ee.getWireframeAttribute(n),void 0===u)return;l=2}var c=n.drawRange,h=n.attributes.position,d=c.start*l,f=(c.start+c.count)*l;null!==a&&(d=Math.max(d,a.start*l),f=Math.min(f,(a.start+a.count)*l)),null!==u?(d=Math.max(d,0),f=Math.min(f,u.count)):void 0!==h&&null!==h&&(d=Math.max(d,0),f=Math.min(f,h.count));var p=f-d;if(!(p<0||p===1/0)){var v;je.setup(i,r,s,n,u);var m=Ue;if(null!==u&&(v=Te.get(u),m=Ne,m.setIndex(v)),i.isMesh)!0===r.wireframe?(be.setLineWidth(r.wireframeLinewidth*me()),m.setMode(He.LINES)):m.setMode(He.TRIANGLES);else if(i.isLine){var g=r.linewidth;void 0===g&&(g=1),be.setLineWidth(g*me()),i.isLineSegments?m.setMode(He.LINES):i.isLineLoop?m.setMode(He.LINE_LOOP):m.setMode(He.LINE_STRIP)}else i.isPoints?m.setMode(He.POINTS):i.isSprite&&m.setMode(He.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)m.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if(ye.get("WEBGL_multi_draw"))m.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else for(var y=i._multiDrawStarts,_=i._multiDrawCounts,b=i._multiDrawCount,x=u?Te.get(u).bytesPerElement:1,w=we.get(r).currentProgram.getUniforms(),S=0;S<b;S++)w.setValue(He,"_gl_DrawID",S),m.render(y[S]/x,_[S]);else if(i.isInstancedMesh)m.renderInstances(d,p,i.count);else if(n.isInstancedBufferGeometry){var A=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,M=Math.min(n.instanceCount,A);m.renderInstances(d,p,M)}else m.render(d,p)}},this.compile=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=e),P=Ie.get(n),P.init(t),I.push(P),n.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(P.pushLight(e),e.castShadow&&P.pushShadow(e))})),e!==n&&e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(P.pushLight(e),e.castShadow&&P.pushShadow(e))})),P.setupLights();var r=new Set;return e.traverse((function(e){if(e.isMesh||e.isPoints||e.isLine||e.isSprite){var t=e.material;if(t)if(Array.isArray(t))for(var i=0;i<t.length;i++){var a=t[i];tt(a,n,e),r.add(a)}else tt(t,n,e),r.add(t)}})),I.pop(),P=null,r},this.compileAsync=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.compile(e,t,n);return new Promise((function(t){function n(){r.forEach((function(e){var t=we.get(e),n=t.currentProgram;n.isReady()&&r.delete(e)})),0!==r.size?setTimeout(n,10):t(e)}null!==ye.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)}))};var nt=null;function rt(e){nt&&nt(e)}function it(){ot.stop()}function at(){ot.start()}var ot=new Qn;function st(e,t,n,r){if(!1!==e.visible){var i=e.layers.test(t.layers);if(i)if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)P.pushLight(e),e.castShadow&&P.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||ae.intersectsSprite(e)){r&&fe.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ce);var a=ke.update(e),o=e.material;o.visible&&C.push(e,a,o,n,fe.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||ae.intersectsObject(e))){var s=ke.update(e),u=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),fe.copy(e.boundingSphere.center)):(null===s.boundingSphere&&s.computeBoundingSphere(),fe.copy(s.boundingSphere.center)),fe.applyMatrix4(e.matrixWorld).applyMatrix4(ce)),Array.isArray(u))for(var l=s.groups,c=0,h=l.length;c<h;c++){var d=l[c],f=u[d.materialIndex];f&&f.visible&&C.push(e,s,f,n,fe.z,d)}else u.visible&&C.push(e,s,u,n,fe.z,null)}for(var p=e.children,v=0,m=p.length;v<m;v++)st(p[v],t,n,r)}}function ut(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;P.setupLightsView(n),!0===oe&&Oe.setGlobalState(O.clippingPlanes,n),r&&be.viewport(j.copy(r)),i.length>0&&ct(i,t,n),a.length>0&&ct(a,t,n),o.length>0&&ct(o,t,n),be.buffers.depth.setTest(!0),be.buffers.depth.setMask(!0),be.buffers.color.setMask(!0),be.setPolygonOffset(!1)}function lt(e,t,n,r){var i=!0===n.isScene?n.overrideMaterial:null;if(null===i){void 0===P.state.transmissionRenderTarget[r.id]&&(P.state.transmissionRenderTarget[r.id]=new he(1,1,{generateMipmaps:!0,type:ye.has("EXT_color_buffer_half_float")||ye.has("EXT_color_buffer_float")?1016:1009,minFilter:1008,samples:4,stencilBuffer:d,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ee.workingColorSpace}));var a=P.state.transmissionRenderTarget[r.id],o=r.viewport||j;a.setSize(o.z,o.w);var s=O.getRenderTarget();O.setRenderTarget(a),O.getClearColor(W),K=O.getClearAlpha(),K<1&&O.setClearColor(16777215,.5),O.clear(),ve&&De.render(n);var u=O.toneMapping;O.toneMapping=0;var l=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),P.setupLightsView(r),!0===oe&&Oe.setGlobalState(O.clippingPlanes,r),ct(e,n,r),Se.updateMultisampleRenderTarget(a),Se.updateRenderTargetMipmap(a),!1===ye.has("WEBGL_multisampled_render_to_texture")){for(var c=!1,h=0,f=t.length;h<f;h++){var p=t[h],v=p.object,m=p.geometry,g=p.material,y=p.group;if(2===g.side&&v.layers.test(r.layers)){var _=g.side;g.side=1,g.needsUpdate=!0,ht(v,n,r,m,g,y),g.side=_,g.needsUpdate=!0,c=!0}}!0===c&&(Se.updateMultisampleRenderTarget(a),Se.updateRenderTargetMipmap(a))}O.setRenderTarget(s),O.setClearColor(W,K),void 0!==l&&(r.viewport=l),O.toneMapping=u}}function ct(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&ht(s,t,n,u,l,c)}}function ht(e,t,n,r,i,a){e.onBeforeRender(O,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(O,t,n,r,e,a),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=1,i.needsUpdate=!0,O.renderBufferDirect(n,t,r,i,e,a),i.side=0,i.needsUpdate=!0,O.renderBufferDirect(n,t,r,i,e,a),i.side=2):O.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(O,t,n,r,i,a)}function dt(e,t,n){!0!==t.isScene&&(t=pe);var r=we.get(e),i=P.state.lights,a=P.state.shadowsArray,o=i.state.version,s=Ce.getParameters(e,i.state,a,t,n),u=Ce.getProgramCacheKey(s),l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?Me:Ae).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===l&&(e.addEventListener("dispose",Ze),l=new Map,r.programs=l);var c=l.get(u);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return pt(e,s),c}else s.uniforms=Ce.getUniforms(e),e.onBeforeCompile(s,O),c=Ce.acquireProgram(s,u),l.set(u,c),r.uniforms=s.uniforms;var h=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=Oe.uniform),pt(e,s),r.needsLights=gt(e),r.lightsStateVersion=o,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=c,r.uniformsList=null,c}function ft(e){if(null===e.uniformsList){var t=e.currentProgram.getUniforms();e.uniformsList=ji.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function pt(e,t){var n=we.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function vt(e,t,n,r,i){!0!==t.isScene&&(t=pe),Se.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===U?O.outputColorSpace:!0===U.isXRRenderTarget?U.texture.colorSpace:"srgb-linear",u=(r.isMeshStandardMaterial?Me:Ae).get(r.envMap||o),l=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),h=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,f=!!n.morphAttributes.color,p=0;r.toneMapped&&(null!==U&&!0!==U.isXRRenderTarget||(p=O.toneMapping));var v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,m=void 0!==v?v.length:0,g=we.get(r),y=P.state.lights;if(!0===oe&&(!0===se||e!==F)){var _=e===F&&r.id===N;Oe.setState(r,e,_)}var b=!1;r.version===g.__version?g.needsLights&&g.lightsStateVersion!==y.state.version||g.outputColorSpace!==s||i.isBatchedMesh&&!1===g.batching?b=!0:i.isBatchedMesh||!0!==g.batching?i.isBatchedMesh&&!0===g.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===g.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===g.instancing?b=!0:i.isInstancedMesh||!0!==g.instancing?i.isSkinnedMesh&&!1===g.skinning?b=!0:i.isSkinnedMesh||!0!==g.skinning?i.isInstancedMesh&&!0===g.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===g.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===g.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===g.instancingMorph&&null!==i.morphTexture||g.envMap!==u||!0===r.fog&&g.fog!==a?b=!0:void 0===g.numClippingPlanes||g.numClippingPlanes===Oe.numPlanes&&g.numIntersection===Oe.numIntersection?(g.vertexAlphas!==l||g.vertexTangents!==c||g.morphTargets!==h||g.morphNormals!==d||g.morphColors!==f||g.toneMapping!==p||g.morphTargetsCount!==m)&&(b=!0):b=!0:b=!0:b=!0:b=!0:(b=!0,g.__version=r.version);var x=g.currentProgram;!0===b&&(x=dt(r,t,i));var w=!1,S=!1,A=!1,M=x.getUniforms(),T=g.uniforms;if(be.useProgram(x.program)&&(w=!0,S=!0,A=!0),r.id!==N&&(N=r.id,S=!0),w||F!==e){_e.reverseDepthBuffer?(ue.copy(e.projectionMatrix),X(ue),Y(ue),M.setValue(He,"projectionMatrix",ue)):M.setValue(He,"projectionMatrix",e.projectionMatrix),M.setValue(He,"viewMatrix",e.matrixWorldInverse);var E=M.map.cameraPosition;void 0!==E&&E.setValue(He,de.setFromMatrixPosition(e.matrixWorld)),_e.logarithmicDepthBuffer&&M.setValue(He,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&M.setValue(He,"isOrthographic",!0===e.isOrthographicCamera),F!==e&&(F=e,S=!0,A=!0)}if(i.isSkinnedMesh){M.setOptional(He,i,"bindMatrix"),M.setOptional(He,i,"bindMatrixInverse");var k=i.skeleton;k&&(null===k.boneTexture&&k.computeBoneTexture(),M.setValue(He,"boneTexture",k.boneTexture,Se))}i.isBatchedMesh&&(M.setOptional(He,i,"batchingTexture"),M.setValue(He,"batchingTexture",i._matricesTexture,Se),M.setOptional(He,i,"batchingIdTexture"),M.setValue(He,"batchingIdTexture",i._indirectTexture,Se),M.setOptional(He,i,"batchingColorTexture"),null!==i._colorsTexture&&M.setValue(He,"batchingColorTexture",i._colorsTexture,Se));var C=n.morphAttributes;if(void 0===C.position&&void 0===C.normal&&void 0===C.color||Be.update(i,n,x),(S||g.receiveShadow!==i.receiveShadow)&&(g.receiveShadow=i.receiveShadow,M.setValue(He,"receiveShadow",i.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(T.envMap.value=u,T.flipEnvMap.value=u.isCubeTexture&&!1===u.isRenderTargetTexture?-1:1),r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(T.envMapIntensity.value=t.environmentIntensity),S&&(M.setValue(He,"toneMappingExposure",O.toneMappingExposure),g.needsLights&&mt(T,A),a&&!0===r.fog&&Pe.refreshFogUniforms(T,a),Pe.refreshMaterialUniforms(T,r,Z,J,P.state.transmissionRenderTarget[e.id]),ji.upload(He,ft(g),T,Se)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(ji.upload(He,ft(g),T,Se),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&M.setValue(He,"center",i.center),M.setValue(He,"modelViewMatrix",i.modelViewMatrix),M.setValue(He,"normalMatrix",i.normalMatrix),M.setValue(He,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var R=r.uniformsGroups,I=0,L=R.length;I<L;I++){var D=R[I];ze.update(D,x),ze.bind(D,x)}return x}function mt(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function gt(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}ot.setAnimationLoop(rt),"undefined"!==typeof self&&ot.setContext(self),this.setAnimationLoop=function(e){nt=e,Ye.setAnimationLoop(e),null===e?ot.stop():ot.start()},Ye.addEventListener("sessionstart",it),Ye.addEventListener("sessionend",at),this.render=function(t,n){if(void 0===n||!0===n.isCamera){if(!0!==L){if(!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===n.parent&&!0===n.matrixWorldAutoUpdate&&n.updateMatrixWorld(),!0===Ye.enabled&&!0===Ye.isPresenting&&(!0===Ye.cameraAutoUpdate&&Ye.updateCamera(n),n=Ye.getCamera()),!0===t.isScene&&t.onBeforeRender(O,t,n,U),P=Ie.get(t,I.length),P.init(n),I.push(P),ce.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),ae.setFromProjectionMatrix(ce),se=this.localClippingEnabled,oe=Oe.init(this.clippingPlanes,se),C=Re.get(t,R.length),C.init(),R.push(C),!0===Ye.enabled&&!0===Ye.isPresenting){var r=O.xr.getDepthSensingMesh();null!==r&&st(r,n,-1/0,O.sortObjects)}st(t,n,0,O.sortObjects),C.finish(),!0===O.sortObjects&&C.sort($,te),ve=!1===Ye.enabled||!1===Ye.isPresenting||!1===Ye.hasDepthSensing(),ve&&De.addToRenderList(C,t),this.info.render.frame++,!0===oe&&Oe.beginShadows();var i=P.state.shadowsArray;Le.render(i,t,n),!0===oe&&Oe.endShadows(),!0===this.info.autoReset&&this.info.reset();var a=C.opaque,o=C.transmissive;if(P.setupLights(),n.isArrayCamera){var s=n.cameras;if(o.length>0)for(var u=0,l=s.length;u<l;u++){var c=s[u];lt(a,o,t,c)}ve&&De.render(t);for(var h=0,d=s.length;h<d;h++){var f=s[h];ut(C,t,f,f.viewport)}}else o.length>0&&lt(a,o,t,n),ve&&De.render(t),ut(C,t,n);null!==U&&(Se.updateMultisampleRenderTarget(U),Se.updateRenderTargetMipmap(U)),!0===t.isScene&&t.onAfterRender(O,t,n),je.resetDefaultState(),N=-1,F=null,I.pop(),I.length>0?(P=I[I.length-1],!0===oe&&Oe.setGlobalState(O.clippingPlanes,P.state.camera)):P=null,R.pop(),C=R.length>0?R[R.length-1]:null}}else e("error","THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera."," at node_modules/three/build/three.module.js:29856")},this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return U},this.setRenderTargetTextures=function(t,n,r){we.get(t.texture).__webglTexture=n,we.get(t.depthTexture).__webglTexture=r;var i=we.get(t);i.__hasExternalTextures=!0,i.__autoAllocateDepthBuffer=void 0===r,i.__autoAllocateDepthBuffer||!0===ye.has("WEBGL_multisampled_render_to_texture")&&(e("warn","THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"," at node_modules/three/build/three.module.js:30964"),i.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(e,t){var n=we.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;U=e,D=t,B=n;var r=!0,i=null,a=!1,o=!1;if(e){var s=we.get(e);if(void 0!==s.__useDefaultFramebuffer)be.bindFramebuffer(He.FRAMEBUFFER,null),r=!1;else if(void 0===s.__webglFramebuffer)Se.setupRenderTarget(e);else if(s.__hasExternalTextures)Se.rebindTextures(e,we.get(e.texture).__webglTexture,we.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){var u=e.depthTexture;if(s.__boundDepthTexture!==u){if(null!==u&&we.has(u)&&(e.width!==u.image.width||e.height!==u.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Se.setupDepthRenderbuffer(e)}}var l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);var c=we.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(c[t])?c[t][n]:c[t],a=!0):i=e.samples>0&&!1===Se.useMultisampledRTT(e)?we.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,j.copy(e.viewport),z.copy(e.scissor),H=e.scissorTest}else j.copy(ne).multiplyScalar(Z).floor(),z.copy(re).multiplyScalar(Z).floor(),H=ie;var h=be.bindFramebuffer(He.FRAMEBUFFER,i);if(h&&r&&be.drawBuffers(e,i),be.viewport(j),be.scissor(z),be.setScissorTest(H),a){var d=we.get(e.texture);He.framebufferTexture2D(He.FRAMEBUFFER,He.COLOR_ATTACHMENT0,He.TEXTURE_CUBE_MAP_POSITIVE_X+t,d.__webglTexture,n)}else if(o){var f=we.get(e.texture),p=t||0;He.framebufferTextureLayer(He.FRAMEBUFFER,He.COLOR_ATTACHMENT0,f.__webglTexture,n||0,p)}N=-1},this.readRenderTargetPixels=function(t,n,r,i,a,o,s){if(t&&t.isWebGLRenderTarget){var u=we.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(u=u[s]),u){be.bindFramebuffer(He.FRAMEBUFFER,u);try{var l=t.texture,c=l.format,h=l.type;if(!_e.textureFormatReadable(c))return void e("error","THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."," at node_modules/three/build/three.module.js:31147");if(!_e.textureTypeReadable(h))return void e("error","THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type."," at node_modules/three/build/three.module.js:31154");n>=0&&n<=t.width-i&&r>=0&&r<=t.height-a&&He.readPixels(n,r,i,a,Fe.convert(c),Fe.convert(h),o)}finally{var d=null!==U?we.get(U).__webglFramebuffer:null;be.bindFramebuffer(He.FRAMEBUFFER,d)}}}else e("error","THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget."," at node_modules/three/build/three.module.js:31122")},this.readRenderTargetPixelsAsync=function(){var e=(0,s.default)(v.default.mark((function e(t,n,r,i,a,o,s){var u,l,c,h,d,f,p;return v.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t&&t.isWebGLRenderTarget){e.next=2;break}throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");case 2:if(u=we.get(t).__webglFramebuffer,t.isWebGLCubeRenderTarget&&void 0!==s&&(u=u[s]),!u){e.next=32;break}if(l=t.texture,c=l.format,h=l.type,_e.textureFormatReadable(c)){e.next=10;break}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");case 10:if(_e.textureTypeReadable(h)){e.next=12;break}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");case 12:if(!(n>=0&&n<=t.width-i&&r>=0&&r<=t.height-a)){e.next=31;break}return be.bindFramebuffer(He.FRAMEBUFFER,u),d=He.createBuffer(),He.bindBuffer(He.PIXEL_PACK_BUFFER,d),He.bufferData(He.PIXEL_PACK_BUFFER,o.byteLength,He.STREAM_READ),He.readPixels(n,r,i,a,Fe.convert(c),Fe.convert(h),0),f=null!==U?we.get(U).__webglFramebuffer:null,be.bindFramebuffer(He.FRAMEBUFFER,f),p=He.fenceSync(He.SYNC_GPU_COMMANDS_COMPLETE,0),He.flush(),e.next=24,q(He,p,4);case 24:return He.bindBuffer(He.PIXEL_PACK_BUFFER,d),He.getBufferSubData(He.PIXEL_PACK_BUFFER,0,o),He.deleteBuffer(d),He.deleteSync(p),e.abrupt("return",o);case 31:throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.");case 32:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a,o,s){return e.apply(this,arguments)}}(),this.copyFramebufferToTexture=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!0!==e.isTexture&&(V("WebGLRenderer: copyFramebufferToTexture function signature has changed."),t=arguments[0]||null,e=arguments[1]);var r=Math.pow(2,-n),i=Math.floor(e.image.width*r),a=Math.floor(e.image.height*r),o=null!==t?t.x:0,s=null!==t?t.y:0;Se.setTexture2D(e,0),He.copyTexSubImage2D(He.TEXTURE_2D,n,0,0,o,s,i,a),be.unbindTexture()},this.copyTextureToTexture=function(e,t){var n,r,i,a,o,s,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;!0!==e.isTexture&&(V("WebGLRenderer: copyTextureToTexture function signature has changed."),l=arguments[0]||null,e=arguments[1],t=arguments[2],c=arguments[3]||0,u=null),null!==u?(n=u.max.x-u.min.x,r=u.max.y-u.min.y,i=u.min.x,a=u.min.y):(n=e.image.width,r=e.image.height,i=0,a=0),null!==l?(o=l.x,s=l.y):(o=0,s=0);var h=Fe.convert(t.format),d=Fe.convert(t.type);Se.setTexture2D(t,0),He.pixelStorei(He.UNPACK_FLIP_Y_WEBGL,t.flipY),He.pixelStorei(He.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),He.pixelStorei(He.UNPACK_ALIGNMENT,t.unpackAlignment);var f=He.getParameter(He.UNPACK_ROW_LENGTH),p=He.getParameter(He.UNPACK_IMAGE_HEIGHT),v=He.getParameter(He.UNPACK_SKIP_PIXELS),m=He.getParameter(He.UNPACK_SKIP_ROWS),g=He.getParameter(He.UNPACK_SKIP_IMAGES),y=e.isCompressedTexture?e.mipmaps[c]:e.image;He.pixelStorei(He.UNPACK_ROW_LENGTH,y.width),He.pixelStorei(He.UNPACK_IMAGE_HEIGHT,y.height),He.pixelStorei(He.UNPACK_SKIP_PIXELS,i),He.pixelStorei(He.UNPACK_SKIP_ROWS,a),e.isDataTexture?He.texSubImage2D(He.TEXTURE_2D,c,o,s,n,r,h,d,y.data):e.isCompressedTexture?He.compressedTexSubImage2D(He.TEXTURE_2D,c,o,s,y.width,y.height,h,y.data):He.texSubImage2D(He.TEXTURE_2D,c,o,s,n,r,h,d,y),He.pixelStorei(He.UNPACK_ROW_LENGTH,f),He.pixelStorei(He.UNPACK_IMAGE_HEIGHT,p),He.pixelStorei(He.UNPACK_SKIP_PIXELS,v),He.pixelStorei(He.UNPACK_SKIP_ROWS,m),He.pixelStorei(He.UNPACK_SKIP_IMAGES,g),0===c&&t.generateMipmaps&&He.generateMipmap(He.TEXTURE_2D),be.unbindTexture()},this.copyTextureToTexture3D=function(t,n){var r,i,a,o,s,u,l,c,h,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;!0!==t.isTexture&&(V("WebGLRenderer: copyTextureToTexture3D function signature has changed."),d=arguments[0]||null,f=arguments[1]||null,t=arguments[2],n=arguments[3],p=arguments[4]||0);var v=t.isCompressedTexture?t.mipmaps[p]:t.image;null!==d?(r=d.max.x-d.min.x,i=d.max.y-d.min.y,a=d.max.z-d.min.z,o=d.min.x,s=d.min.y,u=d.min.z):(r=v.width,i=v.height,a=v.depth,o=0,s=0,u=0),null!==f?(l=f.x,c=f.y,h=f.z):(l=0,c=0,h=0);var m,g=Fe.convert(n.format),y=Fe.convert(n.type);if(n.isData3DTexture)Se.setTexture3D(n,0),m=He.TEXTURE_3D;else{if(!n.isDataArrayTexture&&!n.isCompressedArrayTexture)return void e("warn","THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray."," at node_modules/three/build/three.module.js:31451");Se.setTexture2DArray(n,0),m=He.TEXTURE_2D_ARRAY}He.pixelStorei(He.UNPACK_FLIP_Y_WEBGL,n.flipY),He.pixelStorei(He.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),He.pixelStorei(He.UNPACK_ALIGNMENT,n.unpackAlignment);var _=He.getParameter(He.UNPACK_ROW_LENGTH),b=He.getParameter(He.UNPACK_IMAGE_HEIGHT),x=He.getParameter(He.UNPACK_SKIP_PIXELS),w=He.getParameter(He.UNPACK_SKIP_ROWS),S=He.getParameter(He.UNPACK_SKIP_IMAGES);He.pixelStorei(He.UNPACK_ROW_LENGTH,v.width),He.pixelStorei(He.UNPACK_IMAGE_HEIGHT,v.height),He.pixelStorei(He.UNPACK_SKIP_PIXELS,o),He.pixelStorei(He.UNPACK_SKIP_ROWS,s),He.pixelStorei(He.UNPACK_SKIP_IMAGES,u),t.isDataTexture||t.isData3DTexture?He.texSubImage3D(m,p,l,c,h,r,i,a,g,y,v.data):n.isCompressedArrayTexture?He.compressedTexSubImage3D(m,p,l,c,h,r,i,a,g,v.data):He.texSubImage3D(m,p,l,c,h,r,i,a,g,y,v),He.pixelStorei(He.UNPACK_ROW_LENGTH,_),He.pixelStorei(He.UNPACK_IMAGE_HEIGHT,b),He.pixelStorei(He.UNPACK_SKIP_PIXELS,x),He.pixelStorei(He.UNPACK_SKIP_ROWS,w),He.pixelStorei(He.UNPACK_SKIP_IMAGES,S),0===p&&n.generateMipmaps&&He.generateMipmap(m),be.unbindTexture()},this.initRenderTarget=function(e){void 0===we.get(e).__webglFramebuffer&&Se.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?Se.setTextureCube(e,0):e.isData3DTexture?Se.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?Se.setTexture2DArray(e,0):Se.setTexture2D(e,0),be.unbindTexture()},this.resetState=function(){D=0,B=0,U=null,be.reset(),je.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}return(0,y.default)(t,[{key:"coordinateSystem",get:function(){return 2e3}},{key:"outputColorSpace",get:function(){return this._outputColorSpace},set:function(e){this._outputColorSpace=e;var t=this.getContext();t.drawingBufferColorSpace="display-p3"===e?"display-p3":"srgb",t.unpackColorSpace="display-p3-linear"===ee.workingColorSpace?"display-p3":"srgb"}}]),t}();t.WebGLRenderer=ja;var za=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;(0,g.default)(this,e),this.isFogExp2=!0,this.name="",this.color=new Ft(t),this.density=n}return(0,y.default)(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}]),e}();t.FogExp2=za;var Ha=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;(0,g.default)(this,e),this.isFog=!0,this.name="",this.color=new Ft(t),this.near=n,this.far=r}return(0,y.default)(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}]),e}();t.Fog=Ha;var Ga=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this),e.isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.backgroundRotation=new rt,e.environmentIntensity=1,e.environmentRotation=new rt,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:(0,h.default)(e)})),e}return(0,y.default)(n,[{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}]),n}(bt);t.Scene=Ga;var Wa=function(){function e(t,n){(0,g.default)(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=35044,this.updateRanges=[],this.version=0,this.uuid=C()}return(0,y.default)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"addUpdateRange",value:function(e,t){this.updateRanges.push({start:e,count:t})}},{key:"clearUpdateRanges",value:function(){this.updateRanges.length=0}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=C()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=C()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}();t.InterleavedBuffer=Wa;var Va=new ge,qa=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,g.default)(this,t),this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}return(0,y.default)(t,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Va.fromBufferAttribute(this,t),Va.applyMatrix4(e),this.setXYZ(t,Va.x,Va.y,Va.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Va.fromBufferAttribute(this,t),Va.applyNormalMatrix(e),this.setXYZ(t,Va.x,Va.y,Va.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Va.fromBufferAttribute(this,t),Va.transformDirection(e),this.setXYZ(t,Va.x,Va.y,Va.z);return this}},{key:"getComponent",value:function(e,t){var n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=O(n,this.array)),n}},{key:"setComponent",value:function(e,t,n){return this.normalized&&(n=L(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}},{key:"setX",value:function(e,t){return this.normalized&&(t=L(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=L(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=L(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=L(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=O(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=O(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=O(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=O(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=L(t,this.array),n=L(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=L(t,this.array),n=L(n,this.array),r=L(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=L(t,this.array),n=L(n,this.array),r=L(r,this.array),i=L(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(n){if(void 0===n){e("log","THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data."," at node_modules/three/build/three.module.js:32121");for(var r=[],i=0;i<this.count;i++)for(var a=i*this.data.stride+this.offset,o=0;o<this.itemSize;o++)r.push(this.data.array[a+o]);return new Jt(new this.array.constructor(r),this.itemSize,this.normalized)}return void 0===n.interleavedBuffers&&(n.interleavedBuffers={}),void 0===n.interleavedBuffers[this.data.uuid]&&(n.interleavedBuffers[this.data.uuid]=this.data.clone(n)),new t(n.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(t){if(void 0===t){e("log","THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data."," at node_modules/three/build/three.module.js:32163");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),t}();t.InterleavedBufferAttribute=qa;var Xa,Ya=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isSpriteMaterial=!0,r.type="SpriteMaterial",r.color=new Ft(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.fog=!0,r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Ht);t.SpriteMaterial=Ya;var Ka=new ge,Qa=new ge,Ja=new ge,Za=new B,$a=new B,eo=new Xe,to=new ge,no=new ge,ro=new ge,io=new B,ao=new B,oo=new B,so=function(t){(0,d.default)(r,t);var n=S(r);function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ya;if((0,g.default)(this,r),e=n.call(this),e.isSprite=!0,e.type="Sprite",void 0===Xa){Xa=new vn;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new Wa(i,5);Xa.setIndex([0,1,2,0,2,3]),Xa.setAttribute("position",new qa(a,3,0,!1)),Xa.setAttribute("uv",new qa(a,2,3,!1))}return e.geometry=Xa,e.material=t,e.center=new B(.5,.5),e}return(0,y.default)(r,[{key:"raycast",value:function(t,n){null===t.camera&&e("error",'THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'," at node_modules/three/build/three.module.js:32326"),Qa.setFromMatrixScale(this.matrixWorld),eo.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Ja.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Qa.multiplyScalar(-Ja.z);var r,i,a=this.material.rotation;0!==a&&(i=Math.cos(a),r=Math.sin(a));var o=this.center;uo(to.set(-.5,-.5,0),Ja,o,Qa,r,i),uo(no.set(.5,-.5,0),Ja,o,Qa,r,i),uo(ro.set(.5,.5,0),Ja,o,Qa,r,i),io.set(0,0),ao.set(1,0),oo.set(1,1);var s=t.ray.intersectTriangle(to,no,ro,!1,Ka);if(null!==s||(uo(no.set(-.5,.5,0),Ja,o,Qa,r,i),ao.set(0,1),s=t.ray.intersectTriangle(to,ro,no,!1,Ka),null!==s)){var u=t.ray.origin.distanceTo(Ka);u<t.near||u>t.far||n.push({distance:u,point:Ka.clone(),uv:Lt.getInterpolation(Ka,to,no,ro,io,ao,oo,new B),face:null,object:this})}}},{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(r.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),r}(bt);function uo(e,t,n,r,i,a){Za.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?($a.x=a*Za.x-i*Za.y,$a.y=i*Za.x+a*Za.y):$a.copy(Za),e.copy(t),e.x+=$a.x,e.y+=$a.y,e.applyMatrix4(eo)}t.Sprite=so;var lo=new ge,co=new ge,ho=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this),e._currentLevel=0,e.type="LOD",Object.defineProperties((0,h.default)(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return(0,y.default)(n,[{key:"copy",value:function(e){(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);var r,i=this.levels;for(r=0;r<i.length;r++)if(t<i[r].distance)break;return i.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}},{key:"removeLevel",value:function(e){for(var t=this.levels,n=0;n<t.length;n++)if(t[n].distance===e){var r=t.splice(n,1);return this.remove(r[0].object),!0}return!1}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r;n++){var i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}},{key:"raycast",value:function(e,t){var n=this.levels;if(n.length>0){lo.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(lo);this.getObjectForDistance(r).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){lo.setFromMatrixPosition(e.matrixWorld),co.setFromMatrixPosition(this.matrixWorld);var n,r,i=lo.distanceTo(co)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r;n++){var a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),!(i>=a))break;t[n-1].object.visible=!1,t[n].object.visible=!0}for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,a=r.length;i<a;i++){var o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}]),n}(bt);t.LOD=ho;var fo=new ge,po=new le,vo=new le,mo=new ge,go=new Xe,yo=new ge,_o=new Ne,bo=new Xe,xo=new qe,wo=function(t){(0,d.default)(r,t);var n=S(r);function r(e,t){var i;return(0,g.default)(this,r),i=n.call(this,e,t),i.isSkinnedMesh=!0,i.type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new Xe,i.bindMatrixInverse=new Xe,i.boundingBox=null,i.boundingSphere=null,i}return(0,y.default)(r,[{key:"computeBoundingBox",value:function(){var e=this.geometry;null===this.boundingBox&&(this.boundingBox=new be),this.boundingBox.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)this.getVertexPosition(n,yo),this.boundingBox.expandByPoint(yo)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Ne),this.boundingSphere.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)this.getVertexPosition(n,yo),this.boundingSphere.expandByPoint(yo)}},{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(r.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"raycast",value:function(e,t){var n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),_o.copy(this.boundingSphere),_o.applyMatrix4(r),!1!==e.ray.intersectsSphere(_o)&&(bo.copy(r).invert(),xo.copy(e.ray).applyMatrix4(bo),null!==this.boundingBox&&!1===xo.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,xo)))}},{key:"getVertexPosition",value:function(e,t){return(0,l.default)((0,p.default)(r.prototype),"getVertexPosition",this).call(this,e,t),this.applyBoneTransform(e,t),t}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new le,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(t){(0,l.default)((0,p.default)(r.prototype),"updateMatrixWorld",this).call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():e("warn","THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode," at node_modules/three/build/three.module.js:32875")}},{key:"applyBoneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;po.fromBufferAttribute(r.attributes.skinIndex,e),vo.fromBufferAttribute(r.attributes.skinWeight,e),fo.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=vo.getComponent(i);if(0!==a){var o=po.getComponent(i);go.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(mo.copy(fo).applyMatrix4(go),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),r}(En);t.SkinnedMesh=wo;var So=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this),e.isBone=!0,e.type="Bone",e}return(0,y.default)(n)}(bt);t.Bone=So;var Ao=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1003,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1003,f=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return(0,g.default)(this,n),e=t.call(this,null,u,l,c,h,d,o,s,f,p),e.isDataTexture=!0,e.image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,y.default)(n)}(ue);t.DataTexture=Ao;var Mo=new Xe,To=new Xe,Eo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,g.default)(this,t),this.uuid=C(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}return(0,y.default)(t,[{key:"init",value:function(){var t=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===n.length)this.calculateInverses();else if(t.length!==n.length){e("warn","THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."," at node_modules/three/build/three.module.js:32985"),this.boneInverses=[];for(var r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Xe)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new Xe;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:To;Mo.multiplyMatrices(o,t[i]),Mo.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new t(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new Ao(t,e,e,1023,1015);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(t,n){this.uuid=t.uuid;for(var r=0,i=t.bones.length;r<i;r++){var a=t.bones[r],o=n[a];void 0===o&&(e("warn","THREE.Skeleton: No bone found with UUID:",a," at node_modules/three/build/three.module.js:33165"),o=new So),this.bones.push(o),this.boneInverses.push((new Xe).fromArray(t.boneInverses[r]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),t}();t.Skeleton=Eo;var ko=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,g.default)(this,n),a=t.call(this,e,r,i),a.isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(Jt);t.InstancedBufferAttribute=ko;var Co=new Xe,Po=new Xe,Ro=[],Io=new be,Oo=new Xe,Lo=new En,Do=new Ne,Bo=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){var a;(0,g.default)(this,n),a=t.call(this,e,r),a.isInstancedMesh=!0,a.instanceMatrix=new ko(new Float32Array(16*i),16),a.instanceColor=null,a.morphTexture=null,a.count=i,a.boundingBox=null,a.boundingSphere=null;for(var o=0;o<i;o++)a.setMatrixAt(o,Oo);return a}return(0,y.default)(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new be),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,Co),Io.copy(e.boundingBox).applyMatrix4(Co),this.boundingBox.union(Io)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new Ne),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,Co),Do.copy(e.boundingSphere).applyMatrix4(Co),this.boundingSphere.union(Do)}},{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"getMorphAt",value:function(e,t){for(var n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,i=n.length+1,a=e*i+1,o=0;o<n.length;o++)n[o]=r[a+o]}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(Lo.geometry=this.geometry,Lo.material=this.material,void 0!==Lo.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Do.copy(this.boundingSphere),Do.applyMatrix4(n),!1!==e.ray.intersectsSphere(Do)))for(var i=0;i<r;i++){this.getMatrixAt(i,Co),Po.multiplyMatrices(n,Co),Lo.matrixWorld=Po,Lo.raycast(e,Ro);for(var a=0,o=Ro.length;a<o;a++){var s=Ro[a];s.instanceId=i,s.object=this,t.push(s)}Ro.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new ko(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"setMorphAt",value:function(e,t){var n=t.morphTargetInfluences,r=n.length+1;null===this.morphTexture&&(this.morphTexture=new Ao(new Float32Array(r*this.count),r,this.count,1028,1015));for(var i=this.morphTexture.source.data.data,a=0,o=0;o<n.length;o++)a+=n[o];var s=this.geometry.morphTargetsRelative?1:1-a,u=r*e;i[u]=s,i.set(n,u+1)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}]),n}(En);function Uo(e,t){return e.z-t.z}function No(e,t){return t.z-e.z}t.InstancedMesh=Bo;var Fo=function(){function e(){(0,g.default)(this,e),this.index=0,this.pool=[],this.list=[]}return(0,y.default)(e,[{key:"push",value:function(e,t,n){var r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});var a=r[this.index];i.push(a),this.index++,a.start=e.start,a.count=e.count,a.z=t,a.index=n}},{key:"reset",value:function(){this.list.length=0,this.index=0}}]),e}(),jo=new Xe,zo=new Xe,Ho=new Xe,Go=new Ft(1,1,1),Wo=new Xe,Vo=new Kn,qo=new be,Xo=new Ne,Yo=new ge,Ko=new ge,Qo=new ge,Jo=new Fo,Zo=new En,$o=[];function es(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor)for(var i=e.count,a=0;a<i;a++)for(var o=0;o<r;o++)t.setComponent(a+n,o,e.getComponent(a,o));else t.array.set(e.array,n*r);t.needsUpdate=!0}var ts=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*r,o=arguments.length>3?arguments[3]:void 0;return(0,g.default)(this,n),i=t.call(this,new vn,o),i.isBatchedMesh=!0,i.perObjectFrustumCulled=!0,i.sortObjects=!0,i.boundingBox=null,i.boundingSphere=null,i.customSort=null,i._drawInfo=[],i._availableInstanceIds=[],i._drawRanges=[],i._reservedRanges=[],i._bounds=[],i._maxInstanceCount=e,i._maxVertexCount=r,i._maxIndexCount=a,i._geometryInitialized=!1,i._geometryCount=0,i._multiDrawCounts=new Int32Array(e),i._multiDrawStarts=new Int32Array(e),i._multiDrawCount=0,i._multiDrawInstances=null,i._visibilityChanged=!0,i._matricesTexture=null,i._indirectTexture=null,i._colorsTexture=null,i._initMatricesTexture(),i._initIndirectTexture(),i}return(0,y.default)(n,[{key:"maxInstanceCount",get:function(){return this._maxInstanceCount}},{key:"_initMatricesTexture",value:function(){var e=Math.sqrt(4*this._maxInstanceCount);e=4*Math.ceil(e/4),e=Math.max(e,4);var t=new Float32Array(e*e*4),n=new Ao(t,e,e,1023,1015);this._matricesTexture=n}},{key:"_initIndirectTexture",value:function(){var e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);var t=new Uint32Array(e*e),n=new Ao(t,e,e,1029,1014);this._indirectTexture=n}},{key:"_initColorsTexture",value:function(){var e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);var t=new Float32Array(e*e*4).fill(1),n=new Ao(t,e,e,1023,1015);n.colorSpace=ee.workingColorSpace,this._colorsTexture=n}},{key:"_initializeGeometry",value:function(e){var t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(!1===this._geometryInitialized){for(var i in e.attributes){var a=e.getAttribute(i),o=a.array,s=a.itemSize,u=a.normalized,l=new o.constructor(n*s),c=new Jt(l,s,u);t.setAttribute(i,c)}if(null!==e.getIndex()){var h=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Jt(h,1))}this._geometryInitialized=!0}}},{key:"_validateGeometry",value:function(e){var t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('BatchedMesh: All geometries must consistently have "index".');for(var n in t.attributes){if(!e.hasAttribute(n))throw new Error('BatchedMesh: Added geometry missing "'.concat(n,'". All geometries must have consistent attributes.'));var r=e.getAttribute(n),i=t.getAttribute(n);if(r.itemSize!==i.itemSize||r.normalized!==i.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}},{key:"setCustomSort",value:function(e){return this.customSort=e,this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new be);var e=this.boundingBox,t=this._drawInfo;e.makeEmpty();for(var n=0,r=t.length;n<r;n++)if(!1!==t[n].active){var i=t[n].geometryIndex;this.getMatrixAt(n,jo),this.getBoundingBoxAt(i,qo).applyMatrix4(jo),e.union(qo)}}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Ne);var e=this.boundingSphere,t=this._drawInfo;e.makeEmpty();for(var n=0,r=t.length;n<r;n++)if(!1!==t[n].active){var i=t[n].geometryIndex;this.getMatrixAt(n,jo),this.getBoundingSphereAt(i,Xo).applyMatrix4(jo),e.union(Xo)}}},{key:"addInstance",value:function(e){var t=this._drawInfo.length>=this.maxInstanceCount;if(t&&0===this._availableInstanceIds.length)throw new Error("BatchedMesh: Maximum item count reached.");var n={visible:!0,active:!0,geometryIndex:e},r=null;this._availableInstanceIds.length>0?(r=this._availableInstanceIds.pop(),this._drawInfo[r]=n):(r=this._drawInfo.length,this._drawInfo.push(n));var i=this._matricesTexture,a=i.image.data;Ho.toArray(a,16*r),i.needsUpdate=!0;var o=this._colorsTexture;return o&&(Go.toArray(o.image.data,4*r),o.needsUpdate=!0),r}},{key:"addGeometry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");var r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1},i=null,a=this._reservedRanges,o=this._drawRanges,s=this._bounds;0!==this._geometryCount&&(i=a[a.length-1]),r.vertexCount=-1===t?e.getAttribute("position").count:t,r.vertexStart=null===i?0:i.vertexStart+i.vertexCount;var u=e.getIndex(),l=null!==u;if(l&&(r.indexCount=-1===n?u.count:n,r.indexStart=null===i?0:i.indexStart+i.indexCount),-1!==r.indexStart&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");var c=this._geometryCount;return this._geometryCount++,a.push(r),o.push({start:l?r.indexStart:r.vertexStart,count:-1}),s.push({boxInitialized:!1,box:new be,sphereInitialized:!1,sphere:new Ne}),this.setGeometryAt(c,e),c}},{key:"setGeometryAt",value:function(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);var n=this.geometry,r=null!==n.getIndex(),i=n.getIndex(),a=t.getIndex(),o=this._reservedRanges[e];if(r&&a.count>o.indexCount||t.attributes.position.count>o.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");var s=o.vertexStart,u=o.vertexCount;for(var l in n.attributes){var c=t.getAttribute(l),h=n.getAttribute(l);es(c,h,s);for(var d=c.itemSize,f=c.count,p=u;f<p;f++)for(var v=s+f,m=0;m<d;m++)h.setComponent(v,m,0);h.needsUpdate=!0,h.addUpdateRange(s*d,u*d)}if(r){for(var g=o.indexStart,y=0;y<a.count;y++)i.setX(g+y,s+a.getX(y));for(var _=a.count,b=o.indexCount;_<b;_++)i.setX(g+_,s);i.needsUpdate=!0,i.addUpdateRange(g,o.indexCount)}var x=this._bounds[e];null!==t.boundingBox?(x.box.copy(t.boundingBox),x.boxInitialized=!0):x.boxInitialized=!1,null!==t.boundingSphere?(x.sphere.copy(t.boundingSphere),x.sphereInitialized=!0):x.sphereInitialized=!1;var w=this._drawRanges[e],S=t.getAttribute("position");return w.count=r?a.count:S.count,this._visibilityChanged=!0,e}},{key:"deleteInstance",value:function(e){var t=this._drawInfo;return e>=t.length||!1===t[e].active||(t[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0),this}},{key:"getBoundingBoxAt",value:function(e,t){if(e>=this._geometryCount)return null;var n=this._bounds[e],r=n.box,i=this.geometry;if(!1===n.boxInitialized){r.makeEmpty();for(var a=i.index,o=i.attributes.position,s=this._drawRanges[e],u=s.start,l=s.start+s.count;u<l;u++){var c=u;a&&(c=a.getX(c)),r.expandByPoint(Yo.fromBufferAttribute(o,c))}n.boxInitialized=!0}return t.copy(r),t}},{key:"getBoundingSphereAt",value:function(e,t){if(e>=this._geometryCount)return null;var n=this._bounds[e],r=n.sphere,i=this.geometry;if(!1===n.sphereInitialized){r.makeEmpty(),this.getBoundingBoxAt(e,qo),qo.getCenter(r.center);for(var a=i.index,o=i.attributes.position,s=this._drawRanges[e],u=0,l=s.start,c=s.start+s.count;l<c;l++){var h=l;a&&(h=a.getX(h)),Yo.fromBufferAttribute(o,h),u=Math.max(u,r.center.distanceToSquared(Yo))}r.radius=Math.sqrt(u),n.sphereInitialized=!0}return t.copy(r),t}},{key:"setMatrixAt",value:function(e,t){var n=this._drawInfo,r=this._matricesTexture,i=this._matricesTexture.image.data;return e>=n.length||!1===n[e].active||(t.toArray(i,16*e),r.needsUpdate=!0),this}},{key:"getMatrixAt",value:function(e,t){var n=this._drawInfo,r=this._matricesTexture.image.data;return e>=n.length||!1===n[e].active?null:t.fromArray(r,16*e)}},{key:"setColorAt",value:function(e,t){null===this._colorsTexture&&this._initColorsTexture();var n=this._colorsTexture,r=this._colorsTexture.image.data,i=this._drawInfo;return e>=i.length||!1===i[e].active||(t.toArray(r,4*e),n.needsUpdate=!0),this}},{key:"getColorAt",value:function(e,t){var n=this._colorsTexture.image.data,r=this._drawInfo;return e>=r.length||!1===r[e].active?null:t.fromArray(n,4*e)}},{key:"setVisibleAt",value:function(e,t){var n=this._drawInfo;return e>=n.length||!1===n[e].active||n[e].visible===t||(n[e].visible=t,this._visibilityChanged=!0),this}},{key:"getVisibleAt",value:function(e){var t=this._drawInfo;return!(e>=t.length||!1===t[e].active)&&t[e].visible}},{key:"setGeometryIdAt",value:function(e,t){var n=this._drawInfo;return e>=n.length||!1===n[e].active||t<0||t>=this._geometryCount?null:(n[e].geometryIndex=t,this)}},{key:"getGeometryIdAt",value:function(e){var t=this._drawInfo;return e>=t.length||!1===t[e].active?-1:t[e].geometryIndex}},{key:"getGeometryRangeAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e<0||e>=this._geometryCount)return null;var n=this._drawRanges[e];return t.start=n.start,t.count=n.count,t}},{key:"raycast",value:function(e,t){var n=this._drawInfo,r=this._drawRanges,i=this.matrixWorld,a=this.geometry;Zo.material=this.material,Zo.geometry.index=a.index,Zo.geometry.attributes=a.attributes,null===Zo.geometry.boundingBox&&(Zo.geometry.boundingBox=new be),null===Zo.geometry.boundingSphere&&(Zo.geometry.boundingSphere=new Ne);for(var o=0,s=n.length;o<s;o++)if(n[o].visible&&n[o].active){var u=n[o].geometryIndex,l=r[u];Zo.geometry.setDrawRange(l.start,l.count),this.getMatrixAt(o,Zo.matrixWorld).premultiply(i),this.getBoundingBoxAt(u,Zo.geometry.boundingBox),this.getBoundingSphereAt(u,Zo.geometry.boundingSphere),Zo.raycast(e,$o);for(var c=0,h=$o.length;c<h;c++){var d=$o[c];d.object=this,d.batchId=o,t.push(d)}$o.length=0}Zo.material=null,Zo.geometry.index=null,Zo.geometry.attributes={},Zo.geometry.setDrawRange(0,1/0)}},{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map((function(e){return b({},e)})),this._reservedRanges=e._reservedRanges.map((function(e){return b({},e)})),this._drawInfo=e._drawInfo.map((function(e){return b({},e)})),this._bounds=e._bounds.map((function(e){return{boxInitialized:e.boxInitialized,box:e.box.clone(),sphereInitialized:e.sphereInitialized,sphere:e.sphere.clone()}})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}},{key:"dispose",value:function(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}},{key:"onBeforeRender",value:function(e,t,n,r,i){if(this._visibilityChanged||this.perObjectFrustumCulled||this.sortObjects){var a=r.getIndex(),o=null===a?1:a.array.BYTES_PER_ELEMENT,s=this._drawInfo,u=this._multiDrawStarts,l=this._multiDrawCounts,c=this._drawRanges,h=this.perObjectFrustumCulled,d=this._indirectTexture,f=d.image.data;h&&(Wo.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),Vo.setFromProjectionMatrix(Wo,e.coordinateSystem));var p=0;if(this.sortObjects){zo.copy(this.matrixWorld).invert(),Yo.setFromMatrixPosition(n.matrixWorld).applyMatrix4(zo),Ko.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(zo);for(var v=0,m=s.length;v<m;v++)if(s[v].visible&&s[v].active){var g=s[v].geometryIndex;this.getMatrixAt(v,jo),this.getBoundingSphereAt(g,Xo).applyMatrix4(jo);var y=!1;if(h&&(y=!Vo.intersectsSphere(Xo)),!y){var _=Qo.subVectors(Xo.center,Yo).dot(Ko);Jo.push(c[g],_,v)}}var b=Jo.list,x=this.customSort;null===x?b.sort(i.transparent?No:Uo):x.call(this,b,n);for(var w=0,S=b.length;w<S;w++){var A=b[w];u[p]=A.start*o,l[p]=A.count,f[p]=A.index,p++}Jo.reset()}else for(var M=0,T=s.length;M<T;M++)if(s[M].visible&&s[M].active){var E=s[M].geometryIndex,k=!1;if(h&&(this.getMatrixAt(M,jo),this.getBoundingSphereAt(E,Xo).applyMatrix4(jo),k=!Vo.intersectsSphere(Xo)),!k){var C=c[E];u[p]=C.start*o,l[p]=C.count,f[p]=M,p++}}d.needsUpdate=!0,this._multiDrawCount=p,this._visibilityChanged=!1}}},{key:"onBeforeShadow",value:function(e,t,n,r,i,a){this.onBeforeRender(e,null,r,i,a)}}]),n}(En);t.BatchedMesh=ts;var ns=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new Ft(16777215),r.map=null,r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(Ht);t.LineBasicMaterial=ns;var rs=new ge,is=new ge,as=new Xe,os=new qe,ss=new Ne,us=new ge,ls=new ge,cs=function(t){(0,d.default)(r,t);var n=S(r);function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ns;return(0,g.default)(this,r),e=n.call(this),e.isLine=!0,e.type="Line",e.geometry=t,e.material=i,e.updateMorphTargets(),e}return(0,y.default)(r,[{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(r.prototype),"copy",this).call(this,e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var t=this.geometry;if(null===t.index){for(var n=t.attributes.position,r=[0],i=1,a=n.count;i<a;i++)rs.fromBufferAttribute(n,i-1),is.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=rs.distanceTo(is);t.setAttribute("lineDistance",new sn(r,1))}else e("warn","THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry."," at node_modules/three/build/three.module.js:34789");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ss.copy(n.boundingSphere),ss.applyMatrix4(r),ss.radius+=i,!1!==e.ray.intersectsSphere(ss)){as.copy(r).invert(),os.copy(e.ray).applyMatrix4(as);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=this.isLineSegments?2:1,l=n.index,c=n.attributes,h=c.position;if(null!==l){for(var d=Math.max(0,a.start),f=Math.min(l.count,a.start+a.count),p=d,v=f-1;p<v;p+=u){var m=l.getX(p),g=l.getX(p+1),y=hs(this,e,os,s,m,g);y&&t.push(y)}if(this.isLineLoop){var _=l.getX(f-1),b=l.getX(d),x=hs(this,e,os,s,_,b);x&&t.push(x)}}else{for(var w=Math.max(0,a.start),S=Math.min(h.count,a.start+a.count),A=w,M=S-1;A<M;A+=u){var T=hs(this,e,os,s,A,A+1);T&&t.push(T)}if(this.isLineLoop){var E=hs(this,e,os,s,S-1,w);E&&t.push(E)}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}}]),r}(bt);function hs(e,t,n,r,i,a){var o=e.geometry.attributes.position;rs.fromBufferAttribute(o,i),is.fromBufferAttribute(o,a);var s=n.distanceSqToSegment(rs,is,us,ls);if(!(s>r)){us.applyMatrix4(e.matrixWorld);var u=t.ray.origin.distanceTo(us);if(!(u<t.near||u>t.far))return{distance:u,point:ls.clone().applyMatrix4(e.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:e}}}t.Line=cs;var ds=new ge,fs=new ge,ps=function(t){(0,d.default)(r,t);var n=S(r);function r(e,t){var i;return(0,g.default)(this,r),i=n.call(this,e,t),i.isLineSegments=!0,i.type="LineSegments",i}return(0,y.default)(r,[{key:"computeLineDistances",value:function(){var t=this.geometry;if(null===t.index){for(var n=t.attributes.position,r=[],i=0,a=n.count;i<a;i+=2)ds.fromBufferAttribute(n,i),fs.fromBufferAttribute(n,i+1),r[i]=0===i?0:r[i-1],r[i+1]=r[i]+ds.distanceTo(fs);t.setAttribute("lineDistance",new sn(r,1))}else e("warn","THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry."," at node_modules/three/build/three.module.js:35002");return this}}]),r}(cs);t.LineSegments=ps;var vs=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r){var i;return(0,g.default)(this,n),i=t.call(this,e,r),i.isLineLoop=!0,i.type="LineLoop",i}return(0,y.default)(n)}(cs);t.LineLoop=vs;var ms=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isPointsMaterial=!0,r.type="PointsMaterial",r.color=new Ft(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(Ht);t.PointsMaterial=ms;var gs=new Xe,ys=new qe,_s=new Ne,bs=new ge,xs=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new vn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ms;return(0,g.default)(this,n),e=t.call(this),e.isPoints=!0,e.type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,y.default)(n,[{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),_s.copy(n.boundingSphere),_s.applyMatrix4(r),_s.radius+=i,!1!==e.ray.intersectsSphere(_s)){gs.copy(r).invert(),ys.copy(e.ray).applyMatrix4(gs);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,u=n.index,l=n.attributes,c=l.position;if(null!==u)for(var h=Math.max(0,a.start),d=Math.min(u.count,a.start+a.count),f=h,p=d;f<p;f++){var v=u.getX(f);bs.fromBufferAttribute(c,v),ws(bs,v,s,r,e,t,this)}else for(var m=Math.max(0,a.start),g=Math.min(c.count,a.start+a.count),y=m,_=g;y<_;y++)bs.fromBufferAttribute(c,y),ws(bs,y,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}}]),n}(bt);function ws(e,t,n,r,i,a,o){var s=ys.distanceSqToPoint(e);if(s<n){var u=new ge;ys.closestPointToPoint(e,u),u.applyMatrix4(r);var l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}t.Points=xs;var Ss=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i,a,o,s,u,l,c){var d;(0,g.default)(this,n),d=t.call(this,e,r,i,a,o,s,u,l,c),d.isVideoTexture=!0,d.minFilter=void 0!==s?s:1006,d.magFilter=void 0!==o?o:1006,d.generateMipmaps=!1;var f=(0,h.default)(d);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){f.needsUpdate=!0,e.requestVideoFrameCallback(t)})),d}return(0,y.default)(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image,t="requestVideoFrameCallback"in e;!1===t&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(ue);t.VideoTexture=Ss;var As=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r){var i;return(0,g.default)(this,n),i=t.call(this,{width:e,height:r}),i.isFramebufferTexture=!0,i.magFilter=1003,i.minFilter=1003,i.generateMipmaps=!1,i.needsUpdate=!0,i}return(0,y.default)(n)}(ue);t.FramebufferTexture=As;var Ms=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i,a,o,s,u,l,c,h,d,f){var p;return(0,g.default)(this,n),p=t.call(this,null,s,u,l,c,h,a,o,d,f),p.isCompressedTexture=!0,p.image={width:r,height:i},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return(0,y.default)(n)}(ue);t.CompressedTexture=Ms;var Ts=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i,a,o,s){var u;return(0,g.default)(this,n),u=t.call(this,e,r,i,o,s),u.isCompressedArrayTexture=!0,u.image.depth=a,u.wrapR=1001,u.layerUpdates=new Set,u}return(0,y.default)(n,[{key:"addLayerUpdate",value:function(e){this.layerUpdates.add(e)}},{key:"clearLayerUpdates",value:function(){this.layerUpdates.clear()}}]),n}(Ms);t.CompressedArrayTexture=Ts;var Es=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){var a;return(0,g.default)(this,n),a=t.call(this,void 0,e[0].width,e[0].height,r,i,301),a.isCompressedCubeTexture=!0,a.isCubeTexture=!0,a.image=e,a}return(0,y.default)(n)}(Ms);t.CompressedCubeTexture=Es;var ks=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i,a,o,s,u,l,c){var h;return(0,g.default)(this,n),h=t.call(this,e,r,i,a,o,s,u,l,c),h.isCanvasTexture=!0,h.needsUpdate=!0,h}return(0,y.default)(n)}(ue);t.CanvasTexture=ks;var Cs=function(){function t(){(0,g.default)(this,t),this.type="Curve",this.arcLengthDivisions=200}return(0,y.default)(t,[{key:"getPoint",value:function(){return e("warn","THREE.Curve: .getPoint() not implemented."," at node_modules/three/build/three.module.js:35428"),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)t=this.getPoint(a/e),i+=t.distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];var o,s=0,u=a-1;while(s<=u)if(i=Math.floor(s+(u-s)/2),o=r[i]-n,o<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(i=u,r[i]===n)return i/(a-1);var l=r[i],c=r[i+1],h=c-l,d=(n-l)/h,f=(i+d)/(a-1);return f}},{key:"getTangent",value:function(e,t){var n=e-1e-4,r=e+1e-4;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n),a=this.getPoint(r),o=t||(i.isVector2?new B:new ge);return o.copy(a).sub(i).normalize(),o}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new ge,r=[],i=[],a=[],o=new ge,s=new Xe,u=0;u<=e;u++){var l=u/e;r[u]=this.getTangentAt(l,new ge)}i[0]=new ge,a[0]=new ge;var c=Number.MAX_VALUE,h=Math.abs(r[0].x),d=Math.abs(r[0].y),f=Math.abs(r[0].z);h<=c&&(c=h,n.set(1,0,0)),d<=c&&(c=d,n.set(0,1,0)),f<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(P(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,v))}a[p].crossVectors(r[p],i[p])}if(!0===t){var m=Math.acos(P(i[0].dot(i[e]),-1,1));m/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(m=-m);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],m*g)),a[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),t}();t.Curve=Cs;var Ps=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return(0,g.default)(this,n),e=t.call(this),e.isEllipseCurve=!0,e.type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=u,e.aClockwise=l,e.aRotation=c,e}return(0,y.default)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new B,n=t,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;while(i<0)i+=r;while(i>r)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,d=u-this.aY;s=h*l-d*c+this.aX,u=h*c+d*l+this.aY}return n.set(s,u)}},{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(Cs);t.EllipseCurve=Ps;var Rs=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i,a,o,s){var u;return(0,g.default)(this,n),u=t.call(this,e,r,i,i,a,o,s),u.isArcCurve=!0,u.type="ArcCurve",u}return(0,y.default)(n)}(Ps);function Is(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var u=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+s)+(r-n)/s;u*=o,l*=o,i(t,n,u,l)},calc:function(i){var a=i*i,o=a*i;return e+t*i+n*a+r*o}}}t.ArcCurve=Rs;var Os=new ge,Ls=new Is,Ds=new Is,Bs=new Is,Us=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return(0,g.default)(this,n),e=t.call(this),e.isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=o,e}return(0,y.default)(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ge,i=r,a=this.points,o=a.length,s=(o-(this.closed?0:1))*e,u=Math.floor(s),l=s-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/o)+1)*o:0===l&&u===o-1&&(u=o-2,l=1),this.closed||u>0?t=a[(u-1)%o]:(Os.subVectors(a[0],a[1]).add(a[0]),t=Os);var c=a[u%o],h=a[(u+1)%o];if(this.closed||u+2<o?n=a[(u+2)%o]:(Os.subVectors(a[o-1],a[o-2]).add(a[o-1]),n=Os),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(t.distanceToSquared(c),d),p=Math.pow(c.distanceToSquared(h),d),v=Math.pow(h.distanceToSquared(n),d);p<1e-4&&(p=1),f<1e-4&&(f=p),v<1e-4&&(v=p),Ls.initNonuniformCatmullRom(t.x,c.x,h.x,n.x,f,p,v),Ds.initNonuniformCatmullRom(t.y,c.y,h.y,n.y,f,p,v),Bs.initNonuniformCatmullRom(t.z,c.z,h.z,n.z,f,p,v)}else"catmullrom"===this.curveType&&(Ls.initCatmullRom(t.x,c.x,h.x,n.x,this.tension),Ds.initCatmullRom(t.y,c.y,h.y,n.y,this.tension),Bs.initCatmullRom(t.z,c.z,h.z,n.z,this.tension));return i.set(Ls.calc(l),Ds.calc(l),Bs.calc(l)),i}},{key:"copy",value:function(e){(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){(0,l.default)((0,p.default)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new ge).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(Cs);function Ns(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e,u=e*s;return(2*n-2*r+a+o)*u+(-3*n+3*r-2*a-o)*s+a*e+n}function Fs(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function js(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}t.CatmullRomCurve3=Us;var zs=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new B,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new B,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new B,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new B;return(0,g.default)(this,n),e=t.call(this),e.isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return(0,y.default)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new B,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(js(e,r.x,i.x,a.x,o.x),js(e,r.y,i.y,a.y,o.y)),n}},{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Cs);t.CubicBezierCurve=zs;var Hs=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ge,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ge,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ge,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ge;return(0,g.default)(this,n),e=t.call(this),e.isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return(0,y.default)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ge,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(js(e,r.x,i.x,a.x,o.x),js(e,r.y,i.y,a.y,o.y),js(e,r.z,i.z,a.z,o.z)),n}},{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Cs);t.CubicBezierCurve3=Hs;var Gs=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new B,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new B;return(0,g.default)(this,n),e=t.call(this),e.isLineCurve=!0,e.type="LineCurve",e.v1=r,e.v2=i,e}return(0,y.default)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new B,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new B;return t.subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Cs);t.LineCurve=Gs;var Ws=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ge,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ge;return(0,g.default)(this,n),e=t.call(this),e.isLineCurve3=!0,e.type="LineCurve3",e.v1=r,e.v2=i,e}return(0,y.default)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ge,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ge;return t.subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Cs);t.LineCurve3=Ws;var Vs=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new B,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new B,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new B;return(0,g.default)(this,n),e=t.call(this),e.isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return(0,y.default)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new B,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(Fs(e,r.x,i.x,a.x),Fs(e,r.y,i.y,a.y)),n}},{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Cs);t.QuadraticBezierCurve=Vs;var qs=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ge,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ge,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ge;return(0,g.default)(this,n),e=t.call(this),e.isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return(0,y.default)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ge,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(Fs(e,r.x,i.x,a.x),Fs(e,r.y,i.y,a.y),Fs(e,r.z,i.z,a.z)),n}},{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Cs);t.QuadraticBezierCurve3=qs;var Xs=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,g.default)(this,n),e=t.call(this),e.isSplineCurve=!0,e.type="SplineCurve",e.points=r,e}return(0,y.default)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new B,n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],u=r[a],l=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(Ns(o,s.x,u.x,l.x,c.x),Ns(o,s.y,u.y,l.y,c.y)),n}},{key:"copy",value:function(e){(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){(0,l.default)((0,p.default)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new B).fromArray(i))}return this}}]),n}(Cs);t.SplineCurve=Xs;var Ys=Object.freeze({__proto__:null,ArcCurve:Rs,CatmullRomCurve3:Us,CubicBezierCurve:zs,CubicBezierCurve3:Hs,EllipseCurve:Ps,LineCurve:Gs,LineCurve3:Ws,QuadraticBezierCurve:Vs,QuadraticBezierCurve3:qs,SplineCurve:Xs}),Ks=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this),e.type="CurvePath",e.curves=[],e.autoClose=!1,e}return(0,y.default)(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){var n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new Ys[n](t,e))}return this}},{key:"getPoint",value:function(e,t){var n=e*this.getLength(),r=this.getCurveLengths(),i=0;while(i<r.length){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],s=o.getLength(),u=0===s?0:1-a/s;return o.getPointAt(u,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){(0,l.default)((0,p.default)(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new Ys[i.type]).fromJSON(i))}return this}}]),n}(Cs);t.CurvePath=Ks;var Qs=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.type="Path",r.currentPoint=new B,e&&r.setFromPoints(e),r}return(0,y.default)(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new Gs(this.currentPoint.clone(),new B(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new Vs(this.currentPoint.clone(),new B(e,t),new B(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new zs(this.currentPoint.clone(),new B(e,t),new B(n,r),new B(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Xs(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+u,t+l,n,r,i,a,o,s),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,s){var u=new Ps(e,t,n,r,i,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(Ks);t.Path=Qs;var Js=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new B(0,-.5),new B(.5,0),new B(0,.5)],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,g.default)(this,n),e=t.call(this),e.type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=P(o,0,2*Math.PI);for(var s=[],u=[],l=[],c=[],h=[],d=1/i,f=new ge,p=new B,v=new ge,m=new ge,y=new ge,_=0,b=0,x=0;x<=r.length-1;x++)switch(x){case 0:_=r[x+1].x-r[x].x,b=r[x+1].y-r[x].y,v.x=1*b,v.y=-_,v.z=0*b,y.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case r.length-1:c.push(y.x,y.y,y.z);break;default:_=r[x+1].x-r[x].x,b=r[x+1].y-r[x].y,v.x=1*b,v.y=-_,v.z=0*b,m.copy(v),v.x+=y.x,v.y+=y.y,v.z+=y.z,v.normalize(),c.push(v.x,v.y,v.z),y.copy(m)}for(var w=0;w<=i;w++)for(var S=a+w*d*o,A=Math.sin(S),M=Math.cos(S),T=0;T<=r.length-1;T++){f.x=r[T].x*A,f.y=r[T].y,f.z=r[T].x*M,u.push(f.x,f.y,f.z),p.x=w/i,p.y=T/(r.length-1),l.push(p.x,p.y);var E=c[3*T+0]*A,k=c[3*T+1],C=c[3*T+0]*M;h.push(E,k,C)}for(var R=0;R<i;R++)for(var I=0;I<r.length-1;I++){var O=I+R*r.length,L=O,D=O+r.length,U=O+r.length+1,N=O+1;s.push(L,D,N),s.push(U,N,D)}return e.setIndex(s),e.setAttribute("position",new sn(u,3)),e.setAttribute("uv",new sn(l,2)),e.setAttribute("normal",new sn(h,3)),e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(vn);t.LatheGeometry=Js;var Zs=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;(0,g.default)(this,n);var s=new Qs;return s.absarc(0,-i/2,r,1.5*Math.PI,0),s.absarc(0,i/2,r,0,.5*Math.PI),e=t.call(this,s.getPoints(a),o),e.type="CapsuleGeometry",e.parameters={radius:r,length:i,capSegments:a,radialSegments:o},e}return(0,y.default)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(Js);t.CapsuleGeometry=Zs;var $s=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,g.default)(this,n),e=t.call(this),e.type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],u=[],l=[],c=[],h=new ge,d=new B;u.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(var f=0,p=3;f<=i;f++,p+=3){var v=a+f/i*o;h.x=r*Math.cos(v),h.y=r*Math.sin(v),u.push(h.x,h.y,h.z),l.push(0,0,1),d.x=(u[p]/r+1)/2,d.y=(u[p+1]/r+1)/2,c.push(d.x,d.y)}for(var m=1;m<=i;m++)s.push(m,m+1,0);return e.setIndex(s),e.setAttribute("position",new sn(u,3)),e.setAttribute("normal",new sn(l,3)),e.setAttribute("uv",new sn(c,2)),e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(vn);t.CircleGeometry=$s;var eu=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;(0,g.default)(this,n),e=t.call(this),e.type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:u,thetaStart:l,thetaLength:c};var d=(0,h.default)(e);o=Math.floor(o),s=Math.floor(s);var f=[],p=[],v=[],m=[],y=0,_=[],b=a/2,x=0;function w(){for(var e=new ge,t=new ge,n=0,u=(i-r)/a,h=0;h<=s;h++){for(var g=[],w=h/s,S=w*(i-r)+r,A=0;A<=o;A++){var M=A/o,T=M*c+l,E=Math.sin(T),k=Math.cos(T);t.x=S*E,t.y=-w*a+b,t.z=S*k,p.push(t.x,t.y,t.z),e.set(E,u,k).normalize(),v.push(e.x,e.y,e.z),m.push(M,1-w),g.push(y++)}_.push(g)}for(var C=0;C<o;C++)for(var P=0;P<s;P++){var R=_[P][C],I=_[P+1][C],O=_[P+1][C+1],L=_[P][C+1];r>0&&(f.push(R,I,L),n+=3),i>0&&(f.push(I,O,L),n+=3)}d.addGroup(x,n,0),x+=n}function S(e){for(var t=y,n=new B,a=new ge,s=0,u=!0===e?r:i,h=!0===e?1:-1,g=1;g<=o;g++)p.push(0,b*h,0),v.push(0,h,0),m.push(.5,.5),y++;for(var _=y,w=0;w<=o;w++){var S=w/o,A=S*c+l,M=Math.cos(A),T=Math.sin(A);a.x=u*T,a.y=b*h,a.z=u*M,p.push(a.x,a.y,a.z),v.push(0,h,0),n.x=.5*M+.5,n.y=.5*T*h+.5,m.push(n.x,n.y),y++}for(var E=0;E<o;E++){var k=t+E,C=_+E;!0===e?f.push(C,C+1,k):f.push(C+1,C,k),s+=3}d.addGroup(x,s,!0===e?1:2),x+=s}return w(),!1===u&&(r>0&&S(!0),i>0&&S(!1)),e.setIndex(f),e.setAttribute("position",new sn(p,3)),e.setAttribute("normal",new sn(v,3)),e.setAttribute("uv",new sn(m,2)),e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(vn);t.CylinderGeometry=eu;var tu=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return(0,g.default)(this,n),e=t.call(this,0,r,i,a,o,s,u,l),e.type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:u,thetaLength:l},e}return(0,y.default)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(eu);t.ConeGeometry=tu;var nu=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,g.default)(this,n),e=t.call(this),e.type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:a,detail:o};var s=[],u=[];function l(e){for(var t=new ge,n=new ge,r=new ge,a=0;a<i.length;a+=3)v(i[a+0],t),v(i[a+1],n),v(i[a+2],r),c(t,n,r,e)}function c(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),u=t.clone().lerp(n,o/i),l=i-o,c=0;c<=l;c++)a[o][c]=0===c&&o===i?s:s.clone().lerp(u,c/l)}for(var h=0;h<i;h++)for(var d=0;d<2*(i-h)-1;d++){var f=Math.floor(d/2);d%2===0?(p(a[h][f+1]),p(a[h+1][f]),p(a[h][f])):(p(a[h][f+1]),p(a[h+1][f+1]),p(a[h+1][f]))}}function h(e){for(var t=new ge,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}function d(){for(var e=new ge,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=_(e)/2/Math.PI+.5,r=b(e)/Math.PI+.5;u.push(n,1-r)}m(),f()}function f(){for(var e=0;e<u.length;e+=6){var t=u[e+0],n=u[e+2],r=u[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(u[e+0]+=1),n<.2&&(u[e+2]+=1),r<.2&&(u[e+4]+=1))}}function p(e){s.push(e.x,e.y,e.z)}function v(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function m(){for(var e=new ge,t=new ge,n=new ge,r=new ge,i=new B,a=new B,o=new B,l=0,c=0;l<s.length;l+=9,c+=6){e.set(s[l+0],s[l+1],s[l+2]),t.set(s[l+3],s[l+4],s[l+5]),n.set(s[l+6],s[l+7],s[l+8]),i.set(u[c+0],u[c+1]),a.set(u[c+2],u[c+3]),o.set(u[c+4],u[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var h=_(r);y(i,c+0,e,h),y(a,c+2,t,h),y(o,c+4,n,h)}}function y(e,t,n,r){r<0&&1===e.x&&(u[t]=e.x-1),0===n.x&&0===n.z&&(u[t]=r/2/Math.PI+.5)}function _(e){return Math.atan2(e.z,-e.x)}function b(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}return l(o),h(a),d(),e.setAttribute("position",new sn(s,3)),e.setAttribute("normal",new sn(s.slice(),3)),e.setAttribute("uv",new sn(u,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(vn);t.PolyhedronGeometry=nu;var ru=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,g.default)(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o],u=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return e=t.call(this,s,u,r,i),e.type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,y.default)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(nu);t.DodecahedronGeometry=ru;var iu=new ge,au=new ge,ou=new ge,su=new Lt,uu=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if((0,g.default)(this,n),e=t.call(this),e.type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:i},null!==r){for(var a=4,o=Math.pow(10,a),s=Math.cos(E*i),u=r.getIndex(),l=r.getAttribute("position"),c=u?u.count:l.count,h=[0,0,0],d=["a","b","c"],f=new Array(3),p={},v=[],m=0;m<c;m+=3){u?(h[0]=u.getX(m),h[1]=u.getX(m+1),h[2]=u.getX(m+2)):(h[0]=m,h[1]=m+1,h[2]=m+2);var y=su.a,_=su.b,b=su.c;if(y.fromBufferAttribute(l,h[0]),_.fromBufferAttribute(l,h[1]),b.fromBufferAttribute(l,h[2]),su.getNormal(ou),f[0]="".concat(Math.round(y.x*o),",").concat(Math.round(y.y*o),",").concat(Math.round(y.z*o)),f[1]="".concat(Math.round(_.x*o),",").concat(Math.round(_.y*o),",").concat(Math.round(_.z*o)),f[2]="".concat(Math.round(b.x*o),",").concat(Math.round(b.y*o),",").concat(Math.round(b.z*o)),f[0]!==f[1]&&f[1]!==f[2]&&f[2]!==f[0])for(var x=0;x<3;x++){var w=(x+1)%3,S=f[x],A=f[w],M=su[d[x]],T=su[d[w]],k="".concat(S,"_").concat(A),C="".concat(A,"_").concat(S);C in p&&p[C]?(ou.dot(p[C].normal)<=s&&(v.push(M.x,M.y,M.z),v.push(T.x,T.y,T.z)),p[C]=null):k in p||(p[k]={index0:h[x],index1:h[w],normal:ou.clone()})}}for(var P in p)if(p[P]){var R=p[P],I=R.index0,O=R.index1;iu.fromBufferAttribute(l,I),au.fromBufferAttribute(l,O),v.push(iu.x,iu.y,iu.z),v.push(au.x,au.y,au.z)}e.setAttribute("position",new sn(v,3))}return e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(vn);t.EdgesGeometry=uu;var lu=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this,e),r.uuid=C(),r.type="Shape",r.holes=[],r}return(0,y.default)(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){(0,l.default)((0,p.default)(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new Qs).fromJSON(i))}return this}}]),n}(Qs);t.Shape=lu;var cu={triangulate:function(e,t){var n,r,i,a,o,s,u,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,h=c?t[0]*l:e.length,d=hu(e,0,h,l,!0),f=[];if(!d||d.next===d.prev)return f;if(c&&(d=yu(e,t,d,l)),e.length>80*l){n=i=e[0],r=a=e[1];for(var p=l;p<h;p+=l)o=e[p],s=e[p+1],o<n&&(n=o),s<r&&(r=s),o>i&&(i=o),s>a&&(a=s);u=Math.max(i-n,a-r),u=0!==u?32767/u:0}return fu(d,f,l,n,r,u,0),f}};function hu(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Ou(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Ou(a,e[a],e[a+1],o);return o&&Eu(o,o.next)&&(Lu(o),o=o.next),o}function du(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Eu(r,r.next)&&0!==Tu(r.prev,r,r.next))r=r.next;else{if(Lu(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function fu(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=wu(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{n=e,e=null,a=null,o=0;while(n){for(o++,r=n,s=0,t=0;t<l;t++)if(s++,r=r.nextZ,!r)break;u=l;while(s>0||u>0&&r)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);var s,u,l=e;while(e.prev!==e.next)if(s=e.prev,u=e.next,a?vu(e,r,i,a):pu(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),Lu(e),e=u.next,l=u.next;else if(e=u,e===l){o?1===o?(e=mu(du(e),t,n),fu(e,t,n,r,i,a,2)):2===o&&gu(e,t,n,r,i,a):fu(du(e),t,n,r,i,a,1);break}}}function pu(e){var t=e.prev,n=e,r=e.next;if(Tu(t,n,r)>=0)return!1;var i=t.x,a=n.x,o=r.x,s=t.y,u=n.y,l=r.y,c=i<a?i<o?i:o:a<o?a:o,h=s<u?s<l?s:l:u<l?u:l,d=i>a?i>o?i:o:a>o?a:o,f=s>u?s>l?s:l:u>l?u:l,p=r.next;while(p!==t){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=f&&Au(i,s,a,u,o,l,p.x,p.y)&&Tu(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function vu(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Tu(i,a,o)>=0)return!1;var s=i.x,u=a.x,l=o.x,c=i.y,h=a.y,d=o.y,f=s<u?s<l?s:l:u<l?u:l,p=c<h?c<d?c:d:h<d?h:d,v=s>u?s>l?s:l:u>l?u:l,m=c>h?c>d?c:d:h>d?h:d,g=wu(f,p,t,n,r),y=wu(v,m,t,n,r),_=e.prevZ,b=e.nextZ;while(_&&_.z>=g&&b&&b.z<=y){if(_.x>=f&&_.x<=v&&_.y>=p&&_.y<=m&&_!==i&&_!==o&&Au(s,c,u,h,l,d,_.x,_.y)&&Tu(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,b.x>=f&&b.x<=v&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&Au(s,c,u,h,l,d,b.x,b.y)&&Tu(b.prev,b,b.next)>=0)return!1;b=b.nextZ}while(_&&_.z>=g){if(_.x>=f&&_.x<=v&&_.y>=p&&_.y<=m&&_!==i&&_!==o&&Au(s,c,u,h,l,d,_.x,_.y)&&Tu(_.prev,_,_.next)>=0)return!1;_=_.prevZ}while(b&&b.z<=y){if(b.x>=f&&b.x<=v&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&Au(s,c,u,h,l,d,b.x,b.y)&&Tu(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function mu(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Eu(i,a)&&ku(i,r,r.next,a)&&Ru(i,a)&&Ru(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),Lu(r),Lu(r.next),r=e=a),r=r.next}while(r!==e);return du(r)}function gu(e,t,n,r,i,a){var o=e;do{var s=o.next.next;while(s!==o.prev){if(o.i!==s.i&&Mu(o,s)){var u=Iu(o,s);return o=du(o,o.next),u=du(u,u.next),fu(o,t,n,r,i,a,0),void fu(u,t,n,r,i,a,0)}s=s.next}o=o.next}while(o!==e)}function yu(e,t,n,r){var i,a,o,s,u,l=[];for(i=0,a=t.length;i<a;i++)o=t[i]*r,s=i<a-1?t[i+1]*r:e.length,u=hu(e,o,s,r,!1),u===u.next&&(u.steiner=!0),l.push(Su(u));for(l.sort(_u),i=0;i<l.length;i++)n=bu(l[i],n);return n}function _u(e,t){return e.x-t.x}function bu(e,t){var n=function(e,t){var n,r=t,i=-1/0,a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>i&&(i=s,n=r.x<r.next.x?r:r.next,s===a))return n}r=r.next}while(r!==t);if(!n)return null;var u,l=n,c=n.x,h=n.y,d=1/0;r=n;do{a>=r.x&&r.x>=c&&a!==r.x&&Au(o<h?a:i,o,c,h,o<h?i:a,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(a-r.x),Ru(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&xu(n,r)))&&(n=r,d=u)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var r=Iu(n,e);return du(r,r.next),du(n,n.next)}function xu(e,t){return Tu(e.prev,e,t.prev)<0&&Tu(t.next,e,e.next)<0}function wu(e,t,n,r,i){return e=(e-n)*i|0,t=(t-r)*i|0,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function Su(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Au(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function Mu(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&ku(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Ru(e,t)&&Ru(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Tu(e.prev,e,t.prev)||Tu(e,t.prev,t))||Eu(e,t)&&Tu(e.prev,e,e.next)>0&&Tu(t.prev,t,t.next)>0)}function Tu(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Eu(e,t){return e.x===t.x&&e.y===t.y}function ku(e,t,n,r){var i=Pu(Tu(e,t,n)),a=Pu(Tu(e,t,r)),o=Pu(Tu(n,r,e)),s=Pu(Tu(n,r,t));return i!==a&&o!==s||(!(0!==i||!Cu(e,n,t))||(!(0!==a||!Cu(e,r,t))||(!(0!==o||!Cu(n,e,r))||!(0!==s||!Cu(n,t,r)))))}function Cu(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Pu(e){return e>0?1:e<0?-1:0}function Ru(e,t){return Tu(e.prev,e,e.next)<0?Tu(e,t,e.next)>=0&&Tu(e,e.prev,t)>=0:Tu(e,t,e.prev)<0||Tu(e,e.next,t)<0}function Iu(e,t){var n=new Du(e.i,e.x,e.y),r=new Du(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Ou(e,t,n,r){var i=new Du(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Lu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Du(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Bu=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];Uu(e),Nu(n,e);var a=e.length;t.forEach(Uu);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,Nu(n,t[o]);for(var s=cu.triangulate(n,r),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i}}]),e}();function Uu(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Nu(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}t.ShapeUtils=Bu;var Fu=function(t){(0,d.default)(r,t);var n=S(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lu([new B(.5,.5),new B(-.5,.5),new B(-.5,-.5),new B(.5,-.5)]),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,g.default)(this,r),t=n.call(this),t.type="ExtrudeGeometry",t.parameters={shapes:i,options:a},i=Array.isArray(i)?i:[i];for(var o=(0,h.default)(t),s=[],u=[],l=0,c=i.length;l<c;l++){var d=i[l];f(d)}function f(t){var n,r,i,l,c,h=[],d=void 0!==a.curveSegments?a.curveSegments:12,f=void 0!==a.steps?a.steps:1,p=void 0!==a.depth?a.depth:1,v=void 0===a.bevelEnabled||a.bevelEnabled,m=void 0!==a.bevelThickness?a.bevelThickness:.2,g=void 0!==a.bevelSize?a.bevelSize:m-.1,y=void 0!==a.bevelOffset?a.bevelOffset:0,_=void 0!==a.bevelSegments?a.bevelSegments:3,b=a.extrudePath,x=void 0!==a.UVGenerator?a.UVGenerator:ju,w=!1;b&&(n=b.getSpacedPoints(f),w=!0,v=!1,r=b.computeFrenetFrames(f,!1),i=new ge,l=new ge,c=new ge),v||(_=0,m=0,g=0,y=0);var S=t.extractPoints(d),A=S.shape,M=S.holes,T=!Bu.isClockWise(A);if(T){A=A.reverse();for(var E=0,k=M.length;E<k;E++){var C=M[E];Bu.isClockWise(C)&&(M[E]=C.reverse())}}for(var P=Bu.triangulateShape(A,M),R=A,I=0,O=M.length;I<O;I++){var L=M[I];A=A.concat(L)}function D(t,n,r){return n||e("error","THREE.ExtrudeGeometry: vec does not exist"," at node_modules/three/build/three.module.js:39566"),t.clone().addScaledVector(n,r)}var U=A.length,N=P.length;function F(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,u=n.x-e.x,l=n.y-e.y,c=o*o+s*s,h=o*l-s*u;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(c),f=Math.sqrt(u*u+l*l),p=t.x-s/d,v=t.y+o/d,m=n.x-l/f,g=n.y+u/f,y=((m-p)*l-(g-v)*u)/(o*l-s*u);r=p+o*y-e.x,i=v+s*y-e.y;var _=r*r+i*i;if(_<=2)return new B(r,i);a=Math.sqrt(_/2)}else{var b=!1;o>Number.EPSILON?u>Number.EPSILON&&(b=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(b=!0):Math.sign(s)===Math.sign(l)&&(b=!0),b?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new B(r/a,i/a)}for(var j=[],z=0,H=R.length,G=H-1,W=z+1;z<H;z++,G++,W++)G===H&&(G=0),W===H&&(W=0),j[z]=F(R[z],R[G],R[W]);for(var V,q=[],X=j.concat(),Y=0,K=M.length;Y<K;Y++){var Q=M[Y];V=[];for(var J=0,Z=Q.length,$=Z-1,ee=J+1;J<Z;J++,$++,ee++)$===Z&&($=0),ee===Z&&(ee=0),V[J]=F(Q[J],Q[$],Q[ee]);q.push(V),X=X.concat(V)}for(var te=0;te<_;te++){for(var ne=te/_,re=m*Math.cos(ne*Math.PI/2),ie=g*Math.sin(ne*Math.PI/2)+y,ae=0,oe=R.length;ae<oe;ae++){var se=D(R[ae],j[ae],ie);De(se.x,se.y,-re)}for(var ue=0,le=M.length;ue<le;ue++){var ce=M[ue];V=q[ue];for(var he=0,de=ce.length;he<de;he++){var fe=D(ce[he],V[he],ie);De(fe.x,fe.y,-re)}}}for(var pe=g+y,ve=0;ve<U;ve++){var me=v?D(A[ve],X[ve],pe):A[ve];w?(l.copy(r.normals[0]).multiplyScalar(me.x),i.copy(r.binormals[0]).multiplyScalar(me.y),c.copy(n[0]).add(l).add(i),De(c.x,c.y,c.z)):De(me.x,me.y,0)}for(var ye=1;ye<=f;ye++)for(var _e=0;_e<U;_e++){var be=v?D(A[_e],X[_e],pe):A[_e];w?(l.copy(r.normals[ye]).multiplyScalar(be.x),i.copy(r.binormals[ye]).multiplyScalar(be.y),c.copy(n[ye]).add(l).add(i),De(c.x,c.y,c.z)):De(be.x,be.y,p/f*ye)}for(var xe=_-1;xe>=0;xe--){for(var we=xe/_,Se=m*Math.cos(we*Math.PI/2),Ae=g*Math.sin(we*Math.PI/2)+y,Me=0,Te=R.length;Me<Te;Me++){var Ee=D(R[Me],j[Me],Ae);De(Ee.x,Ee.y,p+Se)}for(var ke=0,Ce=M.length;ke<Ce;ke++){var Pe=M[ke];V=q[ke];for(var Re=0,Ie=Pe.length;Re<Ie;Re++){var Oe=D(Pe[Re],V[Re],Ae);w?De(Oe.x,Oe.y+n[f-1].y,n[f-1].x+Se):De(Oe.x,Oe.y,p+Se)}}}function Le(e,t){var n=e.length;while(--n>=0){var r=n,i=n-1;i<0&&(i=e.length-1);for(var a=0,o=f+2*_;a<o;a++){var s=U*a,u=U*(a+1),l=t+r+s,c=t+i+s,h=t+i+u,d=t+r+u;Ue(l,c,h,d)}}}function De(e,t,n){h.push(e),h.push(t),h.push(n)}function Be(e,t,n){Ne(e),Ne(t),Ne(n);var r=s.length/3,i=x.generateTopUV(o,s,r-3,r-2,r-1);Fe(i[0]),Fe(i[1]),Fe(i[2])}function Ue(e,t,n,r){Ne(e),Ne(t),Ne(r),Ne(t),Ne(n),Ne(r);var i=s.length/3,a=x.generateSideWallUV(o,s,i-6,i-3,i-2,i-1);Fe(a[0]),Fe(a[1]),Fe(a[3]),Fe(a[1]),Fe(a[2]),Fe(a[3])}function Ne(e){s.push(h[3*e+0]),s.push(h[3*e+1]),s.push(h[3*e+2])}function Fe(e){u.push(e.x),u.push(e.y)}(function(){var e=s.length/3;if(v){for(var t=0,n=U*t,r=0;r<N;r++){var i=P[r];Be(i[2]+n,i[1]+n,i[0]+n)}t=f+2*_,n=U*t;for(var a=0;a<N;a++){var u=P[a];Be(u[0]+n,u[1]+n,u[2]+n)}}else{for(var l=0;l<N;l++){var c=P[l];Be(c[2],c[1],c[0])}for(var h=0;h<N;h++){var d=P[h];Be(d[0]+U*f,d[1]+U*f,d[2]+U*f)}}o.addGroup(e,s.length/3-e,0)})(),function(){var e=s.length/3,t=0;Le(R,t),t+=R.length;for(var n=0,r=M.length;n<r;n++){var i=M[n];Le(i,t),t+=i.length}o.addGroup(e,s.length/3-e,1)}()}return t.setAttribute("position",new sn(s,3)),t.setAttribute("uv",new sn(u,2)),t.computeVertexNormals(),t}return(0,y.default)(r,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(r.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(r.prototype),"toJSON",this).call(this),t=this.parameters.shapes,n=this.parameters.options;return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(t,n,e)}}],[{key:"fromJSON",value:function(e,t){for(var n=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];n.push(o)}var s=e.options.extrudePath;return void 0!==s&&(e.options.extrudePath=(new Ys[s.type]).fromJSON(s)),new r(n,e.options)}}]),r}(vn);t.ExtrudeGeometry=Fu;var ju={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],u=t[3*r+1],l=t[3*i],c=t[3*i+1];return[new B(a,o),new B(s,u),new B(l,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],l=t[3*r],c=t[3*r+1],h=t[3*r+2],d=t[3*i],f=t[3*i+1],p=t[3*i+2],v=t[3*a],m=t[3*a+1],g=t[3*a+2];return Math.abs(s-c)<Math.abs(o-l)?[new B(o,1-u),new B(l,1-h),new B(d,1-p),new B(v,1-g)]:[new B(s,1-u),new B(c,1-h),new B(f,1-p),new B(m,1-g)]}};var zu=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,g.default)(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return e=t.call(this,o,s,r,i),e.type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,y.default)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(nu);t.IcosahedronGeometry=zu;var Hu=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,g.default)(this,n);var a=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return e=t.call(this,a,o,r,i),e.type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,y.default)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(nu);t.OctahedronGeometry=Hu;var Gu=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;(0,g.default)(this,n),e=t.call(this),e.type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:u},a=Math.max(3,a),o=Math.max(1,o);for(var l=[],c=[],h=[],d=[],f=r,p=(i-r)/o,v=new ge,m=new B,y=0;y<=o;y++){for(var _=0;_<=a;_++){var b=s+_/a*u;v.x=f*Math.cos(b),v.y=f*Math.sin(b),c.push(v.x,v.y,v.z),h.push(0,0,1),m.x=(v.x/i+1)/2,m.y=(v.y/i+1)/2,d.push(m.x,m.y)}f+=p}for(var x=0;x<o;x++)for(var w=x*(a+1),S=0;S<a;S++){var A=S+w,M=A,T=A+a+1,E=A+a+2,k=A+1;l.push(M,T,k),l.push(T,E,k)}return e.setIndex(l),e.setAttribute("position",new sn(c,3)),e.setAttribute("normal",new sn(h,3)),e.setAttribute("uv",new sn(d,2)),e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(vn);t.RingGeometry=Gu;var Wu=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lu([new B(0,.5),new B(-.5,-.5),new B(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;(0,g.default)(this,n),e=t.call(this),e.type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var a=[],o=[],s=[],u=[],l=0,c=0;if(!1===Array.isArray(r))d(r);else for(var h=0;h<r.length;h++)d(r[h]),e.addGroup(l,c,h),l+=c,c=0;function d(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,l=n.holes;!1===Bu.isClockWise(r)&&(r=r.reverse());for(var h=0,d=l.length;h<d;h++){var f=l[h];!0===Bu.isClockWise(f)&&(l[h]=f.reverse())}for(var p=Bu.triangulateShape(r,l),v=0,m=l.length;v<m;v++){var g=l[v];r=r.concat(g)}for(var y=0,_=r.length;y<_;y++){var b=r[y];o.push(b.x,b.y,0),s.push(0,0,1),u.push(b.x,b.y)}for(var x=0,w=p.length;x<w;x++){var S=p[x],A=S[0]+t,M=S[1]+t,T=S[2]+t;a.push(A,M,T),c+=3}}return e.setIndex(a),e.setAttribute("position",new sn(o,3)),e.setAttribute("normal",new sn(s,3)),e.setAttribute("uv",new sn(u,2)),e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this),t=this.parameters.shapes;return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(t,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(vn);t.ShapeGeometry=Wu;var Vu=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;(0,g.default)(this,n),e=t.call(this),e.type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:u,thetaLength:l},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(u+l,Math.PI),h=0,d=[],f=new ge,p=new ge,v=[],m=[],y=[],_=[],b=0;b<=a;b++){var x=[],w=b/a,S=0;0===b&&0===u?S=.5/i:b===a&&c===Math.PI&&(S=-.5/i);for(var A=0;A<=i;A++){var M=A/i;f.x=-r*Math.cos(o+M*s)*Math.sin(u+w*l),f.y=r*Math.cos(u+w*l),f.z=r*Math.sin(o+M*s)*Math.sin(u+w*l),m.push(f.x,f.y,f.z),p.copy(f).normalize(),y.push(p.x,p.y,p.z),_.push(M+S,1-w),x.push(h++)}d.push(x)}for(var T=0;T<a;T++)for(var E=0;E<i;E++){var k=d[T][E+1],C=d[T][E],P=d[T+1][E],R=d[T+1][E+1];(0!==T||u>0)&&v.push(k,C,R),(T!==a-1||c<Math.PI)&&v.push(C,P,R)}return e.setIndex(v),e.setAttribute("position",new sn(m,3)),e.setAttribute("normal",new sn(y,3)),e.setAttribute("uv",new sn(_,2)),e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(vn);t.SphereGeometry=Vu;var qu=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,g.default)(this,n);var a=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];return e=t.call(this,a,o,r,i),e.type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,y.default)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(nu);t.TetrahedronGeometry=qu;var Xu=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;(0,g.default)(this,n),e=t.call(this),e.type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var u=[],l=[],c=[],h=[],d=new ge,f=new ge,p=new ge,v=0;v<=a;v++)for(var m=0;m<=o;m++){var y=m/o*s,_=v/a*Math.PI*2;f.x=(r+i*Math.cos(_))*Math.cos(y),f.y=(r+i*Math.cos(_))*Math.sin(y),f.z=i*Math.sin(_),l.push(f.x,f.y,f.z),d.x=r*Math.cos(y),d.y=r*Math.sin(y),p.subVectors(f,d).normalize(),c.push(p.x,p.y,p.z),h.push(m/o),h.push(v/a)}for(var b=1;b<=a;b++)for(var x=1;x<=o;x++){var w=(o+1)*b+x-1,S=(o+1)*(b-1)+x-1,A=(o+1)*(b-1)+x,M=(o+1)*b+x;u.push(w,S,M),u.push(S,A,M)}return e.setIndex(u),e.setAttribute("position",new sn(l,3)),e.setAttribute("normal",new sn(c,3)),e.setAttribute("uv",new sn(h,2)),e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(vn);t.TorusGeometry=Xu;var Yu=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;(0,g.default)(this,n),e=t.call(this),e.type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:a,radialSegments:o,p:s,q:u},a=Math.floor(a),o=Math.floor(o);for(var l=[],c=[],h=[],d=[],f=new ge,p=new ge,v=new ge,m=new ge,y=new ge,_=new ge,b=new ge,x=0;x<=a;++x){var w=x/a*s*Math.PI*2;O(w,s,u,r,v),O(w+.01,s,u,r,m),_.subVectors(m,v),b.addVectors(m,v),y.crossVectors(_,b),b.crossVectors(y,_),y.normalize(),b.normalize();for(var S=0;S<=o;++S){var A=S/o*Math.PI*2,M=-i*Math.cos(A),T=i*Math.sin(A);f.x=v.x+(M*b.x+T*y.x),f.y=v.y+(M*b.y+T*y.y),f.z=v.z+(M*b.z+T*y.z),c.push(f.x,f.y,f.z),p.subVectors(f,v).normalize(),h.push(p.x,p.y,p.z),d.push(x/a),d.push(S/o)}}for(var E=1;E<=a;E++)for(var k=1;k<=o;k++){var C=(o+1)*(E-1)+(k-1),P=(o+1)*E+(k-1),R=(o+1)*E+k,I=(o+1)*(E-1)+k;l.push(C,P,I),l.push(P,R,I)}function O(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*a,i.y=r*(2+u)*o*.5,i.z=r*Math.sin(s)*.5}return e.setIndex(l),e.setAttribute("position",new sn(c,3)),e.setAttribute("normal",new sn(h,3)),e.setAttribute("uv",new sn(d,2)),e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(vn);t.TorusKnotGeometry=Yu;var Ku=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qs(new ge(-1,-1,0),new ge(-1,1,0),new ge(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,g.default)(this,n),e=t.call(this),e.type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:s};var u=r.computeFrenetFrames(i,s);e.tangents=u.tangents,e.normals=u.normals,e.binormals=u.binormals;var l=new ge,c=new ge,h=new B,d=new ge,f=[],p=[],v=[],m=[];function y(){for(var e=0;e<i;e++)_(e);_(!1===s?i:0),x(),b()}function _(e){d=r.getPointAt(e/i,d);for(var t=u.normals[e],n=u.binormals[e],s=0;s<=o;s++){var h=s/o*Math.PI*2,v=Math.sin(h),m=-Math.cos(h);c.x=m*t.x+v*n.x,c.y=m*t.y+v*n.y,c.z=m*t.z+v*n.z,c.normalize(),p.push(c.x,c.y,c.z),l.x=d.x+a*c.x,l.y=d.y+a*c.y,l.z=d.z+a*c.z,f.push(l.x,l.y,l.z)}}function b(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;m.push(n,r,s),m.push(r,a,s)}}function x(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)h.x=e/i,h.y=t/o,v.push(h.x,h.y)}return y(),e.setIndex(m),e.setAttribute("position",new sn(f,3)),e.setAttribute("normal",new sn(p,3)),e.setAttribute("uv",new sn(v,2)),e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new Ys[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(vn);t.TubeGeometry=Ku;var Qu=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((0,g.default)(this,n),e=t.call(this),e.type="WireframeGeometry",e.parameters={geometry:r},null!==r){var i=[],a=new Set,o=new ge,s=new ge;if(null!==r.index){var u=r.attributes.position,l=r.index,c=r.groups;0===c.length&&(c=[{start:0,count:l.count,materialIndex:0}]);for(var h=0,d=c.length;h<d;++h)for(var f=c[h],p=f.start,v=f.count,m=p,y=p+v;m<y;m+=3)for(var _=0;_<3;_++){var b=l.getX(m+_),x=l.getX(m+(_+1)%3);o.fromBufferAttribute(u,b),s.fromBufferAttribute(u,x),!0===Ju(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}}else for(var w=r.attributes.position,S=0,A=w.count/3;S<A;S++)for(var M=0;M<3;M++){var T=3*S+M,E=3*S+(M+1)%3;o.fromBufferAttribute(w,T),s.fromBufferAttribute(w,E),!0===Ju(o,s,a)&&(i.push(o.x,o.y,o.z),i.push(s.x,s.y,s.z))}e.setAttribute("position",new sn(i,3))}return e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}]),n}(vn);function Ju(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}t.WireframeGeometry=Qu;var Zu=Object.freeze({__proto__:null,BoxGeometry:Cn,CapsuleGeometry:Zs,CircleGeometry:$s,ConeGeometry:tu,CylinderGeometry:eu,DodecahedronGeometry:ru,EdgesGeometry:uu,ExtrudeGeometry:Fu,IcosahedronGeometry:zu,LatheGeometry:Js,OctahedronGeometry:Hu,PlaneGeometry:Zn,PolyhedronGeometry:nu,RingGeometry:Gu,ShapeGeometry:Wu,SphereGeometry:Vu,TetrahedronGeometry:qu,TorusGeometry:Xu,TorusKnotGeometry:Yu,TubeGeometry:Ku,WireframeGeometry:Qu}),$u=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isShadowMaterial=!0,r.type="ShadowMaterial",r.color=new Ft(0),r.transparent=!0,r.fog=!0,r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(Ht);t.ShadowMaterial=$u;var el=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this,e),r.isRawShaderMaterial=!0,r.type="RawShaderMaterial",r}return(0,y.default)(n)}(Ln);t.RawShaderMaterial=el;var tl=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isMeshStandardMaterial=!0,r.defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new Ft(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Ft(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new B(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapRotation=new rt,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Ht);t.MeshStandardMaterial=tl;var nl=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.anisotropyRotation=0,r.anisotropyMap=null,r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new B(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty((0,h.default)(r),"reflectivity",{get:function(){return P(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new Ft(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=1/0,r.attenuationColor=new Ft(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new Ft(1,1,1),r.specularColorMap=null,r._anisotropy=0,r._clearcoat=0,r._dispersion=0,r._iridescence=0,r._sheen=0,r._transmission=0,r.setValues(e),r}return(0,y.default)(n,[{key:"anisotropy",get:function(){return this._anisotropy},set:function(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"dispersion",get:function(){return this._dispersion},set:function(e){this._dispersion>0!==e>0&&this.version++,this._dispersion=e}},{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=(0,c.default)(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(tl);t.MeshPhysicalMaterial=nl;var rl=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new Ft(16777215),r.specular=new Ft(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Ft(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new B(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.envMapRotation=new rt,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Ht);t.MeshPhongMaterial=rl;var il=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isMeshToonMaterial=!0,r.defines={TOON:""},r.type="MeshToonMaterial",r.color=new Ft(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Ft(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new B(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(Ht);t.MeshToonMaterial=il;var al=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isMeshNormalMaterial=!0,r.type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new B(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.flatShading=!1,r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(Ht);t.MeshNormalMaterial=al;var ol=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new Ft(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Ft(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new B(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.envMapRotation=new rt,r.combine=0,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Ht);t.MeshLambertMaterial=ol;var sl=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isMeshMatcapMaterial=!0,r.defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new Ft(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new B(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(Ht);t.MeshMatcapMaterial=sl;var ul=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r.isLineDashedMaterial=!0,r.type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(ns);function ll(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function cl(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hl(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function dl(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i}function fl(e,t,n,r){var i=1,a=e[0];while(void 0!==a&&void 0===a[r])a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{o=a[r],void 0!==o&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[r],void 0!==o&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{o=a[r],void 0!==o&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}t.LineDashedMaterial=ul;var pl={convertArray:ll,isTypedArray:cl,getKeyframeOrder:hl,sortedArray:dl,flattenJSON:fl,subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var u=a.tracks[s],l=u.getValueSize(),c=[],h=[],d=0;d<u.times.length;++d){var f=u.times[d]*i;if(!(f<n||f>=r)){c.push(u.times[d]);for(var p=0;p<l;++p)h.push(u.values[d*l+p])}}0!==c.length&&(u.times=ll(c,u.times.constructor),u.values=ll(h,u.values.constructor),o.push(u))}a.tracks=o;for(var v=1/0,m=0;m<a.tracks.length;++m)v>a.tracks[m].times[0]&&(v=a.tracks[m].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*v);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var o=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===o)return"continue";var s=0,u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=u/3);var l=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=c/3);var h=r.times.length-1,d=void 0;if(a<=r.times[0]){var f=s,p=u-s;d=r.values.slice(f,p)}else if(a>=r.times[h]){var v=h*u+s,m=v+u-s;d=r.values.slice(v,m)}else{var g=r.createInterpolant(),y=s,_=u-s;g.evaluate(a),d=g.resultBuffer.slice(y,_)}if("quaternion"===i){var b=(new me).fromArray(d).normalize().conjugate();b.toArray(d)}for(var x=o.times.length,w=0;w<x;++w){var S=w*c+l;if("quaternion"===i)me.multiplyQuaternionsFlat(o.values,S,d,0,o.values,S);else for(var A=c-2*l,M=0;M<A;++M)o.values[S+M]-=d[M]}},s=0;s<i;++s)o(s);return e.blendMode=2501,e}};t.AnimationUtils=pl;var vl=function(){function e(t,n,r,i){(0,g.default)(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return(0,y.default)(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var u=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(r=i,i=t[--n-1],e>=i)break t}a=n,n=0}while(n<a){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}();t.Interpolant=vl;var ml=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i,a){var o;return(0,g.default)(this,n),o=t.call(this,e,r,i,a),o._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:2400,endingEnd:2400},o}return(0,y.default)(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:i=e,o=2*t-n;break;case 2402:i=r.length-2,o=t+r[i]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=e,s=2*n-t;break;case 2402:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,v=p*f,m=-h*v+2*h*p-h*f,g=(1+h)*v+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*v+(1.5+d)*p+.5*f,_=d*v-d*p,b=0;b!==o;++b)i[b]=m*a[l+b]+g*a[u+b]+y*a[s+b]+_*a[c+b];return i}}]),n}(vl);t.CubicInterpolant=ml;var gl=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i,a){return(0,g.default)(this,n),t.call(this,e,r,i,a)}return(0,y.default)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(r-t),c=1-l,h=0;h!==o;++h)i[h]=a[u+h]*c+a[s+h]*l;return i}}]),n}(vl);t.LinearInterpolant=gl;var yl=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i,a){return(0,g.default)(this,n),t.call(this,e,r,i,a)}return(0,y.default)(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(vl);t.DiscreteInterpolant=yl;var _l=function(){function t(e,n,r,i){if((0,g.default)(this,t),void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ll(n,this.TimeBufferType),this.values=ll(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return(0,y.default)(t,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new yl(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new gl(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new ml(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(t){var n;switch(t){case 2300:n=this.InterpolantFactoryMethodDiscrete;break;case 2301:n=this.InterpolantFactoryMethodLinear;break;case 2302:n=this.InterpolantFactoryMethodSmooth;break}if(void 0===n){var r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return e("warn","THREE.KeyframeTrack:",r," at node_modules/three/build/three.module.js:43188"),this}return this.createInterpolant=n,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){var n=this.times,r=n.length,i=0,a=r-1;while(i!==r&&n[i]<e)++i;while(-1!==a&&n[a]>t)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);var o=this.getValueSize();this.times=n.slice(i,a),this.values=this.values.slice(i*o,a*o)}return this}},{key:"validate",value:function(){var t=!0,n=this.getValueSize();n-Math.floor(n)!==0&&(e("error","THREE.KeyframeTrack: Invalid value size in track.",this," at node_modules/three/build/three.module.js:43315"),t=!1);var r=this.times,i=this.values,a=r.length;0===a&&(e("error","THREE.KeyframeTrack: Track is empty.",this," at node_modules/three/build/three.module.js:43327"),t=!1);for(var o=null,s=0;s!==a;s++){var u=r[s];if("number"===typeof u&&isNaN(u)){e("error","THREE.KeyframeTrack: Time is not a valid number.",this,s,u," at node_modules/three/build/three.module.js:43340"),t=!1;break}if(null!==o&&o>u){e("error","THREE.KeyframeTrack: Out of order keys.",this,s,u,o," at node_modules/three/build/three.module.js:43348"),t=!1;break}o=u}if(void 0!==i&&cl(i))for(var l=0,c=i.length;l!==c;++l){var h=i[l];if(isNaN(h)){e("error","THREE.KeyframeTrack: Value is not a valid number.",this,l,h," at node_modules/three/build/three.module.js:43368"),t=!1;break}}return t}},{key:"optimize",value:function(){for(var e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=2302===this.getInterpolation(),i=e.length-1,a=1,o=1;o<i;++o){var s=!1,u=e[o],l=e[o+1];if(u!==l&&(1!==o||u!==e[0]))if(r)s=!0;else for(var c=o*n,h=c-n,d=c+n,f=0;f!==n;++f){var p=t[c+f];if(p!==t[h+f]||p!==t[d+f]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var v=o*n,m=a*n,g=0;g!==n;++g)t[m+g]=t[v+g]}++a}}if(i>0){e[a]=e[i];for(var y=i*n,_=a*n,b=0;b!==n;++b)t[_+b]=t[y+b];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=this.times.slice(),t=this.values.slice(),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:ll(e.times,Array),values:ll(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),t}();t.KeyframeTrack=_l,_l.prototype.TimeBufferType=Float32Array,_l.prototype.ValueBufferType=Float32Array,_l.prototype.DefaultInterpolation=2301;var bl=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){return(0,g.default)(this,n),t.call(this,e,r,i)}return(0,y.default)(n)}(_l);t.BooleanKeyframeTrack=bl,bl.prototype.ValueTypeName="bool",bl.prototype.ValueBufferType=Array,bl.prototype.DefaultInterpolation=2300,bl.prototype.InterpolantFactoryMethodLinear=void 0,bl.prototype.InterpolantFactoryMethodSmooth=void 0;var xl=function(e){(0,d.default)(n,e);var t=S(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n)}(_l);t.ColorKeyframeTrack=xl,xl.prototype.ValueTypeName="color";var wl=function(e){(0,d.default)(n,e);var t=S(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n)}(_l);t.NumberKeyframeTrack=wl,wl.prototype.ValueTypeName="number";var Sl=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i,a){return(0,g.default)(this,n),t.call(this,e,r,i,a)}return(0,y.default)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),u=e*o,l=u+o;u!==l;u+=4)me.slerpFlat(i,0,a,u-o,a,u,s);return i}}]),n}(vl);t.QuaternionLinearInterpolant=Sl;var Al=function(e){(0,d.default)(n,e);var t=S(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Sl(this.times,this.values,this.getValueSize(),e)}}]),n}(_l);t.QuaternionKeyframeTrack=Al,Al.prototype.ValueTypeName="quaternion",Al.prototype.InterpolantFactoryMethodSmooth=void 0;var Ml=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){return(0,g.default)(this,n),t.call(this,e,r,i)}return(0,y.default)(n)}(_l);t.StringKeyframeTrack=Ml,Ml.prototype.ValueTypeName="string",Ml.prototype.ValueBufferType=Array,Ml.prototype.DefaultInterpolation=2300,Ml.prototype.InterpolantFactoryMethodLinear=void 0,Ml.prototype.InterpolantFactoryMethodSmooth=void 0;var Tl=function(e){(0,d.default)(n,e);var t=S(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n)}(_l);t.VectorKeyframeTrack=Tl,Tl.prototype.ValueTypeName="vector";var El=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2500;(0,g.default)(this,t),this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=C(),this.duration<0&&this.resetDuration()}return(0,y.default)(t,[{key:"resetDuration",value:function(){for(var e=this.tracks,t=0,n=0,r=e.length;n!==r;++n){var i=this.tracks[n];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(kl(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(_l.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var l=hl(s);s=dl(s,1,l),u=dl(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new wl(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=r[l];c||(r[l]=c=[]),c.push(s)}}var h=[];for(var d in r)h.push(this.CreateFromMorphTargetSequence(d,r[d],t,n));return h}},{key:"parseAnimation",value:function(t,n){if(!t)return e("error","THREE.AnimationClip: No animation in JSONLoader data."," at node_modules/three/build/three.module.js:43813"),null;for(var r=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];fl(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},i=[],a=t.name||"default",o=t.fps||30,s=t.blendMode,u=t.length||-1,l=t.hierarchy||[],c=0;c<l.length;c++){var h=l[c].keys;if(h&&0!==h.length)if(h[0].morphTargets){var d={},f=void 0;for(f=0;f<h.length;f++)if(h[f].morphTargets)for(var p=0;p<h[f].morphTargets.length;p++)d[h[f].morphTargets[p]]=-1;for(var v in d){for(var m=[],g=[],y=0;y!==h[f].morphTargets.length;++y){var _=h[f];m.push(_.time),g.push(_.morphTarget===v?1:0)}i.push(new wl(".morphTargetInfluence["+v+"]",m,g))}u=d.length*o}else{var b=".bones["+n[c].name+"]";r(Tl,b+".position",h,"pos",i),r(Al,b+".quaternion",h,"rot",i),r(Tl,b+".scale",h,"scl",i)}}if(0===i.length)return null;var x=new this(a,u,i,s);return x}}]),t}();function kl(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return wl;case"vector":case"vector2":case"vector3":case"vector4":return Tl;case"color":return xl;case"quaternion":return Al;case"bool":case"boolean":return bl;case"string":return Ml}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];fl(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}t.AnimationClip=El;var Cl={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};t.Cache=Cl;var Pl=(0,y.default)((function e(t,n,r){(0,g.default)(this,e);var i=this,a=!1,o=0,s=0,u=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return u?u(e):e},this.setURLModifier=function(e){return u=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}}));t.LoadingManager=Pl;var Rl=new Pl;t.DefaultLoadingManager=Rl;var Il=function(){function e(t){(0,g.default)(this,e),this.manager=void 0!==t?t:Rl,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return(0,y.default)(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}();t.Loader=Il,Il.DEFAULT_MATERIAL_NAME="__DEFAULT";var Ol={},Ll=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r){var i;return(0,g.default)(this,n),i=t.call(this,e),i.response=r,i}return(0,y.default)(n)}((0,o.default)(Error)),Dl=function(t){(0,d.default)(r,t);var n=S(r);function r(e){return(0,g.default)(this,r),n.call(this,e)}return(0,y.default)(r,[{key:"load",value:function(t,n,r,i){var a=this;void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var o=Cl.get(t);if(void 0!==o)return this.manager.itemStart(t),setTimeout((function(){n&&n(o),a.manager.itemEnd(t)}),0),o;if(void 0===Ol[t]){Ol[t]=[],Ol[t].push({onLoad:n,onProgress:r,onError:i});var s=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),u=this.mimeType,l=this.responseType;fetch(s).then((function(n){if(200===n.status||0===n.status){if(0===n.status&&e("warn","THREE.FileLoader: HTTP Status 0 received."," at node_modules/three/build/three.module.js:44436"),"undefined"===typeof ReadableStream||void 0===n.body||void 0===n.body.getReader)return n;var r=Ol[t],i=n.body.getReader(),a=n.headers.get("X-File-Size")||n.headers.get("Content-Length"),o=a?parseInt(a):0,s=0!==o,u=0,l=new ReadableStream({start:function(e){(function t(){i.read().then((function(n){var i=n.done,a=n.value;if(i)e.close();else{u+=a.byteLength;for(var l=new ProgressEvent("progress",{lengthComputable:s,loaded:u,total:o}),c=0,h=r.length;c<h;c++){var d=r[c];d.onProgress&&d.onProgress(l)}e.enqueue(a),t()}}),(function(t){e.error(t)}))})()}});return new Response(l)}throw new Ll('fetch for "'.concat(n.url,'" responded with ').concat(n.status,": ").concat(n.statusText),n)})).then((function(e){switch(l){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){var t=new DOMParser;return t.parseFromString(e,u)}));case"json":return e.json();default:if(void 0===u)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(u),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(e){Cl.add(t,e);var n=Ol[t];delete Ol[t];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(e)}})).catch((function(e){var n=Ol[t];if(void 0===n)throw a.manager.itemError(t),e;delete Ol[t];for(var r=0,i=n.length;r<i;r++){var o=n[r];o.onError&&o.onError(e)}a.manager.itemError(t)})).finally((function(){a.manager.itemEnd(t)})),this.manager.itemStart(t)}else Ol[t].push({onLoad:n,onProgress:r,onError:i})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),r}(Il);t.FileLoader=Dl;var Bl=function(t){(0,d.default)(r,t);var n=S(r);function r(e){return(0,g.default)(this,r),n.call(this,e)}return(0,y.default)(r,[{key:"load",value:function(t,n,r,i){var a=this,o=new Dl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(r){try{n(a.parse(JSON.parse(r)))}catch(o){i?i(o):e("error",o," at node_modules/three/build/three.module.js:44655"),a.manager.itemError(t)}}),r,i)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=El.parse(e[n]);t.push(r)}return t}}]),r}(Il);t.AnimationLoader=Bl;var Ul=function(e){(0,d.default)(n,e);var t=S(n);function n(e){return(0,g.default)(this,n),t.call(this,e)}return(0,y.default)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=[],o=new Ms,s=new Dl(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var u=0;function l(l){s.load(e[l],(function(e){var n=i.parse(e,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},u+=1,6===u&&(1===n.mipmapCount&&(o.minFilter=1006),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var c=0,h=e.length;c<h;++c)l(c);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=1006),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(Il);t.CompressedTextureLoader=Ul;var Nl=function(e){(0,d.default)(n,e);var t=S(n);function n(e){return(0,g.default)(this,n),t.call(this,e)}return(0,y.default)(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Cl.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=H("img");function s(){l(),Cl.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){l(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(Il);t.ImageLoader=Nl;var Fl=function(e){(0,d.default)(n,e);var t=S(n);function n(e){return(0,g.default)(this,n),t.call(this,e)}return(0,y.default)(n,[{key:"load",value:function(e,t,n,r){var i=new zn;i.colorSpace="srgb";var a=new Nl(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,o++,6===o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i}}]),n}(Il);t.CubeTextureLoader=Fl;var jl=function(t){(0,d.default)(r,t);var n=S(r);function r(e){return(0,g.default)(this,r),n.call(this,e)}return(0,y.default)(r,[{key:"load",value:function(t,n,r,i){var a=this,o=new Ao,s=new Dl(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(t,(function(t){var r;try{r=a.parse(t)}catch(s){if(void 0===i)return void e("error",s," at node_modules/three/build/three.module.js:44989");i(s)}void 0!==r.image?o.image=r.image:void 0!==r.data&&(o.image.width=r.width,o.image.height=r.height,o.image.data=r.data),o.wrapS=void 0!==r.wrapS?r.wrapS:1001,o.wrapT=void 0!==r.wrapT?r.wrapT:1001,o.magFilter=void 0!==r.magFilter?r.magFilter:1006,o.minFilter=void 0!==r.minFilter?r.minFilter:1006,o.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.colorSpace&&(o.colorSpace=r.colorSpace),void 0!==r.flipY&&(o.flipY=r.flipY),void 0!==r.format&&(o.format=r.format),void 0!==r.type&&(o.type=r.type),void 0!==r.mipmaps&&(o.mipmaps=r.mipmaps,o.minFilter=1008),1===r.mipmapCount&&(o.minFilter=1006),void 0!==r.generateMipmaps&&(o.generateMipmaps=r.generateMipmaps),o.needsUpdate=!0,n&&n(o,r)}),r,i),o}}]),r}(Il);t.DataTextureLoader=jl;var zl=function(e){(0,d.default)(n,e);var t=S(n);function n(e){return(0,g.default)(this,n),t.call(this,e)}return(0,y.default)(n,[{key:"load",value:function(e,t,n,r){var i=new ue,a=new Nl(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(Il);t.TextureLoader=zl;var Hl=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,g.default)(this,n),r=t.call(this),r.isLight=!0,r.type="Light",r.color=new Ft(e),r.intensity=i,r}return(0,y.default)(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}]),n}(bt);t.Light=Hl;var Gl=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){var a;return(0,g.default)(this,n),a=t.call(this,e,i),a.isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(bt.DEFAULT_UP),a.updateMatrix(),a.groundColor=new Ft(r),a}return(0,y.default)(n,[{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(Hl);t.HemisphereLight=Gl;var Wl=new Xe,Vl=new ge,ql=new ge,Xl=function(){function e(t){(0,g.default)(this,e),this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new B(512,512),this.map=null,this.mapPass=null,this.matrix=new Xe,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Kn,this._frameExtents=new B(1,1),this._viewportCount=1,this._viewports=[new le(0,0,1,1)]}return(0,y.default)(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;Vl.setFromMatrixPosition(e.matrixWorld),t.position.copy(Vl),ql.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(ql),t.updateMatrixWorld(),Wl.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Wl),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Wl)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),Yl=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this,new Fn(50,1,.5,500)),e.isSpotLightShadow=!0,e.focus=1,e}return(0,y.default)(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*k*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),(0,l.default)((0,p.default)(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(Xl),Kl=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return(0,g.default)(this,n),i=t.call(this,e,r),i.isSpotLight=!0,i.type="SpotLight",i.position.copy(bt.DEFAULT_UP),i.updateMatrix(),i.target=new bt,i.distance=a,i.angle=o,i.penumbra=s,i.decay=u,i.map=null,i.shadow=new Yl,i}return(0,y.default)(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Hl);t.SpotLight=Kl;var Ql=new Xe,Jl=new ge,Zl=new ge,$l=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this,new Fn(90,1,.5,500)),e.isPointLightShadow=!0,e._frameExtents=new B(4,2),e._viewportCount=6,e._viewports=[new le(2,1,1,1),new le(0,1,1,1),new le(3,1,1,1),new le(1,1,1,1),new le(3,0,1,1),new le(1,0,1,1)],e._cubeDirections=[new ge(1,0,0),new ge(-1,0,0),new ge(0,0,1),new ge(0,0,-1),new ge(0,1,0),new ge(0,-1,0)],e._cubeUps=[new ge(0,1,0),new ge(0,1,0),new ge(0,1,0),new ge(0,1,0),new ge(0,0,1),new ge(0,0,-1)],e}return(0,y.default)(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Jl.setFromMatrixPosition(e.matrixWorld),n.position.copy(Jl),Zl.copy(n.position),Zl.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Zl),n.updateMatrixWorld(),r.makeTranslation(-Jl.x,-Jl.y,-Jl.z),Ql.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ql)}}]),n}(Xl),ec=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return(0,g.default)(this,n),i=t.call(this,e,r),i.isPointLight=!0,i.type="PointLight",i.distance=a,i.decay=o,i.shadow=new $l,i}return(0,y.default)(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(Hl);t.PointLight=ec;var tc=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this,new hr(-5,5,5,-5,.5,500)),e.isDirectionalLightShadow=!0,e}return(0,y.default)(n)}(Xl),nc=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r){var i;return(0,g.default)(this,n),i=t.call(this,e,r),i.isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(bt.DEFAULT_UP),i.updateMatrix(),i.target=new bt,i.shadow=new tc,i}return(0,y.default)(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Hl);t.DirectionalLight=nc;var rc=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r){var i;return(0,g.default)(this,n),i=t.call(this,e,r),i.isAmbientLight=!0,i.type="AmbientLight",i}return(0,y.default)(n)}(Hl);t.AmbientLight=rc;var ic=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(0,g.default)(this,n),i=t.call(this,e,r),i.isRectAreaLight=!0,i.type="RectAreaLight",i.width=a,i.height=o,i}return(0,y.default)(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(Hl);t.RectAreaLight=ic;var ac=function(){function e(){(0,g.default)(this,e),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new ge)}return(0,y.default)(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}();t.SphericalHarmonics3=ac;var oc=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ac,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,g.default)(this,n),e=t.call(this,void 0,i),e.isLightProbe=!0,e.sh=r,e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(Hl);t.LightProbe=oc;var sc=function(t){(0,d.default)(r,t);var n=S(r);function r(e){var t;return(0,g.default)(this,r),t=n.call(this,e),t.textures={},t}return(0,y.default)(r,[{key:"load",value:function(t,n,r,i){var a=this,o=new Dl(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(t,(function(r){try{n(a.parse(JSON.parse(r)))}catch(o){i?i(o):e("error",o," at node_modules/three/build/three.module.js:46019"),a.manager.itemError(t)}}),r,i)}},{key:"parse",value:function(t){var n=this.textures;function r(t){return void 0===n[t]&&e("warn","THREE.MaterialLoader: Undefined texture",t," at node_modules/three/build/three.module.js:46039"),n[t]}var i=this.createMaterialFromType(t.type);if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&void 0!==i.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.sheen&&(i.sheen=t.sheen),void 0!==t.sheenColor&&(i.sheenColor=(new Ft).setHex(t.sheenColor)),void 0!==t.sheenRoughness&&(i.sheenRoughness=t.sheenRoughness),void 0!==t.emissive&&void 0!==i.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==i.specular&&i.specular.setHex(t.specular),void 0!==t.specularIntensity&&(i.specularIntensity=t.specularIntensity),void 0!==t.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(t.specularColor),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearcoat&&(i.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(i.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.dispersion&&(i.dispersion=t.dispersion),void 0!==t.iridescence&&(i.iridescence=t.iridescence),void 0!==t.iridescenceIOR&&(i.iridescenceIOR=t.iridescenceIOR),void 0!==t.iridescenceThicknessRange&&(i.iridescenceThicknessRange=t.iridescenceThicknessRange),void 0!==t.transmission&&(i.transmission=t.transmission),void 0!==t.thickness&&(i.thickness=t.thickness),void 0!==t.attenuationDistance&&(i.attenuationDistance=t.attenuationDistance),void 0!==t.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(t.attenuationColor),void 0!==t.anisotropy&&(i.anisotropy=t.anisotropy),void 0!==t.anisotropyRotation&&(i.anisotropyRotation=t.anisotropyRotation),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.shadowSide&&(i.shadowSide=t.shadowSide),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.alphaHash&&(i.alphaHash=t.alphaHash),void 0!==t.depthFunc&&(i.depthFunc=t.depthFunc),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.blendSrc&&(i.blendSrc=t.blendSrc),void 0!==t.blendDst&&(i.blendDst=t.blendDst),void 0!==t.blendEquation&&(i.blendEquation=t.blendEquation),void 0!==t.blendSrcAlpha&&(i.blendSrcAlpha=t.blendSrcAlpha),void 0!==t.blendDstAlpha&&(i.blendDstAlpha=t.blendDstAlpha),void 0!==t.blendEquationAlpha&&(i.blendEquationAlpha=t.blendEquationAlpha),void 0!==t.blendColor&&void 0!==i.blendColor&&i.blendColor.setHex(t.blendColor),void 0!==t.blendAlpha&&(i.blendAlpha=t.blendAlpha),void 0!==t.stencilWriteMask&&(i.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(i.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(i.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(i.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(i.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(i.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(i.stencilZPass=t.stencilZPass),void 0!==t.stencilWrite&&(i.stencilWrite=t.stencilWrite),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),void 0!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.alphaToCoverage&&(i.alphaToCoverage=t.alphaToCoverage),void 0!==t.premultipliedAlpha&&(i.premultipliedAlpha=t.premultipliedAlpha),void 0!==t.forceSinglePass&&(i.forceSinglePass=t.forceSinglePass),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.toneMapped&&(i.toneMapped=t.toneMapped),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.vertexColors&&("number"===typeof t.vertexColors?i.vertexColors=t.vertexColors>0:i.vertexColors=t.vertexColors),void 0!==t.uniforms)for(var a in t.uniforms){var o=t.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=(new Ft).setHex(o.value);break;case"v2":i.uniforms[a].value=(new B).fromArray(o.value);break;case"v3":i.uniforms[a].value=(new ge).fromArray(o.value);break;case"v4":i.uniforms[a].value=(new le).fromArray(o.value);break;case"m3":i.uniforms[a].value=(new U).fromArray(o.value);break;case"m4":i.uniforms[a].value=(new Xe).fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.glslVersion&&(i.glslVersion=t.glslVersion),void 0!==t.extensions)for(var s in t.extensions)i.extensions[s]=t.extensions[s];if(void 0!==t.lights&&(i.lights=t.lights),void 0!==t.clipping&&(i.clipping=t.clipping),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=r(t.map)),void 0!==t.matcap&&(i.matcap=r(t.matcap)),void 0!==t.alphaMap&&(i.alphaMap=r(t.alphaMap)),void 0!==t.bumpMap&&(i.bumpMap=r(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=r(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){var u=t.normalScale;!1===Array.isArray(u)&&(u=[u,u]),i.normalScale=(new B).fromArray(u)}return void 0!==t.displacementMap&&(i.displacementMap=r(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=r(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=r(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=r(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=r(t.specularMap)),void 0!==t.specularIntensityMap&&(i.specularIntensityMap=r(t.specularIntensityMap)),void 0!==t.specularColorMap&&(i.specularColorMap=r(t.specularColorMap)),void 0!==t.envMap&&(i.envMap=r(t.envMap)),void 0!==t.envMapRotation&&i.envMapRotation.fromArray(t.envMapRotation),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(i.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(i.lightMap=r(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=r(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=r(t.gradientMap)),void 0!==t.clearcoatMap&&(i.clearcoatMap=r(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=r(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(i.clearcoatNormalMap=r(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(i.clearcoatNormalScale=(new B).fromArray(t.clearcoatNormalScale)),void 0!==t.iridescenceMap&&(i.iridescenceMap=r(t.iridescenceMap)),void 0!==t.iridescenceThicknessMap&&(i.iridescenceThicknessMap=r(t.iridescenceThicknessMap)),void 0!==t.transmissionMap&&(i.transmissionMap=r(t.transmissionMap)),void 0!==t.thicknessMap&&(i.thicknessMap=r(t.thicknessMap)),void 0!==t.anisotropyMap&&(i.anisotropyMap=r(t.anisotropyMap)),void 0!==t.sheenColorMap&&(i.sheenColorMap=r(t.sheenColorMap)),void 0!==t.sheenRoughnessMap&&(i.sheenRoughnessMap=r(t.sheenRoughnessMap)),i}},{key:"setTextures",value:function(e){return this.textures=e,this}},{key:"createMaterialFromType",value:function(e){return r.createMaterialFromType(e)}}],[{key:"createMaterialFromType",value:function(e){var t={ShadowMaterial:$u,SpriteMaterial:Ya,RawShaderMaterial:el,ShaderMaterial:Ln,PointsMaterial:ms,MeshPhysicalMaterial:nl,MeshStandardMaterial:tl,MeshPhongMaterial:rl,MeshToonMaterial:il,MeshNormalMaterial:al,MeshLambertMaterial:ol,MeshDepthMaterial:xa,MeshDistanceMaterial:wa,MeshBasicMaterial:Gt,MeshMatcapMaterial:sl,LineDashedMaterial:ul,LineBasicMaterial:ns,Material:Ht};return new t[e]}}]),r}(Il);t.MaterialLoader=sc;var uc=function(){function t(){(0,g.default)(this,t)}return(0,y.default)(t,null,[{key:"decodeText",value:function(t){if(e("warn","THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."," at node_modules/three/build/three.module.js:46342"),"undefined"!==typeof TextDecoder)return(new TextDecoder).decode(t);for(var n="",r=0,i=t.length;r<i;r++)n+=String.fromCharCode(t[r]);try{return decodeURIComponent(escape(n))}catch(a){return n}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),t}();t.LoaderUtils=uc;var lc=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this),e.isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"toJSON",value:function(){var e=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(vn);t.InstancedBufferGeometry=lc;var cc=function(t){(0,d.default)(r,t);var n=S(r);function r(e){return(0,g.default)(this,r),n.call(this,e)}return(0,y.default)(r,[{key:"load",value:function(t,n,r,i){var a=this,o=new Dl(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(t,(function(r){try{n(a.parse(JSON.parse(r)))}catch(o){i?i(o):e("error",o," at node_modules/three/build/three.module.js:46481"),a.manager.itemError(t)}}),r,i)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers,a=i[r],o=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,a.buffer),s=z(a.type,o),u=new Wa(s,a.stride);return u.uuid=a.uuid,t[r]=u,u}var i=e.isInstancedBufferGeometry?new lc:new vn,a=e.data.index;if(void 0!==a){var o=z(a.type,a.array);i.setIndex(new Jt(o,1))}var s=e.data.attributes;for(var u in s){var l=s[u],c=void 0;if(l.isInterleavedBufferAttribute){var h=r(e.data,l.data);c=new qa(h,l.itemSize,l.offset,l.normalized)}else{var d=z(l.type,l.array),f=l.isInstancedBufferAttribute?ko:Jt;c=new f(d,l.itemSize,l.normalized)}void 0!==l.name&&(c.name=l.name),void 0!==l.usage&&c.setUsage(l.usage),i.setAttribute(u,c)}var p=e.data.morphAttributes;if(p)for(var v in p){for(var m=p[v],g=[],y=0,_=m.length;y<_;y++){var b=m[y],x=void 0;if(b.isInterleavedBufferAttribute){var w=r(e.data,b.data);x=new qa(w,b.itemSize,b.offset,b.normalized)}else{var S=z(b.type,b.array);x=new Jt(S,b.itemSize,b.normalized)}void 0!==b.name&&(x.name=b.name),g.push(x)}i.morphAttributes[v]=g}var A=e.data.morphTargetsRelative;A&&(i.morphTargetsRelative=!0);var M=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==M)for(var T=0,E=M.length;T!==E;++T){var k=M[T];i.addGroup(k.start,k.count,k.materialIndex)}var C=e.data.boundingSphere;if(void 0!==C){var P=new ge;void 0!==C.center&&P.fromArray(C.center),i.boundingSphere=new Ne(P,C.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),r}(Il);t.BufferGeometryLoader=cc;var hc=function(t){(0,d.default)(r,t);var n=S(r);function r(e){return(0,g.default)(this,r),n.call(this,e)}return(0,y.default)(r,[{key:"load",value:function(t,n,r,i){var a=this,o=""===this.path?uc.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;var s=new Dl(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,(function(r){var o=null;try{o=JSON.parse(r)}catch(u){return void 0!==i&&i(u),void e("error","THREE:ObjectLoader: Can't parse "+t+".",u.message," at node_modules/three/build/three.module.js:46686")}var s=o.metadata;if(void 0===s||void 0===s.type||"geometry"===s.type.toLowerCase())return void 0!==i&&i(new Error("THREE.ObjectLoader: Can't load "+t)),void e("error","THREE.ObjectLoader: Can't load "+t," at node_modules/three/build/three.module.js:46698");a.parse(o,n)}),r,i)}},{key:"loadAsync",value:function(){var e=(0,s.default)(v.default.mark((function e(t,n){var r,i,a,o,s,u;return v.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this,i=""===this.path?uc.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||i,a=new Dl(this.manager),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),e.next=9,a.loadAsync(t,n);case 9:if(o=e.sent,s=JSON.parse(o),u=s.metadata,void 0!==u&&void 0!==u.type&&"geometry"!==u.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(s);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(u)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,i,s,o,n),l=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,l),this.bindLightTargets(u),void 0!==t){var c=!1;for(var h in a)if(a[h].data instanceof HTMLImageElement){c=!0;break}!1===c&&t(u)}return u}},{key:"parseAsync",value:function(){var e=(0,s.default)(v.default.mark((function e(t){var n,r,i,a,o,s,u,l;return v.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return a=e.sent,o=this.parseTextures(t.textures,a),s=this.parseMaterials(t.materials,o),u=this.parseObject(t.object,i,s,o,n),l=this.parseSkeletons(t.skeletons,u),this.bindSkeletons(u,l),this.bindLightTargets(u),e.abrupt("return",u);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new lu).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=(new Eo).fromJSON(e[i],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(t,n){var r={};if(void 0!==t)for(var i=new cc,a=0,o=t.length;a<o;a++){var s=void 0,u=t[a];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(u);break;default:u.type in Zu?s=Zu[u.type].fromJSON(u,n):e("warn",'THREE.ObjectLoader: Unsupported geometry type "'.concat(u.type,'"')," at node_modules/three/build/three.module.js:46884")}s.uuid=u.uuid,void 0!==u.name&&(s.name=u.name),void 0!==u.userData&&(s.userData=u.userData),r[u.uuid]=s}return r}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new sc;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=El.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function a(e){if("string"===typeof e){var t=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(i)}return e.data?{data:z(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new Pl(t);n=new Nl(o),n.setCrossOrigin(this.crossOrigin);for(var s=0,u=e.length;s<u;s++){var l=e[s],c=l.url;if(Array.isArray(c)){for(var h=[],d=0,f=c.length;d<f;d++){var p=c[d],v=a(p);null!==v&&(v instanceof HTMLImageElement?h.push(v):h.push(new Ao(v.data,v.width,v.height)))}i[l.uuid]=new ae(h)}else{var m=a(l.url);i[l.uuid]=new ae(m)}}}return i}},{key:"parseImagesAsync",value:function(){var e=(0,s.default)(v.default.mark((function e(t){var n,r,i,a,o,u,l,c,h,d,f,p,m,g,y;return v.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=function(){return o=(0,s.default)(v.default.mark((function e(t){var r,a;return v.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return r=t,a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r)?r:n.resourcePath+r,e.next=5,i.loadAsync(a);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:z(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)},a=function(e){return o.apply(this,arguments)},n=this,r={},!(void 0!==t&&t.length>0)){e.next=33;break}i=new Nl(this.manager),i.setCrossOrigin(this.crossOrigin),u=0,l=t.length;case 8:if(!(u<l)){e.next=33;break}if(c=t[u],h=c.url,!Array.isArray(h)){e.next=26;break}d=[],f=0,p=h.length;case 14:if(!(f<p)){e.next=23;break}return m=h[f],e.next=18,a(m);case 18:g=e.sent,null!==g&&(g instanceof HTMLImageElement?d.push(g):d.push(new Ao(g.data,g.width,g.height)));case 20:f++,e.next=14;break;case 23:r[c.uuid]=new ae(d),e.next=30;break;case 26:return e.next=28,a(c.url);case 28:y=e.sent,r[c.uuid]=new ae(y);case 30:u++,e.next=8;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(t,n){function r(t,n){return"number"===typeof t?t:(e("warn","THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t," at node_modules/three/build/three.module.js:47175"),n[t])}var i={};if(void 0!==t)for(var a=0,o=t.length;a<o;a++){var s=t[a];void 0===s.image&&e("warn",'THREE.ObjectLoader: No "image" specified for',s.uuid," at node_modules/three/build/three.module.js:47191"),void 0===n[s.image]&&e("warn","THREE.ObjectLoader: Undefined image",s.image," at node_modules/three/build/three.module.js:47197");var u=n[s.image],l=u.data,c=void 0;Array.isArray(l)?(c=new zn,6===l.length&&(c.needsUpdate=!0)):(c=l&&l.data?new Ao:new ue,l&&(c.needsUpdate=!0)),c.source=u,c.uuid=s.uuid,void 0!==s.name&&(c.name=s.name),void 0!==s.mapping&&(c.mapping=r(s.mapping,fc)),void 0!==s.channel&&(c.channel=s.channel),void 0!==s.offset&&c.offset.fromArray(s.offset),void 0!==s.repeat&&c.repeat.fromArray(s.repeat),void 0!==s.center&&c.center.fromArray(s.center),void 0!==s.rotation&&(c.rotation=s.rotation),void 0!==s.wrap&&(c.wrapS=r(s.wrap[0],pc),c.wrapT=r(s.wrap[1],pc)),void 0!==s.format&&(c.format=s.format),void 0!==s.internalFormat&&(c.internalFormat=s.internalFormat),void 0!==s.type&&(c.type=s.type),void 0!==s.colorSpace&&(c.colorSpace=s.colorSpace),void 0!==s.minFilter&&(c.minFilter=r(s.minFilter,vc)),void 0!==s.magFilter&&(c.magFilter=r(s.magFilter,vc)),void 0!==s.anisotropy&&(c.anisotropy=s.anisotropy),void 0!==s.flipY&&(c.flipY=s.flipY),void 0!==s.generateMipmaps&&(c.generateMipmaps=s.generateMipmaps),void 0!==s.premultiplyAlpha&&(c.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(c.unpackAlignment=s.unpackAlignment),void 0!==s.compareFunction&&(c.compareFunction=s.compareFunction),void 0!==s.userData&&(c.userData=s.userData),i[s.uuid]=c}return i}},{key:"parseObject",value:function(t,n,r,i,a){var o,s,u;function l(t){return void 0===n[t]&&e("warn","THREE.ObjectLoader: Undefined geometry",t," at node_modules/three/build/three.module.js:47285"),n[t]}function c(t){if(void 0!==t){if(Array.isArray(t)){for(var n=[],i=0,a=t.length;i<a;i++){var o=t[i];void 0===r[o]&&e("warn","THREE.ObjectLoader: Undefined material",o," at node_modules/three/build/three.module.js:47307"),n.push(r[o])}return n}return void 0===r[t]&&e("warn","THREE.ObjectLoader: Undefined material",t," at node_modules/three/build/three.module.js:47321"),r[t]}}function h(t){return void 0===i[t]&&e("warn","THREE.ObjectLoader: Undefined texture",t," at node_modules/three/build/three.module.js:47333"),i[t]}switch(t.type){case"Scene":o=new Ga,void 0!==t.background&&(Number.isInteger(t.background)?o.background=new Ft(t.background):o.background=h(t.background)),void 0!==t.environment&&(o.environment=h(t.environment)),void 0!==t.fog&&("Fog"===t.fog.type?o.fog=new Ha(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(o.fog=new za(t.fog.color,t.fog.density)),""!==t.fog.name&&(o.fog.name=t.fog.name)),void 0!==t.backgroundBlurriness&&(o.backgroundBlurriness=t.backgroundBlurriness),void 0!==t.backgroundIntensity&&(o.backgroundIntensity=t.backgroundIntensity),void 0!==t.backgroundRotation&&o.backgroundRotation.fromArray(t.backgroundRotation),void 0!==t.environmentIntensity&&(o.environmentIntensity=t.environmentIntensity),void 0!==t.environmentRotation&&o.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":o=new Fn(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(o.focus=t.focus),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.filmGauge&&(o.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(o.filmOffset=t.filmOffset),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new hr(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new rc(t.color,t.intensity);break;case"DirectionalLight":o=new nc(t.color,t.intensity),o.target=t.target||"";break;case"PointLight":o=new ec(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new ic(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new Kl(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),o.target=t.target||"";break;case"HemisphereLight":o=new Gl(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=(new oc).fromJSON(t);break;case"SkinnedMesh":s=l(t.geometry),u=c(t.material),o=new wo(s,u),void 0!==t.bindMode&&(o.bindMode=t.bindMode),void 0!==t.bindMatrix&&o.bindMatrix.fromArray(t.bindMatrix),void 0!==t.skeleton&&(o.skeleton=t.skeleton);break;case"Mesh":s=l(t.geometry),u=c(t.material),o=new En(s,u);break;case"InstancedMesh":s=l(t.geometry),u=c(t.material);var d=t.count,f=t.instanceMatrix,p=t.instanceColor;o=new Bo(s,u,d),o.instanceMatrix=new ko(new Float32Array(f.array),16),void 0!==p&&(o.instanceColor=new ko(new Float32Array(p.array),p.itemSize));break;case"BatchedMesh":s=l(t.geometry),u=c(t.material),o=new ts(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,u),o.geometry=s,o.perObjectFrustumCulled=t.perObjectFrustumCulled,o.sortObjects=t.sortObjects,o._drawRanges=t.drawRanges,o._reservedRanges=t.reservedRanges,o._visibility=t.visibility,o._active=t.active,o._bounds=t.bounds.map((function(e){var t=new be;t.min.fromArray(e.boxMin),t.max.fromArray(e.boxMax);var n=new Ne;return n.radius=e.sphereRadius,n.center.fromArray(e.sphereCenter),{boxInitialized:e.boxInitialized,box:t,sphereInitialized:e.sphereInitialized,sphere:n}})),o._maxInstanceCount=t.maxInstanceCount,o._maxVertexCount=t.maxVertexCount,o._maxIndexCount=t.maxIndexCount,o._geometryInitialized=t.geometryInitialized,o._geometryCount=t.geometryCount,o._matricesTexture=h(t.matricesTexture.uuid),void 0!==t.colorsTexture&&(o._colorsTexture=h(t.colorsTexture.uuid));break;case"LOD":o=new ho;break;case"Line":o=new cs(l(t.geometry),c(t.material));break;case"LineLoop":o=new vs(l(t.geometry),c(t.material));break;case"LineSegments":o=new ps(l(t.geometry),c(t.material));break;case"PointCloud":case"Points":o=new xs(l(t.geometry),c(t.material));break;case"Sprite":o=new so(c(t.material));break;case"Group":o=new Ra;break;case"Bone":o=new So;break;default:o=new bt}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(o.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.quaternion&&o.quaternion.fromArray(t.quaternion),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.up&&o.up.fromArray(t.up),void 0!==t.castShadow&&(o.castShadow=t.castShadow),void 0!==t.receiveShadow&&(o.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.intensity&&(o.shadow.intensity=t.shadow.intensity),void 0!==t.shadow.bias&&(o.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(o.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(o.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&o.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(o.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.frustumCulled&&(o.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(o.renderOrder=t.renderOrder),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.layers&&(o.layers.mask=t.layers),void 0!==t.children)for(var v=t.children,m=0;m<v.length;m++)o.add(this.parseObject(v[m],n,r,i,a));if(void 0!==t.animations)for(var g=t.animations,y=0;y<g.length;y++){var _=g[y];o.animations.push(a[_])}if("LOD"===t.type){void 0!==t.autoUpdate&&(o.autoUpdate=t.autoUpdate);for(var b=t.levels,x=0;x<b.length;x++){var w=b[x],S=o.getObjectByProperty("uuid",w.object);void 0!==S&&o.addLevel(S,w.distance,w.hysteresis)}}return o}},{key:"bindSkeletons",value:function(t,n){0!==Object.keys(n).length&&t.traverse((function(t){if(!0===t.isSkinnedMesh&&void 0!==t.skeleton){var r=n[t.skeleton];void 0===r?e("warn","THREE.ObjectLoader: No skeleton found with UUID:",t.skeleton," at node_modules/three/build/three.module.js:47706"):t.bind(r,t.bindMatrix)}}))}},{key:"bindLightTargets",value:function(e){e.traverse((function(t){if(t.isDirectionalLight||t.isSpotLight){var n=t.target,r=e.getObjectByProperty("uuid",n);t.target=void 0!==r?r:new bt}}))}}]),r}(Il);t.ObjectLoader=hc;var dc,fc={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306},pc={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},vc={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008},mc=function(t){(0,d.default)(r,t);var n=S(r);function r(t){var i;return(0,g.default)(this,r),i=n.call(this,t),i.isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&e("warn","THREE.ImageBitmapLoader: createImageBitmap() not supported."," at node_modules/three/build/three.module.js:47782"),"undefined"===typeof fetch&&e("warn","THREE.ImageBitmapLoader: fetch() not supported."," at node_modules/three/build/three.module.js:47788"),i.options={premultiplyAlpha:"none"},i}return(0,y.default)(r,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Cl.get(e);if(void 0!==a)return i.manager.itemStart(e),a.then?void a.then((function(n){t&&t(n),i.manager.itemEnd(e)})).catch((function(e){r&&r(e)})):(setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a);var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader;var s=fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){return Cl.add(e,n),t&&t(n),i.manager.itemEnd(e),n})).catch((function(t){r&&r(t),Cl.remove(e),i.manager.itemError(e),i.manager.itemEnd(e)}));Cl.add(e,s),i.manager.itemStart(e)}}]),r}(Il);t.ImageBitmapLoader=mc;var gc=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,null,[{key:"getContext",value:function(){return void 0===dc&&(dc=new(window.AudioContext||window.webkitAudioContext)),dc}},{key:"setContext",value:function(e){dc=e}}]),e}();t.AudioContext=gc;var yc=function(t){(0,d.default)(r,t);var n=S(r);function r(e){return(0,g.default)(this,r),n.call(this,e)}return(0,y.default)(r,[{key:"load",value:function(t,n,r,i){var a=this,o=new Dl(this.manager);function s(n){i?i(n):e("error",n," at node_modules/three/build/three.module.js:47963"),a.manager.itemError(t)}o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(e){try{var t=e.slice(0),r=gc.getContext();r.decodeAudioData(t,(function(e){n(e)})).catch(s)}catch(i){s(i)}}),r,i)}}]),r}(Il);t.AudioLoader=yc;var _c=new Xe,bc=new Xe,xc=new Xe,wc=function(){function e(){(0,g.default)(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Fn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Fn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return(0,y.default)(e,[{key:"update",value:function(e){var t=this._cache,n=t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep;if(n){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,xc.copy(e.projectionMatrix);var r,i,a=t.eyeSep/2,o=a*t.near/t.focus,s=t.near*Math.tan(E*t.fov*.5)/t.zoom;bc.elements[12]=-a,_c.elements[12]=a,r=-s*t.aspect+o,i=s*t.aspect+o,xc.elements[0]=2*t.near/(i-r),xc.elements[8]=(i+r)/(i-r),this.cameraL.projectionMatrix.copy(xc),r=-s*t.aspect-o,i=s*t.aspect-o,xc.elements[0]=2*t.near/(i-r),xc.elements[8]=(i+r)/(i-r),this.cameraR.projectionMatrix.copy(xc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(bc),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(_c)}}]),e}();t.StereoCamera=wc;var Sc=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,g.default)(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return(0,y.default)(e,[{key:"start",value:function(){this.startTime=Ac(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=Ac();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function Ac(){return performance.now()}t.Clock=Sc;var Mc=new ge,Tc=new me,Ec=new ge,kc=new ge,Cc=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this),e.type="AudioListener",e.context=gc.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new Sc,e}return(0,y.default)(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){(0,l.default)((0,p.default)(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Mc,Tc,Ec),kc.set(0,0,-1).applyQuaternion(Tc),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Mc.x,i),t.positionY.linearRampToValueAtTime(Mc.y,i),t.positionZ.linearRampToValueAtTime(Mc.z,i),t.forwardX.linearRampToValueAtTime(kc.x,i),t.forwardY.linearRampToValueAtTime(kc.y,i),t.forwardZ.linearRampToValueAtTime(kc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Mc.x,Mc.y,Mc.z),t.setOrientation(kc.x,kc.y,kc.z,r.x,r.y,r.z)}}]),n}(bt);t.AudioListener=Cc;var Pc=function(t){(0,d.default)(r,t);var n=S(r);function r(e){var t;return(0,g.default)(this,r),t=n.call(this),t.type="Audio",t.listener=e,t.context=e.context,t.gain=t.context.createGain(),t.gain.connect(e.getInput()),t.autoplay=!1,t.buffer=null,t.detune=0,t.loop=!1,t.loopStart=0,t.loopEnd=0,t.offset=0,t.duration=void 0,t.playbackRate=1,t.isPlaying=!1,t.hasPlaybackControl=!0,t.source=null,t.sourceType="empty",t._startedAt=0,t._progress=0,t._connected=!1,t.filters=[],t}return(0,y.default)(r,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+t;var n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}e("warn","THREE.Audio: this Audio has no playback control."," at node_modules/three/build/three.module.js:48371")}else e("warn","THREE.Audio: Audio is already playing."," at node_modules/three/build/three.module.js:48364")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;e("warn","THREE.Audio: this Audio has no playback control."," at node_modules/three/build/three.module.js:48401")}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this;e("warn","THREE.Audio: this Audio has no playback control."," at node_modules/three/build/three.module.js:48435")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;e("warn","THREE.Audio: this Audio has no playback control."," at node_modules/three/build/three.module.js:48575")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(e("warn","THREE.Audio: this Audio has no playback control."," at node_modules/three/build/three.module.js:48608"),!1):this.loop}},{key:"setLoop",value:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;e("warn","THREE.Audio: this Audio has no playback control."," at node_modules/three/build/three.module.js:48621")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),r}(bt);t.Audio=Pc;var Rc=new ge,Ic=new me,Oc=new ge,Lc=new ge,Dc=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this,e),r.panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return(0,y.default)(n,[{key:"connect",value:function(){(0,l.default)((0,p.default)(n.prototype),"connect",this).call(this),this.panner.connect(this.gain)}},{key:"disconnect",value:function(){(0,l.default)((0,p.default)(n.prototype),"disconnect",this).call(this),this.panner.disconnect(this.gain)}},{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if((0,l.default)((0,p.default)(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(Rc,Ic,Oc),Lc.set(0,0,1).applyQuaternion(Ic);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Rc.x,r),t.positionY.linearRampToValueAtTime(Rc.y,r),t.positionZ.linearRampToValueAtTime(Rc.z,r),t.orientationX.linearRampToValueAtTime(Lc.x,r),t.orientationY.linearRampToValueAtTime(Lc.y,r),t.orientationZ.linearRampToValueAtTime(Lc.z,r)}else t.setPosition(Rc.x,Rc.y,Rc.z),t.setOrientation(Lc.x,Lc.y,Lc.z)}}}]),n}(Pc);t.PositionalAudio=Dc;var Bc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;(0,g.default)(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return(0,y.default)(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}();t.AudioAnalyser=Bc;var Uc=function(){function e(t,n,r){var i,a,o;switch((0,g.default)(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return(0,y.default)(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{a+=t;var s=t/a;this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var u=t,l=t+t;u!==l;++u)if(n[u]!==n[u+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){me.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;me.multiplyQuaternionsFlat(e,a,e,t,e,n),me.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}();t.PropertyMixer=Uc;var Nc=new RegExp("[\\[\\]\\.:\\/]","g"),Fc="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",jc=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),zc=/(WCOD+)?/.source.replace("WCOD",Fc),Hc=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Gc=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Wc=new RegExp("^"+jc+zc+Hc+Gc+"$"),Vc=["material","materials","bones","map"],qc=function(){function e(t,n,r){(0,g.default)(this,e);var i=r||Xc.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return(0,y.default)(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),Xc=function(){function t(e,n,r){(0,g.default)(this,t),this.path=n,this.parsedPath=r||t.parseTrackName(n),this.node=t.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return(0,y.default)(t,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var n=this.node,r=this.parsedPath,i=r.objectName,a=r.propertyName,o=r.propertyIndex;if(n||(n=t.findNode(this.rootNode,r.nodeName),this.node=n),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,n){if(i){var s=r.objectIndex;switch(i){case"materials":if(!n.material)return void e("error","THREE.PropertyBinding: Can not bind to material as node does not have a material.",this," at node_modules/three/build/three.module.js:49618");if(!n.material.materials)return void e("error","THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this," at node_modules/three/build/three.module.js:49625");n=n.material.materials;break;case"bones":if(!n.skeleton)return void e("error","THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this," at node_modules/three/build/three.module.js:49638");n=n.skeleton.bones;for(var u=0;u<n.length;u++)if(n[u].name===s){s=u;break}break;case"map":if("map"in n){n=n.map;break}if(!n.material)return void e("error","THREE.PropertyBinding: Can not bind to material as node does not have a material.",this," at node_modules/three/build/three.module.js:49673");if(!n.material.map)return void e("error","THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this," at node_modules/three/build/three.module.js:49680");n=n.material.map;break;default:if(void 0===n[i])return void e("error","THREE.PropertyBinding: Can not bind to objectName of node undefined.",this," at node_modules/three/build/three.module.js:49692");n=n[i]}if(void 0!==s){if(void 0===n[s])return void e("error","THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,n," at node_modules/three/build/three.module.js:49706");n=n[s]}}var l=n[a];if(void 0!==l){var c=this.Versioning.None;this.targetObject=n,void 0!==n.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==n.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var h=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===a){if(!n.geometry)return void e("error","THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this," at node_modules/three/build/three.module.js:49759");if(!n.geometry.morphAttributes)return void e("error","THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this," at node_modules/three/build/three.module.js:49766");void 0!==n.morphTargetDictionary[o]&&(o=n.morphTargetDictionary[o])}h=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else void 0!==l.fromArray&&void 0!==l.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(h=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=a;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][c]}else{var d=r.nodeName;e("error","THREE.PropertyBinding: Trying to update property for track: "+d+"."+a+" but it wasn't found.",n," at node_modules/three/build/three.module.js:49724")}}else e("warn","THREE.PropertyBinding: No target node found for track: "+this.path+"."," at node_modules/three/build/three.module.js:49602")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(e,n,r){return e&&e.isAnimationObjectGroup?new t.Composite(e,n,r):new t(e,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(Nc,"")}},{key:"parseTrackName",value:function(e){var t=Wc.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Vc.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),t}();t.PropertyBinding=Xc,Xc.Composite=qc,Xc.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Xc.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Xc.prototype.GetterByBindingType=[Xc.prototype._getValue_direct,Xc.prototype._getValue_array,Xc.prototype._getValue_arrayElement,Xc.prototype._getValue_toArray],Xc.prototype.SetterByBindingTypeAndVersioning=[[Xc.prototype._setValue_direct,Xc.prototype._setValue_direct_setNeedsUpdate,Xc.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Xc.prototype._setValue_array,Xc.prototype._setValue_array_setNeedsUpdate,Xc.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Xc.prototype._setValue_arrayElement,Xc.prototype._setValue_arrayElement_setNeedsUpdate,Xc.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Xc.prototype._setValue_fromArray,Xc.prototype._setValue_fromArray_setNeedsUpdate,Xc.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var Yc=function(){function t(){(0,g.default)(this,t),this.isAnimationObjectGroup=!0,this.uuid=C(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return(0,y.default)(t,[{key:"add",value:function(){for(var t=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length,s=void 0,u=t.length,l=this.nCachedObjects_,c=0,h=arguments.length;c!==h;++c){var d=arguments[c],f=d.uuid,p=n[f];if(void 0===p){p=u++,n[f]=p,t.push(d);for(var v=0,m=o;v!==m;++v)a[v].push(new Xc(d,r[v],i[v]))}else if(p<l){s=t[p];var g=--l,y=t[g];n[y.uuid]=p,t[p]=y,n[f]=g,t[g]=d;for(var _=0,b=o;_!==b;++_){var x=a[_],w=x[g],S=x[p];x[p]=w,void 0===S&&(S=new Xc(d,r[_],i[_])),x[g]=S}}else t[p]!==s&&e("error","THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes."," at node_modules/three/build/three.module.js:50041")}this.nCachedObjects_=l}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=t[u];if(void 0!==l&&l>=i){var c=i++,h=e[c];t[h.uuid]=l,e[l]=h,t[u]=c,e[c]=s;for(var d=0,f=r;d!==f;++d){var p=n[d],v=p[c],m=p[l];p[l]=v,p[c]=m}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],l=u.uuid,c=t[l];if(void 0!==c)if(delete t[l],c<i){var h=--i,d=e[h],f=--a,p=e[f];t[d.uuid]=c,e[c]=d,t[p.uuid]=h,e[h]=p,e.pop();for(var v=0,m=r;v!==m;++v){var g=n[v],y=g[h],_=g[f];g[c]=y,g[h]=_,g.pop()}}else{var b=--a,x=e[b];b>0&&(t[x.uuid]=c),e[c]=x,e.pop();for(var w=0,S=r;w!==S;++w){var A=n[w];A[c]=A[b],A.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var h=l,d=s.length;h!==d;++h){var f=s[h];c[h]=new Xc(f,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o],u=e[o];t[u]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}]),t}();t.AnimationObjectGroup=Yc;var Kc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;(0,g.default)(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,s=new Array(o),u={endingStart:2400,endingEnd:2400},l=0;l!==o;++l){var c=a[l].createInterpolant(null);s[l]=c,c.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return(0,y.default)(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case 2501:for(var c=0,h=u.length;c!==h;++c)u[c].evaluate(o),l[c].accumulateAdditive(s);break;case 2500:default:for(var d=0,f=u.length;d!==f;++d)u[d].evaluate(o),l[d].accumulate(r,s)}}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=2202===n;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,r.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}();t.AnimationAction=Kc;var Qc=new Float32Array(1),Jc=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,g.default)(this,n),r=t.call(this),r._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return(0,y.default)(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var h=r[c],d=h.name,f=l[d];if(void 0!==f)++f.referenceCount,a[c]=f;else{if(f=a[c],void 0!==f){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;f=new Uc(Xc.create(n,d,p),h.ValueTypeName,h.getValueSize()),++f.referenceCount,this._addInactiveBinding(f,s,d),a[c]=f}o[c].resultBuffer=f.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),e._byClipCacheIndex=null;var c=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete c[h],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(n=new gl(new Float32Array(2),new Float32Array(2),1,Qc),n.__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?El.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],u=null;if(void 0===n&&(n=null!==a?a.blendMode:2500),void 0!==s){var l=s.actionByRoot[i];if(void 0!==l&&l.blendMode===n)return l;u=s.knownActions[0],null===a&&(a=u._clip)}if(null===a)return null;var c=new Kc(this,a,t,n);return this._bindAction(c,u),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?El.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions,n=t-1;n>=0;--n)e[n].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){var s=t[o];s._update(r,e,i,a)}for(var u=this._bindings,l=this._nActiveBindings,c=0;c!==l;++c)u[c].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,a=i[t];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var o=this._bindingsByRootAndName,s=o[t];if(void 0!==s)for(var u in s){var l=s[u];l.restoreOriginalState(),this._removeInactiveBinding(l)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(A);t.AnimationMixer=Jc;var Zc=function(){function e(t){(0,g.default)(this,e),this.value=t}return(0,y.default)(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}();t.Uniform=Zc;var $c=0,eh=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this),e.isUniformsGroup=!0,Object.defineProperty((0,h.default)(e),"id",{value:$c++}),e.name="",e.usage=35044,e.uniforms=[],e}return(0,y.default)(n,[{key:"add",value:function(e){return this.uniforms.push(e),this}},{key:"remove",value:function(e){var t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}},{key:"setName",value:function(e){return this.name=e,this}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"dispose",value:function(){return this.dispatchEvent({type:"dispose"}),this}},{key:"copy",value:function(e){this.name=e.name,this.usage=e.usage;var t=e.uniforms;this.uniforms.length=0;for(var n=0,r=t.length;n<r;n++)for(var i=Array.isArray(t[n])?t[n]:[t[n]],a=0;a<i.length;a++)this.uniforms.push(i[a].clone());return this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(A);t.UniformsGroup=eh;var th=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,g.default)(this,n),i=t.call(this,e,r),i.isInstancedInterleavedBuffer=!0,i.meshPerAttribute=a,i}return(0,y.default)(n,[{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=(0,l.default)((0,p.default)(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=(0,l.default)((0,p.default)(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}(Wa);t.InstancedInterleavedBuffer=th;var nh=function(){function e(t,n,r,i,a){(0,g.default)(this,e),this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}return(0,y.default)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}();t.GLBufferAttribute=nh;var rh=new Xe,ih=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;(0,g.default)(this,t),this.ray=new qe(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new it,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return(0,y.default)(t,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(t,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):e("error","THREE.Raycaster: Unsupported camera type: "+n.type," at node_modules/three/build/three.module.js:51981")}},{key:"setFromXRController",value:function(e){return rh.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(rh),this}},{key:"intersectObject",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return oh(e,this,n,t),n.sort(ah),n}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)oh(e[r],this,n,t);return n.sort(ah),n}}]),t}();function ah(e,t){return e.distance-t.distance}function oh(e,t,n,r){var i=!0;if(e.layers.test(t.layers)){var a=e.raycast(t,n);!1===a&&(i=!1)}if(!0===i&&!0===r)for(var o=e.children,s=0,u=o.length;s<u;s++)oh(o[s],t,n,!0)}t.Raycaster=ih;var sh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,g.default)(this,e),this.radius=t,this.phi=n,this.theta=r,this}return(0,y.default)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(P(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();t.Spherical=sh;var uh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,g.default)(this,e),this.radius=t,this.theta=n,this.y=r,this}return(0,y.default)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();t.Cylindrical=uh;var lh=function(){function e(t,n,r,i){(0,g.default)(this,e),e.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==t&&this.set(t,n,r,i)}return(0,y.default)(e,[{key:"identity",value:function(){return this.set(1,0,0,1),this}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<4;n++)this.elements[n]=e[n+t];return this}},{key:"set",value:function(e,t,n,r){var i=this.elements;return i[0]=e,i[2]=t,i[1]=n,i[3]=r,this}}]),e}();t.Matrix2=lh;var ch=new B,hh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new B(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new B(-1/0,-1/0);(0,g.default)(this,e),this.isBox2=!0,this.min=t,this.max=n}return(0,y.default)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=ch.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,ch).distanceTo(e)}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();t.Box2=hh;var dh=new ge,fh=new ge,ph=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ge,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ge;(0,g.default)(this,e),this.start=t,this.end=n}return(0,y.default)(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){dh.subVectors(e,this.start),fh.subVectors(this.end,this.start);var n=fh.dot(fh),r=fh.dot(dh),i=r/n;return t&&(i=P(i,0,1)),i}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();t.Line3=ph;var vh=new ge,mh=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r){var i;(0,g.default)(this,n),i=t.call(this),i.light=e,i.matrixAutoUpdate=!1,i.color=r,i.type="SpotLightHelper";for(var a=new vn,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,u=1;s<32;s++,u++){var l=s/32*Math.PI*2,c=u/32*Math.PI*2;o.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}a.setAttribute("position",new sn(o,3));var h=new ns({fog:!1,toneMapped:!1});return i.cone=new ps(a,h),i.add(i.cone),i.update(),i}return(0,y.default)(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),vh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(vh),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(bt);t.SpotLightHelper=mh;var gh=new ge,yh=new Xe,_h=new Xe,bh=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;(0,g.default)(this,n);for(var i=function e(t){var n=[];!0===t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),a=new vn,o=[],s=[],u=new Ft(0,0,1),l=new Ft(0,1,0),c=0;c<i.length;c++){var h=i[c];h.parent&&h.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(u.r,u.g,u.b),s.push(l.r,l.g,l.b))}a.setAttribute("position",new sn(o,3)),a.setAttribute("color",new sn(s,3));var d=new ns({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return r=t.call(this,a,d),r.isSkeletonHelper=!0,r.type="SkeletonHelper",r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return(0,y.default)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");_h.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(yh.multiplyMatrices(_h,s.matrixWorld),gh.setFromMatrixPosition(yh),i.setXYZ(o,gh.x,gh.y,gh.z),yh.multiplyMatrices(_h,s.parent.matrixWorld),gh.setFromMatrixPosition(yh),i.setXYZ(o+1,gh.x,gh.y,gh.z),o+=2)}r.getAttribute("position").needsUpdate=!0,(0,l.default)((0,p.default)(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(ps);t.SkeletonHelper=bh;var xh=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){var a;(0,g.default)(this,n);var o=new Vu(r,4,2),s=new Gt({wireframe:!0,fog:!1,toneMapped:!1});return a=t.call(this,o,s),a.light=e,a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return(0,y.default)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(En);t.PointLightHelper=xh;var wh=new ge,Sh=new Ft,Ah=new Ft,Mh=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){var a;(0,g.default)(this,n),a=t.call(this),a.light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="HemisphereLightHelper";var o=new Hu(r);o.rotateY(.5*Math.PI),a.material=new Gt({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),u=new Float32Array(3*s.count);return o.setAttribute("color",new Jt(u,3)),a.add(new En(o,a.material)),a.update(),a}return(0,y.default)(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Sh.copy(this.light.color),Ah.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?Sh:Ah;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(wh.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(bt);t.HemisphereLightHelper=Mh;var Th=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;(0,g.default)(this,n),a=new Ft(a),o=new Ft(o);for(var s=i/2,u=r/i,l=r/2,c=[],h=[],d=0,f=0,p=-l;d<=i;d++,p+=u){c.push(-l,0,p,l,0,p),c.push(p,0,-l,p,0,l);var v=d===s?a:o;v.toArray(h,f),f+=3,v.toArray(h,f),f+=3,v.toArray(h,f),f+=3,v.toArray(h,f),f+=3}var m=new vn;m.setAttribute("position",new sn(c,3)),m.setAttribute("color",new sn(h,3));var y=new ns({vertexColors:!0,toneMapped:!1});return e=t.call(this,m,y),e.type="GridHelper",e}return(0,y.default)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(ps);t.GridHelper=Th;var Eh=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;(0,g.default)(this,n),s=new Ft(s),u=new Ft(u);var l=[],c=[];if(i>1)for(var h=0;h<i;h++){var d=h/i*(2*Math.PI),f=Math.sin(d)*r,p=Math.cos(d)*r;l.push(0,0,0),l.push(f,0,p);var v=1&h?s:u;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(var m=0;m<a;m++)for(var y=1&m?s:u,_=r-r/a*m,b=0;b<o;b++){var x=b/o*(2*Math.PI),w=Math.sin(x)*_,S=Math.cos(x)*_;l.push(w,0,S),c.push(y.r,y.g,y.b),x=(b+1)/o*(2*Math.PI),w=Math.sin(x)*_,S=Math.cos(x)*_,l.push(w,0,S),c.push(y.r,y.g,y.b)}var A=new vn;A.setAttribute("position",new sn(l,3)),A.setAttribute("color",new sn(c,3));var M=new ns({vertexColors:!0,toneMapped:!1});return e=t.call(this,A,M),e.type="PolarGridHelper",e}return(0,y.default)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(ps);t.PolarGridHelper=Eh;var kh=new ge,Ch=new ge,Ph=new ge,Rh=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r,i){var a;(0,g.default)(this,n),a=t.call(this),a.light=e,a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,a.type="DirectionalLightHelper",void 0===r&&(r=1);var o=new vn;o.setAttribute("position",new sn([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new ns({fog:!1,toneMapped:!1});return a.lightPlane=new cs(o,s),a.add(a.lightPlane),o=new vn,o.setAttribute("position",new sn([0,0,0,0,0,1],3)),a.targetLine=new cs(o,s),a.add(a.targetLine),a.update(),a}return(0,y.default)(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),kh.setFromMatrixPosition(this.light.matrixWorld),Ch.setFromMatrixPosition(this.light.target.matrixWorld),Ph.subVectors(Ch,kh),this.lightPlane.lookAt(Ch),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ch),this.targetLine.scale.z=Ph.length()}}]),n}(bt);t.DirectionalLightHelper=Rh;var Ih=new ge,Oh=new Dn,Lh=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;(0,g.default)(this,n);var i=new vn,a=new ns({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],u={};function l(e,t){c(e),c(t)}function c(e){o.push(0,0,0),s.push(0,0,0),void 0===u[e]&&(u[e]=[]),u[e].push(o.length/3-1)}l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4"),i.setAttribute("position",new sn(o,3)),i.setAttribute("color",new sn(s,3)),r=t.call(this,i,a),r.type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=u,r.update();var h=new Ft(16755200),d=new Ft(16711680),f=new Ft(43775),p=new Ft(16777215),v=new Ft(3355443);return r.setColors(h,d,f,p,v),r}return(0,y.default)(n,[{key:"setColors",value:function(e,t,n,r,i){var a=this.geometry,o=a.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,i.r,i.g,i.b),o.setXYZ(41,i.r,i.g,i.b),o.setXYZ(42,i.r,i.g,i.b),o.setXYZ(43,i.r,i.g,i.b),o.setXYZ(44,i.r,i.g,i.b),o.setXYZ(45,i.r,i.g,i.b),o.setXYZ(46,i.r,i.g,i.b),o.setXYZ(47,i.r,i.g,i.b),o.setXYZ(48,i.r,i.g,i.b),o.setXYZ(49,i.r,i.g,i.b),o.needsUpdate=!0}},{key:"update",value:function(){var e=this.geometry,t=this.pointMap;Oh.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Dh("c",t,e,Oh,0,0,-1),Dh("t",t,e,Oh,0,0,1),Dh("n1",t,e,Oh,-1,-1,-1),Dh("n2",t,e,Oh,1,-1,-1),Dh("n3",t,e,Oh,-1,1,-1),Dh("n4",t,e,Oh,1,1,-1),Dh("f1",t,e,Oh,-1,-1,1),Dh("f2",t,e,Oh,1,-1,1),Dh("f3",t,e,Oh,-1,1,1),Dh("f4",t,e,Oh,1,1,1),Dh("u1",t,e,Oh,.7,1.1,-1),Dh("u2",t,e,Oh,-.7,1.1,-1),Dh("u3",t,e,Oh,0,2,-1),Dh("cf1",t,e,Oh,-1,0,1),Dh("cf2",t,e,Oh,1,0,1),Dh("cf3",t,e,Oh,0,-1,1),Dh("cf4",t,e,Oh,0,1,1),Dh("cn1",t,e,Oh,-1,0,-1),Dh("cn2",t,e,Oh,1,0,-1),Dh("cn3",t,e,Oh,0,-1,-1),Dh("cn4",t,e,Oh,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(ps);function Dh(e,t,n,r,i,a,o){Ih.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var u=n.getAttribute("position"),l=0,c=s.length;l<c;l++)u.setXYZ(s[l],Ih.x,Ih.y,Ih.z)}t.CameraHelper=Lh;var Bh=new be,Uh=function(t){(0,d.default)(r,t);var n=S(r);function r(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;(0,g.default)(this,r);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new vn;return s.setIndex(new Jt(a,1)),s.setAttribute("position",new Jt(o,3)),t=n.call(this,s,new ns({color:i,toneMapped:!1})),t.object=e,t.type="BoxHelper",t.matrixAutoUpdate=!1,t.update(),t}return(0,y.default)(r,[{key:"update",value:function(t){if(void 0!==t&&e("warn","THREE.BoxHelper: .update() has no longer arguments."," at node_modules/three/build/three.module.js:53457"),void 0!==this.object&&Bh.setFromObject(this.object),!Bh.isEmpty()){var n=Bh.min,r=Bh.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=n.x,a[4]=r.y,a[5]=r.z,a[6]=n.x,a[7]=n.y,a[8]=r.z,a[9]=r.x,a[10]=n.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=n.z,a[15]=n.x,a[16]=r.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=r.x,a[22]=n.y,a[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e,t){return(0,l.default)((0,p.default)(r.prototype),"copy",this).call(this,e,t),this.object=e.object,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),r}(ps);t.BoxHelper=Uh;var Nh=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;(0,g.default)(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new vn;return s.setIndex(new Jt(a,1)),s.setAttribute("position",new sn(o,3)),r=t.call(this,s,new ns({color:i,toneMapped:!1})),r.box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return(0,y.default)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),(0,l.default)((0,p.default)(n.prototype),"updateMatrixWorld",this).call(this,e))}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(ps);t.Box3Helper=Nh;var Fh=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;(0,g.default)(this,n);var o=a,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],u=new vn;u.setAttribute("position",new sn(s,3)),u.computeBoundingSphere(),r=t.call(this,u,new ns({color:o,toneMapped:!1})),r.type="PlaneHelper",r.plane=e,r.size=i;var l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new vn;return c.setAttribute("position",new sn(l,3)),c.computeBoundingSphere(),r.add(new En(c,new Gt({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return(0,y.default)(n,[{key:"updateMatrixWorld",value:function(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),(0,l.default)((0,p.default)(n.prototype),"updateMatrixWorld",this).call(this,e)}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}]),n}(cs);t.PlaneHelper=Fh;var jh,zh,Hh=new ge,Gh=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ge(0,0,1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ge(0,0,0),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*a,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return(0,g.default)(this,n),e=t.call(this),e.type="ArrowHelper",void 0===jh&&(jh=new vn,jh.setAttribute("position",new sn([0,0,0,0,1,0],3)),zh=new eu(0,.5,1,5,1),zh.translate(0,-.5,0)),e.position.copy(i),e.line=new cs(jh,new ns({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new En(zh,new Gt({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(a,s,u),e}return(0,y.default)(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Hh.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Hh,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return(0,l.default)((0,p.default)(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},{key:"dispose",value:function(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}]),n}(bt);t.ArrowHelper=Gh;var Wh=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,g.default)(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new vn;o.setAttribute("position",new sn(i,3)),o.setAttribute("color",new sn(a,3));var s=new ns({vertexColors:!0,toneMapped:!1});return e=t.call(this,o,s),e.type="AxesHelper",e}return(0,y.default)(n,[{key:"setColors",value:function(e,t,n){var r=new Ft,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(ps);t.AxesHelper=Wh;var Vh=function(){function e(){(0,g.default)(this,e),this.type="ShapePath",this.color=new Ft,this.subPaths=[],this.currentPath=null}return(0,y.default)(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new Qs,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){function t(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-u*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n,r,i,a=Bu.isClockWise,o=this.subPaths;if(0===o.length)return[];var s=[];if(1===o.length)return r=o[0],i=new lu,i.curves=r.curves,s.push(i),s;var u=!a(o[0].getPoints());u=e?!u:u;var l,c,h=[],d=[],f=[],p=0;d[p]=void 0,f[p]=[];for(var v=0,m=o.length;v<m;v++)r=o[v],l=r.getPoints(),n=a(l),n=e?!n:n,n?(!u&&d[p]&&p++,d[p]={s:new lu,p:l},d[p].s.curves=r.curves,u&&p++,f[p]=[]):f[p].push({h:r,p:l[0]});if(!d[0])return function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new lu;a.curves=i.curves,t.push(a)}return t}(o);if(d.length>1){for(var g=!1,y=0,_=0,b=d.length;_<b;_++)h[_]=[];for(var x=0,w=d.length;x<w;x++)for(var S=f[x],A=0;A<S.length;A++){for(var M=S[A],T=!0,E=0;E<d.length;E++)t(M.p,d[E].p)&&(x!==E&&y++,T?(T=!1,h[E].push(M)):g=!0);T&&h[x].push(M)}y>0&&!1===g&&(f=h)}for(var k=0,C=d.length;k<C;k++){i=d[k].s,s.push(i),c=f[k];for(var P=0,R=c.length;P<R;P++)i.holes.push(c[P].h)}return s}}]),e}();t.ShapePath=Vh;var qh=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,g.default)(this,n),r=t.call(this),r.object=e,r.domElement=i,r.enabled=!0,r.state=-1,r.keys={},r.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},r.touches={ONE:null,TWO:null},r}return(0,y.default)(n,[{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"dispose",value:function(){}},{key:"update",value:function(){}}]),n}(A);t.Controls=qh;var Xh=function(t){(0,d.default)(r,t);var n=S(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,g.default)(this,r),e("warn",'THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'," at node_modules/three/build/three.module.js:54117"),t=n.call(this,i,a,b(b({},s),{},{count:o})),t.isWebGLMultipleRenderTargets=!0,t}return(0,y.default)(r,[{key:"texture",get:function(){return this.textures}}]),r}(he);t.WebGLMultipleRenderTargets=Xh,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"169"}})),"undefined"!==typeof window&&(window.__THREE__?e("warn","WARNING: Multiple instances of Three.js being imported."," at node_modules/three/build/three.module.js:54145"):window.__THREE__="169")}).call(this,n("f3b9")["default"])},"4f09":function(e,t){e.exports={props:{customStyle:{type:[Object,String],default:function(){return{}}},customClass:{type:String,default:""},url:{type:String,default:""},linkType:{type:String,default:"navigateTo"}},data:function(){return{}},onLoad:function(){this.$u.getRect=this.$uGetRect},created:function(){this.$u.getRect=this.$uGetRect},computed:{$u:function(){return uni.$u.deepMerge(uni.$u,{props:void 0,http:void 0,mixin:void 0})},bem:function(){return function(e,t,n){var r=this,i="u-".concat(e,"--"),a={};return t&&t.map((function(e){a[i+r[e]]=!0})),n&&n.map((function(e){r[e]?a[i+e]=r[e]:delete a[i+e]})),Object.keys(a)}}},methods:{openPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"url",t=this[e];t&&uni[this.linkType]({url:t})},$uGetRect:function(e,t){var n=this;return new Promise((function(r){uni.createSelectorQuery().in(n)[t?"selectAll":"select"](e).boundingClientRect((function(e){t&&Array.isArray(e)&&e.length&&r(e),!t&&e&&r(e)})).exec()}))},getParentData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.parent||(this.parent={}),this.parent=uni.$u.$parent.call(this,t),this.parent.children&&-1===this.parent.children.indexOf(this)&&this.parent.children.push(this),this.parent&&this.parentData&&Object.keys(this.parentData).map((function(t){e.parentData[t]=e.parent[t]}))},preventEvent:function(e){e&&"function"===typeof e.stopPropagation&&e.stopPropagation()},noop:function(e){this.preventEvent(e)}},onReachBottom:function(){uni.$emit("uOnReachBottom")},beforeDestroy:function(){var e=this;if(this.parent&&uni.$u.test.array(this.parent.children)){var t=this.parent.children;t.map((function(n,r){n===e&&t.splice(r,1)}))}}}},"4fab":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"uniCollapse",emits:["change","activeItem","input","update:modelValue"],props:{value:{type:[String,Array],default:""},modelValue:{type:[String,Array],default:""},accordion:{type:[Boolean,String],default:!1}},data:function(){return{}},computed:{dataValue:function(){var e="string"===typeof this.value&&""===this.value||Array.isArray(this.value)&&0===this.value.length;"string"===typeof this.modelValue&&""===this.modelValue||Array.isArray(this.modelValue)&&this.modelValue.length;return e?this.modelValue:this.value}},watch:{dataValue:function(e){this.setOpen(e)}},created:function(){this.childrens=[],this.names=[]},mounted:function(){var e=this;this.$nextTick((function(){e.setOpen(e.dataValue)}))},methods:{setOpen:function(t){var n=this,r="string"===typeof t,i=Array.isArray(t);this.childrens.forEach((function(a,o){if(r&&t===a.nameSync){if(!n.accordion)return void e("warn","accordion \u5c5e\u6027\u4e3a false ,v-model \u7c7b\u578b\u5e94\u8be5\u4e3a array"," at uni_modules/uni-collapse/components/uni-collapse/uni-collapse.vue:75");a.isOpen=!0}i&&t.forEach((function(t){if(t===a.nameSync){if(n.accordion)return void e("warn","accordion \u5c5e\u6027\u4e3a true ,v-model \u7c7b\u578b\u5e94\u8be5\u4e3a string"," at uni_modules/uni-collapse/components/uni-collapse/uni-collapse.vue:85");a.isOpen=!0}}))})),this.emit(t)},setAccordion:function(e){this.accordion&&this.childrens.forEach((function(t,n){e!==t&&(t.isOpen=!1)}))},resize:function(){this.childrens.forEach((function(e,t){e.getCollapseHeight()}))},onChange:function(e,t){var n=[];this.accordion?n=e?t.nameSync:"":this.childrens.forEach((function(e,t){e.isOpen&&n.push(e.nameSync)})),this.$emit("change",n),this.emit(n)},emit:function(e){this.$emit("input",e),this.$emit("update:modelValue",e)}}};t.default=n}).call(this,n("f3b9")["default"])},"4ffb":function(e,t,n){var r=n("3b2d")["default"],i=n("3352");e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"51b7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={parse:{copyLink:!0,errorImg:"",lazyLoad:!1,loadingImg:"",pauseVideo:!0,previewImg:!0,setTitle:!0,showImgMenu:!0}}},"51cf":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uniCollapse:n("ae88").default,uniCollapseItem:n("894d").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","container"),style:e._$s(0,"s",{height:e.containerHeight+"px"}),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","content"),attrs:{_i:1}},[n("uni-collapse",{staticClass:e._$s(2,"sc","wrap"),attrs:{accordion:!0,_i:2},model:{value:e._$s(2,"v-model",e.activeIndex),callback:function(t){e.activeIndex=t},expression:"activeIndex"}},e._l(e._$s(3,"f",{forItems:e.items}),(function(t,r,i,a){return n("uni-collapse-item",{key:e._$s(3,"f",{forIndex:i,key:r}),attrs:{title:t.title,name:String(r),_i:"3-"+a}},[n("view",{staticClass:e._$s("4-"+a,"sc","itemdate"),attrs:{_i:"4-"+a}},[e._v(e._$s("4-"+a,"t0-0",e._s(t.date)))]),n("view",{staticClass:e._$s("5-"+a,"sc","panel"),attrs:{_i:"5-"+a}},[n("text",[e._v(e._$s("6-"+a,"t0-0",e._s(t.content)))])])])})),1)],1)])},a=[]},5314:function(e,t,n){"use strict";n.r(t);var r=n("d648"),i=n("1c81");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},5489:function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("2495")),a={data:function(){return{value6:"3",chartData:{},chartDatacolumn:{},opts:{color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,10,0,15],enableScroll:!1,legend:{},xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},extra:{line:{type:"straight",width:2,activeType:"hollow"}}},optsColumn:{color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,15,0,5],enableScroll:!1,legend:{},xAxis:{disableGrid:!0},yAxis:{data:[{min:0}]},extra:{column:{type:"group",width:30,activeBgColor:"#000000",activeBgOpacity:.08}}}}},onLoad:function(){this.getServeData(),this.getServerDataColumn()},methods:{getServeData:function(){var e=this;setTimeout((function(){e.chartData=JSON.parse(JSON.stringify({categories:["2024-05","2024-06","2024-07","2024-08","2024-09","2024-10"],series:[{name:"\u7528\u7535\u91cf\uff08\u5ea6\uff09",data:[125,133,148,144,137,143]},{name:"\u4f7f\u7528\u6b21\u6570",data:[53,57,61,59,55,58]},{name:"\u5e73\u5747\u6bcf\u6b21\u7528\u7535\u91cf\uff08\u5ea6\uff09",data:[2.36,2.33,2.43,2.44,2.49,2.47]},{name:"\u957f\u9014\u4f7f\u7528\u6b21\u6570",data:[10,12,14,13,12,13]},{name:"\u77ed\u9014\u4f7f\u7528\u6b21\u6570",data:[43,45,47,46,43,45]}]}))}),500)},getServerDataColumn:function(){var e=this;setTimeout((function(){e.chartDatacolumn=JSON.parse(JSON.stringify({categories:["2024-05","2024-06","2024-07","2024-08","2024-09","2024-10"],series:[{name:"\u884c\u9a76\u91cc\u7a0b\uff08\u516c\u91cc\uff09",data:[1200,1350,1180,1420,1250,1300]},{name:"\u5e73\u5747\u6cb9\u8017\uff08\u5347/\u767e\u516c\u91cc\uff09",data:[8.5,8.2,8.8,8.3,8.6,8.4]},{name:"\u5145\u7535\u6b21\u6570",data:[5,6,4,7,5,6]},{name:"\u4fdd\u517b\u63d0\u9192\uff08\u5269\u4f59\u91cc\u7a0b\uff09",data:[800,750,900,850,780,820]},{name:"\u8f6e\u80ce\u538b\u529b\uff08PSI\uff09",data:[32,33,31,34,32,33]}]}))}),500)}},components:{Nav:i.default}};t.default=a},"55c2":function(e,t,n){"use strict";n.r(t);var r=n("be94"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},5628:function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.deepMerge=function e(){var t={};function n(n,r){"object"===(0,i.default)(t[r])&&"object"===(0,i.default)(n)?t[r]=e(t[r],n):"object"===(0,i.default)(n)?t[r]=e({},n):t[r]=n}for(var r=0,a=arguments.length;r<a;r++)s(arguments[r],n);return t},t.forEach=s,t.isArray=o,t.isBoolean=function(e){return"boolean"===typeof e},t.isDate=function(e){return"[object Date]"===a.call(e)},t.isObject=function(e){return null!==e&&"object"===(0,i.default)(e)},t.isPlainObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isURLSearchParams=function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},t.isUndefined=function(e){return"undefined"===typeof e};var i=r(n("3b2d")),a=Object.prototype.toString;function o(e){return"[object Array]"===a.call(e)}function s(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==(0,i.default)(e)&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}},5714:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uniIcons:n("ad52").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","uni-collapse-item"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","uni-collapse-item__title"),class:e._$s(1,"c",{"is-open":e.isOpen&&"auto"===e.titleBorder,"uni-collapse-item-border":"none"!==e.titleBorder}),attrs:{_i:1},on:{click:function(t){return e.onClick(!e.isOpen)}}},[n("view",{staticClass:e._$s(2,"sc","uni-collapse-item__title-wrap"),attrs:{_i:2}},[e._t("title",[n("view",{staticClass:e._$s(4,"sc","uni-collapse-item__title-box"),class:e._$s(4,"c",{"is-disabled":e.disabled}),attrs:{_i:4}},[e._$s(5,"i",e.thumb)?n("image",{staticClass:e._$s(5,"sc","uni-collapse-item__title-img"),attrs:{src:e._$s(5,"a-src",e.thumb),_i:5}}):e._e(),n("text",{staticClass:e._$s(6,"sc","uni-collapse-item__title-text"),attrs:{_i:6}},[e._v(e._$s(6,"t0-0",e._s(e.title)))])])],{_i:3})],2),e._$s(7,"i",e.showArrow)?n("view",{staticClass:e._$s(7,"sc","uni-collapse-item__title-arrow"),class:e._$s(7,"c",{"uni-collapse-item__title-arrow-active":e.isOpen,"uni-collapse-item--animation":!0===e.showAnimation}),attrs:{_i:7}},[n("uni-icons",{attrs:{color:e.disabled?"#ddd":"#bbb",size:"14",type:"bottom",_i:8}})],1):e._e()]),n("view",{staticClass:e._$s(9,"sc","uni-collapse-item__wrap"),class:e._$s(9,"c",{"is--transition":e.showAnimation}),style:e._$s(9,"s",{height:(e.isOpen?e.height:0)+"px"}),attrs:{_i:9}},[n("view",{ref:"collapse--hook",staticClass:e._$s(10,"sc","uni-collapse-item__wrap-content"),class:e._$s(10,"c",{open:e.isheight,"uni-collapse-item--border":e.border&&e.isOpen}),attrs:{id:e._$s(10,"a-id",e.elId),_i:10}},[e._t("default",null,{_i:11})],2)])])},a=[]},"57bc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={transition:{show:!1,mode:"fade",duration:"300",timingFunction:"ease-out"}}},"57c6":function(e,t,n){"use strict";n.r(t);var r=n("8c61"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},5850:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={toast:{zIndex:10090,loading:!1,text:"",icon:"",type:"",loadingMode:"",show:"",overlay:!1,position:"center",params:function(){},duration:2e3,isTab:!1,url:"",callback:null,back:!1}}},"5c6a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"Input",data:function(){return{countdown:0,isFocus:!1}},props:{type:{type:String,default:"text",required:!1},fuc:{type:Function,required:!1},title:{type:String,required:!0},txt:{type:String,required:!0},value:{type:String}},computed:{styleType:function(){return"".concat(this.type)}},methods:{onInput:function(e){this.$emit("input",e.target.value)},getCode:function(){var e=this;this.countdown>0||(uni.showToast({title:"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001",icon:"success"}),this.countdown=60,this.timer=setInterval((function(){e.countdown--,e.countdown<=0&&clearInterval(e.timer)}),1e3))}}};t.default=r},"5ca8":function(e,t,n){"use strict";n.r(t);var r=n("899c"),i=n("7a0c");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"478cc42f",null,!1,r["a"],void 0);t["default"]=s.exports},"5e01":function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.divide=p,t.enableBoundaryChecking=m,t.minus=f,t.plus=d,t.round=v,t.times=h;var i=r(n("c70d")),a=!0;function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return+parseFloat(Number(e).toPrecision(t))}function s(e){var t=e.toString().split(/[eE]/),n=(t[0].split(".")[1]||"").length-+(t[1]||0);return n>0?n:0}function u(e){if(-1===e.toString().indexOf("e"))return Number(e.toString().replace(".",""));var t=s(e);return t>0?o(Number(e)*Math.pow(10,t)):Number(e)}function l(t){a&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&e("warn","".concat(t," \u8d85\u51fa\u4e86\u7cbe\u5ea6\u9650\u5236\uff0c\u7ed3\u679c\u53ef\u80fd\u4e0d\u6b63\u786e")," at uni_modules/uview-ui/libs/function/digit.js:45")}function c(e,t){var n=(0,i.default)(e),r=n[0],a=n[1],o=n.slice(2),s=t(r,a);return o.forEach((function(e){s=t(s,e)})),s}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>2)return c(t,h);var r=t[0],i=t[1],a=u(r),o=u(i),d=s(r)+s(i),f=a*o;return l(f),f/Math.pow(10,d)}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>2)return c(t,d);var r=t[0],i=t[1],a=Math.pow(10,Math.max(s(r),s(i)));return(h(r,a)+h(i,a))/a}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>2)return c(t,f);var r=t[0],i=t[1],a=Math.pow(10,Math.max(s(r),s(i)));return(h(r,a)-h(i,a))/a}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>2)return c(t,p);var r=t[0],i=t[1],a=u(r),d=u(i);return l(a),l(d),h(a/d,o(Math.pow(10,s(i)-s(r))))}function v(e,t){var n=Math.pow(10,t),r=p(Math.round(Math.abs(h(e,n))),n);return e<0&&0!==r&&(r=h(r,-1)),r}function m(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a=e}var g={times:h,plus:d,minus:f,divide:p,round:v,enableBoundaryChecking:m};t.default=g}).call(this,n("f3b9")["default"])},6080:function(e,t,n){"use strict";n.r(t);var r=n("0af2"),i=n("e170");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},"615a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={slider:{value:0,blockSize:18,min:0,max:100,step:1,activeColor:"#2979ff",inactiveColor:"#c0c4cc",blockColor:"#ffffff",showValue:!1,disabled:!1,blockStyle:function(){}}}},6254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load=void 0;var r=n("dfd8"),i=n("2826"),a=n("f462");t.load=function(e){var t=new Map([[0,function(){}]]),n=new Map([[0,function(){}]]),o=new Map,s=new Worker(e);s.addEventListener("message",(function(e){var r=e.data;if((0,i.isCallNotification)(r)){var s=r.params,u=s.timerId,l=s.timerType;if("interval"===l){var c=t.get(u);if("number"===typeof c){var h=o.get(c);if(void 0===h||h.timerId!==u||h.timerType!==l)throw new Error("The timer is in an undefined state.")}else{if("undefined"===typeof c)throw new Error("The timer is in an undefined state.");c()}}else if("timeout"===l){var d=n.get(u);if("number"===typeof d){var f=o.get(d);if(void 0===f||f.timerId!==u||f.timerType!==l)throw new Error("The timer is in an undefined state.")}else{if("undefined"===typeof d)throw new Error("The timer is in an undefined state.");d(),n.delete(u)}}}else{if(!(0,a.isClearResponse)(r)){var p=r.error.message;throw new Error(p)}var v=r.id,m=o.get(v);if(void 0===m)throw new Error("The timer is in an undefined state.");var g=m.timerId,y=m.timerType;o.delete(v),"interval"===y?t.delete(g):n.delete(g)}}));return{clearInterval:function(e){var n=(0,r.generateUniqueNumber)(o);o.set(n,{timerId:e,timerType:"interval"}),t.set(e,n),s.postMessage({id:n,method:"clear",params:{timerId:e,timerType:"interval"}})},clearTimeout:function(e){var t=(0,r.generateUniqueNumber)(o);o.set(t,{timerId:e,timerType:"timeout"}),n.set(e,t),s.postMessage({id:t,method:"clear",params:{timerId:e,timerType:"timeout"}})},setInterval:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(0,r.generateUniqueNumber)(t);return t.set(i,(function(){e(),"function"===typeof t.get(i)&&s.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:i,timerType:"interval"}})})),s.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:i,timerType:"interval"}}),i},setTimeout:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(0,r.generateUniqueNumber)(n);return n.set(i,e),s.postMessage({id:null,method:"set",params:{delay:t,now:performance.now(),timerId:i,timerType:"timeout"}}),i}}}},"626e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={checkboxGroup:{name:"",value:function(){return[]},shape:"square",disabled:!1,activeColor:"#2979ff",inactiveColor:"#c8c9cc",size:18,placement:"row",labelSize:14,labelColor:"#303133",labelDisabled:!1,iconColor:"#ffffff",iconSize:12,iconPlacement:"left",borderBottom:!1}}},6280:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","container"),style:this._$s(0,"s",{height:this.containerHeight+"px"}),attrs:{_i:0}},[t("view",{staticClass:this._$s(1,"sc","content"),attrs:{_i:1}})])},i=[]},"630b":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","u-safe-bottom"),class:this._$s(0,"c",[!this.isNvue&&"u-safe-area-inset-bottom"]),style:this._$s(0,"s",[this.style]),attrs:{_i:0}})},i=[]},6382:function(e,t,n){var r=n("6454");e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"640d":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("4e1e")),a={data:function(){return{containerHeight:0}},components:{Item:i.default},onReady:function(){var e=uni.getSystemInfoSync();this.containerHeight=e.windowHeight},methods:{goToFunctionPage:function(){uni.navigateTo({url:"/pages/myPage/AboutInfo/functionPage"})},checkForUpdate:function(){uni.showToast({title:"\u5df2\u7ecf\u662f\u6700\u65b0\u7248\u672c",icon:"none"})}}};t.default=a},6454:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports["default"]=e.exports},"64bb":function(e,t,n){var r=n("a61c"),i=n("8793");e.exports=function(e,t){var n=i(t,e);return r(e,n)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"64fe":function(e,t,n){"use strict";n.r(t);var r=n("226c"),i=n("ad71");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},6503:function(e,t,n){"use strict";n.r(t);var r=n("640d"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},6626:function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("4e1e")),a={onTabItemTap:function(e){uni.$emit("tabChanged",e)},name:"MyPage",components:{Item:i.default},data:function(){return{containerHeight:0,userInfo:{avatarUrl:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAMAAzAMBIgACEQEDEQH/xAAcAAEAAgIDAQAAAAAAAAAAAAAABAcFBgEDCAL/xAA+EAABAwMCBAQEBAQDCAMAAAABAAIDBAUREiEGMUFRBxNhcRQigZEyobHBI0JS0TNy4VNiY4KDotLwCBU0/8QAGgEBAAMBAQEAAAAAAAAAAAAAAAECAwQGBf/EACMRAQEAAgEEAQUBAAAAAAAAAAABAhEDBBIhMSIFFDJBYRP/2gAMAwEAAhEDEQA/ALSREWrMREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERATv6Ioz3zTRvlgkjhhZqBlkYXE45kDsDnc9uWME1yymM3U443K6iSigCR0IZOyRzma2MlikkDnt1Y0u9DuMt7KemOUym4nLG43VEQc9/wAwqf8AFbj67227yWS1v+FZGxrn1AAL3kjO3YdFO0SbW6+WOM4kkY09nOAX0CHAFpBB5ELyhJHd7nBLXTx11XFGMyTua97WD1dyC2vw84w4loHPtFmpW3IvzIynldu3A305PXsFHdE9r0KirCg8X6aGoFNxHZ6ugmacPLBnSfVpwVv9lvdsvlN8RaK6Krj66D8zfRwO4PuFMu0arIImN8bZ91wDkZClDlERAREQEREBERAREQEREBERA7cvssBxDPW2q1VM8EjTSx/jEn+zLskemNR+btt0WfwegyocsJu0EkGXNongsfI04MncN9PX7Kmdx18l8JlfxarbrnTQVlJWVEoZCQWNEpDGt5/Mxp5H15kZW3wVlJUu0U9VBK/+mOVrj9gu222yitMXl26mjgB/E5o+Z/q53Mn1KkVEENVEYqqGOeM7lkjA5v2KxvPJ6jWcFvuoAc6qa6RsjoqRgJMg/E8dS3s3169FFqrDQXMxyS2SjcIz/DfUxkux7Df7nKgeJPFh4R4e+Kp2MfWTv8qna/doON3EdcDp7KqKXh/xL4it5v0dXXva8GSMfGOjc8d2MBAA9NlX5Z+U/HDwvF8TIKJ1FU00DKF7DGfIGGsadt29B6rz5wxbqyxeKdFQCJzZ4K0sDd/mZvg+o07rbvC3xDucl2j4e4lkfUNkcYopagfxGPG2h5PMbdd8q26TTTUcb6ohjom6PMfu7AOBvz3/AHVe64eKt+fmK18UON+GI5prRV2dl2rITpc53yiM9tfPqqZo7rUW26Gus8klDICfL0SZ0jsSfxD3V3cReF1uv97musclfAJ3a5Y8NwT1IzvupNV4ecLQ8O19HSWxwuTqaQwS1RJlMgaS0g5xz6BXxzxnhTLG3yeHPiDDxOz4GvDILrG3JAPyzAdW9j3C3vOdzzXkWiqZ6Gqhq6SR8U8Tg+ORh3aR1XqDg+/x8S8P0tyYA2SRumaMfyPGxHsuiVjZpmkRFZUREQEREBERAREQEREBERB0Vmp0QjYcOlcIw4HBGeZB6bZU+NrY2NZGNLWgAADGABhQZv8AHpe3m4+uDhZBcnUX5Orgk7RCi4yMLBur7xp4fqr5wvHNQMdLNQSGUxNGS5hGDj164Wv8H+NdLa+H4Lfd7ZUSVFLEIopKYt0va0YGQSMH7q4h+LbP6LX7jwRwxc6l1RWWalfM45c5rdJcfXHNa4cvbNVjnhvyo7g+mrOMvEgXSODyWmtNbUeX+GIai7GfXl67qyPE7xHbw1WMtlspYai5NAkc+cZZBnlsMZcR67ZHst9tdrt9op/h7ZRQUsX9MTA3KozxIpXWHxUivFypfiKCeWOoaMZD2gAOHuCOXt3VpZnkiy4YuY/Fbje3ujqrhSRS0rzgCajMbSOzXDH7/VWzwlxPbeN7O+WBjo5GENnp3H5ondCD+YP6LrvvG3Atz4VqTU3ShnppYDim1DzdxsAz8QP0VWf/AB/bUniqtdEXfDiiIl7atTdOfXn+atnhNbUwyu1j2Lw84epbzJeRTymqLnsfA94MLXHIcQ3GdwTtnA1bdFqfhTWw23jDiThqAubSsqZTTMJJ0hjy3mfTCt6mhEUkpBz5spdv0JwP2XnLgi4mXxZZUwvHl1dbOSRyc12o/wBlHDbfaeWR6GRDzRdTnEREBERAREQEREBERAREQdFY1xg1RgmSMh7AOpG+Pc7j6qdFIyWNkkZBY8BzSOxUfP8AoV1RSCg1NkBNMXEhzR/hE7nI/pzv6ZWHPhb5jbhzmPiuriO8ss1AZsapnnTEzue59Aq3rLxca2QvnrJfQMeWge2FsHiIS+ptzmuDonRSOY4HIJy3kfstSXBlbvT0vQcHHePvvlnbJxRW22ZoqZXz03J4eclo7gqy2SNkY18bg5rgCHDkQqW5dvqrZ4bbJHYbe2XOoQt59sbflhThXP8AUeHDDWWLJLH3uy26+0LqK60rKiF3LUN2nuCNwVkOqK88Pme4rCXwTsJqS+OvuDIif8MFhx6ZIzhbzw5w5a+G6L4W00/lMJ1PeTl0h7k9VlkVrlaiYSIF6q3QUNSykDpa50DzTwRjLnP0nT7DONzgeqpvhLw04isHEFtu1fFTfD08mqZsUup7BpIzjG/MfhyrzGx25rkdFOGfarlh3ITSHNDmkFpwQQcgjvlfSjUbBE2eFo+SKd7WjoATqA+mcfRSV2y7jjs0IiKyBERAREQEREBERAREQF8yv8qJ8h/kaXfQBfSg3yXyLRVyf8Ij77IevKtaqjnEAdFI9serV5GoljieZDTsDvzHNQvPYGyGTLdGNeRjTlbLJBq0tzkMb+E9f/f2UGot9PUSsfOHmLbVE088HmM75GpV5Omwz8urpPqPN007Zdx08OQUt1rQ2fzTTtw5zY2El/8Au+gVoxXGjcxhjeQwj5f4bsY+y1bha2RwsMsbXMjlcdGeegbD+62WS31EeXU08sWTu6Ijc98OBb9cLC9NJPi05Ot5ObLuzSRX0fWqhb/mkA/Vcitozyqqc+0rf7qB8BWuP8Wsqnt6giNv5tYD+ag322R0Vkq5xGBM6M5e7dx93Hc/dRj09/dZXmk/TPmpp+tRCP8AqBBUwagGzwuJ2AEg3VPUdHFRXWGTAbSvyyUYO3PDsfT81lDAJ5BLIzEDTmNmBqf/ALx/8em59Rf7X+qfc/xaXJfMsrYYnSSHDGDJ2WjUd4utFiOCaOpi/liqAS4egeCPzz0WWtFzlvNRLFX6GSU5DxDF+Ejo4k7nBz6ftT7fLfn0v/vjYylCx7acGUYkkc6R4J5Fzi7HrjOPou9cDkFyumTUc9ERFKBERAREQEREBERAREQFgOMqjy7ayBv45pQPYDc/oB9Vn1q3GcbnVNE4ZI8uVoGOuWHH2B+yme0X0gEE0wkAByNx9+v26KPK8xwEiN7iQSC0t+UjvvuN1zRynySyTIc09efVdkga6eKIscMyxfMC3SQZG5HfO3Za1nPbeLPBD8HFT4w6NoaD7BZaJpY3SSsPRYLWsedEn8rlkoZJGfLONujh1WVbxIwsVxRGZLNUtG+Yzt32WWG4yOSgXMhzQzm3kQqwqri3BZKBljsE/l/dR7iJqdgqaZzwW/jYGktI7k9P033WSpvnhLdL9sgfLnbJ/sFzo0RO1NyW5wXYGNj3W7BFttwhuEGuIjON2k8u4WUY59HUw3KNj5Hs2kxzLDz9/wC42Wv2yhdU1MsNIxjah8upryCAflOATjrgrM0FxY+Y0cwfFVN2dTuH8QH1H79eY2Kj2tpvUUjZY2yRuDmuaHAjqDyX0tf4Yroo6R9JUStaYZnMjeThrw46g1vTLc6cDkAO62BZL6oiIgIiICIiAiIgIiICIiAoV2oBcaN0OrTI064nf0uHL6dPqpqdCEGgNa+OqdFNGYaiMZdG7Ygb7ju09/3XXd65lFSuqXRl5pdNRoa3BLWEPODyzhp+6keMVbU2/hymnpAxsprGN+Ixl8Oxdlp6Z0gHOQQcKu4uOXy0j4btRebrYWOlhONQII3acd+5Vu/wjtW9YONuHL5TMjbXRxT9WTODHD7rZqaZzWAxSsmiPLByvJcMPmRta5zdsbHupdPNX292qjrqmn9YJ3M/Qqnc009aRyNeMYIPVdNbDhuvtuvNtPx5xhTM0svtSQMfjZG8/ctJSbjri67Ojo5r5VYmcGfw2RxHc45taCmxZlBp8l7nsHU8h3cvqeRpaWjlvnGOx7KE+URU7IRgvwGkkA9vT3XYSHQO806GFuCX9Mg+y3npgxlvkbDey+CNjy5wMLXHAc9p1NyTyH4ufot+uENuq3w3CthmfTNgLw8BwJGxw4DfGOhWk2GJ9wu0ItFQyRsE7XSzAfKwA5dgDrjbPr1VnevI+6x5JL6aY3UR6l8LbaKOKFrHTxaY6ePGGgjmANgB35bLuY0tY1pOSABnuuuGlp6cu+Hghi1buEcYbqPrsu5Uww7P2vnl3CIiuoIiICIiAiIgIiICIiAiIgw/F9tZduG7lRPAJkp3aCRnS8DLT9CF50t2h8Ic9uW9Wr1E4B7S1wy1wwR3ConjfhMcIXWOanmMlvq9bmB7cGIjGWk8iMHOVFWjVXtwTqja1v8AUd122e01F8u9PbaHaSd+NeMhgHN30C6J/Mlk6aTybnGArR8GbMwfG3lxyf8A80IxuAN3H0zsok2m+E+4eElmkpmNtlZV0dQxgBkL/Na893A/fYgbqsLzaa/hm9fD1oEdVAdcNRGMtkb0cAen6L0id+ffK1zjvhmLiWyyxBoFbCDJTS9WuHT2PIhSiVRj73fJXav/ALKY9cswM/b3KgVFbXVDyyrqJ6kA8nyFd9GyQzlksbo3t+VwxyI5rpkd5NY9z2ktx0/1UbqZItvwTkzbrpEQGFtQ0hregLArK5qtfCCkMEM9U9zg6uiEjY8jAa1xAPucqylMVvsREUoEREBERAREQEREBERAREQEREBRLnSsrKCeF0bH6mHSHtDgDjY4KlOLWglzgABkknAC1+93whjI6CQN80lvnFurV6Rt6nON+QHdRUyOK/hrh2egpqiOzUmqpkhLcMxs5wLv+3UsvbrbRWqnNPbaWKmhLi7RGMDJ5lalW8R1MT7bQy04hdBVxuEmfkMQOnHvpLgt3Dmk4yD6gqnHNbacl25XH1wuUx7rRk0jiDw6sldchcNVTSeY8CfyHYbk7a9/XGfclRneFVipaulNTU1tUySUgxyOa3kxzv5QDzat8qQ34eXzAC0sdqyOmFq1PxM25QUIhDpJIY2yOLRkeYQW6T7tJHuVlnvca4WWV32FoZfq6kiYxrKUFuGbaQ52pox7LZvpj0UShmhnD5GxsjmdjzQGgO25e4Uta7ZaEREBERAREQEREBERAREQEREBERBgeL6O41tHTsthjyybMsUrctlZpOx+uPssFS2O8Q6RHEyJpaQ5rTt9BuP0W9omoNPbZa0RuYIIIWvaWSiCJrXSg8w551PIPbUB0xhSI7XcWbsLmezltCK0y0izbWvh7u3bXIR/mXy6nup5mQ/8y2dFPejTU5aW5FpEglLSCOagfDto2udLR+Tyy+nBax3Tdm+n3acbfhAW9rhzQ5vzNDm9iFXK7TNxWM1+jiMcvxDY5mOIaKWDD3fXfbYbY9FY1tlnnt1LNVx+VUSQtdKz+lxAJHpv0RtvpGyeY2lhD++kZUlVkWtERFKBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERB//Z",username:"\u8721\u7b14\u5c0f\u65b0"}}},onReady:function(){var e=uni.getSystemInfoSync();this.containerHeight=e.windowHeight},methods:{logout:function(){uni.showToast({title:"\u5df2\u9000\u51fa\u767b\u5f55",icon:"success"}),setTimeout((function(){uni.reLaunch({url:"/"})}),1e3)},goToSettings:function(){uni.navigateTo({url:"/pages/myPage/settings"})},goToAbout:function(){uni.navigateTo({url:"/pages/myPage/about"})},goToPrivacy:function(){uni.navigateTo({url:"/pages/myPage/privacy"})}}};t.default=a},6651:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={badge:{isDot:!1,value:"",show:!0,max:999,type:"error",showZero:!1,bgColor:null,color:null,shape:"circle",numberType:"overflow",offset:function(){return[]},inverted:!1,absolute:!1}}},6658:function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("1962")),a=r(n("2f2a")),o={name:"u-icon",data:function(){return{}},mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],computed:{uClasses:function(){var e=[];return e.push(this.customPrefix+"-"+this.name),this.color&&uni.$u.config.type.includes(this.color)&&e.push("u-icon__icon--"+this.color),e},iconStyle:function(){var e={};return e={fontSize:uni.$u.addUnit(this.size),lineHeight:uni.$u.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:uni.$u.addUnit(this.top)},this.color&&!uni.$u.config.type.includes(this.color)&&(e.color=this.color),e},isImg:function(){return-1!==this.name.indexOf("/")},imgStyle:function(){var e={};return e.width=this.width?uni.$u.addUnit(this.width):uni.$u.addUnit(this.size),e.height=this.height?uni.$u.addUnit(this.height):uni.$u.addUnit(this.size),e},icon:function(){return i.default["uicon-"+this.name]||this.name}},methods:{clickHandler:function(e){this.$emit("click",this.index),this.stop&&this.preventEvent(e)}}};t.default=o},"666f":function(e,t,n){var r=n("3b2d");uni.addInterceptor({returnValue:function(e){return!e||"object"!==r(e)&&"function"!==typeof e||"function"!==typeof e.then?e:new Promise((function(t,n){e.then((function(e){return e[0]?n(e[0]):t(e[1])}))}))}})},6699:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},isMaskClick:{type:Boolean,default:null},maskClick:{type:Boolean,default:null},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0, 0, 0, 0.4)"},borderRadius:{type:String}},watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(e){this.mkclick=e},immediate:!0},isMaskClick:{handler:function(e){this.mkclick=e},immediate:!0},showPopup:function(e){}},data:function(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{backgroundColor:"transparent",borderRadius:this.borderRadius||"0",position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:"top"}},computed:{getStyles:function(){var e={backgroundColor:this.bg};return this.borderRadius,e=Object.assign(e,{borderRadius:this.borderRadius}),e},isDesktop:function(){return this.popupWidth>=500&&this.popupHeight>=500},bg:function(){return""===this.backgroundColor||"none"===this.backgroundColor?"transparent":this.backgroundColor}},mounted:function(){var e=this;(function(){var t=uni.getSystemInfoSync(),n=t.windowWidth,r=t.windowHeight,i=t.windowTop,a=t.safeArea,o=(t.screenHeight,t.safeAreaInsets);e.popupWidth=n,e.popupHeight=r+(i||0),a&&e.safeArea?e.safeAreaInsets=o.bottom:e.safeAreaInsets=0})()},destroyed:function(){this.setH5Visible()},activated:function(){this.setH5Visible(!this.showPopup)},deactivated:function(){this.setH5Visible(!0)},created:function(){null===this.isMaskClick&&null===this.maskClick?this.mkclick=!0:this.mkclick=null!==this.isMaskClick?this.isMaskClick:this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1,this.maskClass.backgroundColor=this.maskBackgroundColor},methods:{setH5Visible:function(){},closeMask:function(){this.maskShow=!1},disableMask:function(){this.mkclick=!1},clear:function(e){e.stopPropagation(),this.clearPropagation=!0},open:function(t){if(!this.showPopup){t&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(t)||(t=this.type),this.config[t]?(this[this.config[t]](),this.$emit("change",{show:!0,type:t})):e("error","\u7f3a\u5c11\u7c7b\u578b\uff1a",t," at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:310")}},close:function(e){var t=this;this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout((function(){t.showPopup=!1}),300)},touchstart:function(){this.clearPropagation=!1},onTap:function(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.mkclick&&this.close())},top:function(e){var t=this;this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0"},e||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((function(){t.showPoptrans(),t.messageChild&&"message"===t.type&&t.messageChild.timerClose()})))},bottom:function(e){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets+"px",backgroundColor:this.bg,borderRadius:this.borderRadius||"0"},e||this.showPoptrans()},center:function(e){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center",borderRadius:this.borderRadius||"0"},e||this.showPoptrans()},left:function(e){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0",display:"flex",flexDirection:"column"},e||this.showPoptrans()},right:function(e){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg,borderRadius:this.borderRadius||"0",display:"flex",flexDirection:"column"},e||this.showPoptrans()},showPoptrans:function(){var e=this;this.$nextTick((function(){e.showPopup=!0,e.showTrans=!0}))}}};t.default=n}).call(this,n("f3b9")["default"])},"670c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={props:{}}},6725:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{name:{type:[String,Number,null],default:uni.$u.props.tabbarItem.name},icon:{icon:String,default:uni.$u.props.tabbarItem.icon},badge:{type:[String,Number,null],default:uni.$u.props.tabbarItem.badge},dot:{type:Boolean,default:uni.$u.props.tabbarItem.dot},text:{type:String,default:uni.$u.props.tabbarItem.text},badgeStyle:{type:[Object,String],default:uni.$u.props.tabbarItem.badgeStyle}}};t.default=r},"67ad":function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports["default"]=e.exports},"67b6":function(e,t,n){"use strict";n.r(t);var r=n("4fab"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},6890:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),i=n("fd36");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"4a5b943f",null,!1,r["a"],void 0);t["default"]=s.exports},"68ac":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={toast:10090,noNetwork:10080,popup:10075,mask:10070,navbar:980,topTips:975,sticky:970,indexListSticky:965}},"68da":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={noNetwork:{tips:"\u54ce\u5440\uff0c\u7f51\u7edc\u4fe1\u53f7\u4e22\u5931",zIndex:"",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABLKADAAQAAAABAAABLAAAAADYYILnAABAAElEQVR4Ae29CZhkV3kefNeq6m2W7tn3nl0aCbHIAgmQPGB+sLCNzSID9g9PYrAf57d/+4+DiW0cy8QBJ06c2In/PLFDHJ78+MGCGNsYgyxwIwktwEijAc1ohtmnZ+2Z7p5eq6vu9r/vuXWrq25VdVV1V3dXVX9Hmj73nv285963vvOd75yraeIEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQaD8E9PbrkvRopSMwMBBYRs+5O/yJS68cPnzYXel4tFP/jXbqjPRFEAiCQNe6Bw/6gdFn9Oy9Q90LLG2DgBBW2wyldIQIPPPCte2a5q3jtR+4ff/4wuBuXotrDwSEsNpjHKUXQODppy+udYJMEUEZgbd94DvnNwlA7YGAEFZ7jOOK78Xp06eTTkq7sxwQhmXuf/754VXl4iSstRAQwmqt8ZLWlkHg0UcD49qYfUjXfLtMtOZ7npExJu4iqZWLl7DWQUAIq3XGSlpaAYHD77q8xwuCOSUoXw8Sl0eMux977DGzQjES3AIICGG1wCBJEysj8PXnz230XXdr5RQFMYbRvWnv6w8UhMhliyGwYghr4Pjg3oEXL34ey9zyC9tiD2ml5h47dr1LN7S6CMjz/A3PvHh1Z6UyJby5EVgRhKUe7Kz/JU0LfvrJo5f+Y3MPibSuFgQGBgasYSd9l6GDsup0WS/T/9RTp9fXmU2SNwECdQ92E7S57iaMeJnPQLK6ixkDLfjlb7546RfrLkQyNBcC3dsP6oHWMd9G+V3JgwPHh7rnm1/yLQ8CbU9Y33zp0j+nZFUMb/DHmB7+SHGY3LUKAk8cObtD00xlHDrfNge+Z2ozU3c9dvx4Yr5lSL6lR6CtCWvg6OAPw9z538ZhhZRl6XrwhW8du1KX/iNejtwvPQIDR8+vSRqJ/obU7GupjdNdh2gW0ZDypJBFR6BtB2rg2OVtuub9JcmpHIpBoK1xfffLzx4f7C0XL2HNiYDp6bs9z23Ypn1fC1Y/9PCFDc3ZW2lVHIG2JKzTp4Ok7nv/G6Q054MIvda+bNb74pEgKGtwGAdL7pcfAa8vOKEZ2kyjWuLr7uDh+/qvN6o8KWdxEWhLwroyeek/g4zuqwU6kNrhyZcu/UktaSXN8iNwuL9/RuvVXtJ9PbPQ1vhmcP6t9+47u9ByJP/SIdB2hDVw9MJHQFYfrQdCph84evFX68kjaZcPAZJWwjMXRFpJ2zr91tfuvrh8vZCa54NA2xGWrunvmg8QWCJ/N4ir7fCYDxatkOeBB7an501agXbygVdvv9IK/ZQ2FiPQdi9osGbH+zRNf7y4m9Xu9Me7N9nv0HXdr5ZS4psHgXpJC9P/wDRTx0Vn1TxjWG9LGrbaUm/Fi5meSvcrkxf/Cg/ow9XqAUk91v3qHT97r6471dJKfHMi8Oyzgx1Z03t1YAQVT2MwgsC3u+yXHzi0faQ5eyGtqgWBtpOw2Ol9+/TM+sTOn8L08MtzgQCy+tOHXr3jA0JWc6HU/HF5Scssr4jXcYqfP6V/T8iq+ceyWgvbUsKKOn38eJAYyl56TAuCEr2WYei//9Crd/5GlFb81kdASVopSFrerKRlaoZj9HR+700H10+0fg+lB21NWBxe2lhNHsUpDZr27mi4dV379R9+za4/iO7Fbx8ECknLCPTsTDJ17O33bJpqnx6u7J60PWFxeAcCbMV56dJfQKf1bkMLfuGh1+76zMoe9vbuPUnLsb2DtmOe5HSxvXsrvWtLBEhaTx29+Ma27Jx0ShAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQaEsEVoQdVluO3BJ06ptHL34b1XRjp4Ch6Rq24+kmjG4Nwwg+9uA9u/73EjRBqhAEihAoe3xwUQq5WTYEzp0b3ZnV/Ncf6O/9AvY9wlh/6dy3X7ncN512Zw9BVLXjuAP4np44vnQtkZoEgVkEhLBmsWiKqwsXpjbPBOn3gRfenwnc+7GBe+zsjclvonFDS9nA9Iy/u3x9+vAP3735VPk4CRUEFhcBIazFxbfm0k9fHD7k+v4nQFaPQIrx8Gmyx/GJ0J/t7ez7mw0b9MmaC2pQQgh0/ZSm4g5TwueWWtqLt0HuVy4CQljLPPYnB0depTn+b3t+8B4t0AdBUv93h2H9xc6da0aXs2m+r1WQsLRnl7NdUvfKRkAIa5nG//r1oGtsZvjTgev/kqYHF/TA+AXoqv4npJemOEiQU1Eo2l+G0movBK1UBBPU7s9E1+ILAkuNgKwSLjXiqO/khVtvARH8dxDBRkMzPrF/V+9/BlG5y9CUqlXinHv9mRPXtvuus88L9H3JPv2zD2yXExCqAicJBIFWRwAvv3Xqwq0/Pnn+lv/K+ZvfPH3p9p5W75O0fxaBp793ce3AwIDMWmYhafiVgNtwSMsXeHp4eNXJC8Nf0PAdRCiuf/XgrnWUqsqotcvnl9DmRkCdweX4b9N7+m/ih+mbMraLM14yJVwcXItKpT1VRve+ArC3Qqn+3gM7132jKEGZm6tXg86J7OhDfuA/iHwPUpfUZSfu2L59tXxEoQxeyxkEgjKeOnLxHb4RqC+NY5H3+2953d4XlrNN7Vq3ENYij+yZwbG9jpt9GkBPQ5H9zgP9607OVeWp87cOQtn9zwJf+xDMNFfj+jryPqXpxj8c2Nn7P+SXey70lidu4IXzb0DNB4tr9751+HV7zxSHyd1CERDCWiiCc+QPjUCnsaqmZ62O5IN7N/VUNP48ee7mAZDTf4Tt049iUG4Guv4ZfNLos9UIbo7qJWoJEHjy+bP7fNsoOcnW0A0/aacef8PdG28sQTNWTBVCWIs01OfPj66BpfqTmq732UnjgT1bei+Vq4pTv7HM8Ceg2/o1qLQug7T+FaaM3IqTLZdewpoHgYEjV9fphvOj+OShWa5V+CxvZtpzv/LwG/aNl4uXsPoRwI+4uEYjAJ2GmdG8L0FK2mYa+tsrkdXZy+P7x2ZuHdW14P+BLdank9q6Qwd3rf+ckFWjR6Tx5Q2cP58K9Jm3VCIr1ogt48lO237r3//96YofeG18y9q7RFklXITxPXV+5DchKb3ZDMy37Nu5tuxG4R9cHH6b42QfAzlds+3EPXu2rfrBIjRFilwkBIIR7SHoJDurFU89ZOd680Gke6JaWomvjoBIWNUxqivFD87fej0e0n8Fwvr0/t1rnyqX+QfnRz7g+8FX8Rv8vL3auF/IqhxKzR2WCPxXqKeq3krDTdj2ierpJEUtCIgOqxaUakwzNBR0D09yiqePHOjveyOkpxLr9VMXb73V97S/h3nDXx7Y2fdPkAYbncW1IgIDxy5vM7LZt/hgrnLtxyaBrJNxv/72N+6tuNhSLp+EVUZACKsyNnXHvHL+1qcgNf2KbSXu2bt9dcmS9qlzo/fARgcmCtpzB3b1/Vg5QiuslLowENyDWDn8cSjl98PgdBviu03N+rl9/WufLEwr18uDwLdevLTF1YK3xnVZ2HI1bUxrT7z5zTuXdRP78qCyeLUKYTUI25OXbm4JPO00TBj+6I7+db8ZL3ZwMOiYdG4dA1lN9HWte2iuI2NAVPapC8O/CGPR34Ip/AZIbIMo7yX8G9QMbcS09P+2b1vf5XgdrXaPfiYns9oeLLEd8D1/B7Dp0E1jGP042pXQj7RKf546cmGzp+tv1TRf6YQD35/QO3seP3xow5IfC9QqmM23naJ0ny9ysXwgq98BWc0kVhv/Nhalbqe8kd/Fr8MOSEr3zEVWrwyO3I29hl+E9LUHGf+nAXI6sGPdd8uV2YphIKnE5IyL6bLxk7cn3bdkHHefrpvJAExMZ1uBZmqeNzXtfzUzk/m/ens7LjV7Px+8d9e1579/44l0duZtge+Np5zEEw8c2pBu9na3YvtEwmrAqNE8IZvNHsep5//yjl3r/0O8yFOXbv0QCO05gP0JGIL+fjw+uj91YeRh/Dp/PtCDM7Zpfmjvjt6Xo7hW9ycmJjaYduf7Hdf/8HTGfa3rG9rYxLSWnsloPg7fijZV8oFM2Ja2a9t6EJd7bCztvHP7us4rrdD/r3/7ct9I99jEI4cOiQ3dIg2YEFYDgOUJDFj1e8TqX7cT4kImXuQr5279A4DeBEX8ayvprU4N3rovcALot/TH13T0fXDTJn0qXk4r3k9OTm4y7a6PzjjORzOOvn1kbEqbnEprPhRzwAKzwFLHk05hv6Yd6N+o3R6beG50aPSdr3qV6IJKkVp5ITIlXOCYn4Yexr0w/DO6YXymHFlR0e5r7tsM3fxgJbI6fW1ivTeT+SsYmr54cFff+5Cu5X+hb94Merp6/J/PusGvTE6724eGJ7RpSFOkKPCUZvBPBccoHBet3Rwe13rX9tw/PjXzZ5hKvr8SfhWKkeA2REAIa4GD6p0feRdWBnvxjv2PckVhVfBf4A29uG/X2i+Ui2eYn8n8NryuDr3jPfWSFV5k44UT137eshIP2K7/64cObbheqZ6lCp+Ydt8TBO7vTM5od1+/NR4SFVhoLpKKt410lnE8LTMzo3V2dLznxLkhYgQ9obiVjEDln7mVjEodfYcpw+MAsftg/7qSDbAnb97sCSb0Yei2fqOcbovVqKNnNO8HmAE9Cv3Wp+uoWjt27HpXNqH9WTKR+kBHKqEFbvo5y3N/avfu4g23R45f3WGa1k9ZicTd0zPTf/f6O7f8dT311Jp2fHzmgJlI/N70jPPe4bEZ6Kg4qw0lqlrLiNKBiLWerpTW25PUbkPXZViW62ecHz+4d8PXojTirzwEyhq8rTwYFtRjvpX/rlwJ+iSXugPbMuyKBOHo3geRJtuT7PujcmVUCuPJlhnL/9NUqvMD2eyM5sxMaIlE4n7XML907tyNjcxHQjty4sZv66Z1xEok/xNW5n4uZSf+8sT5m++vVO58wkEu5sR09pd9w/rWyET2vReujiqygrSopn/zKZN5qMeirotKeTyolm7p/+X06Wvr51ue5Gt9BISwFjiGsLl6N6SrvylXDNTK70D4mX071pwtF88w6Jd/DG/1E1u26NOV0pQL71y3/8PJVOcHMzPTWkcCH2YGOaTTaS2RTN6f1fQvvvDK1bdnbO2JZCr1SeRfn05Pa1PTU0gXJBKW+ecnzlxvCGndhFQ1NRP8bcY1/vjS9bF1V26MwHwsVKiXa3etYVw1TNhYJ3TDjQCO42jJVMcez7J+t9YyJF37ISCEtahjGjxkGDr2DJZ31D8h5vUQJL5RPkXlUMM07u3qSGidICvkzzuSlmlZb0olrK9hD9v9JCrPC196JoPMAolFg6CV+PPj54YeyWecx8Vk2v1Q0rSfhFT18LnBmzBRyNalp5qrSuq7kiAsh4SFa7oZ9M0wzI+cPHOjZPo9V1kS1z4ICGEt4lhiCvZrSa2jol7qzPXJPk6nIGbVbWfUvcr7hO9MP97ZVXpggOu6ajplYStj7l1XvbRMXbPAbp6HzSSBlkraNknrvfVCcPt2sHYi7f3pTDb47KUbYxuvKqkKpYBXKBnV869c3WgbDEixAck0FGFFfEzJzbIsO9C1TyrcymWWsLZGIHoW2rqTzdo5dXyykz0NC8l779i5vu4zwM+eHVntGP5jqVTq/6AkVc5NZ3wNH2lVxNWZNIukMSjiNd9z0+CHp5DXAdX4SAg203w8GB5IATtODHzdK8C15kEjhXvNS9rWA11dnfcMDY9prscss48RySakrOLWqODCoIKAgkuVgsS0urtD60haeV1YYVbbtjUn6/74HXvW/11huFy3PwKzT1r797Upe3jq4sib9u9Y+wxe+vh7W1N7jx49v6ZzbffnQD4/Cj1Pfjx54XiBls6GVuTUc9mQsOIO9mPQFdkIRlz4fy5JLm2ZMOqTcJaXIqpcqnixVe+rdbZ3dbc2OT0D0wZIibHSksmklslknvx+//q3PiKnXcTQae/b+LPQ3r1t0969cOL6G7o6E09qgZegdMJBpVQ1DbKCpyUt6oPKz/4NEJalCAuZFIuEVBJd+jgLh4rvAiFqUVGkhJZMWFp3Z0obGSu/d5gSnWmavuO6h+/cvYHSobgVgoAYjrb4QPMUiGtj1/79jBMkLBwiTlMASlYzTkhWCJyTrGAyMOFkst/BoYMmuIIyGJYcMXMMdNwHPhYN1qWS1t6ZLGaKZL8yzFXTr15BooLLMugHMBRNKgW+It8y9TEcJGt4rvcRFCCEVQbFdg0Swmrxkb0+cf2XOzq73kgdFieEXF2jdEUJKQH6SVWQrNjtZDKlpTPp38U58iUbthk/Ph7sN6zg/xudSGvD4xkq6otcnnjyF0XRRTflkyC0IIJE1JG0QbqGNpMNp5xFhRTcZDNoj66988SFm5vv3LX+WkGUXLYxAuXnCW3c4XbqGs9hwjv+a9lsuN+ahOJSCoLjNDAFvVUll0p1aNPp6adTweSflEszPO48oFn+4yOTmR+6enOshKyYhzWpf/jDuuf6x2aV/qNRaPG/1d0gUXWCA0uu7GhMmkqmerEc8KOVU0lMuyFQ+Ylut562YX9Sncmf7Ojo3BDZWbGLtMkiUVXSWTFNuMqWuYG530f7+/tnGFboxsfdd9mm8XdDo9O7rg6NFq0CFqZr5DWlK9qV0fZqGvZchSuPlevB2VmG/hOV4yWm3RAQwmrhEcW64qu4ykfJho52Vp3J8quBYQooqWDKADftBd6HD+5efyoKj/zR8ew/hWXY56/cnFh7a3RCTTGjuMX0SVB9qzu1qfQM+jO3dBW1g6uVSHv/qVNX10Vh4rc3AkJYLTy+WA/8ou9kJjo7bOh+DLVFZ64TEbCyBktxI5PJZj56R//Gx+NdH5vM4vuI+p8NXh9LjU1iw3EZhXc8TyPuuV9wDaaCfBjTM06N0hVWQmHBDzvSDZ5tvqYR7ZAymh8BIazmH6OKLbzv0KZvJEz3ZzEFnEolaEtV2XEaCLKadrIz//TQnk1/EU85NuH8th8Yf4j9gMZUOrNkZEVZCnsbtTU9KW18GqcKFyjh420sd2+j33pg3F8uTsLaDwEhrBYf04O7N/2t7/o/C2FoGnsIy/YGlvAwSfCvZzLOe+8oR1ZT3u/5uvHJC9dGtJlMrfqjslXVHwjpat2aLi2rjFFLjUSrFUjlO0juddXSSXx7ICCE1QbjiHO0/hofbPgwpnDTOR2V6hWNQqGUx34890noet5yaO+Gko3Y45PO7/uB/lvnrwxrWdha1absbgxo1FWtwplXqYSJY5Nn5lU3bLHQmGA/yko0plVSSjMjIITVzKNTR9sO7dv8RSeb/T9BWmMkKv4D+YzBXuljV7yxd+zfte6VeHGKrHTz4+cv38JWmyUmKzSGG5z7VndoE7kz3uPtq+Welvhwm39weVjOyaoFsBZPI4TV4gNY2Pw79mz8KyebeRIH+VEZTaX0sf27+v794TKmCxNTzr/2NOPj5wZBVjjdYSklq6jN69dyKuhqmWztivYob+RTSkPbe/xMdlMUJn77IiCE1W5jq+s4dYEO6mzsYAmvi/+CrH7LDYxPcBq4HGTFVcG1ULLT5orS1ULIkoSFI2cMHKG8obiXcteOCAhhtdmo6gaOh4EWWlkyYU9gvHswXfgV19d/7+LVkSWfBrItJJhObL/p7elQR8fUZnEV70XxPc01sM+xrzhU7toRgZIHuh07uZL6xA3LBaYB+Ar8rBsfz34YX1j+D5eu317QNGy2xPquSE4mDuXb2IujY2AgytNE67RiKFshzuwCR5s9ZSMlsK0QEMJqq+GkBKOF5yFzRoidK5BoFCeMjM/8mG+a//Xy0Li55KYLBRiTrGjwOQ1br4VMBQuKVJeQKVPxMLlvPwSEsNpsTEECmBLSgbHUpwD1YGwse59l2p+9fmuig4fiNZIowrqq/6Xeqm9Vh9JbjcOKvqFtACX7gV8kTVZvkaRoRQSEsFpx1OZoM2iKxxuHLtDcsZlgLzYZfv7m7XSv+r7fIm234XSP/8o5ktWqzqSyZr89PoXPYDTYkZvziw0NLluKayoEyq4iNVULpTF1IaDjHHZmoAW4aep9geN8fiLt998cGYdtVp7K6iqzXGJFUCAi7jdkuapsBJKcPBwgyP8YRyV7B04Q3dDbpY3jg6gupoMNla5U41BbUN9n0sr1ScKaHwEhrOYfo7paCAW0WiWknihhW/0Tabf/6tDtxpIVSIhGnz1dSXUkDL8fSHKi4/lWPId9Kp3Vxqegp8J/m9f14D6DQ/nmb281FwgkZ1Dj7bnSSFx7ICCE1R7jmO8FJJr8jCvjeNrIxFjDJBpKVaSlXhwDw384MyucBoLAGEfHI5ptO6n1YAq4FjorH9IWjUOnFlF3pj62aui3whbI33ZGQAir/UY3XCVEvzgdw/8NcSyGUhSlpVWQrFg2p39xp0JYLyIohaXxdZ2FGofG6yi85/QS32F0Asu8URgu1+2JgCjd22xcsVElPC85169Gaa1YTkRWJKpSqooBiQQzONvq9sRULKKxtzzAEJw1api2EFZjoW3K0oSwmnJY5tcoSD09HanEDztubnfO/IopyUWC6sUmZUpW5aSqkgwgK04DxxaZrFivacCaIdAuH9zaM1rSDgloOwSEsNpoSMenvU93dXb+EE5taFivKElRqd67qrNmsqIF+yjMF/i56MV2JqadYKxXMDXM6+4Wu04pf/kQEMJaPuwbWvPticwj4Il/NnTrdl7JrqaDC5wTUle1GmdWWVCw1+JotjA6PgnThsIdQrXknF8arkJi/+R355dbcrUaArU9ha3WqxXW3tHR9C5dN//T9eEJ3aGdUwP7T0V7F86Mr0VW4mF6o2NTS/ilaB2HDmb8wA2+08AuS1FNjIAQVhMPTi1NgwRkGKbxRxMz3uaJSRzVUkumOtLwo6Zc7aOkVdEhynN9NQ1cyuNqeEqD67mX9TXGyxXbJhFthYAQVosP58S0909czfqJqzdGODVqaG/IUbCWr2p0yukfp4FUtDfeir1yl8IPUGjPHFy/fqJyKolpJwSEsFp4NEfT6Z3YBvOp8MvMc0hAi9hHNQ1cBrJil5TUZxhfXsTuSdFNhoAQVpMNSD3NMTzzU1PZYAM/ProYkg3UV5rHT8lXmA7SwnwEq4FLLVkRI04HM+n0LdvzvlEPZpK2tREQwmrR8ZucCd7hePr7rw2N5PfxLUZXON1zHKz4kb0KnIttP6Njk8tyaimbwXPrsW/yq3v3bhoqaJZctjkCQlgtOMCYCnU4GedTI+NpQ32XbxH7QOmKG5nzdIWZJz8HNkKygqI9TmSL2JSiovGVn0A39c8WBcpN2yMghNWCQ4zPc0HRbr6GEs6chJFnmfl3knZO4/hmII1B6fiFG9br0s6qAeXPp2WUrhzHeXH/jr6n5pNf8rQuAkJYLTZ2kK7Wul7w6zeGx9DyUsZovOodOizosTg1TM9k1Wogpa7lIisOF+w48E/7E5B1Y/cgtdizsBKbK6c1tNioT6X9n3MDcyePOo7OoJqrC6S0+ZIYV+GSOHxvc18PJCxXG4ed13I727axqTp9yk9rX1jutkj9S4+ASFhLj/m8axwdDdbgELxfGsLpoZyqVXPVU1QugVJUV0dC27p+FaaBWWxknq6ceAljTNMiAf/BoUMbJpewWqmqSRAQCatJBqKWZpgJ731Zx9pJM4aK0hXe5vlKVFEbKFlxs3PvqpSSqpbzKztRm+gnEkktnU6/2GFMfa4wXK5XDgJCWC0y1iAR6/Z49iOjY7C5qkG6mk+3SFQGlEP8FFdnygrNFqBsn1OxP5+K5pGHbcBhqhT8fqu/v39mHkVIljZAQAirRQYx7Wj3Zj3tddQjVVJ4l50CMjHe8mqOTJCCvmoTyIrENXx7Uinbm4Gs2PZUqkObnp76i0N7N36tWl8kvn0RaGnCGhgILKPn3B3+xKVXDh8+nPseX3sOlpt13+P4uonv71WeDqLr1ampFB8S1JrulNaHc9rTMxltcpofOeWns0rTLkeIZUHRnpm5YibMf7kc9UudzYNAyyrd8ZLpWvfgQT8w+oyevXeo++bBtaEtQd9s1/ffRsV3I6eDJCp+nourgH04UZQnhIYfWm1o8xdUGCU8/E/bil89sH3dlQUVJplbHoGWJaxnXri2HTvd1nEEcCBS3z++MLi75UejQgcmJjL92ax/gNJPo6QekhVXAbdvXI3D+XQ1Bcxiu02zTAEjKFIdHTQS/S8Hd2/4YhQm/spFoCUJ6+mnL651gkwRQRmBt33gO+c3teNQYin/oG6aKX5rcKEukqqoWN+Ij5vy81v8UATDG0WGC21jlJ96K6wKPpWd8H8jChN/ZSPQcoR1+vTppJPS7iw3bIZl7n/++eFV5eJaOczX9Z2YvM1LPxWpocBHKv8qHHdMqSphGUqqahaThfj40ITBcbLnsDj6oXvu2bS4n96JVy73TYtASxHWo48GxrUx+5Cu+XY5RH3PMzLGxF0ktXLxrRoGNVPPfNtOolIrgElLGYH2wbZqcipdIFVFlDbfGhqfj9bskCaHHS/7gTt3r73Y+BqkxFZFoKUI6/C7Lu/Bl1jmlKB8PUhcHjHufuyxx/g5lbZw+BL7bX4EoiZqyS0T0uM0j1+82QSl+ua+bhxj7GjD2LicwWkLzaarigbKsmDJ7gcTmezMBw/t3ixntUfAiK8QaBmzhq8/f26j77pbaxo3w+jetPf1B5D2RE3pmzyR4/nH+Mti4Wx1dUrCHO0lSVGqskFUnakkpn6mhu086jgYHkWTW3Wbo4Tli6L5gqYHE47vfeDufVv+YflaIjU3KwItIWEdO3a9Szc0ElDNDqcLbHjmxas7a87QxAnX9ljfxcr+Mzs29ykpi1O8iJjoR/cm5o7dnUl89LRLW93dyWmVIip+Kp7pmlWqIvQ8Mga9Gslm3Efu3LX+K008HNK0ZUSgplnGMrZPGxgYsIKeXa/TA61jPu0w0+7xBx/cd3M+eZspD0wbDgWm+RXP13cODY/jWGKuGAb48jG+agNpilbqlKZoWDqDY2AyjtNUlupzYZlKpXgaxIVMNv0zd+/d+uxcaSVuZSPQ/IT13TN34QRvZW81n6HSDdMLUqmjh9tgd//Fi8OHEl3JL3Z2dh3MzGA7XU664llVWRz/QhLjNYmsmaWp/DjCjqIDdlaZTOZZ1/A+fGj7hjP5OLkQBMog0NSE9cSRszuswNhdpt31BRnazM3U9IuPHDrUuG+419eChqU+cvzqjp7u5P9KJpMPpqc51Zv9QntLkFQBEqZluVCw/7nhaP9i376+8YIouRQEyiLQtIQ1cPT8GjOw7vE8tyFtxBrb2MBXdh579FF99g0vC0nzB548ebNHT2l/aFmJj1BPBYyav9EFLaQ+jdPAVNL8/pZ13a8qiJLLOhAAjvrTRy/d0enbF+69d0tzHFhWR/vnk7Rple6mp+9uFFkRGF8LVj/08IUN8wGp2fIcPLh+4sCu9R+F3ucj0MLf4vaVVnChqYWmdaQS2jpY2vd0djh86Vqh7c3Yxm8dudTPxaW0lrn7yJEjZW0Tm7HdC2lT0xKW1xecgHE3FDWNcb7uDh6+r/96Y0prjlIO7ur7TOD5b3ayzt9ylY0Gl83qKFXZsCXrXdOlrV3djf2LBr556JOshLDmMWhPPXV6vav5O5jVxYLUhNl3iIbV8yiqpbI0bQcP85C2Xu0l3dczC0XUN4Pzb71339mFltOM+Q/0rzu5f2fvu1zH+QDOt3uZ0pbVRMRFouJK5qqeTkhVqyBdtdUmhGV5JI4cudrpd5kHiyp3tTU/8s6r+4rC2vCmaQmLWJO0Ep65INJK2tbpt75298U2HLuiLh3oX/95L+0/kHUyvwTieiUJHVEimVzy1UKeWMqv2pCoKEVFRNXT1aHawnBx80eAZj7TwcxdAc5Gi5fiaNnNT37nCk4xaV/X1IRF2B94YHt63qQVaCcfePX2K+07fMU9U7qtHev+xE/7r3cc70O+6w1gxuV0dHZiusgvJS/O7IskRXLs6KCxqj+B26t9a3uUREWi4plbQlTFYzXvu+7tB3EIUGel/L6e3TNw5NS8zYAqldss4YvzBC9C7559drAja3qvDoyg6pwCP+KBZaVOPPjazS1vMLpQKE9fuPnawDB+EqehPwzWuAuSl8LPg90WVxhJJPWQCUmPBAWTBEz1TFUGpqO3wYYvIPgr2az35a2b1/50V6f1e1NTlVcvEzB0xRekj67usu5FmS2/crvQcaol/zeeObfTSOj91dIq28PxiaOHDx9quy8LtQxhcZBqIS0Dhkl2l/3yA4e2j1Qb2JUUD1Iyz1waOQib0vsxKXsAFvH3wMB0JySwtZC+DBPTN5BOCEnhrI1BuKe9l6tIzsVCiD6E0DOabrwI2elZ09aP7N3aNxjheXvK+a1OENa0EFYEyYL9rz072Ju03ZpNQKj7Xd899cKhNrA9LASvZTY/s9GcHoK0XsrakLS8UklLxyl+/rj+/Qfu2367sJNyTS7SuZfneO7ffweBGScu3NwAqWgrTvTc5jjBZmw87tMCfRXYKQWOgula4OiBOQUZ7DZuhrAGdQXxV0zPuCaGnkv3VPGHOpPw7+QPR62OM5HhdNddGOeX2kmCbSnC4mDlSStVTFr4eLljdHV+702vWz9R66Cu5HS5h5hmHvz3QiOxwJTRo2BGgY06dm7OVhewYGAY6s75oD+ZDs4JPY9JyqSCQ7ABqftd5VFM3/j2Ja4mtsWpJQSq6ZXu5UZTKeJnsHpohiYPRqBn04nkS2+CQWW59BK2dAjwS0Y4IHDz2ERWG8Gnwm7iK9W3sFmbvrqGPzw6gW8eTmvTM07XmTPX28KYd7EQ3rjnvv1QFHbPt3zT9DcMPHd+13zzN1s+/hC2rKOo7NjeQdsxT5LEWrYjbdLw05eHtwWe9jl0542u62HZHZIVpalY/yIlP5X3MHYddLLZfy4fmYiBhNuB509vw+rG3tKY+kOwGHLi7W/cS91jS7v4s9TSnZHGLx8CICH9lXNDX+zpWfXuycnaBV2e3e567nAm4973qv0bzy1fD5qr5oEB7KXt0u7B3Loh7yhWVfypbOalh9+wr6U3mbfklLC5Hi1pDRE4ef7Wj+EEiZ+amqpvJT2bzWjJRLIPR3n9riA5i4DZg720DSIrlsrvHXSZ9p7ZGlrzSgirNcetqVp9/vz5FJTqj6JRejTdq6eBMzNpHP9s//QrF4bvrydfO6f1JrCX1mvcXlo98Kembjotr3wXwmrnp36J+pYNeh5JdqRem83O77gxkpxtW3bgOZ/g1HKJmt3U1Rw+3D+zrc89aunagnWzpq6PdxujLz388L4F78tdbtCEsJZ7BFq8/sHBoMPX/I9hyrGgnuDUUZzrnnz7yQu3HlxQQW2Ued++fZmJ1e5LoPB5k5ZpWCPXz+08du+99zrtAI0QVjuM4jL2YcIZeh+2+9wF49MFtYJSlgmHE0g/JlLWLJQPg7RmhtyXsJ18eja0tivsXhj6xy9ve/mRR5TRcG2ZmjyViN9NPkDN3Dz1FW5z9XM4i+s1ME1YcFNpUIrVLHzJzHnwjl0bn1twgW1UwPHjxxPXpztejR0HFTc+F3YXRwxdfdM9W08D0zrs4wtLaM5rkbCac1xaolWOvurhZIPIih0OdVm2haNTfqUlAFjCRnJP4HBn+iUqz6tVa2nGpTe/etsP2o2s2G8hrGqjL/FlEQC5GHghfplSUSMdvwaEA/9+4vjpa3c2stx2KIsfUek2dr+EuXNF2xEjSJx98w/tbFt7NiGsdniSl6EPp84O3W/Z1oPzXRms1GRKWdCJdeCIlJ+vlGYlh997r+70+EPH8NHJEtLCauCph+7bmj81ox1xEsJqx1Fdij4Zxi9AT2KSYBrtslgxhOD2gWOyz7AstFzx6zFHj1mGobYUYAgC9cHge3ddK5uhjQKFsNpoMJeqK6+8cm0X6noXiWUxHA8WxAdWNyQM45HFKL8dyiRpueM7jllmMGpnjO+1w9fNaxmXxiogaqlR0jQdAkeOBPjczrnOiQ6jw88ESSOA6KT7iQzOHEvavu1pZsLQg4QPP/DdZG9Xx/vWrOr+mfR03SvtNffdxleAQIgvTzjBT0w409Mpu2faufZy+vDhw5WPMa25dEnYqggIYbXqyNXY7i/jCyvdfmaVb5hdVsLp9LJGp43j1/1A7/RdvdMwPRzEboRnLVHe9vEvL3eXBOB4ZMta22H+TiqV2LJQ26u5u6Bju44Z3J7O/Lvp6cwPmBanOwQ4uNHRTWMK21bSvh1Mm642nTWCtKkH07rnTE72aOO0XZq7bIltVQSEsFp15HLthg5J/+aJE12m3tVjOPYq1/dW4cTjHnwMYhXOce8xDd3y/PJW6OpMdsTRVy4iK/rKMR/jwvz825VIHFzT3fkx13UW/dnhRy3GJyeeHEs7n1XNibUPFvY6vtGDw5vV9w0Vofn81qGhZfDhi3HX8SfQ/3HPMse9CWcCX0gel2OIFJIt+2fRH7qWRaYJG85NxldGzV4tGayFSLQ24+q9ULyu9gJfMU5ELTn6wUISTl03NHz1KzyiJLqmX657OLLdSJgoXTO7cBxyN172blier4YCvBsFdSNXV2dC35tKJrbzfPfFdjwvC/qs9MSMxxNRsSqmT6LhUDQHE+jUBE7UnATXTuLsrRn01K2l/x6+qItiR3TNG8V59KNB0DGSfNXGUXwJY2Gm+osNhpSvEBDCasIHgVLTt75/aQ0MnXpBNb2QgNYEntfr4wu/nBYpKQLtxtdwAh0SBX3VDe7nM/Ha5vf1Fb/CURS2bCTAWWuxR229qRsbQQQbUed61LfW14JVKKsTJ5sk8WUcHbtlNANyTOhgcmAGKH7p3m1FWpqtuZCu+LByVdKHVMjpKEQrBwIW9tnpXOIH+QTDSH/D9f0bmCLewDn1I4HmwtAypPDZ/oe9oXKf/aMPsWxSs/RR13FHrURiZE1gDR86tKHEdCDMKX+XCwEhrOVCvqBeHNaW6ui11/mWDtLQ1kEiWodXE4rwYgepAPssTPCMOjIdAk94TZ8pMZjch8HjDorGFUTUAwlkh64be0A9/ZCatiDZWtOyE7ClQmIdJICJFYhA+TRV4Fo5/QIHiUvrTEbkVRCxiJfsSBbfYk87OTExXxdazY5yUgiRKfpHQ1YSkONmAZY+gV4NIeVFfCXoLNA5h/Plb5LzWAyzF+IVXdNnvO/6GcsyhjC1vmWZ7s2pO3fdOqzriy9asnJxZREoerDLppDAhiIAEtCfO3F5rW0a6z1PX4/nf53nG5RqqrpieSnULEVh8cx4E7ugH78H8tG9eP/24oVezY+pkpA8b/abhPF8le75BqdsXUtaFeaTlTI2IByEoU1l8oq1mkokcZHElIRoWmpejMMCMyCvQXyy7JjjuUcgOl4tLCzCMpTHgFpcgkViX/dH/ax2Szf8m2Yqc/MN+1r7BM/C/rfCtRDWEozSkbMjq7NTY5t13dqE6dhG3wsSqlp+C9DDi0ifLrqmT1f6BgUaPjiHN0lJAGAfvpWcI4XjiHIMF6ocO/EjmMa9HeelQ1LT1PRpoce/sJwOTCQtc+kfGQp6Uxl+9JWtmL+jNEaJ0gKBgbsygR58B4sHfwV5aliVWg3vCHv6ymHcdG868IzrVsK6pnd71+/dsmXxbD3m3/W2ybn0T1/bQFe5I8euX+9ybuqbXMPbDA7ZCKV4uMOecyz+9OfmWvj9x9zEw6JW+JuOX298WhE6qtwLEV3TL1tb/AWj7sqwfqaro/sdmcyM+vBp2XzzDEzaBiQsNH+e+eeTjQ+ohwqnG0BYhfVzNYKrkOmpyauYYH8KvD8G6RPBszrC6Jq+ystl0ghzXEZjR5+O4+iZwTh+eG7Yqa5rq/3hGzzTSkXKn4YgIITVABjBP+ZzP7i8ydasrZCetuCHvIvFRs92SEdlpnCYE2LOQi12OA7RNf1yjrphHIyE9yOXPnfNMDg70DpdTf8DWDKs5rRvMVwChAWrUgh21HzllD0NrigqlxKVC7bKQuOOWeGiuI7OTkhb6T8C/Xw3xkel9cXxj6eIxiY3Hhx3X9dHsWJwDaa3l1+zd9Mt/F4tUk/ijWnP+/DBb8++LWqvnh0c7NDGta0pO7kl6zpb8AJzEUr91kYEFdeBRCt69Nm4+AsSl6jwjVGckY6VwPwUpLhLURx9xliWvxFHi/w+zB0SWCnLsVpxnoXesSI2ngp4zmRJXPgf/0IleGH51R6uwjeX5MR76qtITh7+8N9Cp4GF7Sm8Zl1s35pVXVomm/5c1vG+Wm284njHJeJq44/FjixUAld8w7uijW6+xo3MhW2S6+oIVHumqpewglJ87+LFtcFUcqur+1vxwPcZJqYPMOyhXw6GKI4+4/GwQpjCBhe+6XDIpFb06PM+np5hhS5eXzw9bLJ2pBLGv4Fe36BU4kA6IQGw8MUY6MJywVeqDs54Z69zrWdY7jI3G1ZtUiSV6zzDI3IqLLew/wu9jspl+yywrA1pEed5QceXPT3jBb/DLrA5ua5UHZ/4eMTbFx+fwvE3DJO8fANrjlctL7giJhRx9MrfR89R+VgJ1Y6currONuwd0FNsxwtV02mPlWGLy1TxlPHf6Hh8PH9xesvw9yRM+5PIRT2ZIgVKKZxWUY/PT8aTFPji0i3m4Ed1hDWV/7uY9bNGtiGqAyorJRWSqCgdkrQiR5KddrwPlsq8xfhG6efvx8dvtiQczDdmmPaldDBxSVYeZ3GJXxUMWzxq5d4fPz7Ym7X1HTAL2A7NqtJHEQ3qtCPjw3LoxB/v+OMZ5VVzR5aHWRuErYA+y4uu6fM+Xl9J/lh7bFvbY+vmv0bWos9tsXAWSLIiaSnyApHxJz6SbFSFuXTw8i86r5vVRW1m+6IHmUREAuI0lcREP5q2ztWPrO9/YK54xsXHI56+cePvj3qBfimZNS+J5FWMcrjptThsRd4dPX9+DcwEd5iQphwozfkCwJKaLv9ewHYKeicfSudwShcnJDBBOD3MTwGRO0cqLIj73jQTaejDBYaPHTBgJ/i5+HyYijd95sFhRzkzB7yL2IrCtGwezj9nOQVTUlfPwiicifnu5J0qHHd8mXHIG6ZD7JQqIk9kJK6QwAokMWRUhMaSeJ0vcfaiXNhs7PyuwpYV51Vh+EM/Pu2M9GckpyiOuZm2Wvtom+Y4me8xPbvIIujzPu6Wbvyt1ejL3U7Sv/v754ZHsORwaX3KGdwiJhO5pzY+Mivk/urVq52jTnIXlEc78LKu8qAMx/G8kHhyOicosz0ovM3IrIDKb15HSvDoOoqv+hMLYCOWI8ash0vmufryZVcqLz4u8fym3ov1xT/EVp4UDUTn4/iS0xW+sZTMojASmLqGp64iH4FRXJQ2TKj+lv7JVRTVxwQkm9APyaboGnGMzSVR6VR87ipsVT645ovOzi5tamb6zzB1/nqzjz+s9YetwLioZW5C8jq08K9+1IxS8yQsfF6ap1WL2BK8VOaJc6NbPcPrx7wJ++hmHQUPvOaQgMJ3ETtVlERDP0wVsQ19uPgcLQyt/Dc+p4jlL6k/1xa2qVyh5ApEzEoErm/DsPOTXV3de6anq36roFyRdYWVbVSshHJEMt98saIXfIu9koplYZL6m/hUz7kS/Jt0/PE8+Jj6X/Y6k+fv2tA1BKIvB/OC8WnGAmp5dpqx3XW36fjgYK/upXbhFd+BrRlqn16MfkrspkoC4hnirYjbUVWzs4rHx8uL3cerjwt0TA4RcBcsuX8Rn97q54okVsCKJJ9YkSvy1gJR4aOtnAr6OJP+L13d+BKBKMEzHhAfgDh6yzD+vqHjTDDvYpAxLqwEfVdbE9bpIEi6V27tdLP+LnzPrWS/XrRTnz5d4e79+LNY7r4kP+Z7Jv7z1LyPL0B4Tb+ci9cXLy+eJ54e8Rw//rqqcUR+HOrgYVprJbBl5E2w63oI64J7k8mUDZLGhmAXs19ucVkxP8gKQu4ptCxbMy2TW3KAGI4u1P207ztH3CDx/7bL+Cdse8h1Zy5ev7Dp8uHD7blJuy0J69TV8XW6l92Dl3cbLG6g98idbhDgdANcY1ZY9o2N4mpNr96GRf1Da3Wui0RW69F1bWslvp81LD2xDTOGu9DhQzBc7AcYfYlkAqo6A6ozqHNBYJTESGitTGShsp0qQSxT4AcoPJQw0LBlEPhBFakHDjoLvY+XgVIyg7WK77tG8n9pvpHXBbXL+OMBd7FN6KLu+uf27esbX9RHdIkLbxvCGhgYsDb3v2a7obt7YHakpKmYiqgE2ioqJbzIOszXcSov/DAzRRNehyJKvPx4+igv/ZLKEaCkoZxUFMYXE1I8f7Xyq/UHp9CkAlfbCF3NdlhS7IQguA0N2wiJYy1ktC5IISb1Okr5jSYruy2SGlYkIkKLSC3yy/WrUWGzSnjaTUX/QEhYQuNewLCdwBFKRkpOuAfr4sBnwwfDg6B0MHagORhBHNqHw5WxTwYav6lAt/42MBLfrYZXHO9w3Ftr/B0Hp0pY+tkD29ddAz5ln8NGjddSlNPyhHV8aKjbzAS7Dd3egRcvgRHJWyrHASw9Pyp+vlSxEluH0jWAGQF9VVZMpxHVRZ/xSKQU4PR5Xy0+/sLQZCFS9DN/XKtSeh5WrL2x+sMyZv+W67+vwz5eC7oDx12rm9pakNg639B68XL3Qh+2Bm94DySxHhg0daBHSQhiCbyyyMS9SDi8RhEHyYP1qD9qak0S4VGn5VYrSTRKEkKHWYYiHuQmCYb/YKYLqS+3H5LYckxJmz6qhSYJ5yNgzgtuclESpncBfN8Fj3lgJdCSGpHcGECoxrouMoHjzO+4evLLMB1VKxJV8Wyj8Q80Ix043jnTu32hlTdkh08Yn7UWcnio9Qs3pzZm0lN7LCOxIdIZxbuQ1+lAVFFxJB7aMeUIiPkiPRPjo2v6dPF4FVjHnxi/oQK0Az/bymf5uI7ayGLj6eM63nrbF5VNXzV7nv3HViQL3JAEaSV1z0iBNJIgJBCYkSKJYbdjEiSHw7a0BI5s6QBBbINUswMUsQ6E11UojZGccA9dcZDBdQY+TgyFTgkiEKYyIBvstAQzIRk8cBJ+A2j4gZFDFWAqjAp3V5IhQYYwwUJ57ByS0QINzMYK8FyrRxt3KNbXb2qG/UVNT5wDyCt6/A0boGbdqzPA4tD21SPquWihPy1FWHjQzYs3xnZkM95ePIZd8RccBx1xez/UPowp46I4+uVcLD9/8Plq0Gfy6Jp+uez5uqPyY+UtNN5DuVQc06drpv4bIDXsjtsMpdkOSC79QK4Xog3PzwF4IBNCBiIhpBSpoE8jioqWaM2KCRuOqwLXgIQItKIe0lCYD/lZjoqgGIo0+J++SsmMKA8eqQ21qHuUh2PfzQHN6vgG6vVK8GfmQhcbr3Yff+AEi3rtdCtNF8u/eIWD2ATXx4Mg0XH1Vr/hm7sDQw8PvyvTrriKWocEE0C6oM/kJRJHrAykgj6WGlq+JUifu6YfS6pu4/UVa6AgQcXKi78ApekhcWFBwMstEkTX9MvVHw+Lt2ex+4+Pg62CxgsHEwZbAdgWIJfA+ICkfDRYtyAwWWB7Ay8F8VT/KB0bOJ4Gx/CQfUKSwZGrJJs8iZHYgB0zMB+zk8hopQ8hEcEog2ERASIBAOL5fIrVIKLxXKtzKPZLgZUckvGf+/nH5HsK0+Uz3316zeAjj3D23Lwu90w0ZwNpiZ72UnvwfO/AXIFnXfLBxLOsHn6yiLqmr3oQ04LHX9hq6TFHI6txrlYWkHj98UT1lh8vryR/rIKq6aO204drdP8hRWF3itmLUw42QnW1CSTSA2IAIXkWOBYKLWw8wjVqNkEaFqjFwLQNJhWI4ZiFoiq6QX0SbsEo6HMoWVFCYprwjw6FP65BXCSoXJwiOwpnFK9A6yiWkQhRDwA9XAfpwLS/AqnqSKP7jwapquiznXFXMn6x8Yg/X/HySvLHKqiaPlZfvf0H6BloAM/v3tpzHkJwUx59Uxb4GE5Lfnt2ZGS16SX3+F5mq4llfegtwnaSR6J5EC8hPUV6IDaS6aDnoZ5DpYe6AtdgOr4pyhXLNPH0KKCo/DDP7N+S+mI6qHzbQr7AbdgW+iylWn0l5cf6E29ftfSN6L9lGl04x30tOtMHklmLhxpClW9BL4S1T+i2uNPRp+0FflD0AN9A9LHnmHGBBfJCE3QL9ALiguoJqiu+64gDzWGIIAlhzhaSDsMV/yjJi3BxyY9khP9BXBSzEMY/AFORGMmM1yyKZfmm+ZKuJf4uMHV1THEj+o+S864E7zYd/8Dliqp2MamvPbt9uw4dY/M4DnXTuMuXx/scK9iHLcbryzfKwvOJBSGNPl10Tb8WV0xYyMFymDdXXv46Kq+ueChJQI4WlSUqf8StOf5CNdXqr9afxe8/Gm6AoLAqGKyCGLSG350ACFzKM2FvaeOseEhFOsjItdQ2S6wYYmkOdl2+CfLBvmpIV55vYY2Qn6uAxAWC40zbhxSmWArcQj0TSIiSU37mx0kgVesgLereOSz8E5EWJa6Qzyh1hZEcO7xY4Ct9WLfNvwa+5xA2h6uGP6vMPxMsZ8WNf0Gf+cOCw9usq51a5+kNG9Sn1IjJsjoO0LI7EpVra/vxhPdFs7JyjYriohlbTAKGxO1C6oJEljseOLqmTxfPX66OucJK66OUNzuDjK7p05UIbGwX25I/vrj4BYrnD0uZ/Rtvfzz9fPsPIkgkbL0DZNMFRVEHFEY2ZCBTcwMLdfCsCCVN4SwpE9YG+ARNgD24IDHYSYB1yNCYDkLRFoC8oOUG40AKQx5IYyAmlQ6SF7dDoSof0hbJiApzqLs43aPc5UG+AvVQ/4T7nGQFQiJ5kdbAkmgH2Sz0FaWB4gLrad22v4nmuvPt/yzCc1+V4t0e4z93r8PYwDCvNANxLSthkai0jmCf5+jq6y6Y4SkjTfoKprgWufj9Dg3AozBmiK7pl3H8WDH3u0YfLY6u6c/HVS2vSvsxoygyTF2q/qNenEyjJ5NJPYGPRidME1M1/JYqwyoNq32Ihu4J0z5M+WA2DoqwEI9wfmEaEhQJzPNsKNOh0jJwrfRVJqbnNOrC6IGwQFzgHiKrpCuq2kE+FizrMXWE7IWCEKemg7hSiimOQchNIC3EchqpHlBO95TshQThkwF5TL9k+Mm/MZLGzVo3AlQdLzagDle1vCYd/wU9/5Z5ZcyZPnNow/J8ZHZZCGtsbKw3rdn7nIzTx42o0WfP1cPKuYJ6XPFs5q7p8zmKx5v8cdcxDeMPOR1fj+gh4X10TV/dukiC+nJPeLy8eH1hrtm/UVvpKxcrP2oL/dlcs1eQ9PCeo73wGcp+R2Xyvlp74vH19B9EkoA2CYKUlcQqJCQj6vkoyBjh/IurcJiy4Zxy2FMptRBO7sK3kClR0UYUZAX+wMqfC1ICiYHMYBsKSQsSFKaAUEqZLoiK00ASFsgpN0UEUWE6yOkiiArE6NmUb91OWwAAEuNJREFUszCNxA0c/uBoF04W86YOarWQAYjGmHBBEIkUiXEqib025hNmInWknv6zKo77Sh3/RvcfSx5Xl4O4yr5Y7NxiuEEQFT4uvs8yrF5VvosX28LLS185vsiRHkc9YPiJtrCbJIzHyx3gJdfpl80flZWPR6qIxJghus7xjSqj4E9UNn2VvN76Csqq6XIR+48OYEeGlcAaXhLfQwxNQcgQEI9IErOOxBUuCuDLz9Arm5iyOTaYy7Jty8hAb2VCm43ZmwnwQTbgFpAWyA4SGEKhaMdgYNpngKAcpeMCAfFjYGE4yAqco3RZ0LorUqOkxVkf6AgzvFBPFbISSsOUD+WRrWijpcwbmI4Gomj4yxAIv4bPVU+q9sfxk/EP36UlfP49N3vNWr/m9CZdX/zzjDDofAoW3XHVr9NPHdB8p2+uORl/mjFLUktMbBTtkSJbpLCRxYyD5OpJps/4+DJuvq5IIgoLqfi3pLzcRuloM7QSzKImsBSWG80LVKkxkSvOkFHaCjL5QvrPN9rwvaSVtEg2ICmQCNRQkGjwnlOpNktMxdds+GxcRFrIyCmhTQMEUJjl4qwtzPbAOVC8o0DUZroGiMmBpEUfRBZ4DvRUJC4/1GOpij1ML9XU0PJdFxIZGsOpJkkOQ0YdFh5CPodKl0WfRqQkVUhTIEf1iN4GkdJU4Rx/xsJfHkpfMv4cd+IAUJb1+YdkfSU7NXp6+/bti7qquKiEdfVq0Gl2TO2DonYzAcUTCv0slCB8FuGia/q8j7iAPl30aNIPHVKq55w+00MvjFLo05WmV8H5P9XLzydVF/H0xbGl9UGfjm226B98po2u6fO+0f3H9M7SbT1h+FoS00ybSmm+5/RZHxzbwWvVHtSvNuLRR4BKl0vPtHRhWh1SESUsNBkH0qjvNiAx4MA1JDBc4yBmTPmwJArJCFM+dA1SE5XsmFIqRTzKUrZYkMio78IUkauFoW6Mcbin1GWrOR8nqOEUEUQFmuK3ZdEw6NFg92s9j3XLp0CIsAuS8VdPkcKhCZ9/KAc81x/c3NdzFjy6KHZc0YPNh7VhDg9jYnh4co9n2dvx1nLalys7Rimx2xLGigfEJBQ0Xr149FkBVb04BQiTlPAFbTiDxRGKM1pJf5AgarPKG0sQu413N07hkCANO5m0fSebtCwziW5DqMISHTRMJCDF23inYbmsauNCHq+Vn1ta5dErzKN8psP/RiIXVpAegKJQ30Y06AQSEXdAIpdL0wbTNsLpoSIeCwRJHZYBpTusIFAIlPC0iqL5AxoCcmLPQkkLdITRCc0dSFqQD1A51g4pLOXmhZCwDMO2BpH9q6ZtDoU4oKQIy5yEynFnv+mzw+0+/q3Sf5yT4aYs89zq1alLIK7wYeQANcCpgW5AOaqIARzxcudrXrMTz+cuFAxBI1Rw06eLKz3xsnDikt+Mmr9mWBlXrbySeJAlTt8MXJImXHRNv0zx2GpWZ3r0KKqzXHlRHH26+fQf+mkbg56ADjppUuihMJl7BEhGtmnj+4Phj1lEUAzjaQcgJkzcqPPmlI/yjdJV8Trf/+hbeYyP0uMS0zSVF8SEaSELxkhR6a7IC1IVHkNMBWEkCljxYQ7YXgWKrDCHw2ohJDDKSkr5Tst3TANBp7DdgkTFKSOpxYMtV2i3hXQoJjwbBo3L4oibAajdXmSbCl01PEvi6x3PetMvwfi3cv+xHpPRk8GZvo6Oq5y5FvZlvtfqQZ5v5igfH7iRdHqrn/H24McyEb6ejCUxkCwqEATi8JDNKtWRIxI6wrLj+aOyQgIqLT/KTZ+OLYnCFGHE60PdSgzIgVmcfrbt5evjYkB97VeNyv8plx/UYoChElhYgB7KtD3PAUWRpejIVNzNAjNzyDuYRqnrMF5dIx4CkTrlAJQRps2FhZIX5lqYwfFLOygTBeSmkUhDEgNvIC7MR5ML6JhozoCpn+858G1utbH4j7BRT0Z9VlZzbTyOKJCKeCjkqYbkFBJh+DXCPVcKuXKIFURlm8WBoZSFOBCYmk6i33ioT+Kw1CegEMspcFfe+M8+rRySNum/YUwm9I7TPT04NWOBDg/nwtz16xMbEp3mPswIOuI6G7wBSlynz1pQWZEIP0smIcEEWN3QsfJDn+nj9FFSPh73wilgdE2f+eOumo4pPqWI2kI/LKu4RVXLq7H/kJopRUFhnkj4joNT9KC/BlZgAIVD1I+cwASVUBgCIsF1KEQxJLpGPKHGP5LYrAs5ikREnmJ61KF4K5cG1+REVS6HC1JauGroYYcOrLWUEp6MSF0UpoZgK5hV2dgEzeNLYbMBnRQZEUPnOwGMT6GOp57Kg/0WTCMYjnsQHpDmlJFTR5IcNt/alvV1PdF5NsKcLSpGG03L6QcjnWDpeIXqgFYb//A9wGi1+fMPDeqY7nae6uvT530KKp+JebkhHJyX6Fqz33X83tCgRr1d6gXBH+XnFtEwDmEVMBfAtbK7UvHxVTb1gGLQokbFVBZMDtUJHmT+dsPxmqSRU2nkrxkWxhfbOfEVwLov4sIaonSRr1qZy6vy8xliPbn+qPjYHxSm6mJwdB357DfaVtJ/BMLeW0/ayVQSR6TA5AB7h8kwmFeRrFBUSFYkJk7GsM+F5SuiCQmFBEriCskHYcxfEM9ozBjBS/yaKD//rBzndjD3BHswAcmqwFdhOWGugCw5owwpEt9sxMlVGWQEK4GlcAOi1XAcL6eLICfdcMFmNDnH7xdO/YTCHTkxM2B6EiSPbuXmHrZO5eJy4Iu6lfo2Gu8orFfA+PM9UMjnHpBIx9v+/Q9Wm8nMfcMTE1d7u7vP4Ec6fzy1wqOGP3xI63JHjgT2/rsy/boTbMP0pe78dVUWS5wjK0VUjIqNN3kA62ZYeIcfxofXDFNFUZBTT4W6m71mWBlXrb4yWSoEYWh0jVIUdJEmzA6o18mRDN7dCplCEkK8IiP4WRAU9OO8j5wimZB3SAhKYlJEphLkJCaSEP7PEdxsfVG5UWFxP6qPPngTlvBED6IWLN8dTPmg8ocFPPRXWBdlFWqqCEmLlhAgLRtKdLaAkpQNfRUM6DUQGOUiTimNEaT7FvRVw/F6K91XG4/mHf9KPaovvJ36jzfSS1mpc6mUdhnvhZL4a0GjZsKBKK+n0+kt0AHvztCAsIzjeeAeUKVPF1l101cBWCICxcGmcPalUeHRnyguIsJYej79fFnpKxdjrKhu+spVK69Ke+OW6SXlh7Xk/8b7D5umJKY6nUiQAEmp5ZKoD5Ay8kTFzcAsJIrL+ZREYCWAaU4ubXRNP8wfpuSuGubHMwCJhSuGPCiYJIMw5GV6xkfY0Wd+WoPiBAlEhvnzNluw3SKZYTkQHIQ5J1RQDg7Lw/QQGUIdFp4wcC9KgQ/7KkxjucEHROVmc3ZaCFfEjMxUvlPvBZ0WhT1Q1zG06hQKyGPA9qEh4bPRJuO/0p//WvoPyXpa77BPr9L1mn64QiJRT0vlP3jg1oyn0/th1dnN6VOkQyh8wVRuPpLUH9GHi+sckD4vLaj43NSHLwfv8cKjbGxdgc97JUpFpIRbpovKYHTUltkpHYkyEqNYf1gWfZU+Vn+JiMZERS4qKyTAMv1hmwoItLT/aL6OL9cn8A4mknhDkR5CUuh43ExhAXjnIQVxRQ9UwnU1JM73meHISINzlY/1Ir3jwNQBtui5IpU3K2mFZbEUEhgJiHlZhkqI8rws7hPFxBHlZ5romu1CGRSv2HyQEQiLPkwefJcSk2o0mU+F8Z46KswbKd8qvRUWiq7BsuoYlF/q+Jd839p4/KNnFHhw+Fbc819r/y3dHO7qsk9D2lLPBvEq59SLXC6CYSCq1OTk5F48g+FxLyQSvvyzhFK8taaYL1ACiYdkkSOg/HVO4irmAySLlR8+yHy5wnaWysTF7YmnRxdyecMXFDcxx3KjNCUEGUtb2r4Iixwh5qebxEG58v2Hkh0ERqlLp5kClNLkngLSyF8XExrZi089SYbFm9DRg1FCbEKyoxQE8sqFkTOgTwrDVIPCP/k8qpRcGrxMEXmxnpwjUeXbhjpgA2bBNsp0HPQWOiwNOnddw5YcNIdSFyzTlUKehEbrLDxDNn7osjCXPw5FO22qgPfKHn/pf8XxxxetvSvYlX8BxBVKCdGDmPPDhz0W+Oijjxof//jHt+Hh2oko/qKqFx4l0BJQmQIwS3RNn/fxZXqGFbq4nQzimI9tKFs+S1S1KJ9XoQkEfUQwtKg98fSzefMMwmx5F28/IqK2RLjM2b54/gX0H0v6+IiDZSVgHJogfYWNzDMUpCtsUkKg4pKIUJAsnNTlkjNWzfBCPMOhi8JAiCSqPBmyMFVQ1OdctQwLywNZ5cPCpDl80D6IhjzBASQF0sUeREpSJCyE4ceSpJXbEO2612AHepaTSRn/YrtEAD3n8xV/ntv4+S96nyGRO9gccQZmEPiBK3bRi5kPHcG+v2T32n2+53bxNY8oQyWIB0SR9OmqxMeTh5lm/8azx8srEbCQNSqTpUTX+eagwCiPqiWeQAXO/olHV2tPaYUFjWCxsQJjt7MV564K6iOB2Xj1adNGa3PqDMFl4XwSSnAQCUIibqFPlwtTwbiOkoSR+JvLx3KYv9BXaSrlLyifSegQBNMFTAWhiIeFArRZnoX+8Y2EzKhbnuNlYO9wFpZXkwoH5Kmj/6qOFTz+0n8+Y4Y/2pVIcJqY35+YJ6wjEN33ZzL9kPY3hWjx6Sv+RcByLIQAZZYQJSn2C944FRF/QkvjQ31XZDcV04GVPOGl+WdJEhVGbaNPV3d7Va7ZP83U/1ACgzTjkg4gjUFvHhGWkrPAPnnBLNeFSEKKfAbzOu9yBAUdVj6cZURpZuU3XOUILioD93x2IEnxxFGc9c6M+M93cHSNZVzHquBQDeMn4x898wQ2us7pgGvAbyU8/z5e5EupVEqtJirCgp4KHxVI7sbrQIYKHyKF3+yvIvEEX8FsQNk9qXwgBpgQwNo7p9OKrukzfdzF08+WTmYrV35YF+tU8bEpYImInGtLVH+8PkzZ8iQcVpjrawXCLOHH5uo/9JmWjbXHJMQcNhVW8bOklbsumnJw7Q+cgtVK2mJxAUNNKKncp54KHuzAwnjCE01B1UIHA1A80ik/IkdIfTj6mE8MXh2sSKZhdHUd+IcDykwFLj4eMv7Fv+il75c8/xEmeHaojD+jZ4LgbsPVVvO5iutg4oSAFCCiAqVp/jrUKRU8mzVexsube05ff3tiD0Q1wkP/ojrYgeiaftiheHsjLKL4GrudTxYvb0H9h94bpzeAwCD4cAqJf5SmlBjFH5D8ChVC1Q8KyIkrjtgbE64y4lqtINJHel5Hq4q4ZdsYzsWBWaU+rkFWtFzQbiNNnWciNbT/qD4+Hitq/FdE/3mWzmvQU+W4hZZPenQuRHRNfylcvfVjpUqz0Tj6dNE1/fm4euufTx1z5am3/hr6z6lj9A9ElneKwPJ3IYEVEpqKys0YFeUhoDBP4TV/+bjVIkfqKuu8/ixC/+tqR73111V4DYnrrb+G8a+h1tkk9dY/m7MxV7XUzwdP3ApBgCYG6Co+L6/+kcB4X0g0ERFFzwXjojBc5q8ZhqOKtWEoROmLEwSWBIHowVySyqSS5kIABEYhisRFEov8SgRWGD6K9OMgq8IwBIkTBBYXASGsxcW3pUoHgfF5iIiLPv9x+03kuLxMqaqsUj1KJL4gsFgICGEtFrJtUG6OwDhtJHHhqLOl+dBAG0AnXRAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBAFBQBAQBAQBQUAQEAQEAUFAEBAEBIGVhMD/D0fV/fpMMM+gAAAAAElFTkSuQmCC"}}},6921:function(e,t,n){"use strict";n.r(t);var r=n("9e65"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"6c4a":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=function(e,t){if(!t)return;return clearTimeout(t.timer),new l(e,t)};var i=r(n("7ca3")),a=r(n("67ad")),o=r(n("0bdb"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(){function e(t,n){(0,a.default)(this,e),this.options=t,this.animation=uni.createAnimation(u({},t)),this.currentStepAnimates={},this.next=0,this.$=n}return(0,o.default)(e,[{key:"_nvuePushAnimates",value:function(e,t){var n=this.currentStepAnimates[this.next],r={};if(r=n||{styles:{},config:{}},c.includes(e)){r.styles.transform||(r.styles.transform="");var i="";"rotate"===e&&(i="deg"),r.styles.transform+="".concat(e,"(").concat(t+i,") ")}else r.styles[e]="".concat(t);this.currentStepAnimates[this.next]=r}},{key:"_animateRun",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.$.$refs["ani"].ref;if(n)return new Promise((function(r,i){nvueAnimation.transition(n,u({styles:e},t),(function(e){r()}))}))}},{key:"_nvueNextAnimate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,i=e[n];if(i){var a=i.styles,o=i.config;this._animateRun(a,o).then((function(){n+=1,t._nvueNextAnimate(e,n,r)}))}else this.currentStepAnimates={},"function"===typeof r&&r(),this.isEnd=!0}},{key:"step",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.animation.step(e),this}},{key:"run",value:function(e){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((function(){"function"===typeof e&&e()}),this.$.durationTime)}}]),e}(),c=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];c.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((function(e){l.prototype[e]=function(){var t;return(t=this.animation)[e].apply(t,arguments),this}}))},"6c8f":function(e,t,n){"use strict";n.r(t);var r=n("841a"),i=n("55c2");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"0087ad7e",null,!1,r["a"],void 0);t["default"]=s.exports},"6d9f":function(e,t,n){"use strict";n.r(t);var r=n("b283"),i=n("a9fd");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"168cca36",null,!1,r["a"],void 0);t["default"]=s.exports},"6f4e":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("7ca3")),a=r(n("70f3")),o=r(n("d304")),s=r(n("a671")),u=n("5628");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e,t){var n={};return e.forEach((function(e){(0,u.isUndefined)(t[e])||(n[e]=t[e])})),n};t.default=function(e){return new Promise((function(t,n){var r,i=(0,a.default)((0,o.default)(e.baseURL,e.url),e.params),l={url:i,header:e.header,complete:function(r){e.fullPath=i,r.config=e;try{"string"===typeof r.data&&(r.data=JSON.parse(r.data))}catch(a){}(0,s.default)(t,n,r)}};if("UPLOAD"===e.method){delete l.header["content-type"],delete l.header["Content-Type"];var d={filePath:e.filePath,name:e.name};r=uni.uploadFile(c(c(c({},l),d),h(["files","timeout","formData"],e)))}else if("DOWNLOAD"===e.method)(0,u.isUndefined)(e.timeout)||(l.timeout=e.timeout),r=uni.downloadFile(l);else{r=uni.request(c(c({},l),h(["data","method","timeout","dataType","responseType","sslVerify","firstIpv4"],e)))}e.getTask&&e.getTask(r,e)}))}},"702e":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("f3e3")),a={name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data:function(){return{icons:i.default.glyphs}},computed:{unicode:function(){var e=this,t=this.icons.find((function(t){return t.font_class===e.type}));return t?unescape("%u".concat(t.unicode)):""}},methods:{_onClick:function(){this.$emit("click")}}};t.default=a},"70f3":function(e,t,n){"use strict";var r=n("3b2d");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t)return e;var n;if(i.isURLSearchParams(t))n=t.toString();else{var r=[];i.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(i.isArray(e)?t="".concat(t,"[]"):e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),r.push("".concat(o(t),"=").concat(o(e)))})))})),n=r.join("&")}if(n){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e};var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}i.default=e,n&&n.set(e,i);return i}(n("5628"));function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}},7172:function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n["return"]&&(o=n["return"](),Object(o)!==o))return}finally{if(l)throw i}}return s}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"719d":function(e,t,n){"use strict";var r=n("47a9"),i=r(n("7ca3"));n("2ec6");var a=r(n("2be7")),o=r(n("c48a")),s=r(n("951c"));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n("666f"),s.default.use(o.default),s.default.config.productionTip=!1,a.default.mpType="app";var l=new s.default(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.default));l.$mount()},"73cc":function(e,t,n){"use strict";n.r(t);var r=n("6626"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"74a5":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("text",{staticClass:e._$s(0,"sc","uni-icons"),class:e._$s(0,"c",["uniui-"+e.type,e.customPrefix,e.customPrefix?e.type:""]),style:e._$s(0,"s",{color:e.color,"font-size":e.size+"px"}),attrs:{_i:0},on:{click:e._onClick}})},i=[]},7647:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"76f3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={loadmore:{status:"loadmore",bgColor:"transparent",icon:!0,fontSize:14,iconSize:17,color:"#606266",loadingIcon:"spinner",loadmoreText:"\u52a0\u8f7d\u66f4\u591a",loadingText:"\u6b63\u5728\u52a0\u8f7d...",nomoreText:"\u6ca1\u6709\u66f4\u591a\u4e86",isDot:!1,iconColor:"#b7b7b7",marginTop:10,marginBottom:10,height:"auto",line:!1,lineColor:"#E6E8EB",dashed:!1}}},"77a5":function(e,t,n){"use strict";n.r(t);var r=n("cfd1"),i=n("0d93");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"0a824480",null,!1,r["a"],void 0);t["default"]=s.exports},"77fc":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("7ca3")),a=n("5628");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t,n){var r={};return e.forEach((function(e){(0,a.isUndefined)(n[e])?(0,a.isUndefined)(t[e])||(r[e]=t[e]):r[e]=n[e]})),r};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.method||e.method||"GET",r={baseURL:e.baseURL||"",method:n,url:t.url||"",params:t.params||{},custom:s(s({},e.custom||{}),t.custom||{}),header:(0,a.deepMerge)(e.header||{},t.header||{})},i=["getTask","validateStatus"];if(r=s(s({},r),u(i,e,t)),"DOWNLOAD"===n)(0,a.isUndefined)(t.timeout)?(0,a.isUndefined)(e.timeout)||(r.timeout=e.timeout):r.timeout=t.timeout;else if("UPLOAD"===n){delete r.header["content-type"],delete r.header["Content-Type"];var o=["files","filePath","name","timeout","formData"];o.forEach((function(e){(0,a.isUndefined)(t[e])||(r[e]=t[e])})),(0,a.isUndefined)(r.timeout)&&!(0,a.isUndefined)(e.timeout)&&(r.timeout=e.timeout)}else{var l=["data","timeout","dataType","responseType","sslVerify","firstIpv4"];r=s(s({},r),u(l,e,t))}return r}},7877:function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("2b84")),a=r(n("2495")),o={onTabItemTap:function(e){uni.$emit("tabChanged",e)},data:function(){return{value6:1,doorStatus:"closed",trunkStatus:"closed",airConditionerStatus:"off",centerScreenStatus:"off",client:null,connectionStatus:"\u672a\u8fde\u63a5",message:"",kaijiIf:!0}},components:{Nav:a.default},methods:{connectMQTT:function(){var t=this;this.client=i.default.connect("ws://broker.emqx.io:8083/mqtt"),this.client.on("connect",(function(){t.connectionStatus="\u5df2\u8fde\u63a5",e("log","\u5df2\u8fde\u63a5"," at pages/service.vue:64")})),this.client.on("error",(function(n){e("error","Connection \u8fde\u63a5\u9519\u8bef: ",n," at pages/service.vue:68"),t.connectionStatus="\u8fde\u63a5\u9519\u8bef"}))},sendMessage:function(t,n){var r=this;this.client&&this.client.connected?(this.message={carId:"20241010",flag:t,message:n},this.client.publish("car_launcher",JSON.stringify(this.message),(function(t){t?e("error","Publish error: ",t," at pages/service.vue:89"):(e("log","Message sent: ",r.message," at pages/service.vue:91"),r.message="")}))):e("error","Client not connected"," at pages/service.vue:97")},toggleDoor:function(){"open"===this.doorStatus?(this.doorStatus="closed",this.sendMessage(1,"\u5173\u95ed\u8f66\u95e8")):(this.doorStatus="open",this.sendMessage(1,"\u6253\u5f00\u8f66\u95e8"))},toggleTrunk:function(){"open"===this.trunkStatus?(this.trunkStatus="closed",this.sendMessage(2,"\u5173\u95ed\u540e\u5907\u7bb1")):(this.trunkStatus="open",this.sendMessage(2,"\u6253\u5f00\u540e\u5907\u7bb1"))},toggleAirConditioner:function(){"on"===this.airConditionerStatus?(this.airConditionerStatus="off",this.sendMessage(3,"\u5173\u95ed\u7a7a\u8c03")):(this.airConditionerStatus="on",this.sendMessage(3,"\u6253\u5f00\u7a7a\u8c03"))},toggleCenterScreen:function(){this.kaijiIf?(this.kaijiIf=!1,this.sendMessage(0,"\u5173\u673a")):(this.kaijiIf=!0,this.sendMessage(0,"\u5f00\u673a")),this.centerScreenStatus=this.kaijiIf?"on":"off"}},mounted:function(){this.connectMQTT()},beforeDestroy:function(){this.client&&this.client.end()}};t.default=o}).call(this,n("f3b9")["default"])},"792d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={radioGroup:{value:"",disabled:!1,shape:"circle",activeColor:"#2979ff",inactiveColor:"#c8c9cc",name:"",size:18,placement:"row",label:"",labelColor:"#303133",labelSize:14,labelDisabled:!1,iconColor:"#ffffff",iconSize:12,borderBottom:!1,iconPlacement:"left"}}},"797e":function(e,t,n){"use strict";n.r(t);var r=n("1cde"),i=n("4d23");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"60dc2618",null,!1,r["a"],void 0);t["default"]=s.exports},"7a0c":function(e,t,n){"use strict";n.r(t);var r=n("fb72"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"7a23":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","container"),style:e._$s(0,"s",{height:e.containerHeight+"px"}),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","content"),attrs:{_i:1}},[n("form",{attrs:{_i:2},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("view",{staticClass:e._$s(3,"sc","form"),attrs:{_i:3}},[n("view",{staticClass:e._$s(4,"sc","itemWrap"),attrs:{_i:4}},[n("Input",{attrs:{title:"\u7528\u6237\u540d",txt:"\u8721\u7b14\u5c0f\u65b0",type:"User",disabled:!0,_i:5}}),n("Input",{attrs:{title:"\u65e7\u5bc6\u7801",txt:"\u8bf7\u586b\u5199\u65e7\u5bc6\u7801",type:"password",_i:6},model:{value:e._$s(6,"v-model",e.oldPassword),callback:function(t){e.oldPassword=t},expression:"oldPassword"}}),n("Input",{attrs:{title:"\u65b0\u5bc6\u7801",txt:"\u8bf7\u8f93\u5165\u65b0\u7684\u5bc6\u7801",type:"password",_i:7},model:{value:e._$s(7,"v-model",e.newPassword),callback:function(t){e.newPassword=t},expression:"newPassword"}}),n("Input",{attrs:{title:"\u786e\u8ba4\u5bc6\u7801",txt:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u7684\u5bc6\u7801",type:"password",_i:8},model:{value:e._$s(8,"v-model",e.confirmPassword),callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1),n("view",{staticClass:e._$s(9,"sc","hint"),attrs:{_i:9}}),n("view",{staticClass:e._$s(10,"sc","btnWrap"),attrs:{_i:10}},[n("button",{style:e._$s(11,"s",{background:e.isButtonEnabled?"#5677FC":"#E1E1E1",color:e.isButtonEnabled?"#FFFFFF":"#BFBFBF"}),attrs:{disabled:e._$s(11,"a-disabled",!e.isButtonEnabled),_i:11},on:{click:e.handleSubmit}})])])])])])},i=[]},"7a42":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={search:{shape:"round",bgColor:"#f2f2f2",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",clearabled:!0,focus:!1,showAction:!0,actionStyle:function(){return{}},actionText:"\u641c\u7d22",inputAlign:"left",inputStyle:function(){return{}},disabled:!1,borderColor:"transparent",searchIconColor:"#909399",searchIconSize:22,color:"#606266",placeholderColor:"#909399",searchIcon:"search",margin:"0",animation:!1,value:"",maxlength:"-1",height:32,label:null}}},"7b0d":function(e,t,n){"use strict";n.r(t);var r=n("48a2"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"7c9e":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.computeMikkTSpaceTangents=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||!t.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!e.hasAttribute("position")||!e.hasAttribute("normal")||!e.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function i(e){if(e.normalized||e.isInterleavedBufferAttribute){for(var t=new Float32Array(e.count*e.itemSize),n=0,r=0;n<e.count;n++)t[r++]=e.getX(n),t[r++]=e.getY(n),e.itemSize>2&&(t[r++]=e.getZ(n));return t}return e.array instanceof Float32Array?e.array:new Float32Array(e.array)}var a=e.index?e.toNonIndexed():e,o=t.generateTangents(i(a.attributes.position),i(a.attributes.normal),i(a.attributes.uv));if(n)for(var s=3;s<o.length;s+=4)o[s]*=-1;a.setAttribute("tangent",new r.BufferAttribute(o,4)),e!==a&&e.copy(a);return e},t.computeMorphedAttributes=function(e){var t=new r.Vector3,n=new r.Vector3,i=new r.Vector3,a=new r.Vector3,o=new r.Vector3,s=new r.Vector3,u=new r.Vector3,l=new r.Vector3,c=new r.Vector3;function h(e,r,h,d,f,p,v,m){t.fromBufferAttribute(r,f),n.fromBufferAttribute(r,p),i.fromBufferAttribute(r,v);var g=e.morphTargetInfluences;if(h&&g){u.set(0,0,0),l.set(0,0,0),c.set(0,0,0);for(var y=0,_=h.length;y<_;y++){var b=g[y],x=h[y];0!==b&&(a.fromBufferAttribute(x,f),o.fromBufferAttribute(x,p),s.fromBufferAttribute(x,v),d?(u.addScaledVector(a,b),l.addScaledVector(o,b),c.addScaledVector(s,b)):(u.addScaledVector(a.sub(t),b),l.addScaledVector(o.sub(n),b),c.addScaledVector(s.sub(i),b)))}t.add(u),n.add(l),i.add(c)}e.isSkinnedMesh&&(e.applyBoneTransform(f,t),e.applyBoneTransform(p,n),e.applyBoneTransform(v,i)),m[3*f+0]=t.x,m[3*f+1]=t.y,m[3*f+2]=t.z,m[3*p+0]=n.x,m[3*p+1]=n.y,m[3*p+2]=n.z,m[3*v+0]=i.x,m[3*v+1]=i.y,m[3*v+2]=i.z}var d,f,p,v,m,g,y,_,b,x,w=e.geometry,S=e.material,A=w.index,M=w.attributes.position,T=w.morphAttributes.position,E=w.morphTargetsRelative,k=w.attributes.normal,C=w.morphAttributes.position,P=w.groups,R=w.drawRange,I=new Float32Array(M.count*M.itemSize),O=new Float32Array(k.count*k.itemSize);if(null!==A)if(Array.isArray(S))for(v=0,g=P.length;v<g;v++)for(_=P[v],b=Math.max(_.start,R.start),x=Math.min(_.start+_.count,R.start+R.count),m=b,y=x;m<y;m+=3)d=A.getX(m),f=A.getX(m+1),p=A.getX(m+2),h(e,M,T,E,d,f,p,I),h(e,k,C,E,d,f,p,O);else for(b=Math.max(0,R.start),x=Math.min(A.count,R.start+R.count),v=b,g=x;v<g;v+=3)d=A.getX(v),f=A.getX(v+1),p=A.getX(v+2),h(e,M,T,E,d,f,p,I),h(e,k,C,E,d,f,p,O);else if(Array.isArray(S))for(v=0,g=P.length;v<g;v++)for(_=P[v],b=Math.max(_.start,R.start),x=Math.min(_.start+_.count,R.start+R.count),m=b,y=x;m<y;m+=3)d=m,f=m+1,p=m+2,h(e,M,T,E,d,f,p,I),h(e,k,C,E,d,f,p,O);else for(b=Math.max(0,R.start),x=Math.min(M.count,R.start+R.count),v=b,g=x;v<g;v+=3)d=v,f=v+1,p=v+2,h(e,M,T,E,d,f,p,I),h(e,k,C,E,d,f,p,O);var L=new r.Float32BufferAttribute(I,3),D=new r.Float32BufferAttribute(O,3);return{positionAttribute:M,normalAttribute:k,morphedPositionAttribute:L,morphedNormalAttribute:D}},t.deepCloneAttribute=function(e){if(e.isInstancedInterleavedBufferAttribute||e.isInterleavedBufferAttribute)return a(e);if(e.isInstancedBufferAttribute)return(new r.InstancedBufferAttribute).copy(e);return(new r.BufferAttribute).copy(e)},t.deinterleaveAttribute=a,t.deinterleaveGeometry=function(e){var t=e.attributes,n=e.morphTargets,r=new Map;for(var i in t){var o=t[i];o.isInterleavedBufferAttribute&&(r.has(o)||r.set(o,a(o)),t[i]=r.get(o))}for(var s in n){var u=n[s];u.isInterleavedBufferAttribute&&(r.has(u)||r.set(u,a(u)),n[s]=r.get(u))}},t.estimateBytesUsed=function(e){var t=0;for(var n in e.attributes){var r=e.getAttribute(n);t+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var i=e.getIndex();return t+=i?i.count*i.itemSize*i.array.BYTES_PER_ELEMENT:0,t},t.interleaveAttributes=function(t){for(var n,i=0,a=0,o=0,s=t.length;o<s;++o){var u=t[o];if(void 0===n&&(n=u.array.constructor),n!==u.array.constructor)return e("error","AttributeBuffers of different types cannot be interleaved"," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:433"),null;i+=u.array.length,a+=u.itemSize}for(var l=new r.InterleavedBuffer(new n(i),a),c=0,h=[],d=["getX","getY","getZ","getW"],f=["setX","setY","setZ","setW"],p=0,v=t.length;p<v;p++){var m=t[p],g=m.itemSize,y=m.count,_=new r.InterleavedBufferAttribute(l,g,c,m.normalized);h.push(_),c+=g;for(var b=0;b<y;b++)for(var x=0;x<g;x++)_[f[x]](b,m[d[x]](b))}return h},t.mergeAttributes=i,t.mergeGeometries=function(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=null!==t[0].index,o=new Set(Object.keys(t[0].attributes)),s=new Set(Object.keys(t[0].morphAttributes)),u={},l={},c=t[0].morphTargetsRelative,h=new r.BufferGeometry,d=0,f=0;f<t.length;++f){var p=t[f],v=0;if(a!==(null!==p.index))return e("error","THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+f+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:132"),null;for(var m in p.attributes){if(!o.has(m))return e("error","THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+f+'. All geometries must have compatible attributes; make sure "'+m+'" attribute exists among all geometries, or in none of them.'," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:143"),null;void 0===u[m]&&(u[m]=[]),u[m].push(p.attributes[m]),v++}if(v!==o.size)return e("error","THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+f+". Make sure all geometries have the same number of attributes."," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:160"),null;if(c!==p.morphTargetsRelative)return e("error","THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+f+". .morphTargetsRelative must be consistent throughout all geometries."," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:169"),null;for(var g in p.morphAttributes){if(!s.has(g))return e("error","THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+f+".  .morphAttributes must be consistent throughout all geometries."," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:178"),null;void 0===l[g]&&(l[g]=[]),l[g].push(p.morphAttributes[g])}if(n){var y=void 0;if(a)y=p.index.count;else{if(void 0===p.attributes.position)return e("error","THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+f+". The geometry must have either an index or a position attribute"," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:203"),null;y=p.attributes.position.count}h.addGroup(d,y,f),d+=y}}if(a){for(var _=0,b=[],x=0;x<t.length;++x){for(var w=t[x].index,S=0;S<w.count;++S)b.push(w.getX(S)+_);_+=t[x].attributes.position.count}h.setIndex(b)}for(var A in u){var M=i(u[A]);if(!M)return e("error","THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+A+" attribute."," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:249"),null;h.setAttribute(A,M)}for(var T in l){var E=l[T][0].length;if(0===E)break;h.morphAttributes=h.morphAttributes||{},h.morphAttributes[T]=[];for(var k=0;k<E;++k){for(var C=[],P=0;P<l[T].length;++P)C.push(l[T][P][k]);var R=i(C);if(!R)return e("error","THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+T+" morphAttribute."," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:283"),null;h.morphAttributes[T].push(R)}}return h},t.mergeGroups=function(t){if(0===t.groups.length)return e("warn","THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:1149"),t;var n=t.groups;if(n=n.sort((function(e,t){return e.materialIndex!==t.materialIndex?e.materialIndex-t.materialIndex:e.start-t.start})),null===t.getIndex()){for(var r=t.getAttribute("position"),i=[],a=0;a<r.count;a+=3)i.push(a,a+1,a+2);t.setIndex(i)}for(var o=t.getIndex(),s=[],u=0;u<n.length;u++)for(var l=n[u],c=l.start,h=c+l.count,d=c;d<h;d++)s.push(o.getX(d));t.dispose(),t.setIndex(s);for(var f=0,p=0;p<n.length;p++){var v=n[p];v.start=f,f+=v.count}var m=n[0];t.groups=[m];for(var g=1;g<n.length;g++){var y=n[g];m.materialIndex===y.materialIndex?m.count+=y.count:(m=y,t.groups.push(m))}return t},t.mergeVertices=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var n={},r=e.getIndex(),i=e.getAttribute("position"),a=r?r.count:i.count,o=0,s=Object.keys(e.attributes),u={},l={},c=[],h=["getX","getY","getZ","getW"],d=["setX","setY","setZ","setW"],f=function(t,n){var r=s[t],i=e.attributes[r];u[r]=new i.constructor(new i.array.constructor(i.count*i.itemSize),i.itemSize,i.normalized);var a=e.morphAttributes[r];a&&(l[r]||(l[r]=[]),a.forEach((function(e,t){var n=new e.array.constructor(e.count*e.itemSize);l[r][t]=new e.constructor(n,e.itemSize,e.normalized)})))},p=0,v=s.length;p<v;p++)f(p,v);for(var m=.5*t,g=Math.log10(1/t),y=Math.pow(10,g),_=m*y,b=0;b<a;b++){for(var x=r?r.getX(b):b,w="",S=0,A=s.length;S<A;S++)for(var M=s[S],T=e.getAttribute(M),E=T.itemSize,k=0;k<E;k++)w+="".concat(~~(T[h[k]](x)*y+_),",");if(w in n)c.push(n[w]);else{for(var C=0,P=s.length;C<P;C++)for(var R=s[C],I=e.getAttribute(R),O=e.morphAttributes[R],L=I.itemSize,D=u[R],B=l[R],U=0;U<L;U++){var N=h[U],F=d[U];if(D[F](o,I[N](x)),O)for(var j=0,z=O.length;j<z;j++)B[j][F](o,O[j][N](x))}n[w]=o,c.push(o),o++}}var H=e.clone();for(var G in e.attributes){var W=u[G];if(H.setAttribute(G,new W.constructor(W.array.slice(0,o*W.itemSize),W.itemSize,W.normalized)),G in l)for(var V=0;V<l[G].length;V++){var q=l[G][V];H.morphAttributes[G][V]=new q.constructor(q.array.slice(0,o*q.itemSize),q.itemSize,q.normalized)}}return H.setIndex(c),H},t.toCreasedNormals=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.PI/3,n=Math.cos(t),i=100*(1+1e-10),a=[new r.Vector3,new r.Vector3,new r.Vector3],o=new r.Vector3,s=new r.Vector3,u=new r.Vector3,l=new r.Vector3;function c(e){var t=~~(e.x*i),n=~~(e.y*i),r=~~(e.z*i);return"".concat(t,",").concat(n,",").concat(r)}for(var h=e.index?e.toNonIndexed():e,d=h.attributes.position,f={},p=0,v=d.count/3;p<v;p++){var m=3*p,g=a[0].fromBufferAttribute(d,m+0),y=a[1].fromBufferAttribute(d,m+1),_=a[2].fromBufferAttribute(d,m+2);o.subVectors(_,y),s.subVectors(g,y);for(var b=(new r.Vector3).crossVectors(o,s).normalize(),x=0;x<3;x++){var w=a[x],S=c(w);S in f||(f[S]=[]),f[S].push(b)}}for(var A=new Float32Array(3*d.count),M=new r.BufferAttribute(A,3,!1),T=0,E=d.count/3;T<E;T++){var k=3*T,C=a[0].fromBufferAttribute(d,k+0),P=a[1].fromBufferAttribute(d,k+1),R=a[2].fromBufferAttribute(d,k+2);o.subVectors(R,P),s.subVectors(C,P),u.crossVectors(o,s).normalize();for(var I=0;I<3;I++){var O=a[I],L=c(O),D=f[L];l.set(0,0,0);for(var B=0,U=D.length;B<U;B++){var N=D[B];u.dot(N)>n&&l.add(N)}l.normalize(),M.setXYZ(k+I,l.x,l.y,l.z)}}return h.setAttribute("normal",M),h},t.toTrianglesDrawMode=function(t,n){if(n===r.TrianglesDrawMode)return e("warn","THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:764"),t;if(n===r.TriangleFanDrawMode||n===r.TriangleStripDrawMode){var i=t.getIndex();if(null===i){var a=[],o=t.getAttribute("position");if(void 0===o)return e("error","THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:794"),t;for(var s=0;s<o.count;s++)a.push(s);t.setIndex(a),i=t.getIndex()}var u=i.count-2,l=[];if(n===r.TriangleFanDrawMode)for(var c=1;c<=u;c++)l.push(i.getX(0)),l.push(i.getX(c)),l.push(i.getX(c+1));else for(var h=0;h<u;h++)h%2===0?(l.push(i.getX(h)),l.push(i.getX(h+1)),l.push(i.getX(h+2))):(l.push(i.getX(h+2)),l.push(i.getX(h+1)),l.push(i.getX(h)));l.length/3!==u&&e("error","THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles."," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:844");var d=t.clone();return d.setIndex(l),d.clearGroups(),d}return e("error","THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",n," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:858"),t};var r=n("4e97");function i(t){for(var n,i,a,o=-1,s=0,u=0;u<t.length;++u){var l=t[u];if(void 0===n&&(n=l.array.constructor),n!==l.array.constructor)return e("error","THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:317"),null;if(void 0===i&&(i=l.itemSize),i!==l.itemSize)return e("error","THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:325"),null;if(void 0===a&&(a=l.normalized),a!==l.normalized)return e("error","THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:333"),null;if(-1===o&&(o=l.gpuType),o!==l.gpuType)return e("error","THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."," at node_modules/three/examples/jsm/utils/BufferGeometryUtils.js:341"),null;s+=l.count*i}for(var c=new n(s),h=new r.BufferAttribute(c,i,a),d=0,f=0;f<t.length;++f){var p=t[f];if(p.isInterleavedBufferAttribute)for(var v=d/i,m=0,g=p.count;m<g;m++)for(var y=0;y<i;y++){var _=p.getComponent(m,y);h.setComponent(m+v,y,_)}else c.set(p.array,d);d+=p.count*i}return void 0!==o&&(h.gpuType=o),h}function a(e){var t,n=e.data.array.constructor,i=e.count,a=e.itemSize,o=e.normalized,s=new n(i*a);t=e.isInstancedInterleavedBufferAttribute?new r.InstancedBufferAttribute(s,a,o,e.meshPerAttribute):new r.BufferAttribute(s,a,o);for(var u=0;u<i;u++)t.setX(u,e.getX(u)),a>=2&&t.setY(u,e.getY(u)),a>=3&&t.setZ(u,e.getZ(u)),a>=4&&t.setW(u,e.getW(u));return t}}).call(this,n("f3b9")["default"])},"7ca3":function(e,t,n){var r=n("d551");e.exports=function(e,t,n){return t=r(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"7ce1":function(e,t,n){var r=n("b4d2"),i=n("7647"),a=n("4965"),o=n("931d");function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},"804d":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("670c")),a={name:"u-safe-bottom",mixins:[uni.$u.mpMixin,uni.$u.mixin,i.default],data:function(){return{safeAreaBottomHeight:0,isNvue:!1}},computed:{style:function(){return uni.$u.deepMerge({},uni.$u.addStyle(this.customStyle))}},mounted:function(){}};t.default=a},8174:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","container loading6"),attrs:{_i:0}},[t("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),t("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),t("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),t("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},i=[]},"827c":function(e,t,n){"use strict";n.r(t);var r=n("1a02"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"828b":function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,s,u,l){var c,h="function"===typeof e?e.options:e;if(u){h.components||(h.components={});var d=Object.prototype.hasOwnProperty;for(var f in u)d.call(u,f)&&!d.call(h.components,f)&&(h.components[f]=u[f])}if(l&&("function"===typeof l.beforeCreate&&(l.beforeCreate=[l.beforeCreate]),(l.beforeCreate||(l.beforeCreate=[])).unshift((function(){this[l.__module]=this})),(h.mixins||(h.mixins=[])).push(l)),t&&(h.render=t,h.staticRenderFns=n,h._compiled=!0),r&&(h.functional=!0),a&&(h._scopeId="data-v-"+a),o?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},h._ssrRegister=c):i&&(c=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(h.functional){h._injectStyles=c;var p=h.render;h.render=function(e,t){return c.call(t),p(e,t)}}else{var v=h.beforeCreate;h.beforeCreate=v?[].concat(v,c):[c]}return{exports:e,options:h}}n.d(t,"a",(function(){return r}))},"82e2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"loading5",data:function(){return{}}}},"841a":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uIcon:n("df4b").default,uBadge:n("9bac").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","u-tabbar-item"),style:e._$s(0,"s",[e.$u.addStyle(e.customStyle)]),attrs:{_i:0},on:{click:e.clickHandler}},[n("view",{staticClass:e._$s(1,"sc","u-tabbar-item__icon"),attrs:{_i:1}},[e._$s(2,"i",e.icon)?n("u-icon",{attrs:{name:e.icon,color:e.isActive?e.parentData.activeColor:e.parentData.inactiveColor,size:20,_i:2}}):[e._$s(4,"i",e.isActive)?e._t("active-icon",null,{_i:4}):e._t("inactive-icon",null,{_i:5})],n("u-badge",{attrs:{absolute:!0,offset:[0,e.dot?"34rpx":e.badge>9?"14rpx":"20rpx"],customStyle:e.badgeStyle,isDot:e.dot,value:e.badge||(e.dot?1:null),show:e.dot||e.badge>0,_i:6}})],2),e._t("text",[n("text",{staticClass:e._$s(8,"sc","u-tabbar-item__text"),style:e._$s(8,"s",{color:e.isActive?e.parentData.activeColor:e.parentData.inactiveColor}),attrs:{_i:8}},[e._v(e._$s(8,"t0-0",e._s(e.text)))])],{_i:7})],2)},a=[]},"84b9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={skeleton:{loading:!0,animate:!0,rows:0,rowsWidth:"100%",rowsHeight:18,title:!0,titleWidth:"50%",titleHeight:18,avatar:!1,avatarSize:32,avatarShape:"circle"}}},"860b":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("a0d8")),a={name:"u-badge",mixins:[uni.$u.mpMixin,i.default,uni.$u.mixin],computed:{boxStyle:function(){return{}},badgeStyle:function(){var e={};if(this.color&&(e.color=this.color),this.bgColor&&!this.inverted&&(e.backgroundColor=this.bgColor),this.absolute&&(e.position="absolute",this.offset.length)){var t=this.offset[0],n=this.offset[1]||t;e.top=uni.$u.addUnit(t),e.right=uni.$u.addUnit(n)}return e},showValue:function(){switch(this.numberType){case"overflow":return Number(this.value)>Number(this.max)?this.max+"+":this.value;case"ellipsis":return Number(this.value)>Number(this.max)?"...":this.value;case"limit":return Number(this.value)>999?Number(this.value)>=9999?Math.floor(this.value/1e4*100)/100+"w":Math.floor(this.value/1e3*100)/100+"k":this.value;default:return Number(this.value)}}}};t.default=a},"861b":function(e,t,n){"use strict";(function(e,r){var i=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.uniCloud=t.default=t.UniCloudError=void 0;var a=i(n("127e")),o=i(n("3352")),s=i(n("34cf")),u=i(n("3b2d")),l=i(n("af34")),c=i(n("ee10")),h=i(n("7ca3")),d=i(n("8ffa")),f=i(n("4ffb")),p=i(n("b4d2")),v=i(n("7ce1")),m=i(n("67ad")),g=i(n("0bdb")),y=i(n("ea8d"));function _(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var i=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}function A(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self;var M=A((function(e,t){var n;e.exports=(n=n||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},a=i.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},a=0;a<t;a+=4){var s=i(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new o.init(r,t)}}),s=r.enc={},u=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(n,t/2)}},l=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(n,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},h=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,a=this.blockSize,s=i/(4*a),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*u,i);if(u){for(var c=0;c<u;c+=a)this._doProcessBlock(r,c);var h=r.splice(0,u);n.sigBytes-=l}return new o.init(h,l)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=h.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}});var d=r.algo={};return r}(Math),n)})),T=M,E=(A((function(e,t){var n;e.exports=(n=T,function(e){var t=n,r=t.lib,i=r.WordArray,a=r.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var u=o.MD5=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,o=e[t+0],u=e[t+1],f=e[t+2],p=e[t+3],v=e[t+4],m=e[t+5],g=e[t+6],y=e[t+7],_=e[t+8],b=e[t+9],x=e[t+10],w=e[t+11],S=e[t+12],A=e[t+13],M=e[t+14],T=e[t+15],E=a[0],k=a[1],C=a[2],P=a[3];E=l(E,k,C,P,o,7,s[0]),P=l(P,E,k,C,u,12,s[1]),C=l(C,P,E,k,f,17,s[2]),k=l(k,C,P,E,p,22,s[3]),E=l(E,k,C,P,v,7,s[4]),P=l(P,E,k,C,m,12,s[5]),C=l(C,P,E,k,g,17,s[6]),k=l(k,C,P,E,y,22,s[7]),E=l(E,k,C,P,_,7,s[8]),P=l(P,E,k,C,b,12,s[9]),C=l(C,P,E,k,x,17,s[10]),k=l(k,C,P,E,w,22,s[11]),E=l(E,k,C,P,S,7,s[12]),P=l(P,E,k,C,A,12,s[13]),C=l(C,P,E,k,M,17,s[14]),E=c(E,k=l(k,C,P,E,T,22,s[15]),C,P,u,5,s[16]),P=c(P,E,k,C,g,9,s[17]),C=c(C,P,E,k,w,14,s[18]),k=c(k,C,P,E,o,20,s[19]),E=c(E,k,C,P,m,5,s[20]),P=c(P,E,k,C,x,9,s[21]),C=c(C,P,E,k,T,14,s[22]),k=c(k,C,P,E,v,20,s[23]),E=c(E,k,C,P,b,5,s[24]),P=c(P,E,k,C,M,9,s[25]),C=c(C,P,E,k,p,14,s[26]),k=c(k,C,P,E,_,20,s[27]),E=c(E,k,C,P,A,5,s[28]),P=c(P,E,k,C,f,9,s[29]),C=c(C,P,E,k,y,14,s[30]),E=h(E,k=c(k,C,P,E,S,20,s[31]),C,P,m,4,s[32]),P=h(P,E,k,C,_,11,s[33]),C=h(C,P,E,k,w,16,s[34]),k=h(k,C,P,E,M,23,s[35]),E=h(E,k,C,P,u,4,s[36]),P=h(P,E,k,C,v,11,s[37]),C=h(C,P,E,k,y,16,s[38]),k=h(k,C,P,E,x,23,s[39]),E=h(E,k,C,P,A,4,s[40]),P=h(P,E,k,C,o,11,s[41]),C=h(C,P,E,k,p,16,s[42]),k=h(k,C,P,E,g,23,s[43]),E=h(E,k,C,P,b,4,s[44]),P=h(P,E,k,C,S,11,s[45]),C=h(C,P,E,k,T,16,s[46]),E=d(E,k=h(k,C,P,E,f,23,s[47]),C,P,o,6,s[48]),P=d(P,E,k,C,y,10,s[49]),C=d(C,P,E,k,M,15,s[50]),k=d(k,C,P,E,m,21,s[51]),E=d(E,k,C,P,S,6,s[52]),P=d(P,E,k,C,p,10,s[53]),C=d(C,P,E,k,x,15,s[54]),k=d(k,C,P,E,u,21,s[55]),E=d(E,k,C,P,_,6,s[56]),P=d(P,E,k,C,T,10,s[57]),C=d(C,P,E,k,g,15,s[58]),k=d(k,C,P,E,A,21,s[59]),E=d(E,k,C,P,v,6,s[60]),P=d(P,E,k,C,w,10,s[61]),C=d(C,P,E,k,f,15,s[62]),k=d(k,C,P,E,b,21,s[63]),a[0]=a[0]+E|0,a[1]=a[1]+k|0,a[2]=a[2]+C|0,a[3]=a[3]+P|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var a=e.floor(r/4294967296),o=r;n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,u=s.words,l=0;l<4;l++){var c=u[l];u[l]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+i+o;return(s<<a|s>>>32-a)+t}function c(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+i+o;return(s<<a|s>>>32-a)+t}function h(e,t,n,r,i,a,o){var s=e+(t^n^r)+i+o;return(s<<a|s>>>32-a)+t}function d(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+i+o;return(s<<a|s>>>32-a)+t}t.MD5=a._createHelper(u),t.HmacMD5=a._createHmacHelper(u)}(Math),n.MD5)})),A((function(e,t){var n;e.exports=(n=T,void function(){var e=n,t=e.lib.Base,r=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,u=o.words,l=0;l<n;l++)s[l]^=1549556828,u[l]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())})),A((function(e,t){e.exports=T.HmacMD5}))),k=A((function(e,t){e.exports=T.enc.Utf8})),C=A((function(e,t){var n;e.exports=(n=T,function(){var e=n,t=e.lib.WordArray;function r(e,n,r){for(var i=[],a=0,o=0;o<n;o++)if(o%4){var s=r[e.charCodeAt(o-1)]<<o%4*2,u=r[e.charCodeAt(o)]>>>6-o%4*2;i[a>>>2]|=(s|u)<<24-a%4*8,a++}return t.create(i,a)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)i.push(r.charAt(o>>>6*(3-s)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<n.length;a++)i[n.charCodeAt(a)]=a}var o=n.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return r(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)})),P="uni_id_token",R="uni_id_token_expired",I={DEFAULT:"FUNCTION",FUNCTION:"FUNCTION",OBJECT:"OBJECT",CLIENT_DB:"CLIENT_DB"},O="pending",L="fulfilled",D="rejected";function B(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function U(e){return"object"===B(e)}function N(e){return"function"==typeof e}function F(e){return function(){try{return e.apply(e,arguments)}catch(e){console.error(e)}}}var j="REJECTED",z="NOT_PENDING",H=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.createPromise,r=t.retryRule,i=void 0===r?j:r;(0,m.default)(this,e),this.createPromise=n,this.status=null,this.promise=null,this.retryRule=i}return(0,g.default)(e,[{key:"needRetry",get:function(){if(!this.status)return!0;switch(this.retryRule){case j:return this.status===D;case z:return this.status!==O}}},{key:"exec",value:function(){var e=this;return this.needRetry?(this.status=O,this.promise=this.createPromise().then((function(t){return e.status=L,Promise.resolve(t)}),(function(t){return e.status=D,Promise.reject(t)})),this.promise):this.promise}}]),e}(),G=function(){function e(){(0,m.default)(this,e),this._callback={}}return(0,g.default)(e,[{key:"addListener",value:function(e,t){this._callback[e]||(this._callback[e]=[]),this._callback[e].push(t)}},{key:"on",value:function(e,t){return this.addListener(e,t)}},{key:"removeListener",value:function(e,t){if(!t)throw new Error('The "listener" argument must be of type function. Received undefined');var n=this._callback[e];if(n){var r=function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return n;return-1}(n,t);n.splice(r,1)}}},{key:"off",value:function(e,t){return this.removeListener(e,t)}},{key:"removeAllListener",value:function(e){delete this._callback[e]}},{key:"emit",value:function(e){for(var t=this._callback[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(t)for(var a=0;a<t.length;a++)t[a].apply(t,r)}}]),e}();function W(e){return e&&"string"==typeof e?JSON.parse(e):e}var V=W([]),q="app",X=(W(void 0),W([])||[]);try{(n("ab41").default||n("ab41")).appid}catch(Ar){}var Y,K={};function Q(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=K,n=e,Object.prototype.hasOwnProperty.call(t,n)||(K[e]=r),K[e]}"app"===q&&(K=uni._globalUniCloudObj?uni._globalUniCloudObj:uni._globalUniCloudObj={});var J=["invoke","success","fail","complete"],Z=Q("_globalUniCloudInterceptor");function $(e,t){Z[e]||(Z[e]={}),U(t)&&Object.keys(t).forEach((function(n){J.indexOf(n)>-1&&function(e,t,n){var r=Z[e][t];r||(r=Z[e][t]=[]),-1===r.indexOf(n)&&N(n)&&r.push(n)}(e,n,t[n])}))}function ee(e,t){Z[e]||(Z[e]={}),U(t)?Object.keys(t).forEach((function(n){J.indexOf(n)>-1&&function(e,t,n){var r=Z[e][t];if(r){var i=r.indexOf(n);i>-1&&r.splice(i,1)}}(e,n,t[n])})):delete Z[e]}function te(e,t){return e&&0!==e.length?e.reduce((function(e,n){return e.then((function(){return n(t)}))}),Promise.resolve()):Promise.resolve()}function ne(e,t){return Z[e]&&Z[e][t]||[]}function re(e){$("callObject",e)}var ie=Q("_globalUniCloudListener"),ae={RESPONSE:"response",NEED_LOGIN:"needLogin",REFRESH_TOKEN:"refreshToken"},oe={CLIENT_DB:"clientdb",CLOUD_FUNCTION:"cloudfunction",CLOUD_OBJECT:"cloudobject"};function se(e){return ie[e]||(ie[e]=[]),ie[e]}function ue(e,t){var n=se(e);n.includes(t)||n.push(t)}function le(e,t){var n=se(e),r=n.indexOf(t);-1!==r&&n.splice(r,1)}function ce(e,t){for(var n=se(e),r=0;r<n.length;r++)(0,n[r])(t)}var he,de=!1;function fe(){return he||(he=new Promise((function(e){de&&e(),function t(){if("function"==typeof getCurrentPages){var n=getCurrentPages();n&&n[0]&&(de=!0,e())}de||setTimeout((function(){t()}),30)}()})),he)}function pe(e){var t={};for(var n in e){var r=e[n];N(r)&&(t[n]=F(r))}return t}var ve=function(e){(0,d.default)(n,e);var t=S(n);function n(e){var r;return(0,m.default)(this,n),r=t.call(this,e.message),r.errMsg=e.message||e.errMsg||"unknown system error",r.code=r.errCode=e.code||e.errCode||"SYSTEM_ERROR",r.errSubject=r.subject=e.subject||e.errSubject,r.cause=e.cause,r.requestId=e.requestId,r}return(0,g.default)(n,[{key:"toJson",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!(e>=10))return e++,{errCode:this.errCode,errMsg:this.errMsg,errSubject:this.errSubject,cause:this.cause&&this.cause.toJson?this.cause.toJson(e):this.cause}}}]),n}((0,v.default)(Error));t.UniCloudError=ve;var me,ge,ye={request:function(e){return uni.request(e)},uploadFile:function(e){return uni.uploadFile(e)},setStorageSync:function(e,t){return uni.setStorageSync(e,t)},getStorageSync:function(e){return uni.getStorageSync(e)},removeStorageSync:function(e){return uni.removeStorageSync(e)},clearStorageSync:function(){return uni.clearStorageSync()},connectSocket:function(e){return uni.connectSocket(e)}};function _e(){return{token:ye.getStorageSync(P)||ye.getStorageSync("uniIdToken"),tokenExpired:ye.getStorageSync(R)}}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.token,n=e.tokenExpired;t&&ye.setStorageSync(P,t),n&&ye.setStorageSync(R,n)}function xe(){return me||(me=uni.getSystemInfoSync()),me}var we={};function Se(){var e=uni.getLocale&&uni.getLocale()||"en";if(ge)return w(w(w({},we),ge),{},{locale:e,LOCALE:e});var t=xe(),n=t.deviceId,r=t.osName,i=t.uniPlatform,a=t.appId,o=["appId","appLanguage","appName","appVersion","appVersionCode","appWgtVersion","browserName","browserVersion","deviceBrand","deviceId","deviceModel","deviceType","osName","osVersion","romName","romVersion","ua","hostName","hostVersion","uniPlatform","uniRuntimeVersion","uniRuntimeVersionCode","uniCompilerVersion","uniCompilerVersionCode"];for(var s in t)Object.hasOwnProperty.call(t,s)&&-1===o.indexOf(s)&&delete t[s];return ge=w(w({PLATFORM:i,OS:r,APPID:a,DEVICEID:n},function(){var e,t;try{if(uni.getLaunchOptionsSync){if(uni.getLaunchOptionsSync.toString().indexOf("not yet implemented")>-1)return;var n=uni.getLaunchOptionsSync(),r=n.scene,i=n.channel;e=i,t=r}}catch(e){}return{channel:e,scene:t}}()),t),w(w(w({},we),ge),{},{locale:e,LOCALE:e})}var Ae,Me={sign:function(e,t){var n="";return Object.keys(e).sort().forEach((function(t){e[t]&&(n=n+"&"+t+"="+e[t])})),n=n.slice(1),E(n,t).toString()},wrappedRequest:function(e,t){return new Promise((function(n,r){t(Object.assign(e,{complete:function(e){e||(e={});var t=e.data&&e.data.header&&e.data.header["x-serverless-request-id"]||e.header&&e.header["request-id"];if(!e.statusCode||e.statusCode>=400){var i=e.data&&e.data.error&&e.data.error.code||"SYS_ERR",a=e.data&&e.data.error&&e.data.error.message||e.errMsg||"request:fail";return r(new ve({code:i,message:a,requestId:t}))}var o=e.data;if(o.error)return r(new ve({code:o.error.code,message:o.error.message,requestId:t}));o.result=o.data,o.requestId=t,delete o.data,n(o)}}))}))},toBase64:function(e){return C.stringify(k.parse(e))}},Te=function(){function e(t){var n=this;(0,m.default)(this,e),["spaceId","clientSecret"].forEach((function(e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new Error("".concat(e," required"))})),this.config=Object.assign({},{endpoint:0===t.spaceId.indexOf("mp-")?"https://api.next.bspapp.com":"https://api.bspapp.com"},t),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=ye,this._getAccessTokenPromiseHub=new H({createPromise:function(){return n.requestAuth(n.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then((function(e){if(!e.result||!e.result.accessToken)throw new ve({code:"AUTH_FAILED",message:"\u83b7\u53d6accessToken\u5931\u8d25"});n.setAccessToken(e.result.accessToken)}))},retryRule:z})}return(0,g.default)(e,[{key:"hasAccessToken",get:function(){return!!this.accessToken}},{key:"setAccessToken",value:function(e){this.accessToken=e}},{key:"requestWrapped",value:function(e){return Me.wrappedRequest(e,this.adapter.request)}},{key:"requestAuth",value:function(e){return this.requestWrapped(e)}},{key:"request",value:function(e,t){var n=this;return Promise.resolve().then((function(){return n.hasAccessToken?t?n.requestWrapped(e):n.requestWrapped(e).catch((function(t){return new Promise((function(e,n){!t||"GATEWAY_INVALID_TOKEN"!==t.code&&"InvalidParameter.InvalidToken"!==t.code?n(t):e()})).then((function(){return n.getAccessToken()})).then((function(){var t=n.rebuildRequest(e);return n.request(t,!0)}))})):n.getAccessToken().then((function(){var t=n.rebuildRequest(e);return n.request(t,!0)}))}))}},{key:"rebuildRequest",value:function(e){var t=Object.assign({},e);return t.data.token=this.accessToken,t.header["x-basement-token"]=this.accessToken,t.header["x-serverless-sign"]=Me.sign(t.data,this.config.clientSecret),t}},{key:"setupRequest",value:function(e,t){var n=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now()}),r={"Content-Type":"application/json"};return"auth"!==t&&(n.token=this.accessToken,r["x-basement-token"]=this.accessToken),r["x-serverless-sign"]=Me.sign(n,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:n,dataType:"json",header:r}}},{key:"getAccessToken",value:function(){return this._getAccessTokenPromiseHub.exec()}},{key:"authorize",value:function(){var e=(0,c.default)(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAccessToken();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"callFunction",value:function(e){var t={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:e.name,functionArgs:e.data||{}})};return this.request(w(w({},this.setupRequest(t)),{},{timeout:e.timeout}))}},{key:"getOSSUploadOptionsFromPath",value:function(e){var t={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(e)};return this.request(this.setupRequest(t))}},{key:"uploadFileToOSS",value:function(e){var t=this,n=e.url,r=e.formData,i=e.name,a=e.filePath,o=e.fileType,s=e.onUploadProgress;return new Promise((function(e,u){var l=t.adapter.uploadFile({url:n,formData:r,name:i,filePath:a,fileType:o,header:{"X-OSS-server-side-encrpytion":"AES256"},success:function(t){t&&t.statusCode<400?e(t):u(new ve({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))},fail:function(e){u(new ve({code:e.code||"UPLOAD_FAILED",message:e.message||e.errMsg||"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}});"function"==typeof s&&l&&"function"==typeof l.onProgressUpdate&&l.onProgressUpdate((function(e){s({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))}},{key:"reportOSSUpload",value:function(e){var t={method:"serverless.file.resource.report",params:JSON.stringify(e)};return this.request(this.setupRequest(t))}},{key:"uploadFile",value:function(){var e=(0,c.default)(a.default.mark((function e(t){var n,r,i,o,s,u,l,c,h,d,f,p,v,m,g,y,_,b,x,w,S,A;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.filePath,r=t.cloudPath,i=t.fileType,o=void 0===i?"image":i,s=t.cloudPathAsRealPath,u=void 0!==s&&s,l=t.onUploadProgress,c=t.config,"string"===B(r)){e.next=3;break}throw new ve({code:"INVALID_PARAM",message:"cloudPath\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b"});case 3:if(r=r.trim()){e.next=5;break}throw new ve({code:"INVALID_PARAM",message:"cloudPath\u4e0d\u53ef\u4e3a\u7a7a"});case 5:if(!/:\/\//.test(r)){e.next=7;break}throw new ve({code:"INVALID_PARAM",message:"cloudPath\u4e0d\u5408\u6cd5"});case 7:if(h=c&&c.envType||this.config.envType,!(u&&("/"!==r[0]&&(r="/"+r),r.indexOf("\\")>-1))){e.next=10;break}throw new ve({code:"INVALID_PARAM",message:"\u4f7f\u7528cloudPath\u4f5c\u4e3a\u8def\u5f84\u65f6\uff0ccloudPath\u4e0d\u53ef\u5305\u542b\u201c\\\u201d"});case 10:return e.next=12,this.getOSSUploadOptionsFromPath({env:h,filename:u?r.split("/").pop():r,fileId:u?r:void 0});case 12:return d=e.sent.result,f="https://"+d.cdnDomain+"/"+d.ossPath,p=d.securityToken,v=d.accessKeyId,m=d.signature,g=d.host,y=d.ossPath,_=d.id,b=d.policy,x=d.ossCallbackUrl,w={"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:v,Signature:m,host:g,id:_,key:y,policy:b,success_action_status:200},p&&(w["x-oss-security-token"]=p),x&&(S=JSON.stringify({callbackUrl:x,callbackBody:JSON.stringify({fileId:_,spaceId:this.config.spaceId}),callbackBodyType:"application/json"}),w.callback=Me.toBase64(S)),A={url:"https://"+d.host,formData:w,fileName:"file",name:"file",filePath:n,fileType:o},e.next=27,this.uploadFileToOSS(Object.assign({},A,{onUploadProgress:l}));case 27:if(!x){e.next=29;break}return e.abrupt("return",{success:!0,filePath:n,fileID:f});case 29:return e.next=31,this.reportOSSUpload({id:_});case 31:if(!e.sent.success){e.next=33;break}return e.abrupt("return",{success:!0,filePath:n,fileID:f});case 33:throw new ve({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"});case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTempFileURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fileList;return new Promise((function(e,n){Array.isArray(t)&&0!==t.length||n(new ve({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"})),e({fileList:t.map((function(e){return{fileID:e,tempFileURL:e}}))})}))}},{key:"getFileInfo",value:function(){var e=(0,c.default)(a.default.mark((function e(){var t,n,r,i=arguments;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},n=t.fileList,Array.isArray(n)&&0!==n.length){e.next=3;break}throw new ve({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"});case 3:return r={method:"serverless.file.resource.info",params:JSON.stringify({id:n.map((function(e){return e.split("?")[0]})).join(",")})},e.next=6,this.request(this.setupRequest(r));case 6:return e.t0=e.sent.result,e.abrupt("return",{fileList:e.t0});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ee={init:function(e){var t=new Te(e),n={signInAnonymously:function(){return t.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return t.auth=function(){return n},t.customAuth=t.auth,t}},ke="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:";!function(e){e.local="local",e.none="none",e.session="session"}(Ae||(Ae={}));var Ce,Pe=function(){},Re=A((function(e,t){var n;e.exports=(n=T,function(e){var t=n,r=t.lib,i=r.WordArray,a=r.Hasher,o=t.algo,s=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),u[i]=n(e.pow(r,1/3)),i++),r++}();var l=[],c=o.SHA256=a.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],c=n[5],h=n[6],d=n[7],f=0;f<64;f++){if(f<16)l[f]=0|e[t+f];else{var p=l[f-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=l[f-2],g=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[f]=v+l[f-7]+g+l[f-16]}var y=r&i^r&a^i&a,_=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&c^~s&h)+u[f]+l[f];d=h,h=c,c=s,s=o+b|0,o=a,a=i,i=r,r=b+(_+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+c|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=a._createHelper(c),t.HmacSHA256=a._createHmacHelper(c)}(Math),n.SHA256)})),Ie=Re,Oe=A((function(e,t){e.exports=T.HmacSHA256})),Le=function(){var e;if(!Promise){e=function(){},e.promise={};var t=function(){throw new ve({message:'Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.'})};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e};function De(e){return void 0===e}function Be(e){return"[object Null]"===Object.prototype.toString.call(e)}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/([\s\S]+)\s+(\u8bf7\u524d\u5f80\u4e91\u5f00\u53d1AI\u5c0f\u52a9\u624b\u67e5\u770b\u95ee\u9898\uff1a.*)/,"$1")}function Ne(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<e;r++)n+=t.charAt(Math.floor(62*Math.random()));return n}!function(e){e.WEB="web",e.WX_MP="wx_mp"}(Ce||(Ce={}));var Fe={adapter:null,runtime:void 0},je=["anonymousUuidKey"],ze=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e;return(0,m.default)(this,n),e=t.call(this),Fe.adapter.root.tcbObject||(Fe.adapter.root.tcbObject={}),e}return(0,g.default)(n,[{key:"setItem",value:function(e,t){Fe.adapter.root.tcbObject[e]=t}},{key:"getItem",value:function(e){return Fe.adapter.root.tcbObject[e]}},{key:"removeItem",value:function(e){delete Fe.adapter.root.tcbObject[e]}},{key:"clear",value:function(){delete Fe.adapter.root.tcbObject}}]),n}(Pe);function He(e,t){switch(e){case"local":return t.localStorage||new ze;case"none":return new ze;default:return t.sessionStorage||new ze}}var Ge=function(){function e(t){if((0,m.default)(this,e),!this._storage){this._persistence=Fe.adapter.primaryStorage||t.persistence,this._storage=He(this._persistence,Fe.adapter);var n="access_token_".concat(t.env),r="access_token_expire_".concat(t.env),i="refresh_token_".concat(t.env),a="anonymous_uuid_".concat(t.env),o="login_type_".concat(t.env),s="token_type_".concat(t.env),u="user_info_".concat(t.env);this.keys={accessTokenKey:n,accessTokenExpireKey:r,refreshTokenKey:i,anonymousUuidKey:a,loginTypeKey:o,userInfoKey:u,deviceIdKey:"device_id",tokenTypeKey:s}}}return(0,g.default)(e,[{key:"updatePersistence",value:function(e){if(e!==this._persistence){var t="local"===this._persistence;this._persistence=e;var n=He(e,Fe.adapter);for(var r in this.keys){var i=this.keys[r];if(!t||!je.includes(r)){var a=this._storage.getItem(i);De(a)||Be(a)||(n.setItem(i,a),this._storage.removeItem(i))}}this._storage=n}}},{key:"setStore",value:function(e,t,n){if(this._storage){var r={version:n||"localCachev1",content:t},i=JSON.stringify(r);try{this._storage.setItem(e,i)}catch(e){throw e}}}},{key:"getStore",value:function(e,t){try{if(!this._storage)return}catch(e){return""}t=t||"localCachev1";var n=this._storage.getItem(e);return n&&n.indexOf(t)>=0?JSON.parse(n).content:""}},{key:"removeStore",value:function(e){this._storage.removeItem(e)}}]),e}(),We={},Ve={};function qe(e){return We[e]}var Xe=(0,g.default)((function e(t,n){(0,m.default)(this,e),this.data=n||null,this.name=t})),Ye=function(e){(0,d.default)(n,e);var t=S(n);function n(e,r){var i;return(0,m.default)(this,n),i=t.call(this,"error",{error:e,data:r}),i.error=e,i}return(0,g.default)(n)}(Xe),Ke=new(function(){function e(){(0,m.default)(this,e),this._listeners={}}return(0,g.default)(e,[{key:"on",value:function(e,t){return function(e,t,n){n[e]=n[e]||[],n[e].push(t)}(e,t,this._listeners),this}},{key:"off",value:function(e,t){return function(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}(e,t,this._listeners),this}},{key:"fire",value:function(e,t){if(e instanceof Ye)return console.error(e.error),this;var n="string"==typeof e?new Xe(e,t||{}):e,r=n.name;if(this._listens(r)){n.target=this;var i,a=this._listeners[r]?(0,l.default)(this._listeners[r]):[],o=_(a);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.call(this,n)}}catch(u){o.e(u)}finally{o.f()}}return this}},{key:"_listens",value:function(e){return this._listeners[e]&&this._listeners[e].length>0}}]),e}());function Qe(e,t){Ke.on(e,t)}function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ke.fire(e,t)}function Ze(e,t){Ke.off(e,t)}var $e,et="loginStateChanged",tt="loginStateExpire",nt="loginTypeChanged",rt="anonymousConverted",it="refreshAccessToken";!function(e){e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.WECHAT_PUBLIC="WECHAT-PUBLIC",e.WECHAT_OPEN="WECHAT-OPEN",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.USERNAME="USERNAME",e.NULL="NULL"}($e||($e={}));var at=function(){function e(){(0,m.default)(this,e),this._fnPromiseMap=new Map}return(0,g.default)(e,[{key:"run",value:function(){var e=(0,c.default)(a.default.mark((function e(t,n){var r,i=this;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this._fnPromiseMap.get(t),e.abrupt("return",(r||(r=new Promise(function(){var e=(0,c.default)(a.default.mark((function e(r,o){var s;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i._runIdlePromise();case 3:return s=n(),e.t0=r,e.next=7,s;case 7:e.t1=e.sent,(0,e.t0)(e.t1),e.next=14;break;case 11:e.prev=11,e.t2=e["catch"](0),o(e.t2);case 14:return e.prev=14,i._fnPromiseMap.delete(t),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(t,n){return e.apply(this,arguments)}}()),this._fnPromiseMap.set(t,r)),r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_runIdlePromise",value:function(){return Promise.resolve()}}]),e}(),ot=function(){function e(t){(0,m.default)(this,e),this._singlePromise=new at,this._cache=qe(t.env),this._baseURL="https://".concat(t.env,".ap-shanghai.tcb-api.tencentcloudapi.com"),this._reqClass=new Fe.adapter.reqClass({timeout:t.timeout,timeoutMsg:"\u8bf7\u6c42\u5728".concat(t.timeout/1e3,"s\u5185\u672a\u5b8c\u6210\uff0c\u5df2\u4e2d\u65ad"),restrictedMethods:["post"]})}return(0,g.default)(e,[{key:"_getDeviceId",value:function(){if(this._deviceID)return this._deviceID;var e=this._cache.keys.deviceIdKey,t=this._cache.getStore(e);return"string"==typeof t&&t.length>=16&&t.length<=48||(t=Ne(),this._cache.setStore(e,t)),this._deviceID=t,t}},{key:"_request",value:function(){var e=(0,c.default)(a.default.mark((function e(t,n){var r,i,o,s,u,l=arguments;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=l.length>2&&void 0!==l[2]?l[2]:{},i={"x-request-id":Ne(),"x-device-id":this._getDeviceId()},!r.withAccessToken){e.next=9;break}return o=this._cache.keys.tokenTypeKey,e.next=6,this.getAccessToken();case 6:s=e.sent,u=this._cache.getStore(o),i.authorization="".concat(u," ").concat(s);case 9:return e.abrupt("return",this._reqClass["get"===r.method?"get":"post"]({url:"".concat(this._baseURL).concat(t),data:n,headers:i}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_fetchAccessToken",value:function(){var e=(0,c.default)(a.default.mark((function e(){var t,n,r,i,o,s,u,l,h,d,f=this;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this._cache.keys,n=t.loginTypeKey,r=t.accessTokenKey,i=t.accessTokenExpireKey,o=t.tokenTypeKey,s=this._cache.getStore(n),!s||s===$e.ANONYMOUS){e.next=3;break}throw new ve({code:"INVALID_OPERATION",message:"\u975e\u533f\u540d\u767b\u5f55\u4e0d\u652f\u6301\u5237\u65b0 access token"});case 3:return e.next=5,this._singlePromise.run("fetchAccessToken",(0,c.default)(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f._request("/auth/v1/signin/anonymously",{},{method:"post"});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)}))));case 5:return u=e.sent,l=u.access_token,h=u.expires_in,d=u.token_type,e.abrupt("return",(this._cache.setStore(o,d),this._cache.setStore(r,l),this._cache.setStore(i,Date.now()+1e3*h),l));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isAccessTokenExpired",value:function(e,t){var n=!0;return e&&t&&(n=t<Date.now()),n}},{key:"getAccessToken",value:function(){var e=(0,c.default)(a.default.mark((function e(){var t,n,r,i,o;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,i=this._cache.getStore(n),o=this._cache.getStore(r),e.abrupt("return",this.isAccessTokenExpired(i,o)?this._fetchAccessToken():i);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"refreshAccessToken",value:function(){var e=(0,c.default)(a.default.mark((function e(){var t,n,r,i;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,i=t.loginTypeKey,e.abrupt("return",(this._cache.removeStore(n),this._cache.removeStore(r),this._cache.setStore(i,$e.ANONYMOUS),this.getAccessToken()));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=(0,c.default)(a.default.mark((function e(){var t=this;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._singlePromise.run("getUserInfo",(0,c.default)(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t._request("/auth/v1/user/me",{},{withAccessToken:!0,method:"get"});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),st=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],ut={"X-SDK-Version":"1.3.5"};function lt(e,t,n){var r=e[t];e[t]=function(t){var i={},a={};n.forEach((function(n){var r=n.call(e,t),o=r.data,s=r.headers;Object.assign(i,o),Object.assign(a,s)}));var o=t.data;return o&&function(){var e;if(e=o,"[object FormData]"!==Object.prototype.toString.call(e))t.data=w(w({},o),i);else for(var n in i)o.append(n,i[n])}(),t.headers=w(w({},t.headers||{}),a),r.call(e,t)}}function ct(){var e=Math.random().toString(16).slice(2);return{data:{seqId:e},headers:w(w({},ut),{},{"x-seqid":e})}}var ht=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,m.default)(this,e),this.config=n,this._reqClass=new Fe.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"\u8bf7\u6c42\u5728".concat(this.config.timeout/1e3,"s\u5185\u672a\u5b8c\u6210\uff0c\u5df2\u4e2d\u65ad"),restrictedMethods:["post"]}),this._cache=qe(this.config.env),this._localCache=(t=this.config.env,Ve[t]),this.oauth=new ot(this.config),lt(this._reqClass,"post",[ct]),lt(this._reqClass,"upload",[ct]),lt(this._reqClass,"download",[ct])}return(0,g.default)(e,[{key:"post",value:function(){var e=(0,c.default)(a.default.mark((function e(t){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._reqClass.post(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"upload",value:function(){var e=(0,c.default)(a.default.mark((function e(t){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._reqClass.upload(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"download",value:function(){var e=(0,c.default)(a.default.mark((function e(t){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._reqClass.download(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshAccessToken",value:function(){var e=(0,c.default)(a.default.mark((function e(){var t,n;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken()),e.prev=1,e.next=4,this._refreshAccessTokenPromise;case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),n=e.t0;case 10:if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,!n){e.next=12;break}throw n;case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"_refreshAccessToken",value:function(){var e=(0,c.default)(a.default.mark((function e(){var t,n,r,i,o,s,u,l,c,h,d,f,p;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,i=t.refreshTokenKey,o=t.loginTypeKey,s=t.anonymousUuidKey,this._cache.removeStore(n),this._cache.removeStore(r),u=this._cache.getStore(i),u){e.next=5;break}throw new ve({message:"\u672a\u767b\u5f55CloudBase"});case 5:return l={refresh_token:u},e.next=8,this.request("auth.fetchAccessTokenWithRefreshToken",l);case 8:if(c=e.sent,!c.data.code){e.next=21;break}if(h=c.data.code,"SIGN_PARAM_INVALID"!==h&&"REFRESH_TOKEN_EXPIRED"!==h&&"INVALID_REFRESH_TOKEN"!==h){e.next=20;break}if(this._cache.getStore(o)!==$e.ANONYMOUS||"INVALID_REFRESH_TOKEN"!==h){e.next=19;break}return d=this._cache.getStore(s),f=this._cache.getStore(i),e.next=17,this.send("auth.signInAnonymously",{anonymous_uuid:d,refresh_token:f});case 17:return p=e.sent,e.abrupt("return",(this.setRefreshToken(p.refresh_token),this._refreshAccessToken()));case 19:Je(tt),this._cache.removeStore(i);case 20:throw new ve({code:c.data.code,message:"\u5237\u65b0access token\u5931\u8d25\uff1a".concat(c.data.code)});case 21:if(!c.data.access_token){e.next=23;break}return e.abrupt("return",(Je(it),this._cache.setStore(n,c.data.access_token),this._cache.setStore(r,c.data.access_token_expire+Date.now()),{accessToken:c.data.access_token,accessTokenExpire:c.data.access_token_expire}));case 23:c.data.refresh_token&&(this._cache.removeStore(i),this._cache.setStore(i,c.data.refresh_token),this._refreshAccessToken());case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var e=(0,c.default)(a.default.mark((function e(){var t,n,r,i,o,s,u;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,i=t.refreshTokenKey,this._cache.getStore(i)){e.next=3;break}throw new ve({message:"refresh token\u4e0d\u5b58\u5728\uff0c\u767b\u5f55\u72b6\u6001\u5f02\u5e38"});case 3:if(o=this._cache.getStore(n),s=this._cache.getStore(r),u=!0,e.t0=this._shouldRefreshAccessTokenHook,!e.t0){e.next=9;break}return e.next=8,this._shouldRefreshAccessTokenHook(o,s);case 8:e.t0=!e.sent;case 9:if(e.t1=e.t0,!e.t1){e.next=12;break}u=!1;case 12:return e.abrupt("return",(!o||!s||s<Date.now())&&u?this.refreshAccessToken():{accessToken:o,accessTokenExpire:s});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"request",value:function(){var e=(0,c.default)(a.default.mark((function e(t,n,r){var i,o,s,u,l,c,h,d,f,p,v,m,g,y,_;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i="x-tcb-trace_".concat(this.config.env),o="application/x-www-form-urlencoded",s=w({action:t,env:this.config.env,dataVersion:"2019-08-16"},n),e.t0=-1===st.indexOf(t),!e.t0){e.next=9;break}return this._cache.keys,e.next=8,this.oauth.getAccessToken();case 8:s.access_token=e.sent;case 9:if("storage.uploadFile"!==t){e.next=15;break}for(l in u=new FormData,u)u.hasOwnProperty(l)&&void 0!==u[l]&&u.append(l,s[l]);o="multipart/form-data",e.next=17;break;case 15:for(c in o="application/json",u={},s)void 0!==s[c]&&(u[c]=s[c]);case 17:return h={headers:{"content-type":o}},r&&r.timeout&&(h.timeout=r.timeout),r&&r.onUploadProgress&&(h.onUploadProgress=r.onUploadProgress),d=this._localCache.getStore(i),d&&(h.headers["X-TCB-Trace"]=d),f=n.parse,p=n.inQuery,v=n.search,m={env:this.config.env},f&&(m.parse=!0),p&&(m=w(w({},p),m)),g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=/\?/.test(t),i="";for(var a in n)""===i?!r&&(t+="?"):i+="&",i+="".concat(a,"=").concat(encodeURIComponent(n[a]));return/^http(s)?\:\/\//.test(t+=i)?t:"".concat(e).concat(t)}(ke,"//tcb-api.tencentcloudapi.com/web",m),v&&(g+=v),e.next=28,this.post(w({url:g,data:u},h));case 28:if(y=e.sent,_=y.header&&y.header["x-tcb-trace"],_&&this._localCache.setStore(i,_),(200===Number(y.status)||200===Number(y.statusCode))&&y.data){e.next=32;break}throw new ve({code:"NETWORK_ERROR",message:"network request error"});case 32:return e.abrupt("return",y);case 33:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=(0,c.default)(a.default.mark((function e(t){var n,r,i,o,s=arguments;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2&&void 0!==s[2]?s[2]:{},e.next=4,this.request(t,n,w(w({},r),{},{onUploadProgress:n.onUploadProgress}));case 4:if(i=e.sent,"ACCESS_TOKEN_DISABLED"!==i.data.code&&"ACCESS_TOKEN_EXPIRED"!==i.data.code||-1!==st.indexOf(t)){e.next=14;break}return e.next=8,this.oauth.refreshAccessToken();case 8:return e.next=10,this.request(t,n,w(w({},r),{},{onUploadProgress:n.onUploadProgress}));case 10:if(o=e.sent,!o.data.code){e.next=13;break}throw new ve({code:o.data.code,message:Ue(o.data.message)});case 13:return e.abrupt("return",o.data);case 14:if(!i.data.code){e.next=16;break}throw new ve({code:i.data.code,message:Ue(i.data.message)});case 16:return e.abrupt("return",i.data);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setRefreshToken",value:function(e){var t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,i=t.refreshTokenKey;this._cache.removeStore(n),this._cache.removeStore(r),this._cache.setStore(i,e)}}]),e}(),dt={};function ft(e){return dt[e]}var pt=function(){function e(t){(0,m.default)(this,e),this.config=t,this._cache=qe(t.env),this._request=ft(t.env)}return(0,g.default)(e,[{key:"setRefreshToken",value:function(e){var t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,i=t.refreshTokenKey;this._cache.removeStore(n),this._cache.removeStore(r),this._cache.setStore(i,e)}},{key:"setAccessToken",value:function(e,t){var n=this._cache.keys,r=n.accessTokenKey,i=n.accessTokenExpireKey;this._cache.setStore(r,e),this._cache.setStore(i,t)}},{key:"refreshUserInfo",value:function(){var e=(0,c.default)(a.default.mark((function e(){var t,n;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._request.send("auth.getUserInfo",{});case 2:return t=e.sent,n=t.data,e.abrupt("return",(this.setLocalUserInfo(n),n));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setLocalUserInfo",value:function(e){var t=this._cache.keys.userInfoKey;this._cache.setStore(t,e)}}]),e}(),vt=function(){function e(t){if((0,m.default)(this,e),!t)throw new ve({code:"PARAM_ERROR",message:"envId is not defined"});this._envId=t,this._cache=qe(this._envId),this._request=ft(this._envId),this.setUserInfo()}return(0,g.default)(e,[{key:"linkWithTicket",value:function(e){if("string"!=typeof e)throw new ve({code:"PARAM_ERROR",message:"ticket must be string"});return this._request.send("auth.linkWithTicket",{ticket:e})}},{key:"linkWithRedirect",value:function(e){e.signInWithRedirect()}},{key:"updatePassword",value:function(e,t){return this._request.send("auth.updatePassword",{oldPassword:t,newPassword:e})}},{key:"updateEmail",value:function(e){return this._request.send("auth.updateEmail",{newEmail:e})}},{key:"updateUsername",value:function(e){if("string"!=typeof e)throw new ve({code:"PARAM_ERROR",message:"username must be a string"});return this._request.send("auth.updateUsername",{username:e})}},{key:"getLinkedUidList",value:function(){var e=(0,c.default)(a.default.mark((function e(){var t,n,r,i;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._request.send("auth.getLinkedUidList",{});case 2:return t=e.sent,n=t.data,r=!1,i=n.users,e.abrupt("return",(i.forEach((function(e){e.wxOpenId&&e.wxPublicId&&(r=!0)})),{users:i,hasPrimaryUid:r}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPrimaryUid",value:function(e){return this._request.send("auth.setPrimaryUid",{uid:e})}},{key:"unlink",value:function(e){return this._request.send("auth.unlink",{platform:e})}},{key:"update",value:function(){var e=(0,c.default)(a.default.mark((function e(t){var n,r,i,o,s,u,l,c;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.nickName,r=t.gender,i=t.avatarUrl,o=t.province,s=t.country,u=t.city,e.next=8,this._request.send("auth.updateUserInfo",{nickName:n,gender:r,avatarUrl:i,province:o,country:s,city:u});case 8:l=e.sent,c=l.data,this.setLocalUserInfo(c);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=(0,c.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._request.oauth.getUserInfo();case 2:return t=e.sent,e.abrupt("return",(this.setLocalUserInfo(t),t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setUserInfo",value:function(){var e=this,t=this._cache.keys.userInfoKey,n=this._cache.getStore(t);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach((function(t){e[t]=n[t]})),this.location={country:n.country,province:n.province,city:n.city}}},{key:"setLocalUserInfo",value:function(e){var t=this._cache.keys.userInfoKey;this._cache.setStore(t,e),this.setUserInfo()}}]),e}(),mt=function(){function e(t){if((0,m.default)(this,e),!t)throw new ve({code:"PARAM_ERROR",message:"envId is not defined"});this._cache=qe(t);var n=this._cache.keys,r=n.refreshTokenKey,i=n.accessTokenKey,a=n.accessTokenExpireKey,o=this._cache.getStore(r),s=this._cache.getStore(i),u=this._cache.getStore(a);this.credential={refreshToken:o,accessToken:s,accessTokenExpire:u},this.user=new vt(t)}return(0,g.default)(e,[{key:"isAnonymousAuth",get:function(){return this.loginType===$e.ANONYMOUS}},{key:"isCustomAuth",get:function(){return this.loginType===$e.CUSTOM}},{key:"isWeixinAuth",get:function(){return this.loginType===$e.WECHAT||this.loginType===$e.WECHAT_OPEN||this.loginType===$e.WECHAT_PUBLIC}},{key:"loginType",get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}]),e}(),gt=function(e){(0,d.default)(n,e);var t=S(n);function n(){return(0,m.default)(this,n),t.apply(this,arguments)}return(0,g.default)(n,[{key:"signIn",value:function(){var e=(0,c.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._cache.updatePersistence("local"),e.next=3,this._request.oauth.getAccessToken();case 3:return Je(et),Je(nt,{env:this.config.env,loginType:$e.ANONYMOUS,persistence:"local"}),t=new mt(this.config.env),e.next=8,t.user.refresh();case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"linkAndRetrieveDataWithTicket",value:function(){var e=(0,c.default)(a.default.mark((function e(t){var n,r,i,o,s,u;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this._cache.keys,r=n.anonymousUuidKey,i=n.refreshTokenKey,o=this._cache.getStore(r),s=this._cache.getStore(i),e.next=7,this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:o,refresh_token:s,ticket:t});case 7:if(u=e.sent,!u.refresh_token){e.next=16;break}return this._clearAnonymousUUID(),this.setRefreshToken(u.refresh_token),e.next=13,this._request.refreshAccessToken();case 13:return Je(rt,{env:this.config.env}),Je(nt,{loginType:$e.CUSTOM,persistence:"local"}),e.abrupt("return",{credential:{refreshToken:u.refresh_token}});case 16:throw new ve({message:"\u533f\u540d\u8f6c\u5316\u5931\u8d25"});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setAnonymousUUID",value:function(e){var t=this._cache.keys,n=t.anonymousUuidKey,r=t.loginTypeKey;this._cache.removeStore(n),this._cache.setStore(n,e),this._cache.setStore(r,$e.ANONYMOUS)}},{key:"_clearAnonymousUUID",value:function(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}}]),n}(pt),yt=function(e){(0,d.default)(n,e);var t=S(n);function n(){return(0,m.default)(this,n),t.apply(this,arguments)}return(0,g.default)(n,[{key:"signIn",value:function(){var e=(0,c.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}throw new ve({code:"PARAM_ERROR",message:"ticket must be a string"});case 2:return n=this._cache.keys.refreshTokenKey,e.next=5,this._request.send("auth.signInWithTicket",{ticket:t,refresh_token:this._cache.getStore(n)||""});case 5:if(r=e.sent,!r.refresh_token){e.next=15;break}return this.setRefreshToken(r.refresh_token),e.next=10,this._request.refreshAccessToken();case 10:return Je(et),Je(nt,{env:this.config.env,loginType:$e.CUSTOM,persistence:this.config.persistence}),e.next=14,this.refreshUserInfo();case 14:return e.abrupt("return",new mt(this.config.env));case 15:throw new ve({message:"\u81ea\u5b9a\u4e49\u767b\u5f55\u5931\u8d25"});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(pt),_t=function(e){(0,d.default)(n,e);var t=S(n);function n(){return(0,m.default)(this,n),t.apply(this,arguments)}return(0,g.default)(n,[{key:"signIn",value:function(){var e=(0,c.default)(a.default.mark((function e(t,n){var r,i,o,s,u;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}throw new ve({code:"PARAM_ERROR",message:"email must be a string"});case 2:return r=this._cache.keys.refreshTokenKey,e.next=5,this._request.send("auth.signIn",{loginType:"EMAIL",email:t,password:n,refresh_token:this._cache.getStore(r)||""});case 5:if(i=e.sent,o=i.refresh_token,s=i.access_token,u=i.access_token_expire,!o){e.next=22;break}if(this.setRefreshToken(o),!s||!u){e.next=15;break}this.setAccessToken(s,u),e.next=17;break;case 15:return e.next=17,this._request.refreshAccessToken();case 17:return e.next=19,this.refreshUserInfo();case 19:return Je(et),Je(nt,{env:this.config.env,loginType:$e.EMAIL,persistence:this.config.persistence}),e.abrupt("return",new mt(this.config.env));case 22:throw i.code?new ve({code:i.code,message:"\u90ae\u7bb1\u767b\u5f55\u5931\u8d25: ".concat(i.message)}):new ve({message:"\u90ae\u7bb1\u767b\u5f55\u5931\u8d25"});case 23:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"activate",value:function(){var e=(0,c.default)(a.default.mark((function e(t){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._request.send("auth.activateEndUserMail",{token:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetPasswordWithToken",value:function(){var e=(0,c.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._request.send("auth.resetPasswordWithToken",{token:t,newPassword:n}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(pt),bt=function(e){(0,d.default)(n,e);var t=S(n);function n(){return(0,m.default)(this,n),t.apply(this,arguments)}return(0,g.default)(n,[{key:"signIn",value:function(){var e=(0,c.default)(a.default.mark((function e(t,n){var r,i,o,s,u;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}throw new ve({code:"PARAM_ERROR",message:"username must be a string"});case 2:return"string"!=typeof n&&(n="",console.warn("password is empty")),r=this._cache.keys.refreshTokenKey,e.next=6,this._request.send("auth.signIn",{loginType:$e.USERNAME,username:t,password:n,refresh_token:this._cache.getStore(r)||""});case 6:if(i=e.sent,o=i.refresh_token,s=i.access_token_expire,u=i.access_token,!o){e.next=23;break}if(this.setRefreshToken(o),!u||!s){e.next=16;break}this.setAccessToken(u,s),e.next=18;break;case 16:return e.next=18,this._request.refreshAccessToken();case 18:return e.next=20,this.refreshUserInfo();case 20:return Je(et),Je(nt,{env:this.config.env,loginType:$e.USERNAME,persistence:this.config.persistence}),e.abrupt("return",new mt(this.config.env));case 23:throw i.code?new ve({code:i.code,message:"\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5931\u8d25: ".concat(i.message)}):new ve({message:"\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5931\u8d25"});case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(pt),xt=function(){function e(t){(0,m.default)(this,e),this.config=t,this._cache=qe(t.env),this._request=ft(t.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),Qe(nt,this._onLoginTypeChanged)}return(0,g.default)(e,[{key:"currentUser",get:function(){var e=this.hasLoginState();return e&&e.user||null}},{key:"loginType",get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)}},{key:"anonymousAuthProvider",value:function(){return new gt(this.config)}},{key:"customAuthProvider",value:function(){return new yt(this.config)}},{key:"emailAuthProvider",value:function(){return new _t(this.config)}},{key:"usernameAuthProvider",value:function(){return new bt(this.config)}},{key:"signInAnonymously",value:function(){var e=(0,c.default)(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new gt(this.config).signIn());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signInWithEmailAndPassword",value:function(){var e=(0,c.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new _t(this.config).signIn(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"signInWithUsernameAndPassword",value:function(e,t){return new bt(this.config).signIn(e,t)}},{key:"linkAndRetrieveDataWithTicket",value:function(){var e=(0,c.default)(a.default.mark((function e(t){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._anonymousAuthProvider||(this._anonymousAuthProvider=new gt(this.config)),Qe(rt,this._onAnonymousConverted),e.next=3,this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=(0,c.default)(a.default.mark((function e(){var t,n,r,i,o,s;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loginType!==$e.ANONYMOUS){e.next=2;break}throw new ve({message:"\u533f\u540d\u7528\u6237\u4e0d\u652f\u6301\u767b\u51fa\u64cd\u4f5c"});case 2:if(t=this._cache.keys,n=t.refreshTokenKey,r=t.accessTokenKey,i=t.accessTokenExpireKey,o=this._cache.getStore(n),o){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this._request.send("auth.logout",{refresh_token:o});case 7:return s=e.sent,e.abrupt("return",(this._cache.removeStore(n),this._cache.removeStore(r),this._cache.removeStore(i),Je(et),Je(nt,{env:this.config.env,loginType:$e.NULL,persistence:this.config.persistence}),s));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signUpWithEmailAndPassword",value:function(){var e=(0,c.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._request.send("auth.signUpWithEmailAndPassword",{email:t,password:n}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendPasswordResetEmail",value:function(){var e=(0,c.default)(a.default.mark((function e(t){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this._request.send("auth.sendPasswordResetEmail",{email:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onLoginStateChanged",value:function(e){var t=this;Qe(et,(function(){var n=t.hasLoginState();e.call(t,n)}));var n=this.hasLoginState();e.call(this,n)}},{key:"onLoginStateExpired",value:function(e){Qe(tt,e.bind(this))}},{key:"onAccessTokenRefreshed",value:function(e){Qe(it,e.bind(this))}},{key:"onAnonymousConverted",value:function(e){Qe(rt,e.bind(this))}},{key:"onLoginTypeChanged",value:function(e){var t=this;Qe(nt,(function(){var n=t.hasLoginState();e.call(t,n)}))}},{key:"getAccessToken",value:function(){var e=(0,c.default)(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._request.getAccessToken();case 2:return e.t0=e.sent.accessToken,e.t1=this.config.env,e.abrupt("return",{accessToken:e.t0,env:e.t1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hasLoginState",value:function(){var e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,r=this._cache.getStore(t),i=this._cache.getStore(n);return this._request.oauth.isAccessTokenExpired(r,i)?null:new mt(this.config.env)}},{key:"isUsernameRegistered",value:function(){var e=(0,c.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"==typeof t){e.next=2;break}throw new ve({code:"PARAM_ERROR",message:"username must be a string"});case 2:return e.next=4,this._request.send("auth.isUsernameRegistered",{username:t});case 4:return n=e.sent,r=n.data,e.abrupt("return",r&&r.isRegistered);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLoginState",value:function(){return Promise.resolve(this.hasLoginState())}},{key:"signInWithTicket",value:function(){var e=(0,c.default)(a.default.mark((function e(t){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new yt(this.config).signIn(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"shouldRefreshAccessToken",value:function(e){this._request._shouldRefreshAccessTokenHook=e.bind(this)}},{key:"getUserInfo",value:function(){return this._request.send("auth.getUserInfo",{}).then((function(e){return e.code?e:w(w({},e.data),{},{requestId:e.seqId})}))}},{key:"getAuthHeader",value:function(){var e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=this._cache.getStore(t);return{"x-cloudbase-credentials":this._cache.getStore(n)+"/@@/"+r}}},{key:"_onAnonymousConverted",value:function(e){var t=e.data.env;t===this.config.env&&this._cache.updatePersistence(this.config.persistence)}},{key:"_onLoginTypeChanged",value:function(e){var t=e.data,n=t.loginType,r=t.persistence,i=t.env;i===this.config.env&&(this._cache.updatePersistence(r),this._cache.setStore(this._cache.keys.loginTypeKey,n))}}]),e}(),wt=function(e,t){t=t||Le();var n=ft(this.config.env),r=e.cloudPath,i=e.filePath,a=e.onUploadProgress,o=e.fileType,s=void 0===o?"image":o;return n.send("storage.getUploadMetadata",{path:r}).then((function(e){var o=e.data,u=o.url,l=o.authorization,c=o.token,h=o.fileId,d=o.cosFileId,f=e.requestId,p={key:r,signature:l,"x-cos-meta-fileid":d,success_action_status:"201","x-cos-security-token":c};n.upload({url:u,data:p,file:i,name:r,fileType:s,onUploadProgress:a}).then((function(e){201===e.statusCode?t(null,{fileID:h,requestId:f}):t(new ve({code:"STORAGE_REQUEST_FAIL",message:"STORAGE_REQUEST_FAIL: ".concat(e.data)}))})).catch((function(e){t(e)}))})).catch((function(e){t(e)})),t.promise},St=function(e,t){t=t||Le();var n=ft(this.config.env),r=e.cloudPath;return n.send("storage.getUploadMetadata",{path:r}).then((function(e){t(null,e)})).catch((function(e){t(e)})),t.promise},At=function(e,t){var n=e.fileList;if(t=t||Le(),!n||!Array.isArray(n))return{code:"INVALID_PARAM",message:"fileList\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u6570\u7ec4"};var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(!a||"string"!=typeof a)return{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"}}}catch(s){i.e(s)}finally{i.f()}var o={fileid_list:n};return ft(this.config.env).send("storage.batchDeleteFile",o).then((function(e){e.code?t(null,e):t(null,{fileList:e.data.delete_list,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},Mt=function(e,t){var n=e.fileList;t=t||Le(),n&&Array.isArray(n)||t(null,{code:"INVALID_PARAM",message:"fileList\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u6570\u7ec4"});var r,i=[],a=_(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;"object"==(0,u.default)(o)?(o.hasOwnProperty("fileID")&&o.hasOwnProperty("maxAge")||t(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u5305\u542bfileID\u548cmaxAge\u7684\u5bf9\u8c61"}),i.push({fileid:o.fileID,max_age:o.maxAge})):"string"==typeof o?i.push({fileid:o}):t(null,{code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u5b57\u7b26\u4e32"})}}catch(l){a.e(l)}finally{a.f()}var s={file_list:i};return ft(this.config.env).send("storage.batchGetDownloadUrl",s).then((function(e){e.code?t(null,e):t(null,{fileList:e.data.download_list,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},Tt=function(){var e=(0,c.default)(a.default.mark((function e(t,n){var r,i,o,s;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.fileID,e.next=3,Mt.call(this,{fileList:[{fileID:r,maxAge:600}]});case 3:if(i=e.sent.fileList[0],"SUCCESS"===i.code){e.next=6;break}return e.abrupt("return",n?n(i):new Promise((function(e){e(i)})));case 6:if(o=ft(this.config.env),s=i.download_url,s=encodeURI(s),n){e.next=10;break}return e.abrupt("return",o.download({url:s}));case 10:return e.t0=n,e.next=13,o.download({url:s});case 13:e.t1=e.sent,(0,e.t0)(e.t1);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),Et=function(e,t){var n,r=e.name,i=e.data,a=e.query,o=e.parse,s=e.search,u=e.timeout,l=t||Le();try{n=i?JSON.stringify(i):""}catch(r){return Promise.reject(r)}if(!r)return Promise.reject(new ve({code:"PARAM_ERROR",message:"\u51fd\u6570\u540d\u4e0d\u80fd\u4e3a\u7a7a"}));var c={inQuery:a,parse:o,search:s,function_name:r,request_data:n};return ft(this.config.env).send("functions.invokeFunction",c,{timeout:u}).then((function(e){if(e.code)l(null,e);else{var t=e.data.response_data;if(o)l(null,{result:t,requestId:e.requestId});else try{t=JSON.parse(e.data.response_data),l(null,{result:t,requestId:e.requestId})}catch(e){l(new ve({message:"response data must be json"}))}}return l.promise})).catch((function(e){l(e)})),l.promise},kt={timeout:15e3,persistence:"session"},Ct={},Pt=function(){function e(t){(0,m.default)(this,e),this.config=t||this.config,this.authObj=void 0}return(0,g.default)(e,[{key:"init",value:function(t){switch(Fe.adapter||(this.requestClient=new Fe.adapter.reqClass({timeout:t.timeout||5e3,timeoutMsg:"\u8bf7\u6c42\u5728".concat((t.timeout||5e3)/1e3,"s\u5185\u672a\u5b8c\u6210\uff0c\u5df2\u4e2d\u65ad")})),this.config=w(w({},kt),t),!0){case this.config.timeout>6e5:console.warn("timeout\u5927\u4e8e\u53ef\u914d\u7f6e\u4e0a\u9650[10\u5206\u949f]\uff0c\u5df2\u91cd\u7f6e\u4e3a\u4e0a\u9650\u6570\u503c"),this.config.timeout=6e5;break;case this.config.timeout<100:console.warn("timeout\u5c0f\u4e8e\u53ef\u914d\u7f6e\u4e0b\u9650[100ms]\uff0c\u5df2\u91cd\u7f6e\u4e3a\u4e0b\u9650\u6570\u503c"),this.config.timeout=100}return new e(this.config)}},{key:"auth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.persistence;if(this.authObj)return this.authObj;var n,r=t||Fe.adapter.primaryStorage||kt.persistence;return r!==this.config.persistence&&(this.config.persistence=r),function(e){var t=e.env;We[t]=new Ge(e),Ve[t]=new Ge(w(w({},e),{},{persistence:"local"}))}(this.config),n=this.config,dt[n.env]=new ht(n),this.authObj=new xt(this.config),this.authObj}},{key:"on",value:function(e,t){return Qe.apply(this,[e,t])}},{key:"off",value:function(e,t){return Ze.apply(this,[e,t])}},{key:"callFunction",value:function(e,t){return Et.apply(this,[e,t])}},{key:"deleteFile",value:function(e,t){return At.apply(this,[e,t])}},{key:"getTempFileURL",value:function(e,t){return Mt.apply(this,[e,t])}},{key:"downloadFile",value:function(e,t){return Tt.apply(this,[e,t])}},{key:"uploadFile",value:function(e,t){return wt.apply(this,[e,t])}},{key:"getUploadMetadata",value:function(e,t){return St.apply(this,[e,t])}},{key:"registerExtension",value:function(e){Ct[e.name]=e}},{key:"invokeExtension",value:function(){var e=(0,c.default)(a.default.mark((function e(t,n){var r;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Ct[t],r){e.next=3;break}throw new ve({message:"\u6269\u5c55".concat(t," \u5fc5\u987b\u5148\u6ce8\u518c")});case 3:return e.next=5,r.invoke(n,this);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"useAdapters",value:function(e){var t=function(e){var t,n,r=(t=e,"[object Array]"===Object.prototype.toString.call(t)?e:[e]),i=_(r);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.isMatch,s=a.genAdapter,u=a.runtime;if(o())return{adapter:s(),runtime:u}}}catch(l){i.e(l)}finally{i.f()}}(e)||{},n=t.adapter,r=t.runtime;n&&(Fe.adapter=n),r&&(Fe.runtime=r)}}]),e}(),Rt=new Pt;function It(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),i="";for(var a in n)""===i?!r&&(t+="?"):i+="&",i+=a+"="+encodeURIComponent(n[a]);return/^http(s)?:\/\//.test(t+=i)?t:""+e+t}var Ot=function(){function e(){(0,m.default)(this,e)}return(0,g.default)(e,[{key:"get",value:function(e){var t=e.url,n=e.data,r=e.headers,i=e.timeout;return new Promise((function(e,a){ye.request({url:It("https:",t),data:n,method:"GET",header:r,timeout:i,success:function(t){e(t)},fail:function(e){a(e)}})}))}},{key:"post",value:function(e){var t=e.url,n=e.data,r=e.headers,i=e.timeout;return new Promise((function(e,a){ye.request({url:It("https:",t),data:n,method:"POST",header:r,timeout:i,success:function(t){e(t)},fail:function(e){a(e)}})}))}},{key:"upload",value:function(e){return new Promise((function(t,n){var r=e.url,i=e.file,a=e.data,o=e.headers,s=e.fileType,u=ye.uploadFile({url:It("https:",r),name:"file",formData:Object.assign({},a),filePath:i,fileType:s,header:o,success:function(e){var n={statusCode:e.statusCode,data:e.data||{}};200===e.statusCode&&a.success_action_status&&(n.statusCode=parseInt(a.success_action_status,10)),t(n)},fail:function(e){n(new Error(e.errMsg||"uploadFile:fail"))}});"function"==typeof e.onUploadProgress&&u&&"function"==typeof u.onProgressUpdate&&u.onProgressUpdate((function(t){e.onUploadProgress({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}}]),e}(),Lt={setItem:function(e,t){ye.setStorageSync(e,t)},getItem:function(e){return ye.getStorageSync(e)},removeItem:function(e){ye.removeStorageSync(e)},clear:function(){ye.clearStorageSync()}},Dt={genAdapter:function(){return{root:{},reqClass:Ot,localStorage:Lt,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};Rt.useAdapters(Dt);var Bt=Rt,Ut=Bt.init;Bt.init=function(e){e.env=e.spaceId;var t=Ut.call(this,e);t.config.provider="tencent",t.config.spaceId=e.spaceId;var n=t.auth;return t.auth=function(e){var t=n.call(this,e);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach((function(e){var n;t[e]=(n=t[e],function(e){e=e||{};var t=pe(e),r=t.success,i=t.fail,a=t.complete;if(!(r||i||a))return n.call(this,e);n.call(this,e).then((function(e){r&&r(e),a&&a(e)}),(function(e){i&&i(e),a&&a(e)}))}).bind(t)})),t},t.customAuth=t.auth,t};var Nt=Bt;function Ft(e,t){return jt.apply(this,arguments)}function jt(){return jt=(0,c.default)(a.default.mark((function e(t,n){var r,i,o;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="http://".concat(t,":").concat(n,"/system/ping"),e.prev=1,e.next=4,o={url:r,timeout:500},new Promise((function(e,t){ye.request(w(w({},o),{},{success:function(t){e(t)},fail:function(e){t(e)}}))}));case 4:return i=e.sent,e.abrupt("return",!(!i.data||0!==i.data.code));case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),jt.apply(this,arguments)}function zt(e,t){return Ht.apply(this,arguments)}function Ht(){return Ht=(0,c.default)(a.default.mark((function e(t,n){var r,i,o;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<t.length)){e.next=11;break}return o=t[i],e.next=5,Ft(o,n);case 5:if(!e.sent){e.next=8;break}return r=o,e.abrupt("break",11);case 8:i++,e.next=1;break;case 11:return e.abrupt("return",{address:r,port:n});case 12:case"end":return e.stop()}}),e)}))),Ht.apply(this,arguments)}var Gt={"serverless.file.resource.generateProximalSign":"storage/generate-proximal-sign","serverless.file.resource.report":"storage/report","serverless.file.resource.delete":"storage/delete","serverless.file.resource.getTempFileURL":"storage/get-temp-file-url"},Wt=function(){function e(t){if((0,m.default)(this,e),["spaceId","clientSecret"].forEach((function(e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new Error("".concat(e," required"))})),!t.endpoint)throw new Error("\u96c6\u7fa4\u7a7a\u95f4\u672a\u914d\u7f6eApiEndpoint\uff0c\u914d\u7f6e\u540e\u9700\u8981\u91cd\u65b0\u5173\u8054\u670d\u52a1\u7a7a\u95f4\u540e\u751f\u6548");this.config=Object.assign({},t),this.config.provider="dcloud",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.adapter=ye}return(0,g.default)(e,[{key:"request",value:function(){var e=(0,c.default)(a.default.mark((function e(t){var n,r=this,i=arguments;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(i.length>1&&void 0!==i[1])||i[1],n=!1,!n){e.next=8;break}return e.next=5,this.setupLocalRequest(t);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=this.setupRequest(t);case 9:return t=e.t0,e.abrupt("return",Promise.resolve().then((function(){return n?r.requestLocal(t):Me.wrappedRequest(t,r.adapter.request)})));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"requestLocal",value:function(e){var t=this;return new Promise((function(n,r){t.adapter.request(Object.assign(e,{complete:function(e){if(e||(e={}),!e.statusCode||e.statusCode>=400){var t=e.data&&e.data.code||"SYS_ERR",i=e.data&&e.data.message||"request:fail";return r(new ve({code:t,message:i}))}n({success:!0,result:e.data})}}))}))}},{key:"setupRequest",value:function(e){var t=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now()}),n={"Content-Type":"application/json"};n["x-serverless-sign"]=Me.sign(t,this.config.clientSecret);var r=Se();n["x-client-info"]=encodeURIComponent(JSON.stringify(r));var i=_e(),a=i.token;return n["x-client-token"]=a,{url:this.config.requestUrl,method:"POST",data:t,dataType:"json",header:JSON.parse(JSON.stringify(n))}}},{key:"setupLocalRequest",value:function(){var e=(0,c.default)(a.default.mark((function e(t){var n,r,i,o,s,u,l,c,h;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Se(),r=_e(),i=r.token,o=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now(),clientInfo:n,token:i}),s=this.__dev__&&this.__dev__.debugInfo||{},u=s.address,l=s.servePort,e.next=9,zt(u,l);case 9:return c=e.sent,h=c.address,e.abrupt("return",{url:"http://".concat(h,":").concat(l,"/").concat(Gt[t.method]),method:"POST",data:o,dataType:"json",header:JSON.parse(JSON.stringify({"Content-Type":"application/json"}))});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"callFunction",value:function(e){var t={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:e.name,functionArgs:e.data||{}})};return this.request(t,!1)}},{key:"getUploadFileOptions",value:function(e){var t={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(e)};return this.request(t)}},{key:"reportUploadFile",value:function(e){var t={method:"serverless.file.resource.report",params:JSON.stringify(e)};return this.request(t)}},{key:"uploadFile",value:function(e){var t,n=this,r=e.filePath,i=e.cloudPath,a=e.fileType,o=void 0===a?"image":a,s=e.onUploadProgress;if(!i)throw new ve({code:"CLOUDPATH_REQUIRED",message:"cloudPath\u4e0d\u53ef\u4e3a\u7a7a"});return this.getUploadFileOptions({cloudPath:i}).then((function(e){var i=e.result,a=i.url,u=i.formData,l=i.name;return t=e.result.fileUrl,new Promise((function(e,t){var i=n.adapter.uploadFile({url:a,formData:u,name:l,filePath:r,fileType:o,success:function(n){n&&n.statusCode<400?e(n):t(new ve({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))},fail:function(e){t(new ve({code:e.code||"UPLOAD_FAILED",message:e.message||e.errMsg||"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}});"function"==typeof s&&i&&"function"==typeof i.onProgressUpdate&&i.onProgressUpdate((function(e){s({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))})).then((function(){return n.reportUploadFile({cloudPath:i})})).then((function(e){return new Promise((function(n,i){e.success?n({success:!0,filePath:r,fileID:t}):i(new ve({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}))}))}},{key:"deleteFile",value:function(e){var t=e.fileList,n={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:t})};return this.request(n).then((function(e){if(e.success)return e.result;throw new ve({code:"DELETE_FILE_FAILED",message:"\u5220\u9664\u6587\u4ef6\u5931\u8d25"})}))}},{key:"getTempFileURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fileList,n=e.maxAge;if(!Array.isArray(t)||0===t.length)throw new ve({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"});var r={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:t,maxAge:n})};return this.request(r).then((function(e){if(e.success)return{fileList:e.result.fileList.map((function(e){return{fileID:e.fileID,tempFileURL:e.tempFileURL}}))};throw new ve({code:"GET_TEMP_FILE_URL_FAILED",message:"\u83b7\u53d6\u4e34\u65f6\u6587\u4ef6\u94fe\u63a5\u5931\u8d25"})}))}}]),e}(),Vt={init:function(e){var t=new Wt(e),n={signInAnonymously:function(){return Promise.resolve()},getLoginState:function(){return Promise.resolve(!1)}};return t.auth=function(){return n},t.customAuth=t.auth,t}},qt=A((function(e,t){e.exports=T.enc.Hex}));function Xt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data,r=t.functionName,i=t.method,a=t.headers,o=t.signHeaderKeys,u=void 0===o?[]:o,l=t.config,c=String(Date.now()),h=Xt(),d=Object.assign({},a,{"x-from-app-id":l.spaceAppId,"x-from-env-id":l.spaceId,"x-to-env-id":l.spaceId,"x-from-instance-id":c,"x-from-function-name":r,"x-client-timestamp":c,"x-alipay-source":"client","x-request-id":h,"x-alipay-callid":h,"x-trace-id":h}),f=["x-from-app-id","x-from-env-id","x-to-env-id","x-from-instance-id","x-from-function-name","x-client-timestamp"].concat(u),p=e.split("?")||[],v=(0,s.default)(p,2),m=v[0],g=void 0===m?"":m,y=v[1],_=void 0===y?"":y,b=function(e){var t="HMAC-SHA256",n=e.signedHeaders.join(";"),r=e.signedHeaders.map((function(t){return"".concat(t.toLowerCase(),":").concat(e.headers[t],"\n")})).join(""),i=Ie(e.body).toString(qt),a="".concat(e.method.toUpperCase(),"\n").concat(e.path,"\n").concat(e.query,"\n").concat(r,"\n").concat(n,"\n").concat(i,"\n"),o=Ie(a).toString(qt),s="".concat(t,"\n").concat(e.timestamp,"\n").concat(o,"\n"),u=Oe(s,e.secretKey).toString(qt);return"".concat(t," Credential=").concat(e.secretId,", SignedHeaders=").concat(n,", Signature=").concat(u)}({path:g,query:_,method:i,headers:d,timestamp:c,body:JSON.stringify(n),secretId:l.accessKey,secretKey:l.secretKey,signedHeaders:f.sort()});return{url:"".concat(l.endpoint).concat(e),headers:Object.assign({},d,{Authorization:b})}}function Kt(e){var t=e.url,n=e.data,r=e.method,i=void 0===r?"POST":r,a=e.headers,o=void 0===a?{}:a,s=e.timeout;return new Promise((function(e,r){ye.request({url:t,method:i,data:"object"==(0,u.default)(n)?JSON.stringify(n):n,header:o,dataType:"json",timeout:s,complete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=o["x-trace-id"]||"";if(!t.statusCode||t.statusCode>=400){var i=t.data||{},a=i.message,s=i.errMsg,u=i.trace_id;return r(new ve({code:"SYS_ERR",message:a||s||"request:fail",requestId:u||n}))}e({status:t.statusCode,data:t.data,headers:t.header,requestId:n})}})}))}function Qt(e,t){var n=e.path,r=e.data,i=e.method,a=void 0===i?"GET":i,o=Yt(n,{functionName:"",data:r,method:a,headers:{"x-alipay-cloud-mode":"oss","x-data-api-type":"oss","x-expire-timestamp":Date.now()+6e4},signHeaderKeys:["x-data-api-type","x-expire-timestamp"],config:t}),s=o.url,u=o.headers;return Kt({url:s,data:r,method:a,headers:u}).then((function(e){var t=e.data||{};if(!t.success)throw new ve({code:e.errCode,message:e.errMsg,requestId:e.requestId});return t.data||{}})).catch((function(e){throw new ve({code:e.errCode,message:e.errMsg,requestId:e.requestId})}))}function Jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.trim().replace(/^cloud:\/\//,""),n=t.indexOf("/");if(n<=0)throw new ve({code:"INVALID_PARAM",message:"fileID\u4e0d\u5408\u6cd5"});var r=t.substring(0,n),i=t.substring(n+1);return r!==this.config.spaceId&&console.warn("file ".concat(e," does not belong to env ").concat(this.config.spaceId)),i}function Zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"cloud://".concat(this.config.spaceId,"/").concat(e.replace(/^\/+/,""))}var $t=function(){function e(t){(0,m.default)(this,e),this.config=t}return(0,g.default)(e,[{key:"signedURL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="/ws/function/".concat(e),r=this.config.wsEndpoint.replace(/^ws(s)?:\/\//,""),i=Object.assign({},t,{accessKeyId:this.config.accessKey,signatureNonce:Xt(),timestamp:""+Date.now()}),a=[n,["accessKeyId","authorization","signatureNonce","timestamp"].sort().map((function(e){return i[e]?"".concat(e,"=").concat(i[e]):null})).filter(Boolean).join("&"),"host:".concat(r)].join("\n"),o=["HMAC-SHA256",Ie(a).toString(qt)].join("\n"),s=Oe(o,this.config.secretKey).toString(qt),u=Object.keys(i).map((function(e){return"".concat(e,"=").concat(encodeURIComponent(i[e]))})).join("&");return"".concat(this.config.wsEndpoint).concat(n,"?").concat(u,"&signature=").concat(s)}}]),e}(),en=function(){function e(t){if((0,m.default)(this,e),["spaceId","spaceAppId","accessKey","secretKey"].forEach((function(e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new Error("".concat(e," required"))})),t.endpoint){if("string"!=typeof t.endpoint)throw new Error("endpoint must be string");if(!/^https:\/\//.test(t.endpoint))throw new Error("endpoint must start with https://");t.endpoint=t.endpoint.replace(/\/$/,"")}this.config=Object.assign({},t,{endpoint:t.endpoint||"https://".concat(t.spaceId,".api-hz.cloudbasefunction.cn"),wsEndpoint:t.wsEndpoint||"wss://".concat(t.spaceId,".api-hz.cloudbasefunction.cn")}),this._websocket=new $t(this.config)}return(0,g.default)(e,[{key:"callFunction",value:function(e){return function(e,t){var n=e.name,r=e.data,i=e.async,a=void 0!==i&&i,o=e.timeout,s="POST",u={"x-to-function-name":n};a&&(u["x-function-invoke-type"]="async");var l=Yt("/functions/invokeFunction",{functionName:n,data:r,method:s,headers:u,signHeaderKeys:["x-to-function-name"],config:t}),c=l.url,h=l.headers;return Kt({url:c,data:r,method:s,headers:h,timeout:o}).then((function(e){var t=0;if(a){var n=e.data||{};t="200"===n.errCode?0:n.errCode,e.data=n.data||{},e.errMsg=n.errMsg}if(0!==t)throw new ve({code:t,message:e.errMsg,requestId:e.requestId});return{errCode:t,success:0===t,requestId:e.requestId,result:e.data}})).catch((function(e){throw new ve({code:e.errCode,message:e.errMsg,requestId:e.requestId})}))}(e,this.config)}},{key:"uploadFileToOSS",value:function(e){var t=e.url,n=e.filePath,r=e.fileType,i=e.formData,a=e.onUploadProgress;return new Promise((function(e,o){var s=ye.uploadFile({url:t,filePath:n,fileType:r,formData:i,name:"file",success:function(t){t&&t.statusCode<400?e(t):o(new ve({code:"UPLOAD_FAILED",message:"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))},fail:function(e){o(new ve({code:e.code||"UPLOAD_FAILED",message:e.message||e.errMsg||"\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25"}))}});"function"==typeof a&&s&&"function"==typeof s.onProgressUpdate&&s.onProgressUpdate((function(e){a({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))}},{key:"uploadFile",value:function(){var e=(0,c.default)(a.default.mark((function e(t){var n,r,i,o,s,u,l,c,h,d,f;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.filePath,r=t.cloudPath,i=void 0===r?"":r,o=t.fileType,s=void 0===o?"image":o,u=t.onUploadProgress,"string"===B(i)){e.next=3;break}throw new ve({code:"INVALID_PARAM",message:"cloudPath\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u7c7b\u578b"});case 3:if(i=i.trim()){e.next=5;break}throw new ve({code:"INVALID_PARAM",message:"cloudPath\u4e0d\u53ef\u4e3a\u7a7a"});case 5:if(!/:\/\//.test(i)){e.next=7;break}throw new ve({code:"INVALID_PARAM",message:"cloudPath\u4e0d\u5408\u6cd5"});case 7:return e.next=9,Qt({path:"/".concat(i.replace(/^\//,""),"?post_url")},this.config);case 9:return l=e.sent,c=l.file_id,h=l.upload_url,d=l.form_data,f=d&&d.reduce((function(e,t){return e[t.key]=t.value,e}),{}),e.abrupt("return",this.uploadFileToOSS({url:h,filePath:n,fileType:s,formData:f,onUploadProgress:u}).then((function(){return{fileID:c}})));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTempFileURL",value:function(){var e=(0,c.default)(a.default.mark((function e(t){var n,r=this;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.fileList,e.abrupt("return",new Promise((function(e,t){(!n||n.length<0)&&e({code:"INVALID_PARAM",message:"fileList\u4e0d\u80fd\u4e3a\u7a7a\u6570\u7ec4"}),n.length>50&&e({code:"INVALID_PARAM",message:"fileList\u6570\u7ec4\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc750"});var i,a=[],o=_(n);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=void 0;"string"!==B(s)&&e({code:"INVALID_PARAM",message:"fileList\u7684\u5143\u7d20\u5fc5\u987b\u662f\u975e\u7a7a\u7684\u5b57\u7b26\u4e32"});try{u=Jt.call(r,s)}catch(e){console.warn(e.errCode,e.errMsg),u=s}a.push({file_id:u,expire:600})}}catch(l){o.e(l)}finally{o.f()}Qt({path:"/?download_url",data:{file_list:a},method:"POST"},r.config).then((function(t){var n=t.file_list,i=void 0===n?[]:n;e({fileList:i.map((function(e){return{fileID:Zt.call(r,e.file_id),tempFileURL:e.download_url}}))})})).catch((function(e){return t(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"connectWebSocket",value:function(){var e=(0,c.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.name,r=t.query,e.abrupt("return",ye.connectSocket({url:this._websocket.signedURL(n,r),complete:function(){}}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),tn={init:function(e){e.provider="alipay";var t=new en(e);return t.auth=function(){return{signInAnonymously:function(){return Promise.resolve()},getLoginState:function(){return Promise.resolve(!0)}}},t}};function nn(e){var t,n=e.data;t=Se();var r=JSON.parse(JSON.stringify(n||{}));if(Object.assign(r,{clientInfo:t}),!r.uniIdToken){var i=_e(),a=i.token;a&&(r.uniIdToken=a)}return r}var rn=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"\uff0c\u4e91\u51fd\u6570[{functionName}]\u5728\u4e91\u7aef\u4e0d\u5b58\u5728\uff0c\u8bf7\u68c0\u67e5\u6b64\u4e91\u51fd\u6570\u540d\u79f0\u662f\u5426\u6b63\u786e\u4ee5\u53ca\u8be5\u4e91\u51fd\u6570\u662f\u5426\u5df2\u4e0a\u4f20\u5230\u670d\u52a1\u7a7a\u95f4",mode:"append"}],an=/[\\^$.*+?()[\]{}|]/g,on=RegExp(an.source);function sn(e,t,n){return e.replace(new RegExp((r=t)&&on.test(r)?r.replace(an,"\\$&"):r,"g"),n);var r}var un={NONE:"none",REQUEST:"request",RESPONSE:"response",BOTH:"both"},ln="_globalUniCloudStatus",cn="_globalUniCloudSecureNetworkCache__{spaceId}";var hn;hn="0123456789abcdef";var dn="uni-secure-network",fn={SYSTEM_ERROR:{code:2e4,message:"System error"},APP_INFO_INVALID:{code:20101,message:"Invalid client"},GET_ENCRYPT_KEY_FAILED:{code:20102,message:"Get encrypt key failed"}};function pn(e){var t=e||{},n=t.errSubject,r=t.subject,i=t.errCode,a=t.errMsg,o=t.code,s=t.message,u=t.cause;return new ve({subject:n||r||dn,code:i||o||fn.SYSTEM_ERROR.code,message:a||s,cause:u})}var vn;function mn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.secretType;return t===un.REQUEST||t===un.RESPONSE||t===un.BOTH}function gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.data,r=void 0===n?{}:n;return"app"===q&&"DCloud-clientDB"===t&&"encryption"===r.redirectTo&&"getAppClientKey"===r.action}function yn(e){e.functionName,e.result,e.logPvd}function _n(e){var t=e.callFunction,n=function(n){var r=this,i=n.name;n.data=nn.call(e,{data:n.data});var a={aliyun:"aliyun",tencent:"tcb",tcb:"tcb",alipay:"alipay",dcloud:"dcloud"}[this.config.provider],o=mn(n),s=gn(n),u=o||s;return t.call(this,n).then((function(e){return e.errCode=0,!u&&yn.call(r,{functionName:i,result:e,logPvd:a}),Promise.resolve(e)}),(function(e){return!u&&yn.call(r,{functionName:i,result:e,logPvd:a}),e&&e.message&&(e.message=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.message,n=void 0===t?"":t,r=e.extraInfo,i=void 0===r?{}:r,a=e.formatter,o=void 0===a?[]:a,s=0;s<o.length;s++){var u=o[s],l=u.rule,c=u.content,h=u.mode,d=n.match(l);if(d){for(var f=c,p=1;p<d.length;p++)f=sn(f,"{$".concat(p,"}"),d[p]);for(var v in i)f=sn(f,"{".concat(v,"}"),i[v]);return"replace"===h?f:n+f}}return n}({message:"[".concat(n.name,"]: ").concat(e.message),formatter:rn,extraInfo:{functionName:i}})),Promise.reject(e)}))};e.callFunction=function(t){var r,i,a=e.config,o=a.provider,s=a.spaceId,u=t.name;return t.data=t.data||{},r=n,r=r.bind(e),i=gn(t)?n.call(e,t):function(e){var t=e.name,n=e.data,r=void 0===n?{}:n;return"mp-weixin"===q&&"uni-id-co"===t&&"secureNetworkHandshakeByWeixin"===r.method}(t)?r.call(e,t):mn(t)?new vn({secretType:t.secretType,uniCloudIns:e}).wrapEncryptDataCallFunction(n.bind(e))(t):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.provider,n=e.spaceId,r=e.functionName,i=xe(),a=i.appId,o=i.uniPlatform,s=i.osName,u=o;"app"===o&&(u=s);var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.provider,n=e.spaceId,r=V;if(!r)return{};t=function(e){return"tencent"===e?"tcb":e}(t);var i=r.find((function(e){return e.provider===t&&e.spaceId===n}));return i&&i.config}({provider:t,spaceId:n});if(!l||!l.accessControl||!l.accessControl.enable)return!1;var c=l.accessControl.function||{},h=Object.keys(c);if(0===h.length)return!0;var d=function(e,t){for(var n,r,i,a=0;a<e.length;a++){var o=e[a];o!==t?"*"!==o?o.split(",").map((function(e){return e.trim()})).indexOf(t)>-1&&(r=o):i=o:n=o}return n||r||i}(h,r);if(!d)return!1;if((c[d]||[]).find((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.appId===a&&(e.platform||"").toLowerCase()===u.toLowerCase()})))return!0;throw console.error("\u6b64\u5e94\u7528[appId: ".concat(a,", platform: ").concat(u,"]\u4e0d\u5728\u4e91\u7aef\u914d\u7f6e\u7684\u5141\u8bb8\u8bbf\u95ee\u7684\u5e94\u7528\u5217\u8868\u5185\uff0c\u53c2\u8003\uff1ahttps://uniapp.dcloud.net.cn/uniCloud/secure-network.html#verify-client")),pn(fn.APP_INFO_INVALID)}({provider:o,spaceId:s,functionName:u})?new vn({secretType:t.secretType,uniCloudIns:e}).wrapVerifyClientCallFunction(n.bind(e))(t):r(t),Object.defineProperty(i,"result",{get:function(){return console.warn("\u5f53\u524d\u8fd4\u56de\u7ed3\u679c\u4e3aPromise\u7c7b\u578b\uff0c\u4e0d\u53ef\u76f4\u63a5\u8bbf\u95ee\u5176result\u5c5e\u6027\uff0c\u8be6\u60c5\u8bf7\u53c2\u8003\uff1ahttps://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"),{}}}),i.then((function(e){return"undefined"!=typeof UTSJSONObject&&(e.result=new UTSJSONObject(e.result)),e}))}}vn="mp-weixin"!==q&&"app"!==q?function(){return(0,g.default)((function e(){throw(0,m.default)(this,e),pn({message:"Platform ".concat(q," is not supported by secure network")})}))}():function(){return(0,g.default)((function e(){throw(0,m.default)(this,e),pn({message:"Platform ".concat(q," is not enabled, please check whether secure network module is enabled in your manifest.json")})}))}();var bn=Symbol("CLIENT_DB_INTERNAL");function xn(e,t){return e.then="DoNotReturnProxyWithAFunctionNamedThen",e._internalType=bn,e.inspect=null,e.__ob__=void 0,new Proxy(e,{get:function(e,n,r){if("_uniClient"===n)return null;if("symbol"==(0,u.default)(n))return e[n];if(n in e||"string"!=typeof n){var i=e[n];return"function"==typeof i?i.bind(e):i}return t.get(e,n,r)}})}function wn(e){return{on:function(t,n){e[t]=e[t]||[],e[t].indexOf(n)>-1||e[t].push(n)},off:function(t,n){e[t]=e[t]||[];var r=e[t].indexOf(n);-1!==r&&e[t].splice(r,1)}}}var Sn=["db.Geo","db.command","command.aggregate"];function An(e,t){return Sn.indexOf("".concat(e,".").concat(t))>-1}function Mn(e){switch(B(e)){case"array":return e.map((function(e){return Mn(e)}));case"object":return e._internalType===bn||Object.keys(e).forEach((function(t){e[t]=Mn(e[t])})),e;case"regexp":return{$regexp:{source:e.source,flags:e.flags}};case"date":return{$date:e.toISOString()};default:return e}}function Tn(e){return e&&e.content&&e.content.$method}var En=function(){function e(t,n,r){(0,m.default)(this,e),this.content=t,this.prevStage=n||null,this.udb=null,this._database=r}return(0,g.default)(e,[{key:"toJSON",value:function(){for(var e=this,t=[e.content];e.prevStage;)e=e.prevStage,t.push(e.content);return{$db:t.reverse().map((function(e){return{$method:e.$method,$param:Mn(e.$param)}}))}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"getAction",value:function(){var e=this.toJSON().$db.find((function(e){return"action"===e.$method}));return e&&e.$param&&e.$param[0]}},{key:"getCommand",value:function(){return{$db:this.toJSON().$db.filter((function(e){return"action"!==e.$method}))}}},{key:"isAggregate",get:function(){for(var e=this;e;){var t=Tn(e),n=Tn(e.prevStage);if("aggregate"===t&&"collection"===n||"pipeline"===t)return!0;e=e.prevStage}return!1}},{key:"isCommand",get:function(){for(var e=this;e;){if("command"===Tn(e))return!0;e=e.prevStage}return!1}},{key:"isAggregateCommand",get:function(){for(var e=this;e;){var t=Tn(e),n=Tn(e.prevStage);if("aggregate"===t&&"command"===n)return!0;e=e.prevStage}return!1}},{key:"getNextStageFn",value:function(e){var t=this;return function(){return kn({$method:e,$param:Mn(Array.from(arguments))},t,t._database)}}},{key:"count",get:function(){return this.isAggregate?this.getNextStageFn("count"):function(){return this._send("count",Array.from(arguments))}}},{key:"remove",get:function(){return this.isCommand?this.getNextStageFn("remove"):function(){return this._send("remove",Array.from(arguments))}}},{key:"get",value:function(){return this._send("get",Array.from(arguments))}},{key:"add",get:function(){return this.isCommand?this.getNextStageFn("add"):function(){return this._send("add",Array.from(arguments))}}},{key:"update",value:function(){return this._send("update",Array.from(arguments))}},{key:"end",value:function(){return this._send("end",Array.from(arguments))}},{key:"set",get:function(){return this.isCommand?this.getNextStageFn("set"):function(){throw new Error("JQL\u7981\u6b62\u4f7f\u7528set\u65b9\u6cd5")}}},{key:"_send",value:function(e,t){var n=this.getAction(),r=this.getCommand();return r.$db.push({$method:e,$param:Mn(t)}),this._database._callCloudFunction({action:n,command:r})}}]),e}();function kn(e,t,n){return xn(new En(e,t,n),{get:function(e,t){var r="db";return e&&e.content&&(r=e.content.$method),An(r,t)?kn({$method:t},e,n):function(){return kn({$method:t,$param:Mn(Array.from(arguments))},e,n)}}})}function Cn(e){var t=e.path,n=e.method;return function(){function e(){(0,m.default)(this,e),this.param=Array.from(arguments)}return(0,g.default)(e,[{key:"toJSON",value:function(){return{$newDb:[].concat((0,l.default)(t.map((function(e){return{$method:e}}))),[{$method:n,$param:this.param}])}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}]),e}()}var Pn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.uniClient,r=void 0===n?{}:n,i=t.isJQL,a=void 0!==i&&i;(0,m.default)(this,e),this._uniClient=r,this._authCallBacks={},this._dbCallBacks={},r._isDefault&&(this._dbCallBacks=Q("_globalUniCloudDatabaseCallback")),a||(this.auth=wn(this._authCallBacks)),this._isJQL=a,Object.assign(this,wn(this._dbCallBacks)),this.env=xn({},{get:function(e,t){return{$env:t}}}),this.Geo=xn({},{get:function(e,t){return Cn({path:["Geo"],method:t})}}),this.serverDate=Cn({path:[],method:"serverDate"}),this.RegExp=Cn({path:[],method:"RegExp"})}return(0,g.default)(e,[{key:"getCloudEnv",value:function(e){if("string"!=typeof e||!e.trim())throw new Error("getCloudEnv\u53c2\u6570\u9519\u8bef");return{$env:e.replace("$cloudEnv_","")}}},{key:"_callback",value:function(e,t){var n=this._dbCallBacks;n[e]&&n[e].forEach((function(e){e.apply(void 0,(0,l.default)(t))}))}},{key:"_callbackAuth",value:function(e,t){var n=this._authCallBacks;n[e]&&n[e].forEach((function(e){e.apply(void 0,(0,l.default)(t))}))}},{key:"multiSend",value:function(){var e=Array.from(arguments),t=e.map((function(e){var t=e.getAction(),n=e.getCommand();if("getTemp"!==n.$db[n.$db.length-1].$method)throw new Error("multiSend\u53ea\u652f\u6301\u5b50\u547d\u4ee4\u5185\u4f7f\u7528getTemp");return{action:t,command:n}}));return this._callCloudFunction({multiCommand:t,queryList:e})}}]),e}();function Rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return xn(new e(t),{get:function(e,t){return An("db",t)?kn({$method:t},null,e):function(){return kn({$method:t,$param:Mn(Array.from(arguments))},null,e)}}})}var In=function(e){(0,d.default)(n,e);var t=S(n);function n(){return(0,m.default)(this,n),t.apply(this,arguments)}return(0,g.default)(n,[{key:"_parseResult",value:function(e){return this._isJQL?e.result:e}},{key:"_callCloudFunction",value:function(e){var t=this,n=e.action,r=e.command,i=e.multiCommand,a=e.queryList;function o(e,t){if(i&&a)for(var n=0;n<a.length;n++){var r=a[n];r.udb&&"function"==typeof r.udb.setResult&&(t?r.udb.setResult(t):r.udb.setResult(e.result.dataList[n]))}}var s=this,u=this._isJQL?"databaseForJQL":"database";function l(e){return s._callback("error",[e]),te(ne(u,"fail"),e).then((function(){return te(ne(u,"complete"),e)})).then((function(){return o(null,e),ce(ae.RESPONSE,{type:oe.CLIENT_DB,content:e}),Promise.reject(e)}))}var c=te(ne(u,"invoke")),h=this._uniClient;return c.then((function(){return h.callFunction({name:"DCloud-clientDB",type:I.CLIENT_DB,data:{action:n,command:r,multiCommand:i}})})).then((function(e){var n=e.result,r=n.code,i=n.message,a=n.token,c=n.tokenExpired,h=n.systemInfo,d=void 0===h?[]:h;if(d)for(var f=0;f<d.length;f++){var p=d[f],v=p.level,m=p.message,g=p.detail,y="[System Info]"+m;g&&(y="".concat(y,"\n\u8be6\u7ec6\u4fe1\u606f\uff1a").concat(g)),(console["app"===q&&"warn"===v?"error":v]||console.log)(y)}if(r)return l(new ve({code:r,message:i,requestId:e.requestId}));e.result.errCode=e.result.errCode||e.result.code,e.result.errMsg=e.result.errMsg||e.result.message,a&&c&&(be({token:a,tokenExpired:c}),t._callbackAuth("refreshToken",[{token:a,tokenExpired:c}]),t._callback("refreshToken",[{token:a,tokenExpired:c}]),ce(ae.REFRESH_TOKEN,{token:a,tokenExpired:c}));for(var _=[{prop:"affectedDocs",tips:"affectedDocs\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528inserted/deleted/updated/data.length\u66ff\u4ee3"},{prop:"code",tips:"code\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528errCode\u66ff\u4ee3"},{prop:"message",tips:"message\u4e0d\u518d\u63a8\u8350\u4f7f\u7528\uff0c\u8bf7\u4f7f\u7528errMsg\u66ff\u4ee3"}],b=function(t){var n=_[t],r=n.prop,i=n.tips;if(r in e.result){var a=e.result[r];Object.defineProperty(e.result,r,{get:function(){return console.warn(i),a}})}},x=0;x<_.length;x++)b(x);return function(e){return te(ne(u,"success"),e).then((function(){return te(ne(u,"complete"),e)})).then((function(){o(e,null);var t=s._parseResult(e);return ce(ae.RESPONSE,{type:oe.CLIENT_DB,content:t}),Promise.resolve(t)}))}(e)}),(function(e){return/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(e.message)&&console.warn("clientDB\u672a\u521d\u59cb\u5316\uff0c\u8bf7\u5728web\u63a7\u5236\u53f0\u4fdd\u5b58\u4e00\u6b21schema\u4ee5\u5f00\u542fclientDB"),l(new ve({code:e.code||"SYSTEM_ERROR",message:e.message,requestId:e.requestId}))}))}}]),n}(Pn),On="token\u65e0\u6548\uff0c\u8df3\u8f6c\u767b\u5f55\u9875\u9762",Ln="token\u8fc7\u671f\uff0c\u8df3\u8f6c\u767b\u5f55\u9875\u9762",Dn={TOKEN_INVALID_TOKEN_EXPIRED:Ln,TOKEN_INVALID_INVALID_CLIENTID:On,TOKEN_INVALID:On,TOKEN_INVALID_WRONG_TOKEN:On,TOKEN_INVALID_ANONYMOUS_USER:On},Bn={"uni-id-token-expired":Ln,"uni-id-check-token-failed":On,"uni-id-token-not-exist":On,"uni-id-check-device-feature-failed":On};function Un(e,t){var n="";return n=e?"".concat(e,"/").concat(t):t,n.replace(/^\//,"")}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],r=[];return e.forEach((function(e){!0===e.needLogin?n.push(Un(t,e.path)):!1===e.needLogin&&r.push(Un(t,e.path))})),{needLoginPage:n,notNeedLoginPage:r}}function Fn(e){return e.split("?")[0].replace(/^\//,"")}function jn(){return function(e){var t=e&&e.$page&&e.$page.fullPath||"";return t?("/"!==t.charAt(0)&&(t="/"+t),t):t}(function(){var e=getCurrentPages();return e[e.length-1]}())}function zn(){return Fn(jn())}function Hn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return!1;if(!(t&&t.list&&t.list.length))return!1;var n=t.list,r=Fn(e);return n.some((function(e){return e.pagePath===r}))}var Gn,Wn=!!y.default.uniIdRouter,Vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.default,t=e.pages,n=void 0===t?[]:t,r=e.subPackages,i=void 0===r?[]:r,a=e.uniIdRouter,o=void 0===a?{}:a,s=e.tabBar,u=void 0===s?{}:s,c=o.loginPage,h=o.needLogin,d=void 0===h?[]:h,f=o.resToLogin,p=void 0===f||f,v=Nn(n),m=v.needLoginPage,g=v.notNeedLoginPage,_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=[];return e.forEach((function(e){var r=e.root,i=e.pages,a=void 0===i?[]:i,o=Nn(a,r),s=o.needLoginPage,u=o.notNeedLoginPage;t.push.apply(t,(0,l.default)(s)),n.push.apply(n,(0,l.default)(u))})),{needLoginPage:t,notNeedLoginPage:n}}(i),b=_.needLoginPage,x=_.notNeedLoginPage;return{loginPage:c,routerNeedLogin:d,resToLogin:p,needLoginPage:[].concat((0,l.default)(m),(0,l.default)(b)),notNeedLoginPage:[].concat((0,l.default)(g),(0,l.default)(x)),loginPageInTabBar:Hn(c,u)}}(),qn=Vn.loginPage,Xn=Vn.routerNeedLogin,Yn=Vn.resToLogin,Kn=Vn.needLoginPage,Qn=Vn.notNeedLoginPage,Jn=Vn.loginPageInTabBar;if(Kn.indexOf(qn)>-1)throw new Error("Login page [".concat(qn,'] should not be "needLogin", please check your pages.json'));function Zn(e){var t=zn();if("/"===e.charAt(0))return e;var n=e.split("?"),r=(0,s.default)(n,2),i=r[0],a=r[1],o=i.replace(/^\//,"").split("/"),u=t.split("/");u.pop();for(var l=0;l<o.length;l++){var c=o[l];".."===c?u.pop():"."!==c&&u.push(c)}return""===u[0]&&u.shift(),"/"+u.join("/")+(a?"?"+a:"")}function $n(e){var t=Fn(Zn(e));return!(Qn.indexOf(t)>-1)&&(Kn.indexOf(t)>-1||Xn.some((function(t){return function(e,t){return new RegExp(t).test(e)}(e,t)})))}function er(e){var t=e.redirect,n=Fn(t),r=Fn(qn);return zn()!==r&&n!==r}function tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.api,n=e.redirect;if(n&&er({redirect:n})){var r=function(e,t){return"/"!==e.charAt(0)&&(e="/"+e),t?e.indexOf("?")>-1?e+"&uniIdRedirectUrl=".concat(encodeURIComponent(t)):e+"?uniIdRedirectUrl=".concat(encodeURIComponent(t)):e}(qn,n);Jn?"navigateTo"!==t&&"redirectTo"!==t||(t="switchTab"):"switchTab"===t&&(t="navigateTo");var i={navigateTo:uni.navigateTo,redirectTo:uni.redirectTo,switchTab:uni.switchTab,reLaunch:uni.reLaunch};setTimeout((function(){i[t]({url:r})}),0)}}function nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n={abortLoginPageJump:!1,autoToLoginPage:!1},r=function(){var e,t=_e(),n=t.token,r=t.tokenExpired;if(n){if(r<Date.now()){var i="uni-id-token-expired";e={errCode:i,errMsg:Bn[i]}}}else{var a="uni-id-check-token-failed";e={errCode:a,errMsg:Bn[a]}}return e}();if($n(t)&&r){if(r.uniIdRedirectUrl=t,se(ae.NEED_LOGIN).length>0)return setTimeout((function(){ce(ae.NEED_LOGIN,r)}),0),n.abortLoginPageJump=!0,n;n.autoToLoginPage=!0}return n}function rr(){!function(){var e=jn(),t=nr({url:e}),n=t.abortLoginPageJump,r=t.autoToLoginPage;n||r&&tr({api:"redirectTo",redirect:e})}();for(var e=["navigateTo","redirectTo","reLaunch","switchTab"],t=function(t){var n=e[t];uni.addInterceptor(n,{invoke:function(e){var t=nr({url:e.url}),r=t.abortLoginPageJump,i=t.autoToLoginPage;return r?e:i?(tr({api:n,redirect:Zn(e.url)}),!1):e}})},n=0;n<e.length;n++)t(n)}function ir(){this.onResponse((function(e){var t=e.type,n=e.content,r=!1;switch(t){case"cloudobject":r=function(e){if("object"!=(0,u.default)(e))return!1;var t=e||{},n=t.errCode;return n in Bn}(n);break;case"clientdb":r=function(e){if("object"!=(0,u.default)(e))return!1;var t=e||{},n=t.errCode;return n in Dn}(n)}r&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=se(ae.NEED_LOGIN);fe().then((function(){var n=jn();if(n&&er({redirect:n}))return t.length>0?ce(ae.NEED_LOGIN,Object.assign({uniIdRedirectUrl:n},e)):void(qn&&tr({api:"navigateTo",redirect:n}))}))}(n)}))}function ar(e){!function(e){e.onResponse=function(e){ue(ae.RESPONSE,e)},e.offResponse=function(e){le(ae.RESPONSE,e)}}(e),function(e){e.onNeedLogin=function(e){ue(ae.NEED_LOGIN,e)},e.offNeedLogin=function(e){le(ae.NEED_LOGIN,e)},Wn&&(Q(ln).needLoginInit||(Q(ln).needLoginInit=!0,fe().then((function(){rr.call(e)})),Yn&&ir.call(e)))}(e),function(e){e.onRefreshToken=function(e){ue(ae.REFRESH_TOKEN,e)},e.offRefreshToken=function(e){le(ae.REFRESH_TOKEN,e)}}(e)}var or="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",sr=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function ur(){var e,t,n=_e().token||"",r=n.split(".");if(!n||3!==r.length)return{uid:null,role:[],permission:[],tokenExpired:0};try{e=JSON.parse((t=r[1],decodeURIComponent(Gn(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(n){throw new Error("\u83b7\u53d6\u5f53\u524d\u7528\u6237\u4fe1\u606f\u51fa\u9519\uff0c\u8be6\u7ec6\u9519\u8bef\u4fe1\u606f\u4e3a\uff1a"+n.message)}return e.tokenExpired=1e3*e.exp,delete e.exp,delete e.iat,e}Gn="function"!=typeof atob?function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!sr.test(e))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var n,r,i="",a=0;a<e.length;)t=or.indexOf(e.charAt(a++))<<18|or.indexOf(e.charAt(a++))<<12|(n=or.indexOf(e.charAt(a++)))<<6|(r=or.indexOf(e.charAt(a++))),i+=64===n?String.fromCharCode(t>>16&255):64===r?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return i}:atob;var lr=A((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="chooseAndUploadFile:ok",i="chooseAndUploadFile:fail";function a(e,t){return e.tempFiles.forEach((function(e,n){e.name||(e.name=e.path.substring(e.path.lastIndexOf("/")+1)),t&&(e.fileType=t),e.cloudPath=Date.now()+"_"+n+e.name.substring(e.name.lastIndexOf("."))})),e.tempFilePaths||(e.tempFilePaths=e.tempFiles.map((function(e){return e.path}))),e}function o(e,t,r){var i=r.onChooseFile,a=r.onUploadProgress;return t.then((function(e){if(i){var t=i(e);if(void 0!==t)return Promise.resolve(t).then((function(t){return void 0===t?e:t}))}return e})).then((function(t){return!1===t?{errMsg:n,tempFilePaths:[],tempFiles:[]}:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=arguments.length>3?arguments[3]:void 0;(t=Object.assign({},t)).errMsg=n;var a=t.tempFiles,o=a.length,s=0;return new Promise((function(n){for(;s<r;)u();function u(){var r=s++;if(r>=o)!a.find((function(e){return!e.url&&!e.errMsg}))&&n(t);else{var l=a[r];e.uploadFile({provider:l.provider,filePath:l.path,cloudPath:l.cloudPath,fileType:l.fileType,cloudPathAsRealPath:l.cloudPathAsRealPath,onUploadProgress:function(e){e.index=r,e.tempFile=l,e.tempFilePath=l.path,i&&i(e)}}).then((function(e){l.url=e.fileID,r<o&&u()})).catch((function(e){l.errMsg=e.errMsg||e.message,r<o&&u()}))}}}))}(e,t,5,a)}))}t.initChooseAndUploadFile=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"all"};return"image"===t.type?o(e,function(e){var t=e.count,n=e.sizeType,r=e.sourceType,o=void 0===r?["album","camera"]:r,s=e.extension;return new Promise((function(e,r){uni.chooseImage({count:t,sizeType:n,sourceType:o,extension:s,success:function(t){e(a(t,"image"))},fail:function(e){r({errMsg:e.errMsg.replace("chooseImage:fail",i)})}})}))}(t),t):"video"===t.type?o(e,function(e){var t=e.camera,n=e.compressed,r=e.maxDuration,o=e.sourceType,s=void 0===o?["album","camera"]:o,u=e.extension;return new Promise((function(e,o){uni.chooseVideo({camera:t,compressed:n,maxDuration:r,sourceType:s,extension:u,success:function(t){var n=t.tempFilePath,r=t.duration,i=t.size,o=t.height,s=t.width;e(a({errMsg:"chooseVideo:ok",tempFilePaths:[n],tempFiles:[{name:t.tempFile&&t.tempFile.name||"",path:n,size:i,type:t.tempFile&&t.tempFile.type||"",width:s,height:o,duration:r,fileType:"video",cloudPath:""}]},"video"))},fail:function(e){o({errMsg:e.errMsg.replace("chooseVideo:fail",i)})}})}))}(t),t):o(e,function(e){var t=e.count,n=e.extension;return new Promise((function(e,o){var s=uni.chooseFile;if("undefined"!=typeof r&&"function"==typeof r.chooseMessageFile&&(s=r.chooseMessageFile),"function"!=typeof s)return o({errMsg:i+" \u8bf7\u6307\u5b9a type \u7c7b\u578b\uff0c\u8be5\u5e73\u53f0\u4ec5\u652f\u6301\u9009\u62e9 image \u6216 video\u3002"});s({type:"all",count:t,extension:n,success:function(t){e(a(t))},fail:function(e){o({errMsg:e.errMsg.replace("chooseFile:fail",i)})}})}))}(t),t)}}})),cr=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(lr),hr={auto:"auto",onready:"onready",manual:"manual"};function dr(e){return{props:{localdata:{type:Array,default:function(){return[]}},options:{type:[Object,Array],default:function(){return{}}},spaceInfo:{type:Object,default:function(){return{}}},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:function(){return{mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{},mixinDatacomError:null}},created:function(){var e=this;this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch((function(){var t=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach((function(n){t.push(e[n])})),t}),(function(t,n){if(e.loadtime!==hr.manual){for(var r=!1,i=[],a=2;a<t.length;a++)t[a]!==n[a]&&(i.push(t[a]),r=!0);t[0]!==n[0]&&(e.mixinDatacomPage.current=e.pageCurrent),e.mixinDatacomPage.size=e.pageSize,e.onMixinDatacomPropsChange(r,i)}}))},methods:{onMixinDatacomPropsChange:function(e,t){},mixinDatacomEasyGet:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getone,r=void 0!==n&&n,i=t.success,a=t.fail;this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomError=null,this.mixinDatacomGet().then((function(t){e.mixinDatacomLoading=!1;var n=t.result,a=n.data,o=n.count;e.getcount&&(e.mixinDatacomPage.count=o),e.mixinDatacomHasMore=a.length<e.pageSize;var s=r?a.length?a[0]:void 0:a;e.mixinDatacomResData=s,i&&i(s)})).catch((function(t){e.mixinDatacomLoading=!1,e.mixinDatacomErrorMessage=t,e.mixinDatacomError=t,a&&a(t)})))},mixinDatacomGet:function(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r=r||{},n="undefined"!=typeof __uniX&&__uniX?e.databaseForJQL(this.spaceInfo):e.database(this.spaceInfo);var i=r.action||this.action;i&&(n=n.action(i));var a=r.collection||this.collection;n=Array.isArray(a)?(t=n).collection.apply(t,(0,l.default)(a)):n.collection(a);var o=r.where||this.where;o&&Object.keys(o).length&&(n=n.where(o));var s=r.field||this.field;s&&(n=n.field(s));var u=r.foreignKey||this.foreignKey;u&&(n=n.foreignKey(u));var c=r.groupby||this.groupby;c&&(n=n.groupBy(c));var h=r.groupField||this.groupField;h&&(n=n.groupField(h)),!0===(void 0!==r.distinct?r.distinct:this.distinct)&&(n=n.distinct());var d=r.orderby||this.orderby;d&&(n=n.orderBy(d));var f=void 0!==r.pageCurrent?r.pageCurrent:this.mixinDatacomPage.current,p=void 0!==r.pageSize?r.pageSize:this.mixinDatacomPage.size,v=void 0!==r.getcount?r.getcount:this.getcount,m=void 0!==r.gettree?r.gettree:this.gettree,g=void 0!==r.gettreepath?r.gettreepath:this.gettreepath,y={getCount:v},_={limitLevel:void 0!==r.limitlevel?r.limitlevel:this.limitlevel,startWith:void 0!==r.startwith?r.startwith:this.startwith};return m&&(y.getTree=_),g&&(y.getTreePath=_),n=n.skip(p*(f-1)).limit(p).get(y),n}}}}function fr(e){return Q(cn.replace("{spaceId}",e.config.spaceId))}function pr(){return vr.apply(this,arguments)}function vr(){return vr=(0,c.default)(a.default.mark((function e(){var t,n,r,i,o,s,u,l=arguments;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:{},n=t.openid,r=t.callLoginByWeixin,i=void 0!==r&&r,o=fr(this),"mp-weixin"===q){e.next=4;break}throw new Error("[SecureNetwork] API `initSecureNetworkByWeixin` is not supported on platform `".concat(q,"`"));case 4:if(!n||!i){e.next=6;break}throw new Error("[SecureNetwork] openid and callLoginByWeixin cannot be passed at the same time");case 6:if(!n){e.next=8;break}return e.abrupt("return",(o.mpWeixinOpenid=n,{}));case 8:return e.next=10,new Promise((function(e,t){uni.login({success:function(t){e(t.code)},fail:function(e){t(new Error(e.errMsg))}})}));case 10:return s=e.sent,u=this.importObject("uni-id-co",{customUI:!0}),e.next=14,u.secureNetworkHandshakeByWeixin({code:s,callLoginByWeixin:i});case 14:return o.mpWeixinCode=s,e.abrupt("return",{code:s});case 16:case"end":return e.stop()}}),e,this)}))),vr.apply(this,arguments)}function mr(e){return gr.apply(this,arguments)}function gr(){return gr=(0,c.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=fr(this),e.abrupt("return",(n.initPromise||(n.initPromise=pr.call(this,t).then((function(e){return e})).catch((function(e){throw delete n.initPromise,e}))),n.initPromise));case 2:case"end":return e.stop()}}),e,this)}))),gr.apply(this,arguments)}function yr(e){!function(e){we=e}(e)}function _r(e){var t={getSystemInfo:uni.getSystemInfo,getPushClientId:uni.getPushClientId};return function(n){return new Promise((function(r,i){t[e](w(w({},n),{},{success:function(e){r(e)},fail:function(e){i(e)}}))}))}}var br=function(e){(0,d.default)(n,e);var t=S(n);function n(){var e;return(0,m.default)(this,n),e=t.call(this),e._uniPushMessageCallback=e._receivePushMessage.bind((0,o.default)(e)),e._currentMessageId=-1,e._payloadQueue=[],e}return(0,g.default)(n,[{key:"init",value:function(){var e=this;return Promise.all([_r("getSystemInfo")(),_r("getPushClientId")()]).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,s.default)(t,2),r=n[0];r=void 0===r?{}:r;var i=r.appId,a=n[1];a=void 0===a?{}:a;var o=a.cid;if(!i)throw new Error("Invalid appId, please check the manifest.json file");if(!o)throw new Error("Invalid push client id");e._appId=i,e._pushClientId=o,e._seqId=Date.now()+"-"+Math.floor(9e5*Math.random()+1e5),e.emit("open"),e._initMessageListener()}),(function(t){throw e.emit("error",t),e.close(),t}))}},{key:"open",value:function(){var e=(0,c.default)(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.init());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_isUniCloudSSE",value:function(e){if("receive"!==e.type)return!1;var t=e&&e.data&&e.data.payload;return!(!t||"UNI_CLOUD_SSE"!==t.channel||t.seqId!==this._seqId)}},{key:"_receivePushMessage",value:function(e){if(this._isUniCloudSSE(e)){var t=e&&e.data&&e.data.payload,n=t.action,r=t.messageId,i=t.message;this._payloadQueue.push({action:n,messageId:r,message:i}),this._consumMessage()}}},{key:"_consumMessage",value:function(){for(var e=this;;){var t=this._payloadQueue.find((function(t){return t.messageId===e._currentMessageId+1}));if(!t)break;this._currentMessageId++,this._parseMessagePayload(t)}}},{key:"_parseMessagePayload",value:function(e){var t=e.action,n=e.messageId,r=e.message;"end"===t?this._end({messageId:n,message:r}):"message"===t&&this._appendMessage({messageId:n,message:r})}},{key:"_appendMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.messageId,e.message);this.emit("message",t)}},{key:"_end",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.messageId,e.message);this.emit("end",t),this.close()}},{key:"_initMessageListener",value:function(){uni.onPushMessage(this._uniPushMessageCallback)}},{key:"_destroy",value:function(){uni.offPushMessage(this._uniPushMessageCallback)}},{key:"toJSON",value:function(){return{appId:this._appId,pushClientId:this._pushClientId,seqId:this._seqId}}},{key:"close",value:function(){this._destroy(),this.emit("close")}}]),n}(G);var xr={tcb:Nt,tencent:Nt,aliyun:Ee,private:Vt,dcloud:Vt,alipay:tn},wr=new(function(){function e(){(0,m.default)(this,e)}return(0,g.default)(e,[{key:"init",value:function(e){var t={},n=xr[e.provider];if(!n)throw new Error("\u672a\u63d0\u4f9b\u6b63\u786e\u7684provider\u53c2\u6570");return t=n.init(e),function(e){e._initPromiseHub||(e._initPromiseHub=new H({createPromise:function(){var t=Promise.resolve();t=new Promise((function(e){setTimeout((function(){e()}),1)}));var n=e.auth();return t.then((function(){return n.getLoginState()})).then((function(e){return e?Promise.resolve():n.signInAnonymously()}))}}))}(t),_n(t),function(e){var t=e.uploadFile;e.uploadFile=function(e){return t.call(this,e)}}(t),function(e){e.database=function(t){if(t&&Object.keys(t).length>0)return e.init(t).database();if(this._database)return this._database;var n=Rn(In,{uniClient:e});return this._database=n,n},e.databaseForJQL=function(t){if(t&&Object.keys(t).length>0)return e.init(t).databaseForJQL();if(this._databaseForJQL)return this._databaseForJQL;var n=Rn(In,{uniClient:e,isJQL:!0});return this._databaseForJQL=n,n}}(t),function(e){e.getCurrentUserInfo=ur,e.chooseAndUploadFile=cr.initChooseAndUploadFile(e),Object.assign(e,{get mixinDatacom(){return dr(e)}}),e.SSEChannel=br,e.initSecureNetworkByWeixin=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.openid,r=t.callLoginByWeixin,i=void 0!==r&&r;return mr.call(e,{openid:n,callLoginByWeixin:i})}}(e),e.setCustomClientInfo=yr,e.importObject=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.customUI=t.customUI||e.customUI,e.parseSystemError=t.parseSystemError||e.parseSystemError,Object.assign(e.loadingOptions,t.loadingOptions),Object.assign(e.errorOptions,t.errorOptions),"object"==(0,u.default)(t.secretMethods)&&(e.secretMethods=t.secretMethods),e}({customUI:!1,loadingOptions:{title:"\u52a0\u8f7d\u4e2d...",mask:!0},errorOptions:{type:"modal",retry:!1}},n);var r=n,i=r.customUI,o=r.loadingOptions,s=r.errorOptions,l=r.parseSystemError,h=!i;return new Proxy({},{get:function(r,i){switch(i){case"toString":return"[object UniCloudObject]";case"toJSON":return{}}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fn,n=e.interceptorName,r=e.getCallbackArgs;return(0,c.default)(a.default.mark((function e(){var i,o,s,u,l,c,h=arguments;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=h.length,o=new Array(i),s=0;s<i;s++)o[s]=h[s];return u=r?r({params:o}):{},e.prev=2,e.next=5,te(ne(n,"invoke"),w({},u));case 5:return e.next=7,t.apply(void 0,o);case 7:return l=e.sent,e.next=10,te(ne(n,"success"),w(w({},u),{},{result:l}));case 10:return e.abrupt("return",l);case 13:return e.prev=13,e.t0=e["catch"](2),c=e.t0,e.next=18,te(ne(n,"fail"),w(w({},u),{},{error:c}));case 18:throw c;case 19:return e.prev=19,e.next=22,te(ne(n,"complete"),w(w({},u),{},c?{error:c}:{result:l}));case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[2,13,19,23]])})))}({fn:function(){var r=(0,c.default)(a.default.mark((function r(){var f,p,v,m,g,y,_,b,x,S,A,M,T,E,k,C=arguments;return a.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:for(h&&uni.showLoading({title:o.title,mask:o.mask}),p=C.length,v=new Array(p),m=0;m<p;m++)v[m]=C[m];return g={name:t,type:I.OBJECT,data:{method:i,params:v}},"object"==(0,u.default)(n.secretMethods)&&function(e,t){var n=t.data.method,r=e.secretMethods||{},i=r[n]||r["*"];i&&(t.secretType=i)}(n,g),y=!1,r.prev=5,r.next=8,e.callFunction(g);case 8:f=r.sent,r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](5),y=!0,f={result:new ve(r.t0)};case 14:if(_=f.result||{},b=_.errSubject,x=_.errCode,S=_.errMsg,A=_.newToken,h&&uni.hideLoading(),A&&A.token&&A.tokenExpired&&(be(A),ce(ae.REFRESH_TOKEN,w({},A))),!x){r.next=39;break}if(M=S,!y||!l){r.next=24;break}return r.next=20,l({objectName:t,methodName:i,params:v,errSubject:b,errCode:x,errMsg:S});case 20:if(r.t1=r.sent.errMsg,r.t1){r.next=23;break}r.t1=S;case 23:M=r.t1;case 24:if(!h){r.next=37;break}if("toast"!==s.type){r.next=29;break}uni.showToast({title:M,icon:"none"}),r.next=37;break;case 29:if("modal"===s.type){r.next=31;break}throw new Error("Invalid errorOptions.type: ".concat(s.type));case 31:return r.next=33,(0,c.default)(a.default.mark((function e(){var t,n,r,i,o,s,u=arguments;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=t.title,r=t.content,i=t.showCancel,o=t.cancelText,s=t.confirmText,e.abrupt("return",new Promise((function(e,t){uni.showModal({title:n,content:r,showCancel:i,cancelText:o,confirmText:s,success:function(t){e(t)},fail:function(){e({confirm:!1,cancel:!0})}})})));case 2:case"end":return e.stop()}}),e)})))({title:"\u63d0\u793a",content:M,showCancel:s.retry,cancelText:"\u53d6\u6d88",confirmText:s.retry?"\u91cd\u8bd5":"\u786e\u5b9a"});case 33:if(T=r.sent,E=T.confirm,!s.retry||!E){r.next=37;break}return r.abrupt("return",d.apply(void 0,v));case 37:throw k=new ve({subject:b,code:x,message:S,requestId:f.requestId}),k.detail=f.result,ce(ae.RESPONSE,{type:oe.CLOUD_OBJECT,content:k}),k;case 39:return r.abrupt("return",(ce(ae.RESPONSE,{type:oe.CLOUD_OBJECT,content:f.result}),f.result));case 40:case"end":return r.stop()}}),r,null,[[5,11]])})));function d(){return r.apply(this,arguments)}return d}(),interceptorName:"callObject",getCallbackArgs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.params;return{objectName:t,methodName:i,params:n}}})}})}}(e)}(t),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach((function(e){if(t[e]){var n=t[e];t[e]=function(){return n.apply(t,Array.from(arguments))},t[e]=function(e,t){return function(n){var r=this,i=!1;if("callFunction"===t){var a=n&&n.type||I.DEFAULT;i=a!==I.DEFAULT}var o="callFunction"===t&&!i,s=this._initPromiseHub.exec();n=n||{};var u=pe(n),l=u.success,c=u.fail,h=u.complete,d=s.then((function(){return i?Promise.resolve():te(ne(t,"invoke"),n)})).then((function(){return e.call(r,n)})).then((function(e){return i?Promise.resolve(e):te(ne(t,"success"),e).then((function(){return te(ne(t,"complete"),e)})).then((function(){return o&&ce(ae.RESPONSE,{type:oe.CLOUD_FUNCTION,content:e}),Promise.resolve(e)}))}),(function(e){return i?Promise.reject(e):te(ne(t,"fail"),e).then((function(){return te(ne(t,"complete"),e)})).then((function(){return ce(ae.RESPONSE,{type:oe.CLOUD_FUNCTION,content:e}),Promise.reject(e)}))}));if(!(l||c||h))return d;d.then((function(e){l&&l(e),h&&h(e),o&&ce(ae.RESPONSE,{type:oe.CLOUD_FUNCTION,content:e})}),(function(e){c&&c(e),h&&h(e),o&&ce(ae.RESPONSE,{type:oe.CLOUD_FUNCTION,content:e})}))}}(t[e],e).bind(t)}})),t.init=this.init,t}}]),e}());t.uniCloud=wr,function(){var e=X,n={};if(e&&1===e.length)n=e[0],t.uniCloud=wr=wr.init(n),wr._isDefault=!0;else{var r;r=e&&e.length>0?"\u5e94\u7528\u6709\u591a\u4e2a\u670d\u52a1\u7a7a\u95f4\uff0c\u8bf7\u901a\u8fc7uniCloud.init\u65b9\u6cd5\u6307\u5b9a\u8981\u4f7f\u7528\u7684\u670d\u52a1\u7a7a\u95f4":"\u5e94\u7528\u672a\u5173\u8054\u670d\u52a1\u7a7a\u95f4\uff0c\u8bf7\u5728uniCloud\u76ee\u5f55\u53f3\u952e\u5173\u8054\u670d\u52a1\u7a7a\u95f4",["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo","importObject"].forEach((function(e){wr[e]=function(){return console.error(r),Promise.reject(new ve({code:"SYS_ERR",message:r}))}}))}if(Object.assign(wr,{get mixinDatacom(){return dr(wr)}}),ar(wr),wr.addInterceptor=$,wr.removeInterceptor=ee,wr.interceptObject=re,"app"===q&&(uni.__uniCloud=wr),"app"===q||"web"===q){var i=function(){return Y||(Y=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;function e(){return this}return void 0!==e()?e():new Function("return this")()}(),Y)}();i.uniCloud=wr,i.UniCloudError=ve}}();var Sr=wr;t.default=Sr}).call(this,n("0ee4"),n("ed83")["default"])},8713:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={steps:{direction:"row",current:0,activeColor:"#3c9cff",inactiveColor:"#969799",activeIcon:"",inactiveIcon:"",dot:!1}}},"876d":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("127e")),a=r(n("ee10")),o=r(n("67ad")),s=r(n("0bdb")),u=function(){function e(){(0,o.default)(this,e),this.config={type:"navigateTo",url:"",delta:1,params:{},animationType:"pop-in",animationDuration:300,intercept:!1},this.route=this.route.bind(this)}return(0,s.default)(e,[{key:"addRootPath",value:function(e){return"/"===e[0]?e:"/".concat(e)}},{key:"mixinParam",value:function(e,t){e=e&&this.addRootPath(e);var n="";return/.*\/.*\?.*=.*/.test(e)?(n=uni.$u.queryParams(t,!1),e+"&".concat(n)):(n=uni.$u.queryParams(t),e+n)}},{key:"route",value:function(){var e=(0,a.default)(i.default.mark((function e(){var t,n,r,a,o=arguments;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},n=o.length>1&&void 0!==o[1]?o[1]:{},r={},"string"===typeof t?(r.url=this.mixinParam(t,n),r.type="navigateTo"):(r=uni.$u.deepMerge(this.config,t),r.url=this.mixinParam(t.url,t.params)),r.url!==uni.$u.page()){e.next=6;break}return e.abrupt("return");case 6:if(n.intercept&&(this.config.intercept=n.intercept),r.params=n,r=uni.$u.deepMerge(this.config,r),"function"!==typeof uni.$u.routeIntercept){e.next=16;break}return e.next=12,new Promise((function(e,t){uni.$u.routeIntercept(r,e)}));case 12:a=e.sent,a&&this.openPage(r),e.next=17;break;case 16:this.openPage(r);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openPage",value:function(e){var t=e.url,n=(e.type,e.delta),r=e.animationType,i=e.animationDuration;"navigateTo"!=e.type&&"to"!=e.type||uni.navigateTo({url:t,animationType:r,animationDuration:i}),"redirectTo"!=e.type&&"redirect"!=e.type||uni.redirectTo({url:t}),"switchTab"!=e.type&&"tab"!=e.type||uni.switchTab({url:t}),"reLaunch"!=e.type&&"launch"!=e.type||uni.reLaunch({url:t}),"navigateBack"!=e.type&&"back"!=e.type||uni.navigateBack({delta:n})}}]),e}(),l=(new u).route;t.default=l},8793:function(e,t,n){var r=n("fb6b");e.exports=function(e,t){return e.get(r(e,t))},e.exports.__esModule=!0,e.exports["default"]=e.exports},"892f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={statusBar:{bgColor:"transparent"}}},"894d":function(e,t,n){"use strict";n.r(t);var r=n("5714"),i=n("e38c");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},"899c":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","container"),style:e._$s(0,"s",{height:e.containerHeight+"px"}),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","content"),attrs:{_i:1}},[n("form",{attrs:{_i:2},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("view",{staticClass:e._$s(3,"sc","form"),attrs:{_i:3}},[n("view",{staticClass:e._$s(4,"sc","itemWrap"),attrs:{_i:4}},[n("Input",{attrs:{title:"\u7528\u6237\u540d",txt:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",type:"text",_i:5},model:{value:e._$s(5,"v-model",e.username),callback:function(t){e.username=t},expression:"username"}}),n("Input",{attrs:{title:"\u5bc6\u7801",txt:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password",_i:6},model:{value:e._$s(6,"v-model",e.password),callback:function(t){e.password=t},expression:"password"}}),n("Input",{attrs:{title:"\u786e\u8ba4\u5bc6\u7801",txt:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801",type:"password",_i:7},model:{value:e._$s(7,"v-model",e.confirmPassword),callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),n("Input",{attrs:{title:"\u624b\u673a\u53f7",txt:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",type:"number",maxlength:"11",_i:8},model:{value:e._$s(8,"v-model",e.phone),callback:function(t){e.phone=t},expression:"phone"}}),n("Input",{attrs:{title:"\u90ae\u7bb1",txt:"\u8bf7\u8f93\u5165\u90ae\u7bb1",type:"text",maxlength:"17",_i:9},model:{value:e._$s(9,"v-model",e.email),callback:function(t){e.email=t},expression:"email"}}),n("view",{staticClass:e._$s(10,"sc","focus-input"),attrs:{_i:10}},[n("view",{staticClass:e._$s(11,"sc","input-wrapper"),class:e._$s(11,"c",{active:e.isFocus}),attrs:{_i:11}},[n("span"),n("view",{staticClass:e._$s(13,"sc","input-box1"),attrs:{_i:13}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:e._$s(14,"sc","inputcode"),attrs:{_i:14},domProps:{value:e._$s(14,"v-model",e.code)},on:{focus:function(t){e.isFocus=!0},blur:function(t){e.isFocus=!1},input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._$s(15,"i",e.showText)?n("view",{staticClass:e._$s(15,"sc","t-c"),attrs:{_i:15},on:{click:function(t){return e.sendCode()}}}):n("view",{staticClass:e._$s(16,"sc","t-c"),attrs:{_i:16}},[e._v(e._$s(16,"t0-0",e._s(e.second)))])])])])],1)]),n("view",{staticClass:e._$s(17,"sc","hint"),attrs:{_i:17}}),n("view",{staticClass:e._$s(18,"sc","btnWrap"),attrs:{_i:18}},[n("button",{style:e._$s(19,"s",{background:e.isButtonEnabled?"#5677FC":"#E1E1E1",color:e.isButtonEnabled?"#FFFFFF":"#BFBFBF"}),attrs:{disabled:e._$s(19,"a-disabled",!e.isButtonEnabled),_i:19},on:{click:e.handleRegister}})])])])])},i=[]},"8adc":function(e,t,n){"use strict";n.r(t);var r=n("93aa"),i=n("cf33");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},"8add":function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.OrbitControls=void 0;var i=r(n("67ad")),a=r(n("0bdb")),o=r(n("3352")),s=r(n("8ffa")),u=r(n("4ffb")),l=r(n("b4d2")),c=n("4e97");function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var d={type:"change"},f={type:"start"},p={type:"end"},v=new c.Ray,m=new c.Plane,g=Math.cos(70*c.MathUtils.DEG2RAD),y=new c.Vector3,_=2*Math.PI,b={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},x=1e-6,w=function(t){(0,s.default)(r,t);var n=h(r);function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,i.default)(this,r),t=n.call(this,e,a),t.state=b.NONE,t.enabled=!0,t.target=new c.Vector3,t.cursor=new c.Vector3,t.minDistance=0,t.maxDistance=1/0,t.minZoom=0,t.maxZoom=1/0,t.minTargetRadius=0,t.maxTargetRadius=1/0,t.minPolarAngle=0,t.maxPolarAngle=Math.PI,t.minAzimuthAngle=-1/0,t.maxAzimuthAngle=1/0,t.enableDamping=!1,t.dampingFactor=.05,t.enableZoom=!0,t.zoomSpeed=1,t.enableRotate=!0,t.rotateSpeed=1,t.enablePan=!0,t.panSpeed=1,t.screenSpacePanning=!0,t.keyPanSpeed=7,t.zoomToCursor=!1,t.autoRotate=!1,t.autoRotateSpeed=2,t.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},t.mouseButtons={LEFT:c.MOUSE.ROTATE,MIDDLE:c.MOUSE.DOLLY,RIGHT:c.MOUSE.PAN},t.touches={ONE:c.TOUCH.ROTATE,TWO:c.TOUCH.DOLLY_PAN},t.target0=t.target.clone(),t.position0=t.object.position.clone(),t.zoom0=t.object.zoom,t._domElementKeyEvents=null,t._lastPosition=new c.Vector3,t._lastQuaternion=new c.Quaternion,t._lastTargetPosition=new c.Vector3,t._quat=(new c.Quaternion).setFromUnitVectors(e.up,new c.Vector3(0,1,0)),t._quatInverse=t._quat.clone().invert(),t._spherical=new c.Spherical,t._sphericalDelta=new c.Spherical,t._scale=1,t._panOffset=new c.Vector3,t._rotateStart=new c.Vector2,t._rotateEnd=new c.Vector2,t._rotateDelta=new c.Vector2,t._panStart=new c.Vector2,t._panEnd=new c.Vector2,t._panDelta=new c.Vector2,t._dollyStart=new c.Vector2,t._dollyEnd=new c.Vector2,t._dollyDelta=new c.Vector2,t._dollyDirection=new c.Vector3,t._mouse=new c.Vector2,t._performCursorZoom=!1,t._pointers=[],t._pointerPositions={},t._controlActive=!1,t._onPointerMove=A.bind((0,o.default)(t)),t._onPointerDown=S.bind((0,o.default)(t)),t._onPointerUp=M.bind((0,o.default)(t)),t._onContextMenu=I.bind((0,o.default)(t)),t._onMouseWheel=k.bind((0,o.default)(t)),t._onKeyDown=C.bind((0,o.default)(t)),t._onTouchStart=P.bind((0,o.default)(t)),t._onTouchMove=R.bind((0,o.default)(t)),t._onMouseDown=T.bind((0,o.default)(t)),t._onMouseMove=E.bind((0,o.default)(t)),t._interceptControlDown=O.bind((0,o.default)(t)),t._interceptControlUp=L.bind((0,o.default)(t)),null!==t.domElement&&t.connect(),t.update(),t}return(0,a.default)(r,[{key:"connect",value:function(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1});var e=this.domElement.getRootNode();e.addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}},{key:"disconnect",value:function(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents();var e=this.domElement.getRootNode();e.removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}},{key:"dispose",value:function(){this.disconnect()}},{key:"getPolarAngle",value:function(){return this._spherical.phi}},{key:"getAzimuthalAngle",value:function(){return this._spherical.theta}},{key:"getDistance",value:function(){return this.object.position.distanceTo(this.target)}},{key:"listenToKeyEvents",value:function(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}},{key:"stopListenToKeyEvents",value:function(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}},{key:"saveState",value:function(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}},{key:"reset",value:function(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(d),this.update(),this.state=b.NONE}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.object.position;y.copy(n).sub(this.target),y.applyQuaternion(this._quat),this._spherical.setFromVector3(y),this.autoRotate&&this.state===b.NONE&&this._rotateLeft(this._getAutoRotationAngle(t)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);var r=this.minAzimuthAngle,i=this.maxAzimuthAngle;isFinite(r)&&isFinite(i)&&(r<-Math.PI?r+=_:r>Math.PI&&(r-=_),i<-Math.PI?i+=_:i>Math.PI&&(i-=_),this._spherical.theta=r<=i?Math.max(r,Math.min(i,this._spherical.theta)):this._spherical.theta>(r+i)/2?Math.max(r,this._spherical.theta):Math.min(i,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);var a=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{var o=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),a=o!=this._spherical.radius}if(y.setFromSpherical(this._spherical),y.applyQuaternion(this._quatInverse),n.copy(this.target).add(y),this.object.lookAt(this.target),!0===this.enableDamping?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){var s=null;if(this.object.isPerspectiveCamera){var u=y.length();s=this._clampDistance(u*this._scale);var l=u-s;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),a=!!l}else if(this.object.isOrthographicCamera){var h=new c.Vector3(this._mouse.x,this._mouse.y,0);h.unproject(this.object);var f=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),a=f!==this.object.zoom;var p=new c.Vector3(this._mouse.x,this._mouse.y,0);p.unproject(this.object),this.object.position.sub(p).add(h),this.object.updateMatrixWorld(),s=y.length()}else e("warn","WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."," at node_modules/three/examples/jsm/controls/OrbitControls.js:448"),this.zoomToCursor=!1;null!==s&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(s).add(this.object.position):(v.origin.copy(this.object.position),v.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(v.direction))<g?this.object.lookAt(this.target):(m.setFromNormalAndCoplanarPoint(this.object.up,this.target),v.intersectPlane(m,this.target))))}else if(this.object.isOrthographicCamera){var w=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),w!==this.object.zoom&&(this.object.updateProjectionMatrix(),a=!0)}return this._scale=1,this._performCursorZoom=!1,!!(a||this._lastPosition.distanceToSquared(this.object.position)>x||8*(1-this._lastQuaternion.dot(this.object.quaternion))>x||this._lastTargetPosition.distanceToSquared(this.target)>x)&&(this.dispatchEvent(d),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}},{key:"_getAutoRotationAngle",value:function(e){return null!==e?_/60*this.autoRotateSpeed*e:_/60/60*this.autoRotateSpeed}},{key:"_getZoomScale",value:function(e){var t=Math.abs(.01*e);return Math.pow(.95,this.zoomSpeed*t)}},{key:"_rotateLeft",value:function(e){this._sphericalDelta.theta-=e}},{key:"_rotateUp",value:function(e){this._sphericalDelta.phi-=e}},{key:"_panLeft",value:function(e,t){y.setFromMatrixColumn(t,0),y.multiplyScalar(-e),this._panOffset.add(y)}},{key:"_panUp",value:function(e,t){!0===this.screenSpacePanning?y.setFromMatrixColumn(t,1):(y.setFromMatrixColumn(t,0),y.crossVectors(this.object.up,y)),y.multiplyScalar(e),this._panOffset.add(y)}},{key:"_pan",value:function(t,n){var r=this.domElement;if(this.object.isPerspectiveCamera){var i=this.object.position;y.copy(i).sub(this.target);var a=y.length();a*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*t*a/r.clientHeight,this.object.matrix),this._panUp(2*n*a/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(t*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(e("warn","WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."," at node_modules/three/examples/jsm/controls/OrbitControls.js:616"),this.enablePan=!1)}},{key:"_dollyOut",value:function(t){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=t:(e("warn","WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."," at node_modules/three/examples/jsm/controls/OrbitControls.js:631"),this.enableZoom=!1)}},{key:"_dollyIn",value:function(t){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=t:(e("warn","WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."," at node_modules/three/examples/jsm/controls/OrbitControls.js:646"),this.enableZoom=!1)}},{key:"_updateZoomParameters",value:function(e,t){if(this.zoomToCursor){this._performCursorZoom=!0;var n=this.domElement.getBoundingClientRect(),r=e-n.left,i=t-n.top,a=n.width,o=n.height;this._mouse.x=r/a*2-1,this._mouse.y=-i/o*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}}},{key:"_clampDistance",value:function(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}},{key:"_handleMouseDownRotate",value:function(e){this._rotateStart.set(e.clientX,e.clientY)}},{key:"_handleMouseDownDolly",value:function(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}},{key:"_handleMouseDownPan",value:function(e){this._panStart.set(e.clientX,e.clientY)}},{key:"_handleMouseMoveRotate",value:function(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);var t=this.domElement;this._rotateLeft(_*this._rotateDelta.x/t.clientHeight),this._rotateUp(_*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}},{key:"_handleMouseMoveDolly",value:function(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}},{key:"_handleMouseMovePan",value:function(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}},{key:"_handleMouseWheel",value:function(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}},{key:"_handleKeyDown",value:function(e){var t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateUp(_*this.rotateSpeed/this.domElement.clientHeight):this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateUp(-_*this.rotateSpeed/this.domElement.clientHeight):this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateLeft(_*this.rotateSpeed/this.domElement.clientHeight):this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateLeft(-_*this.rotateSpeed/this.domElement.clientHeight):this._pan(-this.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),this.update())}},{key:"_handleTouchStartRotate",value:function(e){if(1===this._pointers.length)this._rotateStart.set(e.pageX,e.pageY);else{var t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._rotateStart.set(n,r)}}},{key:"_handleTouchStartPan",value:function(e){if(1===this._pointers.length)this._panStart.set(e.pageX,e.pageY);else{var t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._panStart.set(n,r)}}},{key:"_handleTouchStartDolly",value:function(e){var t=this._getSecondPointerPosition(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);this._dollyStart.set(0,i)}},{key:"_handleTouchStartDollyPan",value:function(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}},{key:"_handleTouchStartDollyRotate",value:function(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}},{key:"_handleTouchMoveRotate",value:function(e){if(1==this._pointers.length)this._rotateEnd.set(e.pageX,e.pageY);else{var t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._rotateEnd.set(n,r)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);var i=this.domElement;this._rotateLeft(_*this._rotateDelta.x/i.clientHeight),this._rotateUp(_*this._rotateDelta.y/i.clientHeight),this._rotateStart.copy(this._rotateEnd)}},{key:"_handleTouchMovePan",value:function(e){if(1===this._pointers.length)this._panEnd.set(e.pageX,e.pageY);else{var t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._panEnd.set(n,r)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}},{key:"_handleTouchMoveDolly",value:function(e){var t=this._getSecondPointerPosition(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);this._dollyEnd.set(0,i),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);var a=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);this._updateZoomParameters(a,o)}},{key:"_handleTouchMoveDollyPan",value:function(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}},{key:"_handleTouchMoveDollyRotate",value:function(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}},{key:"_addPointer",value:function(e){this._pointers.push(e.pointerId)}},{key:"_removePointer",value:function(e){delete this._pointerPositions[e.pointerId];for(var t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return void this._pointers.splice(t,1)}},{key:"_isTrackingPointer",value:function(e){for(var t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}},{key:"_trackPointer",value:function(e){var t=this._pointerPositions[e.pointerId];void 0===t&&(t=new c.Vector2,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}},{key:"_getSecondPointerPosition",value:function(e){var t=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[t]}},{key:"_customWheelEvent",value:function(e){var t=e.deltaMode,n={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:n.deltaY*=16;break;case 2:n.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(n.deltaY*=10),n}}]),r}(c.Controls);function S(e){!1!==this.enabled&&(0===this._pointers.length&&(this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._isTrackingPointer(e)||(this._addPointer(e),"touch"===e.pointerType?this._onTouchStart(e):this._onMouseDown(e)))}function A(e){!1!==this.enabled&&("touch"===e.pointerType?this._onTouchMove(e):this._onMouseMove(e))}function M(e){switch(this._removePointer(e),this._pointers.length){case 0:this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(p),this.state=b.NONE;break;case 1:var t=this._pointers[0],n=this._pointerPositions[t];this._onTouchStart({pointerId:t,pageX:n.x,pageY:n.y});break}}function T(e){var t;switch(e.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case c.MOUSE.DOLLY:if(!1===this.enableZoom)return;this._handleMouseDownDolly(e),this.state=b.DOLLY;break;case c.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(e),this.state=b.PAN}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(e),this.state=b.ROTATE}break;case c.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(e),this.state=b.ROTATE}else{if(!1===this.enablePan)return;this._handleMouseDownPan(e),this.state=b.PAN}break;default:this.state=b.NONE}this.state!==b.NONE&&this.dispatchEvent(f)}function E(e){switch(this.state){case b.ROTATE:if(!1===this.enableRotate)return;this._handleMouseMoveRotate(e);break;case b.DOLLY:if(!1===this.enableZoom)return;this._handleMouseMoveDolly(e);break;case b.PAN:if(!1===this.enablePan)return;this._handleMouseMovePan(e);break}}function k(e){!1!==this.enabled&&!1!==this.enableZoom&&this.state===b.NONE&&(e.preventDefault(),this.dispatchEvent(f),this._handleMouseWheel(this._customWheelEvent(e)),this.dispatchEvent(p))}function C(e){!1!==this.enabled&&!1!==this.enablePan&&this._handleKeyDown(e)}function P(e){switch(this._trackPointer(e),this._pointers.length){case 1:switch(this.touches.ONE){case c.TOUCH.ROTATE:if(!1===this.enableRotate)return;this._handleTouchStartRotate(e),this.state=b.TOUCH_ROTATE;break;case c.TOUCH.PAN:if(!1===this.enablePan)return;this._handleTouchStartPan(e),this.state=b.TOUCH_PAN;break;default:this.state=b.NONE}break;case 2:switch(this.touches.TWO){case c.TOUCH.DOLLY_PAN:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(e),this.state=b.TOUCH_DOLLY_PAN;break;case c.TOUCH.DOLLY_ROTATE:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(e),this.state=b.TOUCH_DOLLY_ROTATE;break;default:this.state=b.NONE}break;default:this.state=b.NONE}this.state!==b.NONE&&this.dispatchEvent(f)}function R(e){switch(this._trackPointer(e),this.state){case b.TOUCH_ROTATE:if(!1===this.enableRotate)return;this._handleTouchMoveRotate(e),this.update();break;case b.TOUCH_PAN:if(!1===this.enablePan)return;this._handleTouchMovePan(e),this.update();break;case b.TOUCH_DOLLY_PAN:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchMoveDollyPan(e),this.update();break;case b.TOUCH_DOLLY_ROTATE:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchMoveDollyRotate(e),this.update();break;default:this.state=b.NONE}}function I(e){!1!==this.enabled&&e.preventDefault()}function O(e){if("Control"===e.key){this._controlActive=!0;var t=this.domElement.getRootNode();t.addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0})}}function L(e){if("Control"===e.key){this._controlActive=!1;var t=this.domElement.getRootNode();t.removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0})}}t.OrbitControls=w}).call(this,n("f3b9")["default"])},"8b9a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={subsection:{list:[],current:0,activeColor:"#3c9cff",inactiveColor:"#303133",mode:"button",fontSize:12,bold:!0,bgColor:"#eeeeef",keyName:"name"}}},"8c61":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("3e40")),a=r(n("b370")),o=r(n("1988")),s=r(n("4948")),u=r(n("3c2d")),l={components:{Loading1:i.default,Loading2:a.default,Loading3:o.default,Loading4:s.default,Loading5:u.default},name:"qiun-loading",props:{loadingType:{type:Number,default:2}},data:function(){return{}}};t.default=l},"8c6b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{containerHeight:0}},onReady:function(){var e=uni.getSystemInfoSync();this.containerHeight=e.windowHeight},methods:{}};t.default=r},"8dbf":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("3b2d"));function a(e){return/^[\+-]?(\d+\.?\d*|\.\d+|\d\.\d+e\+\d+)$/.test(e)}function o(e){switch((0,i.default)(e)){case"undefined":return!0;case"string":if(0==e.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!e)return!0;break;case"number":if(0===e||isNaN(e))return!0;break;case"object":if(null===e||0===e.length)return!0;for(var t in e)return!1;return!0}return!1}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function u(e){return"function"===typeof e}var l={email:function(e){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(e)},mobile:function(e){return/^1([3589]\d|4[5-9]|6[1-2,4-7]|7[0-8])\d{8}$/.test(e)},url:function(e){return/^((https|http|ftp|rtsp|mms):\/\/)(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-zA-Z_!~*'()-]+.)*([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z].[a-zA-Z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+\/?)$/.test(e)},date:function(e){return!!e&&(a(e)&&(e=+e),!/Invalid|NaN/.test(new Date(e).toString()))},dateISO:function(e){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:a,digits:function(e){return/^\d+$/.test(e)},idCard:function(e){return/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(e)},carNo:function(e){return 7===e.length?/^[\u4eac\u6d25\u6caa\u6e1d\u5180\u8c6b\u4e91\u8fbd\u9ed1\u6e58\u7696\u9c81\u65b0\u82cf\u6d59\u8d63\u9102\u6842\u7518\u664b\u8499\u9655\u5409\u95fd\u8d35\u7ca4\u9752\u85cf\u5ddd\u5b81\u743c\u4f7f\u9886A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9\u6302\u5b66\u8b66\u6e2f\u6fb3]{1}$/.test(e):8===e.length&&/^[\u4eac\u6d25\u6caa\u6e1d\u5180\u8c6b\u4e91\u8fbd\u9ed1\u6e58\u7696\u9c81\u65b0\u82cf\u6d59\u8d63\u9102\u6842\u7518\u664b\u8499\u9655\u5409\u95fd\u8d35\u7ca4\u9752\u85cf\u5ddd\u5b81\u743c\u4f7f\u9886A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/.test(e)},amount:function(e){return/^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(e)},chinese:function(e){return/^[\u4e00-\u9fa5]+$/gi.test(e)},letter:function(e){return/^[a-zA-Z]*$/.test(e)},enOrNum:function(e){return/^[0-9a-zA-Z]*$/g.test(e)},contains:function(e,t){return e.indexOf(t)>=0},range:function(e,t){return e>=t[0]&&e<=t[1]},rangeLength:function(e,t){return e.length>=t[0]&&e.length<=t[1]},empty:o,isEmpty:o,jsonString:function(e){if("string"===typeof e)try{var t=JSON.parse(e);return!("object"!==(0,i.default)(t)||!t)}catch(n){return!1}return!1},landline:function(e){return/^\d{3,4}-\d{7,8}(-\d{3,4})?$/.test(e)},object:s,array:function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},code:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return new RegExp("^\\d{".concat(t,"}$")).test(e)},func:u,promise:function(e){return s(e)&&u(e.then)&&u(e.catch)},video:function(e){return/\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv|m3u8)/i.test(e)},image:function(e){var t=e.split("?")[0];return/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i.test(t)},regExp:function(e){return e&&"[object RegExp]"===Object.prototype.toString.call(e)},string:function(e){return"string"===typeof e}};t.default=l},"8fcd":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","chartsview"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","charts-error"),attrs:{_i:1}}),n("view",{staticClass:e._$s(2,"sc","charts-font"),attrs:{_i:2}},[e._v(e._$s(2,"t0-0",e._s(null==e.errorMessage?"\u8bf7\u70b9\u51fb\u91cd\u8bd5":e.errorMessage)))])])},i=[]},"8ffa":function(e,t,n){var r=n("7647");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},9008:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},9048:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[e._$s(1,"i",1==e.loadingType)?n("Loading1",{attrs:{_i:1}}):e._e(),e._$s(2,"i",2==e.loadingType)?n("Loading2",{attrs:{_i:2}}):e._e(),e._$s(3,"i",3==e.loadingType)?n("Loading3",{attrs:{_i:3}}):e._e(),e._$s(4,"i",4==e.loadingType)?n("Loading4",{attrs:{_i:4}}):e._e(),e._$s(5,"i",5==e.loadingType)?n("Loading5",{attrs:{_i:5}}):e._e()],1)},i=[]},"90a8":function(e,t,n){var r=n("b0bd");e.exports=function(e){return new r(e,0)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"91ab":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e._$s(0,"i",e.show&&(0!==Number(e.value)||e.showZero||e.isDot))?n("text",{staticClass:e._$s(0,"sc","u-badge"),class:e._$s(0,"c",[e.isDot?"u-badge--dot":"u-badge--not-dot",e.inverted&&"u-badge--inverted","horn"===e.shape&&"u-badge--horn","u-badge--"+e.type+(e.inverted?"--inverted":"")]),style:e._$s(0,"s",[e.$u.addStyle(e.customStyle),e.badgeStyle]),attrs:{_i:0}},[e._v(e._$s(0,"t0-0",e._s(e.isDot?"":e.showValue)))]):e._e()},i=[]},9238:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={text:{type:"",show:!0,text:"",prefixIcon:"",suffixIcon:"",mode:"",href:"",format:"",call:!1,openType:"",bold:!1,block:!1,lines:"",color:"#303133",size:15,iconStyle:function(){return{fontSize:"15px"}},decoration:"none",margin:0,lineHeight:"",align:"left",wordWrap:"normal"}}},"931d":function(e,t,n){var r=n("7647"),i=n("011a");e.exports=function(e,t,n){if(i())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,t);var o=new(e.bind.apply(e,a));return n&&r(o,n.prototype),o},e.exports.__esModule=!0,e.exports["default"]=e.exports},"93aa":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",[t("view",{attrs:{id:"container",_i:1}})])},i=[]},"951c":function(e,t){e.exports=Vue},"966c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{containerHeight:0,activeIndex:"",items:[{title:"\u82cd\u7a79\u8f66\u673a 3.9.0\u4e3b\u8981\u66f4\u65b0",date:"2025-04-02",content:"\u4fee\u590d\u5df2\u77e5BUG,\u589e\u52a0\u529f\u80fd\u7b49\u7b49"},{title:"\u82cd\u7a79\u8f66\u673a 3.0.1\u4e3b\u8981\u66f4\u65b0",date:"2025-04-02",content:"\u4fee\u590d\u5df2\u77e5BUG,\u589e\u52a0\u529f\u80fd\u7b49\u7b49"},{title:"\u82cd\u7a79\u8f66\u673a 3.0.0\u4e3b\u8981\u66f4\u65b0",date:"2025-04-02",content:"\u4fee\u590d\u5df2\u77e5BUG,\u589e\u52a0\u529f\u80fd\u7b49\u7b49"},{title:"\u82cd\u7a79\u8f66\u673a 2.2.1\u4e3b\u8981\u66f4\u65b0",date:"2025-04-02",content:"\u4fee\u590d\u5df2\u77e5BUG,\u589e\u52a0\u529f\u80fd\u7b49\u7b49"},{title:"\u82cd\u7a79\u8f66\u673a 2.1.0\u4e3b\u8981\u66f4\u65b0",date:"2025-04-02",content:"\u4fee\u590d\u5df2\u77e5BUG,\u589e\u52a0\u529f\u80fd\u7b49\u7b49"},{title:"\u82cd\u7a79\u8f66\u673a 2.0.0\u4e3b\u8981\u66f4\u65b0",date:"2025-04-02",content:"\u4fee\u590d\u5df2\u77e5BUG,\u589e\u52a0\u529f\u80fd\u7b49\u7b49"},{title:"\u82cd\u7a79\u8f66\u673a 1.0.0\u4e3b\u8981\u66f4\u65b0",date:"2025-04-02",content:"\u4fee\u590d\u5df2\u77e5BUG,\u589e\u52a0\u529f\u80fd\u7b49\u7b49"}]}},onReady:function(){var e=uni.getSystemInfoSync();this.containerHeight=e.windowHeight},methods:{}};t.default=r},9713:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tooltip:{text:"",copyText:"",size:14,color:"#606266",bgColor:"transparent",direction:"top",zIndex:10071,showCopy:!0,buttons:function(){return[]},overlay:!0,showToast:!0}}},"982a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{step:1,code:"",password:"",countdown:0,timer:null,containerHeight:0,emailValue:"2392228720@qq.com"}},computed:{isValidPassword:function(){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\W_]).{8,16}$/.test(this.password)}},onReady:function(){var e=uni.getSystemInfoSync();this.containerHeight=e.windowHeight},methods:{getCode:function(){var e=this;this.countdown>0||(uni.showToast({title:"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001",icon:"success"}),this.countdown=60,this.timer=setInterval((function(){e.countdown--,e.countdown<=0&&clearInterval(e.timer)}),1e3))},nextStep:function(){this.code?this.step=2:uni.showToast({title:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",icon:"none"})},submitPassword:function(){this.isValidPassword?(uni.showToast({title:"\u5bc6\u7801\u4fee\u6539\u6210\u529f",icon:"success"}),setTimeout((function(){uni.reLaunch({url:"/"})}),1e3)):uni.showToast({title:"\u5bc6\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",icon:"none"})}},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}};t.default=r},9900:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.login=function(e,t){return new Promise((function(r,i){uni.request({url:"".concat(n,"/api/auth/login"),method:"POST",data:{username:e,password:t},header:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,success:function(e){if(200===e.statusCode&&e.data.success){var t=e.data.token;t&&uni.setStorageSync("token",t),r(e.data)}else i(new Error(e.data.message||"\u767b\u5f55\u5931\u8d25"))},fail:function(e){i(e)}})}))},t.logout=function(){return new Promise((function(e,t){uni.request({url:"".concat(n,"/api/auth/logout"),method:"POST",withCredentials:!0,success:function(n){200===n.statusCode&&n.data.success?(uni.removeStorageSync("token"),uni.reLaunch({url:"/"}),e(n.data)):t(new Error(n.data.message||"\u9000\u51fa\u767b\u5f55\u5931\u8d25"))},fail:function(e){t(e)}})}))},t.register=function(t,r,i,a,o,s){return new Promise((function(u,l){uni.request({url:"".concat(n,"/api/auth/register"),method:"POST",withCredentials:!0,header:{"Content-Type":"application/x-www-form-urlencoded"},data:{username:t,password:r,email:i,phone:a,code:o,sessionId:s},timeout:1e4,success:function(t){if(e("log","\u6ce8\u518c\u54cd\u5e94:",t," at pages/utils/api.js:82"),200===t.data.status)u(t.data);else{var n,r=(null===(n=t.data)||void 0===n?void 0:n.message)||"\u6ce8\u518c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5";l(new Error(r))}}})}))},t.sendValidationCode=function(t){return new Promise((function(r,i){uni.request({url:"".concat(n,"/api/auth/valid-register-email"),method:"POST",withCredentials:!0,header:{"Content-Type":"application/x-www-form-urlencoded"},data:{email:t},success:function(t){e("log",t," at pages/utils/api.js:108"),200===t.statusCode?(uni.showToast({title:t.data.message,icon:"success"}),r(t.data)):(uni.showToast({title:t.data.message||"\u53d1\u9001\u5931\u8d25",icon:"none"}),i(t.data))},fail:function(e){uni.showToast({title:"\u8bf7\u6c42\u5931\u8d25",icon:"none"}),i(e)}})}))};var n="http://localhost:8080"}).call(this,n("f3b9")["default"])},"99f8":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("a3aa")),a=i.default.color,o={loadingIcon:{show:!0,color:a["u-tips-color"],textColor:a["u-tips-color"],vertical:!1,mode:"spinner",size:24,textSize:15,text:"",timingFunction:"ease-in-out",duration:1200,inactiveColor:""}};t.default=o},"9bac":function(e,t,n){"use strict";n.r(t);var r=n("91ab"),i=n("48bc");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"361197e0",null,!1,r["a"],void 0);t["default"]=s.exports},"9d92":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("127e")),a=r(n("ee10")),o=r(n("14c4")),s={name:"u-tabbar",mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],data:function(){return{placeholderHeight:0}},computed:{tabbarStyle:function(){var e={zIndex:this.zIndex};return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},updateChild:function(){return[this.value,this.activeColor,this.inactiveColor]},updatePlaceholder:function(){return[this.fixed,this.placeholder]}},watch:{updateChild:function(){this.updateChildren()},updatePlaceholder:function(){this.setPlaceholderHeight()}},created:function(){this.children=[]},mounted:function(){this.setPlaceholderHeight()},methods:{updateChildren:function(){this.children.length&&this.children.map((function(e){return e.updateFromParent()}))},setPlaceholderHeight:function(){var e=this;return(0,a.default)(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.fixed&&e.placeholder){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,uni.$u.sleep(20);case 4:e.$uGetRect(".u-tabbar__content").then((function(t){var n=t.height,r=void 0===n?50:n;e.placeholderHeight=r}));case 5:case"end":return t.stop()}}),t)})))()}}};t.default=s},"9db5":function(e,t,n){"use strict";n.r(t);var r=n("9048"),i=n("57c6");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},"9e34":function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("a3aa")),a=i.default.color,o={link:{color:a["u-primary"],fontSize:15,underLine:!1,href:"",mpTips:"\u94fe\u63a5\u5df2\u590d\u5236\uff0c\u8bf7\u5728\u6d4f\u89c8\u5668\u6253\u5f00",lineColor:"",text:""}};t.default=o},"9e65":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{countdown:15,timer:null}},methods:{open:function(){this.$refs.popupRef.open(),this.startCountdown()},close:function(){this.$refs.popupRef.close(),clearInterval(this.timer),this.countdown=15},startCountdown:function(){var e=this;this.countdown=15,this.timer=setInterval((function(){e.countdown>0?e.countdown--:clearInterval(e.timer)}),1e3)},confirm:function(){this.$emit("confirm"),this.close()}}};t.default=r},"9fc1":function(e,t,n){var r=n("3b2d")["default"];function i(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return n},e.exports.__esModule=!0,e.exports["default"]=e.exports;var t,n={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},l=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(t){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof _?t:_,a=Object.create(i.prototype),o=new I(r||[]);return s(a,"_invoke",{value:k(e,n,o)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var v="suspendedStart",m="executing",g="completed",y={};function _(){}function b(){}function x(){}var w={};d(w,l,(function(){return this}));var S=Object.getPrototypeOf,A=S&&S(S(O([])));A&&A!==a&&o.call(A,l)&&(w=A);var M=x.prototype=_.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,s,u){var l=p(e[i],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==r(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var i;s(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function k(e,n,r){var i=v;return function(a,o){if(i===m)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:t,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===v)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var l=p(e,n,r);if("normal"===l.type){if(i=r.done?g:"suspendedYield",l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function C(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator["return"]&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=p(i,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function O(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return b.prototype=x,s(M,"constructor",{value:x,configurable:!0}),s(x,"constructor",{value:b,configurable:!0}),b.displayName=d(x,h,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,h,"GeneratorFunction")),e.prototype=Object.create(M),e},n.awrap=function(e){return{__await:e}},T(E.prototype),d(E.prototype,c,(function(){return this})),n.AsyncIterator=E,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var o=new E(f(e,t,r,i),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(M),d(M,h,"Generator"),d(M,l,(function(){return this})),d(M,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},n}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},a0d8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{isDot:{type:Boolean,default:uni.$u.props.badge.isDot},value:{type:[Number,String],default:uni.$u.props.badge.value},show:{type:Boolean,default:uni.$u.props.badge.show},max:{type:[Number,String],default:uni.$u.props.badge.max},type:{type:String,default:uni.$u.props.badge.type},showZero:{type:Boolean,default:uni.$u.props.badge.showZero},bgColor:{type:[String,null],default:uni.$u.props.badge.bgColor},color:{type:[String,null],default:uni.$u.props.badge.color},shape:{type:String,default:uni.$u.props.badge.shape},numberType:{type:String,default:uni.$u.props.badge.numberType},offset:{type:Array,default:uni.$u.props.badge.offset},inverted:{type:Boolean,default:uni.$u.props.badge.inverted},absolute:{type:Boolean,default:uni.$u.props.badge.absolute}}};t.default=r},a123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{containerHeight:0}},onReady:function(){var e=uni.getSystemInfoSync();this.containerHeight=e.windowHeight},methods:{}};t.default=r},a31d:function(e,t,n){"use strict";n.r(t);var r=n("51cf"),i=n("edda");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"c685dda0",null,!1,r["a"],void 0);t["default"]=s.exports},a3aa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={v:"2.0.37",version:"2.0.37",type:["primary","success","info","error","warning"],color:{"u-primary":"#2979ff","u-warning":"#ff9900","u-success":"#19be6b","u-error":"#fa3534","u-info":"#909399","u-main-color":"#303133","u-content-color":"#606266","u-tips-color":"#909399","u-light-color":"#c0c4cc"},unit:"px"};t.default=r},a42b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={grid:{col:3,border:!1,align:"left"}}},a4be:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={baseURL:"",header:{},method:"GET",dataType:"json",responseType:"text",custom:{},timeout:6e4,sslVerify:!0,firstIpv4:!1,validateStatus:function(e){return e>=200&&e<300}}},a58a:function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("4e1e")),a=r(n("ee17")),o={name:"Settings",components:{Item:i.default,ConfirmPopup:a.default},data:function(){return{containerHeight:0,emailValue:"2392228720@qq.com"}},computed:{maskedPhoneNumber:function(){return this.phoneNumber.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2")}},onReady:function(){var e=uni.getSystemInfoSync();this.containerHeight=e.windowHeight},methods:{openPopup:function(){e("log",this.$refs.popup.open," at pages/myPage/settings.vue:55"),this.$refs.popup.open()},close:function(){this.$refs.popup.close()},handleLogout:function(){uni.showToast({title:"\u6ce8\u9500\u6210\u529f",icon:"success"}),e("log",1," at pages/myPage/settings.vue:66"),this.close()},goToUserInfo:function(){uni.navigateTo({url:"/pages/myPage/userInfo/userInfo"})},a:function(){alert("\u8df3\u8f6c\u81f3\u4fee\u6539\u624b\u673a\u9875\u9762")},goToResetPwd:function(){uni.navigateTo({url:"/pages/myPage/userInfo/ResetPwd"})},goToEmail:function(){uni.navigateTo({url:"/pages/myPage/userInfo/email"})},goToChangePassword:function(){uni.navigateTo({url:"/pages/myPage/userInfo/ChangePassword"})},goToSettings:function(){uni.navigateTo({url:"/pages/myPage/settings"})},goToAbout:function(){uni.navigateTo({url:"/pages/myPage/about"})}}};t.default=o}).call(this,n("f3b9")["default"])},a61c:function(e,t){e.exports=function(e,t){return t.get?t.get.call(e):t.value},e.exports.__esModule=!0,e.exports["default"]=e.exports},a671:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.config.validateStatus,i=n.statusCode;!i||r&&!r(i)?t(n):e(n)}},a708:function(e,t,n){var r=n("6454");e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},a7db:function(e,t,n){"use strict";n.r(t);var r=n("4018"),i=n("6503");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"42d6122a",null,!1,r["a"],void 0);t["default"]=s.exports},a9fd:function(e,t,n){"use strict";n.r(t);var r=n("5c6a"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},aab4:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","u-icon"),class:e._$s(0,"c",["u-icon--"+e.labelPos]),attrs:{_i:0},on:{click:e.clickHandler}},[e._$s(1,"i",e.isImg)?n("image",{staticClass:e._$s(1,"sc","u-icon__img"),style:e._$s(1,"s",[e.imgStyle,e.$u.addStyle(e.customStyle)]),attrs:{src:e._$s(1,"a-src",e.name),mode:e._$s(1,"a-mode",e.imgMode),_i:1}}):n("text",{staticClass:e._$s(2,"sc","u-icon__icon"),class:e._$s(2,"c",e.uClasses),style:e._$s(2,"s",[e.iconStyle,e.$u.addStyle(e.customStyle)]),attrs:{"hover-class":e._$s(2,"a-hover-class",e.hoverClass),_i:2}},[e._v(e._$s(2,"t0-0",e._s(e.icon)))]),e._$s(3,"i",""!==e.label)?n("text",{staticClass:e._$s(3,"sc","u-icon__label"),style:e._$s(3,"s",{color:e.labelColor,fontSize:e.$u.addUnit(e.labelSize),marginLeft:"right"==e.labelPos?e.$u.addUnit(e.space):0,marginTop:"bottom"==e.labelPos?e.$u.addUnit(e.space):0,marginRight:"left"==e.labelPos?e.$u.addUnit(e.space):0,marginBottom:"top"==e.labelPos?e.$u.addUnit(e.space):0}),attrs:{_i:3}},[e._v(e._$s(3,"t0-0",e._s(e.label)))]):e._e()])},i=[]},ab41:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={appid:"__UNI__F0A4EA9"}},ab71:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={rowNotice:{text:"",icon:"volume",mode:"",color:"#f9ae3d",bgColor:"#fdf6ec",fontSize:14,speed:80}}},ab78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={numberBox:{name:"",value:0,min:1,max:Number.MAX_SAFE_INTEGER,step:1,integer:!1,disabled:!1,disabledInput:!1,asyncChange:!1,inputWidth:35,showMinus:!0,showPlus:!0,decimalLength:null,longPress:!0,color:"#323233",buttonSize:30,bgColor:"#EBECEE",cursorSpacing:100,disableMinus:!1,disablePlus:!1,iconStyle:""}};t.default=r},acf8:function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("af34")),a=r(n("3b2d")),o=r(n("7ca3")),s=n("6c4a");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:function(){return"fade"}},duration:{type:Number,default:300},styles:{type:Object,default:function(){return{}}},customClass:{type:String,default:""},onceRender:{type:Boolean,default:!1}},data:function(){return{isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}},watch:{show:{handler:function(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject:function(){var e=l(l({},this.styles),{},{"transition-duration":this.duration/1e3+"s"}),t="";for(var n in e){var r=this.toLine(n);t+=r+":"+e[n]+";"}return t},transformStyles:function(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created:function(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.duration&&(this.durationTime=e.duration),this.animation=(0,s.createAnimation)(Object.assign(this.config,e),this)},onClick:function(){this.$emit("click",{detail:this.isShow})},step:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.animation){for(var r in t)try{var o;if("object"===(0,a.default)(t[r]))(o=this.animation)[r].apply(o,(0,i.default)(t[r]));else this.animation[r](t[r])}catch(s){e("error","\u65b9\u6cd5 ".concat(r," \u4e0d\u5b58\u5728")," at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:148")}return this.animation.step(n),this}},run:function(e){this.animation&&this.animation.run(e)},open:function(){var e=this;clearTimeout(this.timer),this.transform="",this.isShow=!0;var t=this.styleInit(!1),n=t.opacity,r=t.transform;"undefined"!==typeof n&&(this.opacity=n),this.transform=r,this.$nextTick((function(){e.timer=setTimeout((function(){e.animation=(0,s.createAnimation)(e.config,e),e.tranfromInit(!1).step(),e.animation.run(),e.$emit("change",{detail:e.isShow})}),20)}))},close:function(e){var t=this;this.animation&&this.tranfromInit(!0).step().run((function(){t.isShow=!1,t.animationData=null,t.animation=null;var e=t.styleInit(!1),n=e.opacity,r=e.transform;t.opacity=n||1,t.transform=r,t.$emit("change",{detail:t.isShow})}))},styleInit:function(e){var t=this,n={transform:""},r=function(e,r){"fade"===r?n.opacity=t.animationType(e)[r]:n.transform+=t.animationType(e)[r]+" "};return"string"===typeof this.modeClass?r(e,this.modeClass):this.modeClass.forEach((function(t){r(e,t)})),n},tranfromInit:function(e){var t=this,n=function(e,n){var r=null;"fade"===n?r=e?0:1:(r=e?"-100%":"0","zoom-in"===n&&(r=e?.8:1),"zoom-out"===n&&(r=e?1.2:1),"slide-right"===n&&(r=e?"100%":"0"),"slide-bottom"===n&&(r=e?"100%":"0")),t.animation[t.animationMode()[n]](r)};return"string"===typeof this.modeClass?n(e,this.modeClass):this.modeClass.forEach((function(t){n(e,t)})),this.animation},animationType:function(e){return{fade:e?0:1,"slide-top":"translateY(".concat(e?"0":"-100%",")"),"slide-right":"translateX(".concat(e?"0":"100%",")"),"slide-bottom":"translateY(".concat(e?"0":"100%",")"),"slide-left":"translateX(".concat(e?"0":"-100%",")"),"zoom-in":"scaleX(".concat(e?1:.8,") scaleY(").concat(e?1:.8,")"),"zoom-out":"scaleX(".concat(e?1:1.2,") scaleY(").concat(e?1:1.2,")")}},animationMode:function(){return{fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}},toLine:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}};t.default=c}).call(this,n("f3b9")["default"])},ad52:function(e,t,n){"use strict";n.r(t);var r=n("74a5"),i=n("eb55");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},ad59:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={}},ad71:function(e,t,n){"use strict";n.r(t);var r=n("5489"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},ae79:function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("34cf")),a=r(n("3b2d")),o=r(n("8dbf")),s=n("5e01");function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new WeakMap;if(null===e||"object"!==(0,a.default)(e))return e;if(n.has(e))return n.get(e);if(e instanceof Date)t=new Date(e.getTime());else if(e instanceof RegExp)t=new RegExp(e);else if(e instanceof Map)t=new Map(Array.from(e,(function(e){var t=(0,i.default)(e,2),r=t[0],a=t[1];return[r,u(a,n)]})));else if(e instanceof Set)t=new Set(Array.from(e,(function(e){return u(e,n)})));else if(Array.isArray(e))t=e.map((function(e){return u(e,n)}));else if("[object Object]"===Object.prototype.toString.call(e)){t=Object.create(Object.getPrototypeOf(e)),n.set(e,t);for(var r=0,o=Object.entries(e);r<o.length;r++){var s=(0,i.default)(o[r],2),l=s[0],c=s[1];t[l]=u(c,n)}}else t=Object.assign({},e);return n.set(e,t),t}function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";e=t?/^\d{10}$/.test(null===t||void 0===t?void 0:t.toString().trim())?new Date(1e3*t):"string"===typeof t&&/^\d+$/.test(t.trim())?new Date(Number(t)):"string"===typeof t&&t.includes("-")&&!t.includes("T")?new Date(t.replace(/-/g,"/")):new Date(t):new Date;var r={y:e.getFullYear().toString(),m:(e.getMonth()+1).toString().padStart(2,"0"),d:e.getDate().toString().padStart(2,"0"),h:e.getHours().toString().padStart(2,"0"),M:e.getMinutes().toString().padStart(2,"0"),s:e.getSeconds().toString().padStart(2,"0")};for(var a in r){var o=new RegExp("".concat(a,"+")).exec(n)||[],s=(0,i.default)(o,1),u=s[0];if(u){var l="y"===a&&2===u.length?2:0;n=n.replace(u,r[a].slice(l))}}return n}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";return e=String(e),"both"==t?e.replace(/^\s+|\s+$/g,""):"left"==t?e.replace(/^\s*/,""):"right"==t?e.replace(/(\s*$)/g,""):"all"==t?e.replace(/\s+/g,""):e}String.prototype.padStart||(String.prototype.padStart=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";if("[object String]"!==Object.prototype.toString.call(t))throw new TypeError("fillString must be String");var n=this;if(n.length>=e)return String(n);var r=e-n.length,i=Math.ceil(r/t.length);while(i>>=1)t+=t,1===i&&(t+=t);return t.slice(0,r)+n});var h={range:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.max(e,Math.min(t,Number(n)))},getPx:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.default.number(e)?t?"".concat(e,"px"):Number(e):/(rpx|upx)$/.test(e)?t?"".concat(uni.upx2px(parseInt(e)),"px"):Number(uni.upx2px(parseInt(e))):t?"".concat(parseInt(e),"px"):parseInt(e)},sleep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return new Promise((function(t){setTimeout((function(){t()}),e)}))},os:function(){return uni.getSystemInfoSync().platform.toLowerCase()},sys:function(){return uni.getSystemInfoSync()},random:function(e,t){if(e>=0&&t>0&&t>=e){var n=t-e+1;return Math.floor(Math.random()*n+e)}return 0},guid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(n=n||r.length,e)for(var a=0;a<e;a++)i[a]=r[0|Math.random()*n];else{var o;i[8]=i[13]=i[18]=i[23]="-",i[14]="4";for(var s=0;s<36;s++)i[s]||(o=0|16*Math.random(),i[s]=r[19==s?3&o|8:o])}return t?(i.shift(),"u".concat(i.join(""))):i.join("")},$parent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this.$parent;while(t){if(!t.$options||t.$options.name===e)return t;t=t.$parent}return!1},addStyle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"object";if(o.default.empty(e)||"object"===(0,a.default)(e)&&"object"===t||"string"===t&&"string"===typeof e)return e;if("object"===t){e=c(e);for(var n=e.split(";"),r={},i=0;i<n.length;i++)if(n[i]){var s=n[i].split(":");r[c(s[0])]=c(s[1])}return r}var u="";for(var l in e){var h=l.replace(/([A-Z])/g,"-$1").toLowerCase();u+="".concat(h,":").concat(e[l],";")}return c(u)},addUnit:function(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null!==(e=null===(t=uni)||void 0===t||null===(n=t.$u)||void 0===n||null===(r=n.config)||void 0===r?void 0:r.unit)&&void 0!==e?e:"px";return i=String(i),o.default.number(i)?"".concat(i).concat(a):i},deepClone:u,deepMerge:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=u(t),"object"!==(0,a.default)(t)||null===t||"object"!==(0,a.default)(n)||null===n)return t;var r=Array.isArray(t)?t.slice():Object.assign({},t);for(var i in n)if(n.hasOwnProperty(i)){var o=n[i],s=r[i];o instanceof Date?r[i]=new Date(o):o instanceof RegExp?r[i]=new RegExp(o):o instanceof Map?r[i]=new Map(o):o instanceof Set?r[i]=new Set(o):"object"===(0,a.default)(o)&&null!==o?r[i]=e(s,o):r[i]=o}return r},error:function(e){0},randomArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(){return Math.random()-.5}))},timeFormat:l,timeFrom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";null==e&&(e=Number(new Date)),e=parseInt(e),10==e.toString().length&&(e*=1e3);var n=(new Date).getTime()-e;n=parseInt(n/1e3);var r="";switch(!0){case n<300:r="\u521a\u521a";break;case n>=300&&n<3600:r="".concat(parseInt(n/60),"\u5206\u949f\u524d");break;case n>=3600&&n<86400:r="".concat(parseInt(n/3600),"\u5c0f\u65f6\u524d");break;case n>=86400&&n<2592e3:r="".concat(parseInt(n/86400),"\u5929\u524d");break;default:r=!1===t?n>=2592e3&&n<31536e3?"".concat(parseInt(n/2592e3),"\u4e2a\u6708\u524d"):"".concat(parseInt(n/31536e3),"\u5e74\u524d"):l(e,t)}return r},trim:c,queryParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"brackets",r=t?"?":"",i=[];-1==["indices","brackets","repeat","comma"].indexOf(n)&&(n="brackets");var a=function(t){var r=e[t];if(["",void 0,null].indexOf(r)>=0)return"continue";if(r.constructor===Array)switch(n){case"indices":for(var a=0;a<r.length;a++)i.push("".concat(t,"[").concat(a,"]=").concat(r[a]));break;case"brackets":r.forEach((function(e){i.push("".concat(t,"[]=").concat(e))}));break;case"repeat":r.forEach((function(e){i.push("".concat(t,"=").concat(e))}));break;case"comma":var o="";r.forEach((function(e){o+=(o?",":"")+e})),i.push("".concat(t,"=").concat(o));break;default:r.forEach((function(e){i.push("".concat(t,"[]=").concat(e))}))}else i.push("".concat(t,"=").concat(r))};for(var o in e)a(o);return i.length?r+i.join("&"):""},toast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;uni.showToast({title:String(e),icon:"none",duration:t})},type2icon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];-1==["primary","info","error","warning","success"].indexOf(e)&&(e="success");var n="";switch(e){case"primary":n="info-circle";break;case"info":n="info-circle";break;case"error":n="close-circle";break;case"warning":n="error-circle";break;case"success":n="checkmark-circle";break;default:n="checkmark-circle"}return t&&(n+="-fill"),n},priceFormat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";e="".concat(e).replace(/[^0-9+-Ee.]/g,"");var i=isFinite(+e)?+e:0,a=isFinite(+t)?Math.abs(t):0,o="undefined"===typeof r?",":r,u="undefined"===typeof n?".":n,l="";l=(a?(0,s.round)(i,a)+"":"".concat(Math.round(i))).split(".");var c=/(-?\d+)(\d{3})/;while(c.test(l[0]))l[0]=l[0].replace(c,"$1".concat(o,"$2"));return(l[1]||"").length<a&&(l[1]=l[1]||"",l[1]+=new Array(a-l[1].length+1).join("0")),l.join(u)},getDuration:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=parseInt(e);return t?/s$/.test(e)?e:"".concat(e,e>30?"ms":"s"):/ms$/.test(e)?n:/s$/.test(e)?n>30?n:1e3*n:n},padZero:function(e){return"00".concat(e).slice(-2)},formValidate:function(e,t){var n=uni.$u.$parent.call(e,"u-form-item"),r=uni.$u.$parent.call(e,"u-form");n&&r&&r.validateField(n.prop,(function(){}),t)},getProperty:function(e,t){if(e){if("string"!==typeof t||""===t)return"";if(-1!==t.indexOf(".")){for(var n=t.split("."),r=e[n[0]]||{},i=1;i<n.length;i++)r&&(r=r[n[i]]);return r}return e[t]}},setProperty:function(e,t,n){if(e){if("string"!==typeof t||""===t);else if(-1!==t.indexOf(".")){var r=t.split(".");(function e(t,n,r){if(1!==n.length)while(n.length>1){var i=n[0];t[i]&&"object"===(0,a.default)(t[i])||(t[i]={});n.shift();e(t[i],n,r)}else t[n[0]]=r})(e,r,n)}else e[t]=n}},page:function(){var e,t,n=getCurrentPages();return"/".concat(null!==(e=null===(t=n[n.length-1])||void 0===t?void 0:t.route)&&void 0!==e?e:"")},pages:function(){var e=getCurrentPages();return e},getHistoryPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=getCurrentPages(),n=t.length;return t[n-1+e]},setConfig:function(e){var t=e.props,n=void 0===t?{}:t,r=e.config,i=void 0===r?{}:r,a=e.color,o=void 0===a?{}:a,s=e.zIndex,u=void 0===s?{}:s,l=uni.$u.deepMerge;uni.$u.config=l(uni.$u.config,i),uni.$u.props=l(uni.$u.props,n),uni.$u.color=l(uni.$u.color,o),uni.$u.zIndex=l(uni.$u.zIndex,u)}};t.default=h},ae88:function(e,t,n){"use strict";n.r(t);var r=n("d76a"),i=n("67b6");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},aeb8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={cell:{customClass:"",title:"",label:"",value:"",icon:"",disabled:!1,border:!0,center:!1,url:"",linkType:"navigateTo",clickable:!1,isLink:!1,required:!1,arrowDirection:"",iconStyle:{},rightIconStyle:{},rightIcon:"arrow-right",titleStyle:{},size:"",stop:!0,name:""}}},aed9:function(e,t,n){"use strict";n.r(t);var r=n("b7cb"),i=n("3d30");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"23e5cc60",null,!1,r["a"],void 0);t["default"]=s.exports},af34:function(e,t,n){var r=n("a708"),i=n("b893"),a=n("6382"),o=n("9008");e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports["default"]=e.exports},af3d:function(e,t,n){"use strict";n.r(t);var r=n("351b"),i=n("03fd");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"f407f75a",null,!1,r["a"],void 0);t["default"]=s.exports},af66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={gridItem:{name:null,bgColor:"transparent"}}},b003:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={onTabItemTap:function(e){uni.$emit("tabChanged",e)}};t.default=r},b0ae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={button:{hairline:!1,type:"info",size:"normal",shape:"square",plain:!1,disabled:!1,loading:!1,loadingText:"",loadingMode:"spinner",loadingSize:15,openType:"",formType:"",appParameter:"",hoverStopPropagation:!0,lang:"en",sessionFrom:"",sendMessageTitle:"",sendMessagePath:"",sendMessageImg:"",showMessageCard:!1,dataName:"",throttleTime:0,hoverStartTime:0,hoverStayTime:200,text:"",icon:"",iconColor:"",color:""}}},b0bd:function(e,t){e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports["default"]=e.exports},b0e4:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},b0fa:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","container loading1"),attrs:{_i:0}},[t("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),t("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),t("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),t("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},i=[]},b283:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","focus-input"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","input-wrapper"),class:e._$s(1,"c",{active:e.isFocus}),attrs:{_i:1}},[n("span",{class:e._$s(2,"c",e.styleType),attrs:{_i:2}},[e._v(e._$s(2,"t0-0",e._s(e.title)))]),e._$s(3,"i","User"===e.type)?n("input",{attrs:{placeholder:e._$s(3,"a-placeholder",e.txt),_i:3},on:{focus:function(t){e.isFocus=!0},blur:function(t){e.isFocus=!1},input:e.onInput}}):e._e(),e._$s(4,"i","text"===e.type)?n("input",{attrs:{type:e._$s(4,"a-type",e.type),placeholder:e._$s(4,"a-placeholder",e.txt),_i:4},on:{focus:function(t){e.isFocus=!0},blur:function(t){e.isFocus=!1},input:e.onInput}}):e._e(),e._$s(5,"i","number"===e.type)?n("input",{attrs:{type:e._$s(5,"a-type",e.type),placeholder:e._$s(5,"a-placeholder",e.txt),_i:5},on:{focus:function(t){e.isFocus=!0},blur:function(t){e.isFocus=!1},input:e.onInput}}):e._$s(6,"e","password"===e.type)?n("input",{attrs:{type:e._$s(6,"a-type",e.type),placeholder:e._$s(6,"a-placeholder",e.txt),value:e._$s(6,"a-value",e.value),_i:6},on:{focus:function(t){e.isFocus=!0},blur:function(t){e.isFocus=!1},input:e.onInput}}):e._e()])])},i=[]},b2a9:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uTabbar:n("1999").default,uTabbarItem:n("6c8f").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("u-tabbar",{attrs:{value:Number(e.currentValue),fixed:!0,placeholder:!0,safeAreaInsetBottom:!0,_i:1},on:{change:function(t){return e.currentValue=t}}},[n("u-tabbar-item",{attrs:{text:"\u9996\u9875",icon:"home",_i:2},on:{click:function(t){return e.gotoNav(0)}}}),n("u-tabbar-item",{attrs:{text:"\u670d\u52a1",icon:"grid",_i:3},on:{click:function(t){return e.gotoNav(1)}}}),n("u-tabbar-item",{attrs:{text:"AI",icon:"mic",_i:4},on:{click:function(t){return e.audioCHangeWord()}}}),n("u-tabbar-item",{attrs:{text:"\u6570\u636e",icon:"order",_i:5},on:{click:function(t){return e.gotoNav(2)}}}),n("u-tabbar-item",{attrs:{text:"\u6211\u7684",icon:"account",_i:6},on:{click:function(t){return e.gotoNav(3)}}})],1)],1)},a=[]},b370:function(e,t,n){"use strict";n.r(t);var r=n("14e3"),i=n("f113");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"0f7e34c8",null,!1,r["a"],void 0);t["default"]=s.exports},b39e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={columnNotice:{text:"",icon:"volume",mode:"",color:"#f9ae3d",bgColor:"#fdf6ec",fontSize:14,speed:80,step:!1,duration:1500,disableTouch:!0}}},b458:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={alert:{title:"",type:"warning",description:"",closable:!1,showIcon:!1,effect:"light",center:!1,fontSize:14}}},b485:function(e,t,n){"use strict";n.r(t);var r=n("4db2"),i=n("7b0d");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},b4d2:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},b5e3:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","wrap"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","box"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","content"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","contentWrap"),attrs:{_i:3}},[n("img",{}),n("text",[e._v(e._$s(5,"t0-0",e._s(e.emailValue)))])]),n("view",{staticClass:e._$s(6,"sc","btnWrap"),attrs:{_i:6}},[n("view",{staticClass:e._$s(7,"sc","btn bgcolorBule"),attrs:{_i:7}},[n("text")]),n("view",{staticClass:e._$s(9,"sc","btn bgcolorWhite"),attrs:{_i:9}},[n("text")])])])])])},i=[]},b5f5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={collapseItem:{title:"",value:"",label:"",disabled:!1,isLink:!0,clickable:!0,border:!0,align:"left",name:"",icon:"",duration:300}}},b6fa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={section:{title:"",subTitle:"\u66f4\u591a",right:!0,fontSize:15,bold:!0,color:"#303133",subColor:"#909399",showLine:!0,lineColor:"",arrow:!0}}},b75e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tabbarItem:{name:null,icon:"",badge:null,dot:!1,text:"",badgeStyle:"top: 6px;right:2px;"}}},b7c8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={tag:{type:"primary",disabled:!1,size:"medium",shape:"square",text:"",bgColor:"",color:"",borderColor:"",closeColor:"#C6C7CB",name:"",plainFill:!1,plain:!1,closable:!1,show:!0,icon:""}}},b7cb:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","container"),style:e._$s(0,"s",{height:e.containerHeight+"px"}),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","content"),attrs:{_i:1}},[n("scroll-view",{attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","item-wrap"),attrs:{_i:3}},[n("view",[n("text",{staticClass:e._$s(5,"sc","title"),attrs:{_i:5}}),n("text",{staticClass:e._$s(6,"sc","text"),attrs:{_i:6}})]),n("view",[n("text",{staticClass:e._$s(8,"sc","title"),attrs:{_i:8}}),n("text",{staticClass:e._$s(9,"sc","text"),attrs:{_i:9}})]),n("view",[n("text",{staticClass:e._$s(11,"sc","title"),attrs:{_i:11}}),n("text",{staticClass:e._$s(12,"sc","text"),attrs:{_i:12}})]),n("view",[n("text",{staticClass:e._$s(14,"sc","title"),attrs:{_i:14}}),n("text",{staticClass:e._$s(15,"sc","text"),attrs:{_i:15}})]),n("view",[n("text",{staticClass:e._$s(17,"sc","title"),attrs:{_i:17}}),n("text",{staticClass:e._$s(18,"sc","text"),attrs:{_i:18}})])])])])])},i=[]},b7e0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="plus"},b893:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},b967:function(e,t,n){"use strict";n.r(t);var r=n("d603"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},ba37:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,a=f&(1<<-c)-1,f>>=-c,c+=s;c>0;a=256*a+e[t+h],h+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=l}return(f?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),t+=o+h>=1?d/u:d*Math.pow(2,1-h),t*u>=2&&(o++,u/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*u-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+f]=255&o,f+=p,o/=256,l-=8);e[n+f-p]|=128*v}},bb24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={input:{value:"",type:"text",fixed:!1,disabled:!1,disabledColor:"#f5f7fa",clearable:!1,password:!1,maxlength:-1,placeholder:null,placeholderClass:"input-placeholder",placeholderStyle:"color: #c0c4cc",showWordLimit:!1,confirmType:"done",confirmHold:!1,holdKeyboard:!1,focus:!1,autoBlur:!1,disableDefaultPadding:!1,cursor:-1,cursorSpacing:30,selectionStart:-1,selectionEnd:-1,adjustPosition:!0,inputAlign:"left",fontSize:"15px",color:"#303133",prefixIcon:"",prefixIconStyle:"",suffixIcon:"",suffixIconStyle:"",border:"surround",readonly:!1,shape:"square",formatter:null}}},bca0:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("canvas",{attrs:{id:"container",_i:1}},[n("model",{attrs:{_i:2}})],1),n("scroll-view",{staticClass:e._$s(3,"sc","card-container"),attrs:{_i:3}},[n("view",{staticClass:e._$s(4,"sc","content"),attrs:{_i:4}},[n("view",{staticClass:e._$s(5,"sc","card"),attrs:{_i:5}},[n("p"),n("div",{staticClass:e._$s(7,"sc","text_my"),attrs:{_i:7}}),n("image",{staticClass:e._$s(8,"sc","battery-icon"),attrs:{_i:8}})]),n("view",{staticClass:e._$s(9,"sc","card"),attrs:{_i:9}},[n("p"),n("div",{staticClass:e._$s(11,"sc","text_my"),attrs:{_i:11}}),n("image",{staticClass:e._$s(12,"sc","car-icon"),attrs:{_i:12}})]),n("view",{staticClass:e._$s(13,"sc","card"),attrs:{_i:13}},[n("p"),n("div",{staticClass:e._$s(15,"sc","text_my"),attrs:{_i:15}}),n("image",{staticClass:e._$s(16,"sc","battery-icon"),attrs:{_i:16}})]),n("view",{staticClass:e._$s(17,"sc","card"),attrs:{_i:17}},[n("p"),n("div",{staticClass:e._$s(19,"sc","text_my"),attrs:{_i:19}}),n("image",{staticClass:e._$s(20,"sc","battery-icon"),attrs:{_i:20}})])])])])},i=[]},bd29:function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("34cf")),a=r(n("3b2d")),o={version:"v2.5.0-20230101",yAxisWidth:15,xAxisHeight:22,padding:[10,10,10,10],rotate:!1,fontSize:13,fontColor:"#666666",dataPointShape:["circle","circle","circle","circle"],color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],linearColor:["#0EE2F8","#2BDCA8","#FA7D8D","#EB88E2","#2AE3A0","#0EE2F8","#EB88E2","#6773E3","#F78A85"],pieChartLinePadding:15,pieChartTextPadding:5,titleFontSize:20,subtitleFontSize:15,radarLabelTextMargin:13},s=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(null==e)throw new TypeError("[uCharts] Cannot convert undefined or null to object");if(!n||n.length<=0)return e;function i(e,t){for(var n in t)e[n]=e[n]&&"[object Object]"===e[n].toString()?i(e[n],t[n]):e[n]=t[n];return e}return n.forEach((function(t){e=i(e,t)})),e},u={toFixed:function(e,t){return t=t||2,this.isFloat(e)&&(e=e.toFixed(t)),e},isFloat:function(e){return e%1!==0},approximatelyEqual:function(e,t){return Math.abs(e-t)<1e-10},isSameSign:function(e,t){return Math.abs(e)===e&&Math.abs(t)===t||Math.abs(e)!==e&&Math.abs(t)!==t},isSameXCoordinateArea:function(e,t){return this.isSameSign(e.x,t.x)},isCollision:function(e,t){e.end={},e.end.x=e.start.x+e.width,e.end.y=e.start.y-e.height,t.end={},t.end.x=t.start.x+t.width,t.end.y=t.start.y-t.height;var n=t.start.x>e.end.x||t.end.x<e.start.x||t.end.y>e.start.y||t.start.y<e.end.y;return!n}};function l(e,t){var n=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(r[1],16),a=parseInt(r[2],16),o=parseInt(r[3],16);return"rgba("+i+","+a+","+o+","+t+")"}function c(e,t,n){if(isNaN(e))throw new Error("[uCharts] series\u6570\u636e\u9700\u4e3aNumber\u683c\u5f0f");n=n||10,t=t||"upper";var r=1;while(n<1)n*=10,r*=10;e="upper"===t?Math.ceil(e*r):Math.floor(e*r);while(e%n!==0)if("upper"===t){if(e==e+1)break;e++}else e--;return e/r}function h(e,t,n,r,i){var a=i.width-i.area[1]-i.area[3],o=n.eachSpacing*(i.chartData.xAxisData.xAxisPoints.length-1);"mount"==i.type&&i.extra&&i.extra.mount&&i.extra.mount.widthRatio&&i.extra.mount.widthRatio>1&&(i.extra.mount.widthRatio>2&&(i.extra.mount.widthRatio=2),o+=(i.extra.mount.widthRatio-1)*n.eachSpacing);var s=t;return t>=0?(s=0,e.uevent.trigger("scrollLeft"),e.scrollOption.position="left",i.xAxis.scrollPosition="left"):Math.abs(t)>=o-a?(s=a-o,e.uevent.trigger("scrollRight"),e.scrollOption.position="right",i.xAxis.scrollPosition="right"):(e.scrollOption.position=t,i.xAxis.scrollPosition=t),s}function d(e,t,n){function r(e){while(e<0)e+=2*Math.PI;while(e>2*Math.PI)e-=2*Math.PI;return e}return e=r(e),t=r(t),n=r(n),t>n&&(n+=2*Math.PI,e<t&&(e+=2*Math.PI)),e>=t&&e<=n}function f(e,t){function n(e,t){return!(!e[t-1]||!e[t+1])&&(e[t].y>=Math.max(e[t-1].y,e[t+1].y)||e[t].y<=Math.min(e[t-1].y,e[t+1].y))}function r(e,t){return!(!e[t-1]||!e[t+1])&&(e[t].x>=Math.max(e[t-1].x,e[t+1].x)||e[t].x<=Math.min(e[t-1].x,e[t+1].x))}var i=.2,a=.2,o=null,s=null,u=null,l=null;if(t<1?(o=e[0].x+(e[1].x-e[0].x)*i,s=e[0].y+(e[1].y-e[0].y)*i):(o=e[t].x+(e[t+1].x-e[t-1].x)*i,s=e[t].y+(e[t+1].y-e[t-1].y)*i),t>e.length-3){var c=e.length-1;u=e[c].x-(e[c].x-e[c-1].x)*a,l=e[c].y-(e[c].y-e[c-1].y)*a}else u=e[t+1].x-(e[t+2].x-e[t].x)*a,l=e[t+1].y-(e[t+2].y-e[t].y)*a;return n(e,t+1)&&(l=e[t+1].y),n(e,t)&&(s=e[t].y),r(e,t+1)&&(u=e[t+1].x),r(e,t)&&(o=e[t].x),(s>=Math.max(e[t].y,e[t+1].y)||s<=Math.min(e[t].y,e[t+1].y))&&(s=e[t].y),(l>=Math.max(e[t].y,e[t+1].y)||l<=Math.min(e[t].y,e[t+1].y))&&(l=e[t+1].y),(o>=Math.max(e[t].x,e[t+1].x)||o<=Math.min(e[t].x,e[t+1].x))&&(o=e[t].x),(u>=Math.max(e[t].x,e[t+1].x)||u<=Math.min(e[t].x,e[t+1].x))&&(u=e[t+1].x),{ctrA:{x:o,y:s},ctrB:{x:u,y:l}}}function p(e,t,n){return{x:n.x+e,y:n.y-t}}function v(e,t){if(t)while(u.isCollision(e,t))e.start.x>0?e.start.y--:e.start.x<0||e.start.y>0?e.start.y++:e.start.y--;return e}function m(e,t,n){for(var r=0,i=0;i<e.length;i++){var a=e[i];if(a.color||(a.color=n.color[r],r=(r+1)%n.color.length),a.linearIndex||(a.linearIndex=i),a.index||(a.index=0),a.type||(a.type=t.type),"undefined"==typeof a.show&&(a.show=!0),a.type||(a.type=t.type),a.pointShape||(a.pointShape="circle"),!a.legendShape)switch(a.type){case"line":a.legendShape="line";break;case"column":case"bar":a.legendShape="rect";break;case"area":case"mount":a.legendShape="triangle";break;default:a.legendShape="circle"}}return e}function g(e,t,n,r){var i=t||[];if("custom"==e&&0==i.length&&(i=r.linearColor),"custom"==e&&i.length<n.length)for(var a=n.length-i.length,o=0;o<a;o++)i.push(r.linearColor[(o+1)%r.linearColor.length]);return i}function y(e,t){var n=0,r=t-e;return n=r>=1e4?1e3:r>=1e3?100:r>=100?10:r>=10?5:r>=1?1:r>=.1?.1:r>=.01?.01:r>=.001?.001:r>=1e-4?1e-4:r>=1e-5?1e-5:1e-6,{minRange:c(e,"lower",n),maxRange:c(t,"upper",n)}}function _(e,t,n){var r=0;if(e=String(e),!1!==n&&void 0!==n&&n.setFontSize&&n.measureText)return n.setFontSize(t),n.measureText(e).width;e=e.split("");for(var i=0;i<e.length;i++){var a=e[i];/[a-zA-Z]/.test(a)?r+=7:/[0-9]/.test(a)?r+=5.5:/\./.test(a)?r+=2.7:/-/.test(a)?r+=3.25:/:/.test(a)?r+=2.5:/[\u4e00-\u9fa5]/.test(a)?r+=10:/\(|\)/.test(a)?r+=3.73:/\s/.test(a)?r+=2.5:/%/.test(a)?r+=8:r+=10}return r*t/10}function b(e){return e.reduce((function(e,t){return(e.data?e.data:e).concat(t.data)}),[])}function x(e,t){for(var n=new Array(t),r=0;r<n.length;r++)n[r]=0;for(var i=0;i<e.length;i++)for(r=0;r<n.length;r++)n[r]+=e[i].data[r];return e.reduce((function(e,t){return(e.data?e.data:e).concat(t.data).concat(n)}),[])}function w(e,t,n){var r,i;return e.clientX?t.rotate?(i=t.height-e.clientX*t.pix,r=(e.pageY-n.currentTarget.offsetTop-t.height/t.pix/2*(t.pix-1))*t.pix):(r=e.clientX*t.pix,i=(e.pageY-n.currentTarget.offsetTop-t.height/t.pix/2*(t.pix-1))*t.pix):t.rotate?(i=t.height-e.x*t.pix,r=e.y*t.pix):(r=e.x*t.pix,i=e.y*t.pix),{x:r,y:i}}function S(e,t,n){var r=[],i=[],a=t.constructor.toString().indexOf("Array")>-1;if(a)for(var o=C(e),s=0;s<n.length;s++)i.push(o[n[s]]);else i=e;for(var u=0;u<i.length;u++){var l=i[u],c=-1;if(c=a?t[u]:t,null!==l.data[c]&&"undefined"!==typeof l.data[c]&&l.show){var h={};h.color=l.color,h.type=l.type,h.style=l.style,h.pointShape=l.pointShape,h.disableLegend=l.disableLegend,h.legendShape=l.legendShape,h.name=l.name,h.show=l.show,h.data=l.formatter?l.formatter(l.data[c]):l.data[c],r.push(h)}}return r}function A(e,t,n){var r=e.map((function(e){return _(e,t,n)}));return Math.max.apply(null,r)}function M(e){for(var t=2*Math.PI/e,n=[],r=0;r<e;r++)n.push(t*r);return n.map((function(e){return-1*e+Math.PI/2}))}function T(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=t.chartData.calPoints?t.chartData.calPoints:[],s={};if(r.length>0){for(var u=[],l=0;l<r.length;l++)u.push(o[r[l]]);s=u[0][n[0]]}else for(var c=0;c<o.length;c++)if(o[c][n]){s=o[c][n];break}var h=e.map((function(e){var r=null;return t.categories&&t.categories.length>0&&(r=i[n]),{text:a.formatter?a.formatter(e,r,n,t):e.name+": "+e.data,color:e.color,legendShape:"auto"==t.extra.tooltip.legendShape?e.legendShape:t.extra.tooltip.legendShape}})),d={x:Math.round(s.x),y:Math.round(s.y)};return{textList:h,offset:d}}function E(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=t.chartData.xAxisPoints[n]+t.chartData.eachSpacing/2,o=e.map((function(e){return{text:i.formatter?i.formatter(e,r[n],n,t):e.name+": "+e.data,color:e.color,disableLegend:!!e.disableLegend,legendShape:"auto"==t.extra.tooltip.legendShape?e.legendShape:t.extra.tooltip.legendShape}}));o=o.filter((function(e){if(!0!==e.disableLegend)return e}));var s={x:Math.round(a),y:0};return{textList:o,offset:s}}function k(e,t,n,r,i,a){var o=n.chartData.calPoints,s=a.color.upFill,u=a.color.downFill,l=[s,s,u,s],c=[];t.map((function(t){0==r?t.data[1]-t.data[0]<0?l[1]=u:l[1]=s:(t.data[0]<e[r-1][1]&&(l[0]=u),t.data[1]<t.data[0]&&(l[1]=u),t.data[2]>e[r-1][1]&&(l[2]=s),t.data[3]<e[r-1][1]&&(l[3]=u));var i={text:"\u5f00\u76d8\uff1a"+t.data[0],color:l[0],legendShape:"auto"==n.extra.tooltip.legendShape?t.legendShape:n.extra.tooltip.legendShape},a={text:"\u6536\u76d8\uff1a"+t.data[1],color:l[1],legendShape:"auto"==n.extra.tooltip.legendShape?t.legendShape:n.extra.tooltip.legendShape},o={text:"\u6700\u4f4e\uff1a"+t.data[2],color:l[2],legendShape:"auto"==n.extra.tooltip.legendShape?t.legendShape:n.extra.tooltip.legendShape},h={text:"\u6700\u9ad8\uff1a"+t.data[3],color:l[3],legendShape:"auto"==n.extra.tooltip.legendShape?t.legendShape:n.extra.tooltip.legendShape};c.push(i,a,o,h)}));for(var h=[],d={x:0,y:0},f=0;f<o.length;f++){var p=o[f];"undefined"!==typeof p[r]&&null!==p[r]&&h.push(p[r])}return d.x=Math.round(h[0][0].x),{textList:c,offset:d}}function C(e){for(var t=[],n=0;n<e.length;n++)1==e[n].show&&t.push(e[n]);return t}function P(e,t,n){return e.x<=t.width-t.area[1]+10&&e.x>=t.area[3]-10&&e.y>=t.area[0]&&e.y<=t.height-t.area[2]}function R(e,t,n){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(n,2)}function I(e,t){var n=[],r=[];return e.forEach((function(e,i){t.connectNulls?null!==e&&r.push(e):null!==e?r.push(e):(r.length&&n.push(r),r=[])})),r.length&&n.push(r),n}function O(e,t,n,r,i){var a={angle:0,xAxisHeight:t.xAxis.lineHeight*t.pix+t.xAxis.marginTop*t.pix},o=t.xAxis.fontSize*t.pix,s=e.map((function(e,n){var r=t.xAxis.formatter?t.xAxis.formatter(e,n,t):e;return _(String(r),o,i)})),u=Math.max.apply(this,s);if(1==t.xAxis.rotateLabel){a.angle=t.xAxis.rotateAngle*Math.PI/180;var l=t.xAxis.marginTop*t.pix*2+Math.abs(u*Math.sin(a.angle));l=l<o+t.xAxis.marginTop*t.pix*2?l+t.xAxis.marginTop*t.pix*2:l,a.xAxisHeight=l}return t.enableScroll&&t.xAxis.scrollShow&&(a.xAxisHeight+=6*t.pix),t.xAxis.disabled&&(a.xAxisHeight=0),a}function L(e,t,n,r){var i=s({},{type:""},t.extra.bar),o={angle:0,xAxisHeight:t.xAxis.lineHeight*t.pix+t.xAxis.marginTop*t.pix};o.ranges=function(e,t,n,r){var i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;i="stack"==r?x(e,t.categories.length):b(e);var s=[];i=i.filter((function(e){return"object"===(0,a.default)(e)&&null!==e?e.constructor.toString().indexOf("Array")>-1?null!==e:null!==e.value:null!==e})),i.map((function(e){"object"===(0,a.default)(e)?e.constructor.toString().indexOf("Array")>-1?"candle"==t.type?e.map((function(e){s.push(e)})):s.push(e[0]):s.push(e.value):s.push(e)}));var u=0,l=0;if(s.length>0&&(u=Math.min.apply(this,s),l=Math.max.apply(this,s)),o>-1?("number"===typeof t.xAxis.data[o].min&&(u=Math.min(t.xAxis.data[o].min,u)),"number"===typeof t.xAxis.data[o].max&&(l=Math.max(t.xAxis.data[o].max,l))):("number"===typeof t.xAxis.min&&(u=Math.min(t.xAxis.min,u)),"number"===typeof t.xAxis.max&&(l=Math.max(t.xAxis.max,l))),u===l){var c=l||10;l+=c}for(var h=u,d=l,f=[],p=(d-h)/t.xAxis.splitNumber,v=0;v<=t.xAxis.splitNumber;v++)f.push(h+p*v);return f}(e,t,n,i.type),o.rangesFormat=o.ranges.map((function(e){return e=u.toFixed(e,2),e}));var l=o.ranges.map((function(e){return e=u.toFixed(e,2),e}));o=Object.assign(o,Y(l,t,n));o.eachSpacing,l.map((function(e){return _(e,t.xAxis.fontSize*t.pix,r)}));return!0===t.xAxis.disabled&&(o.xAxisHeight=0),o}function D(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=i.extra.radar||{};o.max=o.max||0;for(var s=Math.max(o.max,Math.max.apply(null,b(r))),u=[],l=function(i){var o=r[i],l={};l.color=o.color,l.legendShape=o.legendShape,l.pointShape=o.pointShape,l.data=[],o.data.forEach((function(r,i){var o={};o.angle=e[i],o.proportion=r/s,o.value=r,o.position=p(n*o.proportion*a*Math.cos(o.angle),n*o.proportion*a*Math.sin(o.angle),t),l.data.push(o)})),u.push(l)},c=0;c<r.length;c++)l(c);return u}function B(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=0,i=0,a=0;a<e.length;a++){var o=e[a];o.data=null===o.data?0:o.data,r+=o.data}for(var s=0;s<e.length;s++){var u=e[s];u.data=null===u.data?0:u.data,u._proportion_=0===r?1/e.length*n:u.data/r*n,u._radius_=t}for(var l=0;l<e.length;l++){var c=e[l];c._start_=i,i+=2*c._proportion_*Math.PI}return e}function U(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=0;a<e.length;a++)"funnel"==n.type?e[a].radius=e[a].data/e[0].data*t*i:e[a].radius=r*(e.length-a)/(r*e.length)*t*i,e[a]._proportion_=e[a].data/e[0].data;return e}function N(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=0,o=0,s=[],u=0;u<e.length;u++){var l=e[u];l.data=null===l.data?0:l.data,a+=l.data,s.push(l.data)}for(var c=Math.min.apply(null,s),h=Math.max.apply(null,s),d=r-n,f=0;f<e.length;f++){var p=e[f];p.data=null===p.data?0:p.data,0===a?(p._proportion_=1/e.length*i,p._rose_proportion_=1/e.length*i):(p._proportion_=p.data/a*i,p._rose_proportion_="area"==t?1/e.length*i:p.data/a*i),p._radius_=n+d*((p.data-c)/(h-c))||r}for(var v=0;v<e.length;v++){var m=e[v];m._start_=o,o+=2*m._rose_proportion_*Math.PI}return e}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;1==n&&(n=.999999);for(var r=0;r<e.length;r++){var i=e[r];i.data=null===i.data?0:i.data;var a=void 0;a="circle"==t.type?2:"ccw"==t.direction?t.startAngle<t.endAngle?2+t.startAngle-t.endAngle:t.startAngle-t.endAngle:t.endAngle<t.startAngle?2+t.endAngle-t.startAngle:t.startAngle-t.endAngle,i._proportion_=a*i.data*n+t.startAngle,"ccw"==t.direction&&(i._proportion_=t.startAngle-a*i.data*n),i._proportion_>=2&&(i._proportion_=i._proportion_%2)}return e}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;1==n&&(n=.999999);for(var r=0;r<e.length;r++){var i=e[r];i.data=null===i.data?0:i.data;var a=void 0;a="circle"==t.type?2:t.endAngle<t.startAngle?2+t.endAngle-t.startAngle:t.startAngle-t.endAngle,i._proportion_=a*i.data*n+t.startAngle,i._proportion_>=2&&(i._proportion_=i._proportion_%2)}return e}function z(e,t,n){var r;r=n<t?2+n-t:t-n;for(var i=t,a=0;a<e.length;a++)e[a].value=null===e[a].value?0:e[a].value,e[a]._startAngle_=i,e[a]._endAngle_=r*e[a].value+t,e[a]._endAngle_>=2&&(e[a]._endAngle_=e[a]._endAngle_%2),i=e[a]._endAngle_;return e}function H(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=0;i<e.length;i++){var a=e[i];if(a.data=null===a.data?0:a.data,"auto"==n.pointer.color){for(var o=0;o<t.length;o++)if(a.data<=t[o].value){a.color=t[o].color;break}}else a.color=n.pointer.color;var s=void 0;s=n.endAngle<n.startAngle?2+n.endAngle-n.startAngle:n.startAngle-n.endAngle,a._endAngle_=s*a.data+n.startAngle,a._oldAngle_=n.oldAngle,n.oldAngle<n.endAngle&&(a._oldAngle_+=2),a.data>=n.oldData?a._proportion_=(a._endAngle_-a._oldAngle_)*r+n.oldAngle:a._proportion_=a._oldAngle_-(a._oldAngle_-a._endAngle_)*r,a._proportion_>=2&&(a._proportion_=a._proportion_%2)}return e}function G(e,t,n,r,i,a){return e.map((function(e){if(null===e)return null;var i=0,o=0;return"mix"==a.type?(i=a.extra.mix.column.seriesGap*a.pix||0,o=a.extra.mix.column.categoryGap*a.pix||0):(i=a.extra.column.seriesGap*a.pix||0,o=a.extra.column.categoryGap*a.pix||0),i=Math.min(i,t/n),o=Math.min(o,t/n),e.width=Math.ceil((t-2*o-i*(n-1))/n),a.extra.mix&&a.extra.mix.column.width&&+a.extra.mix.column.width>0&&(e.width=Math.min(e.width,+a.extra.mix.column.width*a.pix)),a.extra.column&&a.extra.column.width&&+a.extra.column.width>0&&(e.width=Math.min(e.width,+a.extra.column.width*a.pix)),e.width<=0&&(e.width=1),e.x+=(r+.5-n/2)*(e.width+i),e}))}function W(e,t,n,r,i,a){return e.map((function(e){if(null===e)return null;var i=0,o=0;return i=a.extra.bar.seriesGap*a.pix||0,o=a.extra.bar.categoryGap*a.pix||0,i=Math.min(i,t/n),o=Math.min(o,t/n),e.width=Math.ceil((t-2*o-i*(n-1))/n),a.extra.bar&&a.extra.bar.width&&+a.extra.bar.width>0&&(e.width=Math.min(e.width,+a.extra.bar.width*a.pix)),e.width<=0&&(e.width=1),e.y+=(r+.5-n/2)*(e.width+i),e}))}function V(e,t,n,r,i,a,o){var s=a.extra.column.categoryGap*a.pix||0;return e.map((function(e){return null===e?null:(e.width=t-2*s,a.extra.column&&a.extra.column.width&&+a.extra.column.width>0&&(e.width=Math.min(e.width,+a.extra.column.width*a.pix)),r>0&&(e.width-=o),e)}))}function q(e,t,n,r,i,a,o){var s=a.extra.column.categoryGap*a.pix||0;return e.map((function(e,n){return null===e?null:(e.width=Math.ceil(t-2*s),a.extra.column&&a.extra.column.width&&+a.extra.column.width>0&&(e.width=Math.min(e.width,+a.extra.column.width*a.pix)),e.width<=0&&(e.width=1),e)}))}function X(e,t,n,r,i,a,o){var s=a.extra.bar.categoryGap*a.pix||0;return e.map((function(e,n){return null===e?null:(e.width=Math.ceil(t-2*s),a.extra.bar&&a.extra.bar.width&&+a.extra.bar.width>0&&(e.width=Math.min(e.width,+a.extra.bar.width*a.pix)),e.width<=0&&(e.width=1),e)}))}function Y(e,t,n){var r=t.width-t.area[1]-t.area[3],i=t.enableScroll?Math.min(t.xAxis.itemCount,e.length):e.length;("line"==t.type||"area"==t.type||"scatter"==t.type||"bubble"==t.type||"bar"==t.type)&&i>1&&"justify"==t.xAxis.boundaryGap&&(i-=1);var a=0;"mount"==t.type&&t.extra&&t.extra.mount&&t.extra.mount.widthRatio&&t.extra.mount.widthRatio>1&&(t.extra.mount.widthRatio>2&&(t.extra.mount.widthRatio=2),a=t.extra.mount.widthRatio-1,i+=a);var o=r/i,s=[],u=t.area[3],l=t.width-t.area[1];return e.forEach((function(e,t){s.push(u+a/2*o+t*o)})),"justify"!==t.xAxis.boundaryGap&&(!0===t.enableScroll?s.push(u+a*o+e.length*o):s.push(l)),{xAxisPoints:s,startX:u,endX:l,eachSpacing:o}}function K(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,u=[],l=a.height-a.area[0]-a.area[2];return e.forEach((function(e,o){if(null===e)u.push(null);else{var c=[];e.forEach((function(e,u){var h={};h.x=r[o]+Math.round(i/2);var d=e.value||e,f=l*(d-t)/(n-t);f*=s,h.y=a.height-Math.round(f)-a.area[2],c.push(h)})),u.push(c)}})),u}function Q(e,t,n,r,i,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l="center";"line"!=o.type&&"area"!=o.type&&"scatter"!=o.type&&"bubble"!=o.type||(l=o.xAxis.boundaryGap);var c=[],h=o.height-o.area[0]-o.area[2],d=o.width-o.area[1]-o.area[3];return e.forEach((function(e,s){if(null===e)c.push(null);else{var f={};f.color=e.color,f.x=r[s];var p,v,m,g=e;if("object"===(0,a.default)(e)&&null!==e)if(e.constructor.toString().indexOf("Array")>-1)p=[].concat(o.chartData.xAxisData.ranges),v=p.shift(),m=p.pop(),g=e[1],f.x=o.area[3]+d*(e[0]-v)/(m-v),"bubble"==o.type&&(f.r=e[2],f.t=e[3]);else g=e.value;"center"==l&&(f.x+=i/2);var y=h*(g-t)/(n-t);y*=u,f.y=o.height-y-o.area[2],c.push(f)}})),c}function J(e,t,n,r,i,o,s,u,l){l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;var c=o.xAxis.boundaryGap,h=[],d=o.height-o.area[0]-o.area[2],f=o.width-o.area[1]-o.area[3];return e.forEach((function(e,s){if(null===e)h.push(null);else{var p={};if(p.color=e.color,"vertical"==u.animation){p.x=r[s];var v,m,g,y=e;if("object"===(0,a.default)(e)&&null!==e)if(e.constructor.toString().indexOf("Array")>-1)v=[].concat(o.chartData.xAxisData.ranges),m=v.shift(),g=v.pop(),y=e[1],p.x=o.area[3]+f*(e[0]-m)/(g-m);else y=e.value;"center"==c&&(p.x+=i/2);var _=d*(y-t)/(n-t);_*=l,p.y=o.height-_-o.area[2],h.push(p)}else{p.x=r[0]+i*s*l;y=e;"center"==c&&(p.x+=i/2);_=d*(y-t)/(n-t);p.y=o.height-_-o.area[2],h.push(p)}}})),h}function Z(e,t,n,r,i,o,s,u,l){l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;var c=[],h=o.height-o.area[0]-o.area[2],d=o.width-o.area[1]-o.area[3];return e.forEach((function(e,s){if(null===e)c.push(null);else{var u={};u.color=e.color,u.x=r[s];var f,p,v,m=e;if("object"===(0,a.default)(e)&&null!==e)if(e.constructor.toString().indexOf("Array")>-1)f=[].concat(o.chartData.xAxisData.ranges),p=f.shift(),v=f.pop(),m=e[1],u.x=o.area[3]+d*(e[0]-p)/(v-p);else m=e.value;u.x+=i/2;var g=h*(m*l-t)/(n-t);u.y=o.height-g-o.area[2],c.push(u)}})),c}function $(e,t,n,r,i,a,o,s){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,l=[],c=a.height-a.area[0]-a.area[2],h=(a.width,a.area[1],a.area[3],i*o.widthRatio);return e.forEach((function(e,o){if(null===e)l.push(null);else{var s={};s.color=e.color,s.x=r[o],s.x+=i/2;var d=e.data,f=c*(d*u-t)/(n-t);s.y=a.height-f-a.area[2],s.value=d,s.width=h,l.push(s)}})),l}function ee(e,t,n,r,i,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l=[],c=(o.height,o.area[0],o.area[2],o.width-o.area[1]-o.area[3]);return e.forEach((function(e,i){if(null===e)l.push(null);else{var s={};s.color=e.color,s.y=r[i];var h=e;"object"===(0,a.default)(e)&&null!==e&&(h=e.value);var d=c*(h-t)/(n-t);d*=u,s.height=d,s.value=h,s.x=d+o.area[3],l.push(s)}})),l}function te(e,t,n,r,i,o,s,u,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,h=[],d=o.height-o.area[0]-o.area[2];return e.forEach((function(e,s){if(null===e)h.push(null);else{var f={};if(f.color=e.color,f.x=r[s]+Math.round(i/2),u>0){for(var p=0,v=0;v<=u;v++)p+=l[v].data[s];var m=p-e,g=d*(p-t)/(n-t),y=d*(m-t)/(n-t)}else{p=e;"object"===(0,a.default)(e)&&null!==e&&(p=e.value);g=d*(p-t)/(n-t),y=0}var _=y;g*=c,_*=c,f.y=o.height-Math.round(g)-o.area[2],f.y0=o.height-Math.round(_)-o.area[2],h.push(f)}})),h}function ne(e,t,n,r,i,o,s,u,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,h=[],d=o.width-o.area[1]-o.area[3];return e.forEach((function(e,i){if(null===e)h.push(null);else{var s={};if(s.color=e.color,s.y=r[i],u>0){for(var f=0,p=0;p<=u;p++)f+=l[p].data[i];var v=f-e,m=d*(f-t)/(n-t),g=d*(v-t)/(n-t)}else{f=e;"object"===(0,a.default)(e)&&null!==e&&(f=e.value);m=d*(f-t)/(n-t),g=0}var y=g;m*=c,y*=c,s.height=m-y,s.x=o.area[3]+m,s.x0=o.area[3]+y,h.push(s)}})),h}function re(e,t,n,r,i){var o;o="stack"==r?x(e,t.categories.length):b(e);var s=[];o=o.filter((function(e){return"object"===(0,a.default)(e)&&null!==e?e.constructor.toString().indexOf("Array")>-1?null!==e:null!==e.value:null!==e})),o.map((function(e){"object"===(0,a.default)(e)?e.constructor.toString().indexOf("Array")>-1?"candle"==t.type?e.map((function(e){s.push(e)})):s.push(e[1]):s.push(e.value):s.push(e)}));var u=i.min||0,l=i.max||0;s.length>0&&(u=Math.min.apply(this,s),l=Math.max.apply(this,s)),u===l&&(0==l?l=10:u=0);for(var c=y(u,l),h=void 0===i.min||null===i.min?c.minRange:i.min,d=void 0===i.max||null===i.max?c.maxRange:i.max,f=(d-h)/t.yAxis.splitNumber,p=[],v=0;v<=t.yAxis.splitNumber;v++)p.push(h+f*v);return p.reverse()}function ie(e,t,n,r){var i=s({},{type:""},t.extra.column),a=t.yAxis.data.length,o=new Array(a);if(a>0){for(var l=0;l<a;l++){o[l]=[];for(var c=0;c<e.length;c++)e[c].index==l&&o[l].push(e[c])}for(var h=new Array(a),d=new Array(a),f=new Array(a),p=function(e){var a=t.yAxis.data[e];1==t.yAxis.disabled&&(a.disabled=!0),"categories"===a.type?(a.formatter||(a.formatter=function(e,t,n){return e+(a.unit||"")}),a.categories=a.categories||t.categories,h[e]=a.categories):(a.formatter||(a.formatter=function(e,t,n){return u.toFixed(e,a.tofix||0)+(a.unit||"")}),h[e]=re(o[e],t,n,i.type,a,e));var s=a.fontSize*t.pix||n.fontSize;f[e]={position:a.position?a.position:"left",width:0},d[e]=h[e].map((function(n,i){return n=a.formatter(n,i,t),f[e].width=Math.max(f[e].width,_(n,s,r)+5),n}));var l=a.calibration?4*t.pix:0;f[e].width+=l+3*t.pix,!0===a.disabled&&(f[e].width=0)},v=0;v<a;v++)p(v)}else{h=new Array(1),d=new Array(1),f=new Array(1);"bar"===t.type?(h[0]=t.categories,t.yAxis.formatter||(t.yAxis.formatter=function(e,t,n){return e+(n.yAxis.unit||"")})):(t.yAxis.formatter||(t.yAxis.formatter=function(e,t,n){return e.toFixed(n.yAxis.tofix)+(n.yAxis.unit||"")}),h[0]=re(e,t,n,i.type,{})),f[0]={position:"left",width:0};var m=t.yAxis.fontSize*t.pix||n.fontSize;d[0]=h[0].map((function(e,n){return e=t.yAxis.formatter(e,n,t),f[0].width=Math.max(f[0].width,_(e,m,r)+5),e})),f[0].width+=3*t.pix,!0===t.yAxis.disabled?(f[0]={position:"left",width:0},t.yAxis.data[0]={disabled:!0}):(t.yAxis.data[0]={disabled:!1,position:"left",max:t.yAxis.max,min:t.yAxis.min,formatter:t.yAxis.formatter},"bar"===t.type&&(t.yAxis.data[0].categories=t.categories,t.yAxis.data[0].type="categories"))}return{rangesFormat:d,ranges:h,yAxisWidth:f}}function ae(e,t){!0!==t.rotateLock?(e.translate(t.height,0),e.rotate(90*Math.PI/180)):!0!==t._rotate_&&(e.translate(t.height,0),e.rotate(90*Math.PI/180),t._rotate_=!0)}function oe(e,t,n,r,i){if(r.beginPath(),"hollow"==i.dataPointShapeType?(r.setStrokeStyle(t),r.setFillStyle(i.background),r.setLineWidth(2*i.pix)):(r.setStrokeStyle("#ffffff"),r.setFillStyle(t),r.setLineWidth(1*i.pix)),"diamond"===n)e.forEach((function(e,t){null!==e&&(r.moveTo(e.x,e.y-4.5),r.lineTo(e.x-4.5,e.y),r.lineTo(e.x,e.y+4.5),r.lineTo(e.x+4.5,e.y),r.lineTo(e.x,e.y-4.5))}));else if("circle"===n)e.forEach((function(e,t){null!==e&&(r.moveTo(e.x+2.5*i.pix,e.y),r.arc(e.x,e.y,3*i.pix,0,2*Math.PI,!1))}));else if("square"===n)e.forEach((function(e,t){null!==e&&(r.moveTo(e.x-3.5,e.y-3.5),r.rect(e.x-3.5,e.y-3.5,7,7))}));else if("triangle"===n)e.forEach((function(e,t){null!==e&&(r.moveTo(e.x,e.y-4.5),r.lineTo(e.x-4.5,e.y+4.5),r.lineTo(e.x+4.5,e.y+4.5),r.lineTo(e.x,e.y-4.5))}));else if("none"===n)return;r.closePath(),r.fill(),r.stroke()}function se(e,t,n,r,i,a,o){if(i.tooltip&&!(i.tooltip.group.length>0&&0==i.tooltip.group.includes(o))){var s="number"===typeof i.tooltip.index?i.tooltip.index:i.tooltip.index[i.tooltip.group.indexOf(o)];if(r.beginPath(),"hollow"==a.activeType?(r.setStrokeStyle(t),r.setFillStyle(i.background),r.setLineWidth(2*i.pix)):(r.setStrokeStyle("#ffffff"),r.setFillStyle(t),r.setLineWidth(1*i.pix)),"diamond"===n)e.forEach((function(e,t){null!==e&&s==t&&(r.moveTo(e.x,e.y-4.5),r.lineTo(e.x-4.5,e.y),r.lineTo(e.x,e.y+4.5),r.lineTo(e.x+4.5,e.y),r.lineTo(e.x,e.y-4.5))}));else if("circle"===n)e.forEach((function(e,t){null!==e&&s==t&&(r.moveTo(e.x+2.5*i.pix,e.y),r.arc(e.x,e.y,3*i.pix,0,2*Math.PI,!1))}));else if("square"===n)e.forEach((function(e,t){null!==e&&s==t&&(r.moveTo(e.x-3.5,e.y-3.5),r.rect(e.x-3.5,e.y-3.5,7,7))}));else if("triangle"===n)e.forEach((function(e,t){null!==e&&s==t&&(r.moveTo(e.x,e.y-4.5),r.lineTo(e.x-4.5,e.y+4.5),r.lineTo(e.x+4.5,e.y+4.5),r.lineTo(e.x,e.y-4.5))}));else if("none"===n)return;r.closePath(),r.fill(),r.stroke()}}function ue(e,t,n,r){var i=e.title.fontSize||t.titleFontSize,a=e.subtitle.fontSize||t.subtitleFontSize,o=e.title.name||"",s=e.subtitle.name||"",u=e.title.color||e.fontColor,l=e.subtitle.color||e.fontColor,c=o?i:0,h=s?a:0;if(s){var d=_(s,a*e.pix,n),f=r.x-d/2+(e.subtitle.offsetX||0)*e.pix,p=r.y+a*e.pix/2+(e.subtitle.offsetY||0)*e.pix;o&&(p+=(c*e.pix+5)/2),n.beginPath(),n.setFontSize(a*e.pix),n.setFillStyle(l),n.fillText(s,f,p),n.closePath(),n.stroke()}if(o){var v=_(o,i*e.pix,n),m=r.x-v/2+(e.title.offsetX||0),g=r.y+i*e.pix/2+(e.title.offsetY||0)*e.pix;s&&(g-=(h*e.pix+5)/2),n.beginPath(),n.setFontSize(i*e.pix),n.setFillStyle(u),n.fillText(o,m,g),n.closePath(),n.stroke()}}function le(e,t,n,r,i){var o=t.data,s=t.textOffset?t.textOffset:0;e.forEach((function(e,u){if(null!==e){r.beginPath();var l=t.textSize?t.textSize*i.pix:n.fontSize;r.setFontSize(l),r.setFillStyle(t.textColor||i.fontColor);var c=o[u];"object"===(0,a.default)(o[u])&&null!==o[u]&&(c=o[u].constructor.toString().indexOf("Array")>-1?o[u][1]:o[u].value);var h=t.formatter?t.formatter(c,u,t,i):c;r.setTextAlign("center"),r.fillText(String(h),e.x,e.y-4+s*i.pix),r.closePath(),r.stroke(),r.setTextAlign("left")}}))}function ce(e,t,n,r,i){var o=t.data,s=t.textOffset?t.textOffset:0,u=i.extra.column.labelPosition;e.forEach((function(e,l){if(null!==e){r.beginPath();var c=t.textSize?t.textSize*i.pix:n.fontSize;r.setFontSize(c),r.setFillStyle(t.textColor||i.fontColor);var h=o[l];"object"===(0,a.default)(o[l])&&null!==o[l]&&(h=o[l].constructor.toString().indexOf("Array")>-1?o[l][1]:o[l].value);var d=t.formatter?t.formatter(h,l,t,i):h;r.setTextAlign("center");var f=e.y-4*i.pix+s*i.pix;e.y>t.zeroPoints&&(f=e.y+s*i.pix+c),"insideTop"==u&&(f=e.y+c+s*i.pix,e.y>t.zeroPoints&&(f=e.y-s*i.pix-4*i.pix)),"center"==u&&(f=e.y+s*i.pix+(i.height-i.area[2]-e.y+c)/2,t.zeroPoints<i.height-i.area[2]&&(f=e.y+s*i.pix+(t.zeroPoints-e.y+c)/2),e.y>t.zeroPoints&&(f=e.y-s*i.pix-(e.y-t.zeroPoints-c)/2),"stack"==i.extra.column.type&&(f=e.y+s*i.pix+(e.y0-e.y+c)/2)),"bottom"==u&&(f=i.height-i.area[2]+s*i.pix-4*i.pix,t.zeroPoints<i.height-i.area[2]&&(f=t.zeroPoints+s*i.pix-4*i.pix),e.y>t.zeroPoints&&(f=t.zeroPoints-s*i.pix+c+2*i.pix),"stack"==i.extra.column.type&&(f=e.y0+s*i.pix-4*i.pix)),r.fillText(String(d),e.x,f),r.closePath(),r.stroke(),r.setTextAlign("left")}}))}function he(e,t,n,r,i,a){t.data;var o=t.textOffset?t.textOffset:0;i.extra.mount.labelPosition;e.forEach((function(e,s){if(null!==e){r.beginPath();var u=t[s].textSize?t[s].textSize*i.pix:n.fontSize;r.setFontSize(u),r.setFillStyle(t[s].textColor||i.fontColor);var l=e.value,c=t[s].formatter?t[s].formatter(l,s,t,i):l;r.setTextAlign("center");var h=e.y-4*i.pix+o*i.pix;e.y>a&&(h=e.y+o*i.pix+u),r.fillText(String(c),e.x,h),r.closePath(),r.stroke(),r.setTextAlign("left")}}))}function de(e,t,n,r,i){var o=t.data;t.textOffset&&t.textOffset;e.forEach((function(e,s){if(null!==e){r.beginPath();var u=t.textSize?t.textSize*i.pix:n.fontSize;r.setFontSize(u),r.setFillStyle(t.textColor||i.fontColor);var l=o[s];"object"===(0,a.default)(o[s])&&null!==o[s]&&(l=o[s].value);var c=t.formatter?t.formatter(l,s,t,i):l;r.setTextAlign("left"),r.fillText(String(c),e.x+4*i.pix,e.y+u/2-3),r.closePath(),r.stroke()}}))}function fe(e,t,n,r,i,a){var o;t-=e.width/2+e.labelOffset*r.pix,t=t<10?10:t,o=e.endAngle<e.startAngle?2+e.endAngle-e.startAngle:e.startAngle-e.endAngle;for(var s=o/e.splitLine.splitNumber,u=e.endNumber-e.startNumber,l=u/e.splitLine.splitNumber,c=e.startAngle,h=e.startNumber,d=0;d<e.splitLine.splitNumber+1;d++){var f={x:t*Math.cos(c*Math.PI),y:t*Math.sin(c*Math.PI)},p=e.formatter?e.formatter(h,d,r):h;f.x+=n.x-_(p,i.fontSize,a)/2,f.y+=n.y;var v=f.x,m=f.y;a.beginPath(),a.setFontSize(i.fontSize),a.setFillStyle(e.labelColor||r.fontColor),a.fillText(p,v,m+i.fontSize/2),a.closePath(),a.stroke(),c+=s,c>=2&&(c%=2),h+=l}}function pe(e,t,n,r,i,a){var o=r.extra.radar||{};e.forEach((function(e,s){if(!0===o.labelPointShow&&""!==r.categories[s]){var l={x:t*Math.cos(e),y:t*Math.sin(e)},c=p(l.x,l.y,n);a.setFillStyle(o.labelPointColor),a.beginPath(),a.arc(c.x,c.y,o.labelPointRadius*r.pix,0,2*Math.PI,!1),a.closePath(),a.fill()}if(!0===o.labelShow){var h={x:(t+i.radarLabelTextMargin*r.pix)*Math.cos(e),y:(t+i.radarLabelTextMargin*r.pix)*Math.sin(e)},d=p(h.x,h.y,n),f=d.x,v=d.y;u.approximatelyEqual(h.x,0)?f-=_(r.categories[s]||"",i.fontSize,a)/2:h.x<0&&(f-=_(r.categories[s]||"",i.fontSize,a)),a.beginPath(),a.setFontSize(i.fontSize),a.setFillStyle(o.labelColor||r.fontColor),a.fillText(r.categories[s]||"",f,v+i.fontSize/2),a.closePath(),a.stroke()}}))}function ve(e,t,n,r,i,a){for(var o=n.pieChartLinePadding,s=[],l=null,c=e.map((function(n,r){var i=n.formatter?n.formatter(n,r,e,t):u.toFixed(100*n._proportion_.toFixed(4))+"%";i=n.labelText?n.labelText:i;var a=2*Math.PI-(n._start_+2*Math.PI*n._proportion_/2);n._rose_proportion_&&(a=2*Math.PI-(n._start_+2*Math.PI*n._rose_proportion_/2));var o=n.color,s=n._radius_;return{arc:a,text:i,color:o,radius:s,textColor:n.textColor,textSize:n.textSize,labelShow:n.labelShow}})),h=0;h<c.length;h++){var d=c[h],f=Math.cos(d.arc)*(d.radius+o),m=Math.sin(d.arc)*(d.radius+o),g=Math.cos(d.arc)*d.radius,y=Math.sin(d.arc)*d.radius,b=f>=0?f+n.pieChartTextPadding:f-n.pieChartTextPadding,x=m,w=_(d.text,d.textSize*t.pix||n.fontSize,r),S=x;l&&u.isSameXCoordinateArea(l.start,{x:b})&&(S=b>0?Math.min(x,l.start.y):f<0||x>0?Math.max(x,l.start.y):Math.min(x,l.start.y)),b<0&&(b-=w);var A={lineStart:{x:g,y:y},lineEnd:{x:f,y:m},start:{x:b,y:S},width:w,height:n.fontSize,text:d.text,color:d.color,textColor:d.textColor,textSize:d.textSize};l=v(A,l),s.push(l)}for(var M=0;M<s.length;M++)if(!1!==c[M].labelShow){var T=s[M],E=p(T.lineStart.x,T.lineStart.y,a),k=p(T.lineEnd.x,T.lineEnd.y,a),C=p(T.start.x,T.start.y,a);r.setLineWidth(1*t.pix),r.setFontSize(T.textSize*t.pix||n.fontSize),r.beginPath(),r.setStrokeStyle(T.color),r.setFillStyle(T.color),r.moveTo(E.x,E.y);var P=T.start.x<0?C.x+T.width:C.x,R=T.start.x<0?C.x-5:C.x+5;r.quadraticCurveTo(k.x,k.y,P,C.y),r.moveTo(E.x,E.y),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(C.x+T.width,C.y),r.arc(P,C.y,2*t.pix,0,2*Math.PI),r.closePath(),r.fill(),r.beginPath(),r.setFontSize(T.textSize*t.pix||n.fontSize),r.setFillStyle(T.textColor||t.fontColor),r.fillText(T.text,R,C.y+3),r.closePath(),r.stroke(),r.closePath()}}function me(e,t,n){for(var r=s({},{type:"solid",dashLength:4,data:[]},e.extra.markLine),i=e.area[3],a=e.width-e.area[1],o=function(e,t){for(var n,r,i=t.height-t.area[0]-t.area[2],a=0;a<e.length;a++){e[a].yAxisIndex=e[a].yAxisIndex?e[a].yAxisIndex:0;var o=[].concat(t.chartData.yAxisData.ranges[e[a].yAxisIndex]);n=o.pop(),r=o.shift();var s=i*(e[a].value-n)/(r-n);e[a].y=t.height-Math.round(s)-t.area[2]}return e}(r.data,e),u=0;u<o.length;u++){var c=s({},{lineColor:"#DE4A42",showLabel:!1,labelFontSize:13,labelPadding:6,labelFontColor:"#666666",labelBgColor:"#DFE8FF",labelBgOpacity:.8,labelAlign:"left",labelOffsetX:0,labelOffsetY:0},o[u]);if("dash"==r.type&&n.setLineDash([r.dashLength,r.dashLength]),n.setStrokeStyle(c.lineColor),n.setLineWidth(1*e.pix),n.beginPath(),n.moveTo(i,c.y),n.lineTo(a,c.y),n.stroke(),n.setLineDash([]),c.showLabel){var h=c.labelFontSize*e.pix,d=c.labelText?c.labelText:c.value;n.setFontSize(h);var f=_(d,h,n),p=f+c.labelPadding*e.pix*2,v="left"==c.labelAlign?e.area[3]-p:e.width-e.area[1];v+=c.labelOffsetX;var m=c.y-.5*h-c.labelPadding*e.pix;m+=c.labelOffsetY;var g=v+c.labelPadding*e.pix;c.y;n.setFillStyle(l(c.labelBgColor,c.labelBgOpacity)),n.setStrokeStyle(c.labelBgColor),n.setLineWidth(1*e.pix),n.beginPath(),n.rect(v,m,p,h+2*c.labelPadding*e.pix),n.closePath(),n.stroke(),n.fill(),n.setFontSize(h),n.setTextAlign("left"),n.setFillStyle(c.labelFontColor),n.fillText(String(d),g,m+h+c.labelPadding*e.pix/2),n.stroke(),n.setTextAlign("left")}}}function ge(e,t,n,r,i){var a=s({},{gridType:"solid",dashLength:4},e.extra.tooltip),o=e.area[3],u=e.width-e.area[1];if("dash"==a.gridType&&n.setLineDash([a.dashLength,a.dashLength]),n.setStrokeStyle(a.gridColor||"#cccccc"),n.setLineWidth(1*e.pix),n.beginPath(),n.moveTo(o,e.tooltip.offset.y),n.lineTo(u,e.tooltip.offset.y),n.stroke(),n.setLineDash([]),a.yAxisLabel)for(var c=a.boxPadding*e.pix,h=function(e,t,n,r,i){for(var a=[].concat(n.chartData.yAxisData.ranges),o=n.height-n.area[0]-n.area[2],s=n.area[0],u=[],l=0;l<a.length;l++){var c=Math.max.apply(this,a[l]),h=Math.min.apply(this,a[l]),d=c-(c-h)*(e-s)/o;d=n.yAxis.data&&n.yAxis.data[l].formatter?n.yAxis.data[l].formatter(d,l,n):d.toFixed(0),u.push(String(d))}return u}(e.tooltip.offset.y,e.series,e),d=e.chartData.yAxisData.yAxisWidth,f=e.area[3],p=e.width-e.area[1],v=0;v<h.length;v++){n.setFontSize(a.fontSize*e.pix);var m,g=_(h[v],a.fontSize*e.pix,n),y=void 0,b=void 0;"left"==d[v].position?(y=f-(g+2*c)-2*e.pix,b=Math.max(y,y+g+2*c)):(y=p+2*e.pix,b=Math.max(y+d[v].width,y+g+2*c)),m=b-y;var x=y+(m-g)/2,w=e.tooltip.offset.y;n.beginPath(),n.setFillStyle(l(a.labelBgColor||t.toolTipBackground,a.labelBgOpacity||t.toolTipOpacity)),n.setStrokeStyle(a.labelBgColor||t.toolTipBackground),n.setLineWidth(1*e.pix),n.rect(y,w-.5*t.fontSize-c,m,t.fontSize+2*c),n.closePath(),n.stroke(),n.fill(),n.beginPath(),n.setFontSize(t.fontSize),n.setFillStyle(a.labelFontColor||e.fontColor),n.fillText(h[v],x,w+.5*t.fontSize),n.closePath(),n.stroke(),"left"==d[v].position?f-=d[v].width+e.yAxis.padding*e.pix:p+=d[v].width+e.yAxis.padding*e.pix}}function ye(e,t,n,r,i){var a=s({},{activeBgColor:"#000000",activeBgOpacity:.08,activeWidth:i},t.extra.column);a.activeWidth=a.activeWidth>i?i:a.activeWidth;var o=t.area[0],u=t.height-t.area[2];r.beginPath(),r.setFillStyle(l(a.activeBgColor,a.activeBgOpacity)),r.rect(e-a.activeWidth/2,o,a.activeWidth,u-o),r.closePath(),r.fill(),r.setFillStyle("#FFFFFF")}function _e(e,t,n,r,i){var a=s({},{activeBgColor:"#000000",activeBgOpacity:.08},t.extra.bar),o=t.area[3],u=t.width-t.area[1];r.beginPath(),r.setFillStyle(l(a.activeBgColor,a.activeBgOpacity)),r.rect(o,e-i/2,u-o,i),r.closePath(),r.fill(),r.setFillStyle("#FFFFFF")}function be(e,t,n,r,i,a,o){var u=s({},{showBox:!0,showArrow:!0,showCategory:!1,bgColor:"#000000",bgOpacity:.7,borderColor:"#000000",borderWidth:0,borderRadius:0,borderOpacity:.7,boxPadding:3,fontColor:"#FFFFFF",fontSize:13,lineHeight:20,legendShow:!0,legendShape:"auto",splitLine:!0},n.extra.tooltip);1==u.showCategory&&n.categories&&e.unshift({text:n.categories[n.tooltip.index],color:null});var c=u.fontSize*n.pix,h=u.lineHeight*n.pix,d=u.boxPadding*n.pix,f=c,p=5*n.pix;0==u.legendShow&&(f=0,p=0);var v=u.showArrow?8*n.pix:0,m=!1;"line"!=n.type&&"mount"!=n.type&&"area"!=n.type&&"candle"!=n.type&&"mix"!=n.type||1==u.splitLine&&function(e,t,n,r){var i=t.extra.tooltip||{};i.gridType=void 0==i.gridType?"solid":i.gridType,i.dashLength=void 0==i.dashLength?4:i.dashLength;var a=t.area[0],o=t.height-t.area[2];if("dash"==i.gridType&&r.setLineDash([i.dashLength,i.dashLength]),r.setStrokeStyle(i.gridColor||"#cccccc"),r.setLineWidth(1*t.pix),r.beginPath(),r.moveTo(e,a),r.lineTo(e,o),r.stroke(),r.setLineDash([]),i.xAxisLabel){var s=t.categories[t.tooltip.index];r.setFontSize(n.fontSize);var u=_(s,n.fontSize,r),c=e-.5*u,h=o+2*t.pix;r.beginPath(),r.setFillStyle(l(i.labelBgColor||n.toolTipBackground,i.labelBgOpacity||n.toolTipOpacity)),r.setStrokeStyle(i.labelBgColor||n.toolTipBackground),r.setLineWidth(1*t.pix),r.rect(c-i.boxPadding*t.pix,h,u+2*i.boxPadding*t.pix,n.fontSize+2*i.boxPadding*t.pix),r.closePath(),r.stroke(),r.fill(),r.beginPath(),r.setFontSize(n.fontSize),r.setFillStyle(i.labelFontColor||t.fontColor),r.fillText(String(s),c,h+i.boxPadding*t.pix+n.fontSize),r.closePath(),r.stroke()}}(n.tooltip.offset.x,n,r,i),t=s({x:0,y:0},t),t.y-=8*n.pix;var g=e.map((function(e){return _(e.text,c,i)})),y=f+p+4*d+Math.max.apply(null,g),b=2*d+e.length*h;if(0!=u.showBox){t.x-Math.abs(n._scrollDistance_||0)+v+y>n.width&&(m=!0),b+t.y>n.height&&(t.y=n.height-b),i.beginPath(),i.setFillStyle(l(u.bgColor,u.bgOpacity)),i.setLineWidth(u.borderWidth*n.pix),i.setStrokeStyle(l(u.borderColor,u.borderOpacity));var x=u.borderRadius;m?(y+v>n.width&&(t.x=n.width+Math.abs(n._scrollDistance_||0)+v+(y-n.width)),y>t.x&&(t.x=n.width+Math.abs(n._scrollDistance_||0)+v+(y-n.width)),u.showArrow&&(i.moveTo(t.x,t.y+10*n.pix),i.lineTo(t.x-v,t.y+10*n.pix+5*n.pix)),i.arc(t.x-v-x,t.y+b-x,x,0,Math.PI/2,!1),i.arc(t.x-v-Math.round(y)+x,t.y+b-x,x,Math.PI/2,Math.PI,!1),i.arc(t.x-v-Math.round(y)+x,t.y+x,x,-Math.PI,-Math.PI/2,!1),i.arc(t.x-v-x,t.y+x,x,-Math.PI/2,0,!1),u.showArrow&&(i.lineTo(t.x-v,t.y+10*n.pix-5*n.pix),i.lineTo(t.x,t.y+10*n.pix))):(u.showArrow&&(i.moveTo(t.x,t.y+10*n.pix),i.lineTo(t.x+v,t.y+10*n.pix-5*n.pix)),i.arc(t.x+v+x,t.y+x,x,-Math.PI,-Math.PI/2,!1),i.arc(t.x+v+Math.round(y)-x,t.y+x,x,-Math.PI/2,0,!1),i.arc(t.x+v+Math.round(y)-x,t.y+b-x,x,0,Math.PI/2,!1),i.arc(t.x+v+x,t.y+b-x,x,Math.PI/2,Math.PI,!1),u.showArrow&&(i.lineTo(t.x+v,t.y+10*n.pix+5*n.pix),i.lineTo(t.x,t.y+10*n.pix))),i.closePath(),i.fill(),u.borderWidth>0&&i.stroke(),u.legendShow&&e.forEach((function(e,r){if(null!==e.color){i.beginPath(),i.setFillStyle(e.color);var a=t.x+v+2*d,o=t.y+(h-c)/2+h*r+d+1;switch(m&&(a=t.x-y-v+2*d),e.legendShape){case"line":i.moveTo(a,o+.5*f-2*n.pix),i.fillRect(a,o+.5*f-2*n.pix,f,4*n.pix);break;case"triangle":i.moveTo(a+7.5*n.pix,o+.5*f-5*n.pix),i.lineTo(a+2.5*n.pix,o+.5*f+5*n.pix),i.lineTo(a+12.5*n.pix,o+.5*f+5*n.pix),i.lineTo(a+7.5*n.pix,o+.5*f-5*n.pix);break;case"diamond":i.moveTo(a+7.5*n.pix,o+.5*f-5*n.pix),i.lineTo(a+2.5*n.pix,o+.5*f),i.lineTo(a+7.5*n.pix,o+.5*f+5*n.pix),i.lineTo(a+12.5*n.pix,o+.5*f),i.lineTo(a+7.5*n.pix,o+.5*f-5*n.pix);break;case"circle":i.moveTo(a+7.5*n.pix,o+.5*f),i.arc(a+7.5*n.pix,o+.5*f,5*n.pix,0,2*Math.PI);break;case"rect":i.moveTo(a,o+.5*f-5*n.pix),i.fillRect(a,o+.5*f-5*n.pix,15*n.pix,10*n.pix);break;case"square":i.moveTo(a+2*n.pix,o+.5*f-5*n.pix),i.fillRect(a+2*n.pix,o+.5*f-5*n.pix,10*n.pix,10*n.pix);break;default:i.moveTo(a,o+.5*f-5*n.pix),i.fillRect(a,o+.5*f-5*n.pix,15*n.pix,10*n.pix)}i.closePath(),i.fill()}})),e.forEach((function(e,n){var r=t.x+v+2*d+f+p;m&&(r=t.x-y-v+2*d+f+p);var a=t.y+h*n+(h-c)/2-1+d+c;i.beginPath(),i.setFontSize(c),i.setTextBaseline("normal"),i.setFillStyle(u.fontColor),i.fillText(e.text,r,a),i.closePath(),i.stroke()}))}}function xe(e,t,n,r,i,a){var o=e.extra.tooltip||{};o.horizentalLine&&e.tooltip&&1===r&&("line"==e.type||"area"==e.type||"column"==e.type||"mount"==e.type||"candle"==e.type||"mix"==e.type)&&ge(e,t,n),n.save(),e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&n.translate(e._scrollDistance_,0),e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&1===r&&be(e.tooltip.textList,e.tooltip.offset,e,t,n),n.restore()}function we(e,t,n,r){var i=t.chartData.xAxisData,a=i.xAxisPoints,o=i.startX,s=i.endX,u=i.eachSpacing,l="center";"bar"!=t.type&&"line"!=t.type&&"area"!=t.type&&"scatter"!=t.type&&"bubble"!=t.type||(l=t.xAxis.boundaryGap);var c=t.height-t.area[2],h=t.area[0];if(t.enableScroll&&t.xAxis.scrollShow){var d=t.height-t.area[2]+n.xAxisHeight,f=s-o,p=u*(a.length-1);"mount"==t.type&&t.extra&&t.extra.mount&&t.extra.mount.widthRatio&&t.extra.mount.widthRatio>1&&(t.extra.mount.widthRatio>2&&(t.extra.mount.widthRatio=2),p+=(t.extra.mount.widthRatio-1)*u);var v=f*f/p,m=0;t._scrollDistance_&&(m=-t._scrollDistance_*f/p),r.beginPath(),r.setLineCap("round"),r.setLineWidth(6*t.pix),r.setStrokeStyle(t.xAxis.scrollBackgroundColor||"#EFEBEF"),r.moveTo(o,d),r.lineTo(s,d),r.stroke(),r.closePath(),r.beginPath(),r.setLineCap("round"),r.setLineWidth(6*t.pix),r.setStrokeStyle(t.xAxis.scrollColor||"#A6A6A6"),r.moveTo(o+m,d),r.lineTo(o+m+v,d),r.stroke(),r.closePath(),r.setLineCap("butt")}if(r.save(),t._scrollDistance_&&0!==t._scrollDistance_&&r.translate(t._scrollDistance_,0),!0===t.xAxis.calibration&&(r.setStrokeStyle(t.xAxis.gridColor||"#cccccc"),r.setLineCap("butt"),r.setLineWidth(1*t.pix),a.forEach((function(e,n){n>0&&(r.beginPath(),r.moveTo(e-u/2,c),r.lineTo(e-u/2,c+3*t.pix),r.closePath(),r.stroke())}))),!0!==t.xAxis.disableGrid&&(r.setStrokeStyle(t.xAxis.gridColor||"#cccccc"),r.setLineCap("butt"),r.setLineWidth(1*t.pix),"dash"==t.xAxis.gridType&&r.setLineDash([t.xAxis.dashLength*t.pix,t.xAxis.dashLength*t.pix]),t.xAxis.gridEval=t.xAxis.gridEval||1,a.forEach((function(e,n){n%t.xAxis.gridEval==0&&(r.beginPath(),r.moveTo(e,c),r.lineTo(e,h),r.stroke())})),r.setLineDash([])),!0!==t.xAxis.disabled){var g=e.length;t.xAxis.labelCount&&(g=t.xAxis.itemCount?Math.ceil(e.length/t.xAxis.itemCount*t.xAxis.labelCount):t.xAxis.labelCount,g-=1);for(var y=Math.ceil(e.length/g),b=[],x=e.length,w=0;w<x;w++)w%y!==0?b.push(""):b.push(e[w]);b[x-1]=e[x-1];var S=t.xAxis.fontSize*t.pix||n.fontSize;0===n._xAxisTextAngle_?b.forEach((function(e,n){var i=t.xAxis.formatter?t.xAxis.formatter(e,n,t):e,o=-_(String(i),S,r)/2;"center"==l&&(o+=u/2);t.xAxis.scrollShow&&t.pix;var s=t._scrollDistance_||0,h="center"==l?a[n]+u/2:a[n];h-Math.abs(s)>=t.area[3]-1&&h-Math.abs(s)<=t.width-t.area[1]+1&&(r.beginPath(),r.setFontSize(S),r.setFillStyle(t.xAxis.fontColor||t.fontColor),r.fillText(String(i),a[n]+o,c+t.xAxis.marginTop*t.pix+(t.xAxis.lineHeight-t.xAxis.fontSize)*t.pix/2+t.xAxis.fontSize*t.pix),r.closePath(),r.stroke())})):b.forEach((function(e,i){var o=t.xAxis.formatter?t.xAxis.formatter(e):e,s=t._scrollDistance_||0,h="center"==l?a[i]+u/2:a[i];if(h-Math.abs(s)>=t.area[3]-1&&h-Math.abs(s)<=t.width-t.area[1]+1){r.save(),r.beginPath(),r.setFontSize(S),r.setFillStyle(t.xAxis.fontColor||t.fontColor);var d=_(String(o),S,r),f=a[i];"center"==l&&(f=a[i]+u/2);t.xAxis.scrollShow&&6*t.pix;var p=c+t.xAxis.marginTop*t.pix+S-S*Math.abs(Math.sin(n._xAxisTextAngle_));t.xAxis.rotateAngle<0?(f-=S/2,d=0):(f+=S/2,d=-d),r.translate(f,p),r.rotate(-1*n._xAxisTextAngle_),r.fillText(String(o),d,0),r.closePath(),r.stroke(),r.restore()}}))}r.restore(),t.xAxis.title&&(r.beginPath(),r.setFontSize(t.xAxis.titleFontSize*t.pix),r.setFillStyle(t.xAxis.titleFontColor),r.fillText(String(t.xAxis.title),t.width-t.area[1]+t.xAxis.titleOffsetX*t.pix,t.height-t.area[2]+t.xAxis.marginTop*t.pix+(t.xAxis.lineHeight-t.xAxis.titleFontSize)*t.pix/2+(t.xAxis.titleFontSize+t.xAxis.titleOffsetY)*t.pix),r.closePath(),r.stroke()),t.xAxis.axisLine&&(r.beginPath(),r.setStrokeStyle(t.xAxis.axisLineColor),r.setLineWidth(1*t.pix),r.moveTo(o,t.height-t.area[2]),r.lineTo(s,t.height-t.area[2]),r.stroke())}function Se(e,t,n,r){if(!0!==t.yAxis.disableGrid){var i=t.height-t.area[0]-t.area[2],a=i/t.yAxis.splitNumber,o=t.area[3],s=t.chartData.xAxisData.xAxisPoints,u=t.chartData.xAxisData.eachSpacing,l=u*(s.length-1);"mount"==t.type&&t.extra&&t.extra.mount&&t.extra.mount.widthRatio&&t.extra.mount.widthRatio>1&&(t.extra.mount.widthRatio>2&&(t.extra.mount.widthRatio=2),l+=(t.extra.mount.widthRatio-1)*u);var c=o+l,h=[],d=1;!1===t.xAxis.axisLine&&(d=0);for(var f=d;f<t.yAxis.splitNumber+1;f++)h.push(t.height-t.area[2]-a*f);r.save(),t._scrollDistance_&&0!==t._scrollDistance_&&r.translate(t._scrollDistance_,0),"dash"==t.yAxis.gridType&&r.setLineDash([t.yAxis.dashLength*t.pix,t.yAxis.dashLength*t.pix]),r.setStrokeStyle(t.yAxis.gridColor),r.setLineWidth(1*t.pix),h.forEach((function(e,t){r.beginPath(),r.moveTo(o,e),r.lineTo(c,e),r.stroke()})),r.setLineDash([]),r.restore()}}function Ae(e,t,n,r){if(!0!==t.yAxis.disabled){var i=t.height-t.area[0]-t.area[2],a=i/t.yAxis.splitNumber,o=t.area[3],s=t.width-t.area[1],u=t.height-t.area[2];r.beginPath(),r.setFillStyle(t.background),1==t.enableScroll&&t.xAxis.scrollPosition&&"left"!==t.xAxis.scrollPosition&&r.fillRect(0,0,o,u+2*t.pix),1==t.enableScroll&&t.xAxis.scrollPosition&&"right"!==t.xAxis.scrollPosition&&r.fillRect(s,0,t.width,u+2*t.pix),r.closePath(),r.stroke();var l=t.area[3],c=t.width-t.area[1],h=t.area[3]+(t.width-t.area[1]-t.area[3])/2;if(t.yAxis.data)for(var d=function(e){var o=t.yAxis.data[e];if(p=[],"categories"===o.type)for(var s=0;s<=o.categories.length;s++)p.push(t.area[0]+i/o.categories.length/2+i/o.categories.length*s);else for(var u=0;u<=t.yAxis.splitNumber;u++)p.push(t.area[0]+a*u);if(!0!==o.disabled){var d=t.chartData.yAxisData.rangesFormat[e],f=o.fontSize?o.fontSize*t.pix:n.fontSize,v=t.chartData.yAxisData.yAxisWidth[e],m=o.textAlign||"right";if(d.forEach((function(e,n){var i=p[n];r.beginPath(),r.setFontSize(f),r.setLineWidth(1*t.pix),r.setStrokeStyle(o.axisLineColor||"#cccccc"),r.setFillStyle(o.fontColor||t.fontColor);var a=0,s=4*t.pix;if("left"==v.position){switch(1==o.calibration&&(r.moveTo(l,i),r.lineTo(l-3*t.pix,i),s+=3*t.pix),m){case"left":r.setTextAlign("left"),a=l-v.width;break;case"right":r.setTextAlign("right"),a=l-s;break;default:r.setTextAlign("center"),a=l-v.width/2}r.fillText(String(e),a,i+f/2-3*t.pix)}else if("right"==v.position){switch(1==o.calibration&&(r.moveTo(c,i),r.lineTo(c+3*t.pix,i),s+=3*t.pix),m){case"left":r.setTextAlign("left"),a=c+s;break;case"right":r.setTextAlign("right"),a=c+v.width;break;default:r.setTextAlign("center"),a=c+v.width/2}r.fillText(String(e),a,i+f/2-3*t.pix)}else if("center"==v.position){switch(1==o.calibration&&(r.moveTo(h,i),r.lineTo(h-3*t.pix,i),s+=3*t.pix),m){case"left":r.setTextAlign("left"),a=h-v.width;break;case"right":r.setTextAlign("right"),a=h-s;break;default:r.setTextAlign("center"),a=h-v.width/2}r.fillText(String(e),a,i+f/2-3*t.pix)}r.closePath(),r.stroke(),r.setTextAlign("left")})),!1!==o.axisLine&&(r.beginPath(),r.setStrokeStyle(o.axisLineColor||"#cccccc"),r.setLineWidth(1*t.pix),"left"==v.position?(r.moveTo(l,t.height-t.area[2]),r.lineTo(l,t.area[0])):"right"==v.position?(r.moveTo(c,t.height-t.area[2]),r.lineTo(c,t.area[0])):"center"==v.position&&(r.moveTo(h,t.height-t.area[2]),r.lineTo(h,t.area[0])),r.stroke()),t.yAxis.showTitle){var g=o.titleFontSize*t.pix||n.fontSize,y=o.title;r.beginPath(),r.setFontSize(g),r.setFillStyle(o.titleFontColor||t.fontColor),"left"==v.position?r.fillText(y,l-_(y,g,r)/2+(o.titleOffsetX||0),t.area[0]-(10-(o.titleOffsetY||0))*t.pix):"right"==v.position?r.fillText(y,c-_(y,g,r)/2+(o.titleOffsetX||0),t.area[0]-(10-(o.titleOffsetY||0))*t.pix):"center"==v.position&&r.fillText(y,h-_(y,g,r)/2+(o.titleOffsetX||0),t.area[0]-(10-(o.titleOffsetY||0))*t.pix),r.closePath(),r.stroke()}"left"==v.position?l-=v.width+t.yAxis.padding*t.pix:c+=v.width+t.yAxis.padding*t.pix}},f=0;f<t.yAxis.data.length;f++){var p;d(f)}}}function Me(e,t,n,r,i){if(!1!==t.legend.show){var a=i.legendData,o=a.points,s=a.area,u=t.legend.padding*t.pix,l=t.legend.fontSize*t.pix,c=15*t.pix,h=5*t.pix,d=t.legend.itemGap*t.pix,f=Math.max(t.legend.lineHeight*t.pix,l);r.beginPath(),r.setLineWidth(t.legend.borderWidth*t.pix),r.setStrokeStyle(t.legend.borderColor),r.setFillStyle(t.legend.backgroundColor),r.moveTo(s.start.x,s.start.y),r.rect(s.start.x,s.start.y,s.width,s.height),r.closePath(),r.fill(),r.stroke(),o.forEach((function(e,i){var o,p=0;p=a.widthArr[i],o=a.heightArr[i];var v=0,m=0;if("top"==t.legend.position||"bottom"==t.legend.position){switch(t.legend.float){case"left":v=s.start.x+u;break;case"right":v=s.start.x+s.width-p;break;default:v=s.start.x+(s.width-p)/2}m=s.start.y+u+i*f}else p=0==i?0:a.widthArr[i-1],v=s.start.x+u+p,m=s.start.y+u+(s.height-o)/2;r.setFontSize(n.fontSize);for(var g=0;g<e.length;g++){var y=e[g];switch(y.area=[0,0,0,0],y.area[0]=v,y.area[1]=m,y.area[3]=m+f,r.beginPath(),r.setLineWidth(1*t.pix),r.setStrokeStyle(y.show?y.color:t.legend.hiddenColor),r.setFillStyle(y.show?y.color:t.legend.hiddenColor),y.legendShape){case"line":r.moveTo(v,m+.5*f-2*t.pix),r.fillRect(v,m+.5*f-2*t.pix,15*t.pix,4*t.pix);break;case"triangle":r.moveTo(v+7.5*t.pix,m+.5*f-5*t.pix),r.lineTo(v+2.5*t.pix,m+.5*f+5*t.pix),r.lineTo(v+12.5*t.pix,m+.5*f+5*t.pix),r.lineTo(v+7.5*t.pix,m+.5*f-5*t.pix);break;case"diamond":r.moveTo(v+7.5*t.pix,m+.5*f-5*t.pix),r.lineTo(v+2.5*t.pix,m+.5*f),r.lineTo(v+7.5*t.pix,m+.5*f+5*t.pix),r.lineTo(v+12.5*t.pix,m+.5*f),r.lineTo(v+7.5*t.pix,m+.5*f-5*t.pix);break;case"circle":r.moveTo(v+7.5*t.pix,m+.5*f),r.arc(v+7.5*t.pix,m+.5*f,5*t.pix,0,2*Math.PI);break;case"rect":r.moveTo(v,m+.5*f-5*t.pix),r.fillRect(v,m+.5*f-5*t.pix,15*t.pix,10*t.pix);break;case"square":r.moveTo(v+5*t.pix,m+.5*f-5*t.pix),r.fillRect(v+5*t.pix,m+.5*f-5*t.pix,10*t.pix,10*t.pix);break;case"none":break;default:r.moveTo(v,m+.5*f-5*t.pix),r.fillRect(v,m+.5*f-5*t.pix,15*t.pix,10*t.pix)}r.closePath(),r.fill(),r.stroke(),v+=c+h;var b=.5*f+.5*l-2,x=y.legendText?y.legendText:y.name;r.beginPath(),r.setFontSize(l),r.setFillStyle(y.show?t.legend.fontColor:t.legend.hiddenColor),r.fillText(x,v,m+b),r.closePath(),r.stroke(),"top"==t.legend.position||"bottom"==t.legend.position?(v+=_(x,l,r)+d,y.area[2]=v):(y.area[2]=v+_(x,l,r)+d,v-=c+h,m+=f)}}))}}function Te(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=s({},{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,ringWidth:30,customRadius:0,border:!1,borderWidth:2,borderColor:"#FFFFFF",centerColor:"#FFFFFF",linearType:"none",customColor:[]},"pie"==t.type?t.extra.pie:t.extra.ring),o={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.area[0]+(t.height-t.area[0]-t.area[2])/2};0==n.pieChartLinePadding&&(n.pieChartLinePadding=a.activeRadius*t.pix);var u=Math.min((t.width-t.area[1]-t.area[3])/2-n.pieChartLinePadding-n.pieChartTextPadding-n._pieTextMaxLength_,(t.height-t.area[0]-t.area[2])/2-n.pieChartLinePadding-n.pieChartTextPadding);u=u<10?10:u,a.customRadius>0&&(u=a.customRadius*t.pix),e=B(e,u,i);var c=a.activeRadius*t.pix;if(a.customColor=g(a.linearType,a.customColor,e,n),e=e.map((function(e){return e._start_+=a.offsetAngle*Math.PI/180,e})),e.forEach((function(e,n){t.tooltip&&t.tooltip.index==n&&(r.beginPath(),r.setFillStyle(l(e.color,a.activeOpacity||.5)),r.moveTo(o.x,o.y),r.arc(o.x,o.y,e._radius_+c,e._start_,e._start_+2*e._proportion_*Math.PI),r.closePath(),r.fill()),r.beginPath(),r.setLineWidth(a.borderWidth*t.pix),r.lineJoin="round",r.setStrokeStyle(a.borderColor);var i,s=e.color;"custom"==a.linearType&&(i=r.createCircularGradient?r.createCircularGradient(o.x,o.y,e._radius_):r.createRadialGradient(o.x,o.y,0,o.x,o.y,e._radius_),i.addColorStop(0,l(a.customColor[e.linearIndex],1)),i.addColorStop(1,l(e.color,1)),s=i);r.setFillStyle(s),r.moveTo(o.x,o.y),r.arc(o.x,o.y,e._radius_,e._start_,e._start_+2*e._proportion_*Math.PI),r.closePath(),r.fill(),1==a.border&&r.stroke()})),"ring"===t.type){var h=.6*u;"number"===typeof a.ringWidth&&a.ringWidth>0&&(h=Math.max(0,u-a.ringWidth*t.pix)),r.beginPath(),r.setFillStyle(a.centerColor),r.moveTo(o.x,o.y),r.arc(o.x,o.y,h,0,2*Math.PI),r.closePath(),r.fill()}return!1!==t.dataLabel&&1===i&&ve(e,t,n,r,0,o),1===i&&"ring"===t.type&&ue(t,n,r,o),{center:o,radius:u,series:e}}function Ee(e,t){var n=Array(2),r=20037508.34*e/180,i=Math.log(Math.tan((90+t)*Math.PI/360))/(Math.PI/180);return i=20037508.34*i/180,n[0]=r,n[1]=i,n}function ke(e,t,n,r,i,a){return{x:(t-n.xMin)*r+i,y:(n.yMax-e)*r+a}}function Ce(e,t,n){if(t[1]==n[1])return!1;if(t[1]>e[1]&&n[1]>e[1])return!1;if(t[1]<e[1]&&n[1]<e[1])return!1;if(t[1]==e[1]&&n[1]>e[1])return!1;if(n[1]==e[1]&&t[1]>e[1])return!1;if(t[0]<e[0]&&n[1]<e[1])return!1;var r=n[0]-(n[0]-t[0])*(n[1]-e[1])/(n[1]-t[1]);return!(r<e[0])}function Pe(e,t,n){for(var r=0,i=0;i<t.length;i++){var a=t[i][0];1==t.length&&(a=t[i][0]);for(var o=0;o<a.length-1;o++){var s=a[o],u=a[o+1];n&&(s=Ee(a[o][0],a[o][1]),u=Ee(a[o+1][0],a[o+1][1])),Ce(e,s,u)&&(r+=1)}}return r%2==1}function Re(e,t,n){n=0==n?1:n;for(var r=[],i=0;i<n;i++)r[i]=Math.random();return Math.floor(r.reduce((function(e,t){return e+t}))/n*(t-e))+e}function Ie(e,t,n,r){for(var i=!1,a=0;a<t.length;a++)if(t[a].area){if(!(e[3]<t[a].area[1]||e[0]>t[a].area[2]||e[1]>t[a].area[3]||e[2]<t[a].area[0])){i=!0;break}if(e[0]<0||e[1]<0||e[2]>n||e[3]>r){i=!0;break}i=!1}return i}function Oe(e,t,n){var r=e.series;switch(t){case"normal":for(var i=0;i<r.length;i++){var a=r[i].name,o=r[i].textSize*e.pix,s=_(a,o,n),u=void 0,l=void 0,c=void 0,h=0;while(1){h++,u=Re(-e.width/2,e.width/2,5)-s/2,l=Re(-e.height/2,e.height/2,5)+o/2,c=[u-5+e.width/2,l-5-o+e.height/2,u+s+5+e.width/2,l+5+e.height/2];var d=Ie(c,r,e.width,e.height);if(!d)break;if(1e3==h){c=[-100,-100,-100,-100];break}}r[i].area=c}break;case"vertical":for(var f=function(){return Math.random()>.7},p=0;p<r.length;p++){var v=r[p].name,m=r[p].textSize*e.pix,g=_(v,m,n),y=f(),b=void 0,x=void 0,w=void 0,S=void 0,A=0;while(1){A++;var M=void 0;if(y?(b=Re(-e.width/2,e.width/2,5)-g/2,x=Re(-e.height/2,e.height/2,5)+m/2,w=[x-5-g+e.width/2,-b-5+e.height/2,x+5+e.width/2,-b+m+5+e.height/2],S=[e.width-(e.width/2-e.height/2)-(-b+m+5+e.height/2)-5,e.height/2-e.width/2+(x-5-g+e.width/2)-5,e.width-(e.width/2-e.height/2)-(-b+m+5+e.height/2)+m,e.height/2-e.width/2+(x-5-g+e.width/2)+g+5],M=Ie(S,r,e.height,e.width)):(b=Re(-e.width/2,e.width/2,5)-g/2,x=Re(-e.height/2,e.height/2,5)+m/2,w=[b-5+e.width/2,x-5-m+e.height/2,b+g+5+e.width/2,x+5+e.height/2],M=Ie(w,r,e.width,e.height)),!M)break;if(1e3==A){w=[-1e3,-1e3,-1e3,-1e3];break}}y?(r[p].area=S,r[p].areav=w):r[p].area=w,r[p].rotate=y}break}return r}function Le(e,t,n,r,i,a,o){for(var s=0;s<e.length;s++){var l=e[s];if(!1!==l.labelShow){var c=void 0,h=void 0,d=void 0,f=void 0,p=l.formatter?l.formatter(l,s,e,t):u.toFixed(100*l._proportion_)+"%";p=l.labelText?l.labelText:p,"right"==i&&(c=s==e.length-1?(l.funnelArea[2]+o.x)/2:(l.funnelArea[2]+e[s+1].funnelArea[2])/2,h=c+2*a,d=l.funnelArea[1]+r/2,f=l.textSize*t.pix||t.fontSize*t.pix,n.setLineWidth(1*t.pix),n.setStrokeStyle(l.color),n.setFillStyle(l.color),n.beginPath(),n.moveTo(c,d),n.lineTo(h,d),n.stroke(),n.closePath(),n.beginPath(),n.moveTo(h,d),n.arc(h,d,2*t.pix,0,2*Math.PI),n.closePath(),n.fill(),n.beginPath(),n.setFontSize(f),n.setFillStyle(l.textColor||t.fontColor),n.fillText(p,h+5,d+f/2-2),n.closePath(),n.stroke(),n.closePath()),"left"==i&&(c=s==e.length-1?(l.funnelArea[0]+o.x)/2:(l.funnelArea[0]+e[s+1].funnelArea[0])/2,h=c-2*a,d=l.funnelArea[1]+r/2,f=l.textSize*t.pix||t.fontSize*t.pix,n.setLineWidth(1*t.pix),n.setStrokeStyle(l.color),n.setFillStyle(l.color),n.beginPath(),n.moveTo(c,d),n.lineTo(h,d),n.stroke(),n.closePath(),n.beginPath(),n.moveTo(h,d),n.arc(h,d,2,0,2*Math.PI),n.closePath(),n.fill(),n.beginPath(),n.setFontSize(f),n.setFillStyle(l.textColor||t.fontColor),n.fillText(p,h-5-_(p,f,n),d+f/2-2),n.closePath(),n.stroke(),n.closePath())}}}function De(e,t,n,r,i,a,o){for(var s=0;s<e.length;s++){var u=e[s],l=void 0,c=void 0;u.centerText&&(l=u.funnelArea[1]+r/2,c=u.centerTextSize*t.pix||t.fontSize*t.pix,n.beginPath(),n.setFontSize(c),n.setFillStyle(u.centerTextColor||"#FFFFFF"),n.fillText(u.centerText,o.x-_(u.centerText,c,n)/2,l+c/2-2),n.closePath(),n.stroke(),n.closePath())}}function Be(e,t){t.save(),t.translate(0,.5),t.restore(),t.draw()}var Ue={easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},linear:function(e){return e}};function Ne(e){this.isStop=!1,e.duration="undefined"===typeof e.duration?1e3:e.duration,e.timing=e.timing||"easeInOut";var t=function(){return"undefined"!==typeof setTimeout?function(e,t){setTimeout((function(){var t=+new Date;e(t)}),t)}:"undefined"!==typeof requestAnimationFrame?requestAnimationFrame:function(e){e(null)}}(),n=null,r=function(i){if(null===i||!0===this.isStop)return e.onProcess&&e.onProcess(1),void(e.onAnimationFinish&&e.onAnimationFinish());if(null===n&&(n=i),i-n<e.duration){var a=(i-n)/e.duration,o=Ue[e.timing];a=o(a),e.onProcess&&e.onProcess(a),t(r,17)}else e.onProcess&&e.onProcess(1),e.onAnimationFinish&&e.onAnimationFinish()};r=r.bind(this),t(r,17)}function Fe(e,t,n,r){var a=this,o=this,c=t.series;"pie"!==e&&"ring"!==e&&"mount"!==e&&"rose"!==e&&"funnel"!==e||(c=function(e,t,n){var r=[];if(e.length>0&&e[0].data.constructor.toString().indexOf("Array")>-1){t._pieSeries_=e;for(var i=e[0].data,a=0;a<i.length;a++)i[a].formatter=e[0].formatter,i[a].data=i[a].value,r.push(i[a]);t.series=r}else r=e;return r}(c,t));var h=t.categories;if("mount"===e){h=[];for(var d=0;d<c.length;d++)!1!==c[d].show&&h.push(c[d].name);t.categories=h}c=m(c,t,n);var v=t.animation?t.duration:0;o.animationInstance&&o.animationInstance.stop();var y=null;if("candle"==e){var x=s({},t.extra.candle.average);x.show?(y=function(e,t,n,r){for(var i=[],a=0;a<e.length;a++){for(var o={data:[],name:t[a],color:n[a]},s=0,u=r.length;s<u;s++)if(s<e[a])o.data.push(null);else{for(var l=0,c=0;c<e[a];c++)l+=r[s-c][1];o.data.push(+(l/e[a]).toFixed(3))}i.push(o)}return i}(x.day,x.name,x.color,c[0].data),y=m(y,t,n),t.seriesMA=y):y=t.seriesMA?t.seriesMA=m(t.seriesMA,t,n):c}else y=c;t._series_=c=C(c),t.area=new Array(4);for(var w=0;w<4;w++)t.area[w]=t.padding[w]*t.pix;var S=function(e,t,n,r,i){var a={area:{start:{x:0,y:0},end:{x:0,y:0},width:0,height:0,wholeWidth:0,wholeHeight:0},points:[],widthArr:[],heightArr:[]};if(!1===t.legend.show)return r.legendData=a,a;var o=t.legend.padding*t.pix,s=t.legend.margin*t.pix,u=t.legend.fontSize?t.legend.fontSize*t.pix:n.fontSize,l=15*t.pix,c=5*t.pix,h=Math.max(t.legend.lineHeight*t.pix,u);if("top"==t.legend.position||"bottom"==t.legend.position){for(var d=[],f=0,p=[],v=[],m=0;m<e.length;m++){var g=e[m],y=g.legendText?g.legendText:g.name,b=l+c+_(y||"undefined",u,i)+t.legend.itemGap*t.pix;f+b>t.width-t.area[1]-t.area[3]?(d.push(v),p.push(f-t.legend.itemGap*t.pix),f=b,v=[g]):(f+=b,v.push(g))}if(v.length){d.push(v),p.push(f-t.legend.itemGap*t.pix),a.widthArr=p;var x=Math.max.apply(null,p);switch(t.legend.float){case"left":a.area.start.x=t.area[3],a.area.end.x=t.area[3]+x+2*o;break;case"right":a.area.start.x=t.width-t.area[1]-x-2*o,a.area.end.x=t.width-t.area[1];break;default:a.area.start.x=(t.width-x)/2-o,a.area.end.x=(t.width+x)/2+o}a.area.width=x+2*o,a.area.wholeWidth=x+2*o,a.area.height=d.length*h+2*o,a.area.wholeHeight=d.length*h+2*o+2*s,a.points=d}}else{var w=e.length,S=t.height-t.area[0]-t.area[2]-2*s-2*o,A=Math.min(Math.floor(S/h),w);switch(a.area.height=A*h+2*o,a.area.wholeHeight=A*h+2*o,t.legend.float){case"top":a.area.start.y=t.area[0]+s,a.area.end.y=t.area[0]+s+a.area.height;break;case"bottom":a.area.start.y=t.height-t.area[2]-s-a.area.height,a.area.end.y=t.height-t.area[2]-s;break;default:a.area.start.y=(t.height-a.area.height)/2,a.area.end.y=(t.height+a.area.height)/2}for(var M=w%A===0?w/A:Math.floor(w/A+1),T=[],E=0;E<M;E++){var k=e.slice(E*A,E*A+A);T.push(k)}if(a.points=T,T.length){for(var C=0;C<T.length;C++){for(var P=T[C],R=0,I=0;I<P.length;I++){var O=l+c+_(P[I].name||"undefined",u,i)+t.legend.itemGap*t.pix;O>R&&(R=O)}a.widthArr.push(R),a.heightArr.push(P.length*h+2*o)}for(var L=0,D=0;D<a.widthArr.length;D++)L+=a.widthArr[D];a.area.width=L-t.legend.itemGap*t.pix+2*o,a.area.wholeWidth=a.area.width+o}}switch(t.legend.position){case"top":a.area.start.y=t.area[0]+s,a.area.end.y=t.area[0]+s+a.area.height;break;case"bottom":a.area.start.y=t.height-t.area[2]-a.area.height-s,a.area.end.y=t.height-t.area[2]-s;break;case"left":a.area.start.x=t.area[3],a.area.end.x=t.area[3]+a.area.width;break;case"right":a.area.start.x=t.width-t.area[1]-a.area.width,a.area.end.x=t.width-t.area[1];break}return r.legendData=a,a}(y,t,n,t.chartData,r),T=S.area.wholeHeight,E=S.area.wholeWidth;switch(t.legend.position){case"top":t.area[0]+=T;break;case"bottom":t.area[2]+=T;break;case"left":t.area[3]+=E;break;case"right":t.area[1]+=E;break}var k={},P=0;if("line"===t.type||"column"===t.type||"mount"===t.type||"area"===t.type||"mix"===t.type||"candle"===t.type||"scatter"===t.type||"bubble"===t.type||"bar"===t.type){if(k=ie(c,t,n,r),P=k.yAxisWidth,t.yAxis.showTitle){for(var R=0,re=0;re<t.yAxis.data.length;re++)R=Math.max(R,t.yAxis.data[re].titleFontSize?t.yAxis.data[re].titleFontSize*t.pix:n.fontSize);t.area[0]+=R}for(var ge=0,be=0,Ce=0;Ce<P.length;Ce++)"left"==P[Ce].position?(t.area[3]+=be>0?P[Ce].width+t.yAxis.padding*t.pix:P[Ce].width,be+=1):"right"==P[Ce].position&&(t.area[1]+=ge>0?P[Ce].width+t.yAxis.padding*t.pix:P[Ce].width,ge+=1)}else n.yAxisWidth=P;if(t.chartData.yAxisData=k,t.categories&&t.categories.length&&"radar"!==t.type&&"gauge"!==t.type&&"bar"!==t.type){t.chartData.xAxisData=Y(t.categories,t);var Pe=O(t.categories,t,0,t.chartData.xAxisData.eachSpacing,r),Re=Pe.xAxisHeight,Ie=Pe.angle;n.xAxisHeight=Re,n._xAxisTextAngle_=Ie,t.area[2]+=Re,t.chartData.categoriesData=Pe}else if("line"===t.type||"area"===t.type||"scatter"===t.type||"bubble"===t.type||"bar"===t.type){t.chartData.xAxisData=L(c,t,n,r),h=t.chartData.xAxisData.rangesFormat;var Ue=O(h,t,0,t.chartData.xAxisData.eachSpacing,r),Fe=Ue.xAxisHeight,je=Ue.angle;n.xAxisHeight=Fe,n._xAxisTextAngle_=je,t.area[2]+=Fe,t.chartData.categoriesData=Ue}else t.chartData.xAxisData={xAxisPoints:[]};if(t.enableScroll&&"right"==t.xAxis.scrollAlign&&void 0===t._scrollDistance_){var ze,He=t.chartData.xAxisData.xAxisPoints,Ge=t.chartData.xAxisData.startX,We=t.chartData.xAxisData.endX,Ve=t.chartData.xAxisData.eachSpacing,qe=Ve*(He.length-1),Xe=We-Ge;ze=Xe-qe,o.scrollOption.currentOffset=ze,o.scrollOption.startTouchX=ze,o.scrollOption.distance=0,o.scrollOption.lastMoveTime=0,t._scrollDistance_=ze}switch("pie"!==e&&"ring"!==e&&"rose"!==e||(n._pieTextMaxLength_=!1===t.dataLabel?0:function(e,t,n,r){e=B(e);for(var i=0,a=0;a<e.length;a++){var o=e[a],s=o.formatter?o.formatter(+o._proportion_.toFixed(2)):u.toFixed(100*o._proportion_)+"%";i=Math.max(i,_(s,o.textSize*r.pix||t.fontSize,n))}return i}(y,n,r,t)),e){case"word":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=s({},{type:"normal",autoColors:!0},t.extra.word);t.chartData.wordCloudData||(t.chartData.wordCloudData=Oe(t,a.type,r)),r.beginPath(),r.setFillStyle(t.background),r.rect(0,0,t.width,t.height),r.fill(),r.save();var o=t.chartData.wordCloudData;r.translate(t.width/2,t.height/2);for(var u=0;u<o.length;u++){r.save(),o[u].rotate&&r.rotate(90*Math.PI/180);var l=o[u].name,c=o[u].textSize*t.pix,h=_(l,c,r);r.beginPath(),r.setStrokeStyle(o[u].color),r.setFillStyle(o[u].color),r.setFontSize(c),o[u].rotate?o[u].areav[0]>0&&(t.tooltip&&t.tooltip.index==u?r.strokeText(l,(o[u].areav[0]+5-t.width/2)*i-h*(1-i)/2,(o[u].areav[1]+5+c-t.height/2)*i):r.fillText(l,(o[u].areav[0]+5-t.width/2)*i-h*(1-i)/2,(o[u].areav[1]+5+c-t.height/2)*i)):o[u].area[0]>0&&(t.tooltip&&t.tooltip.index==u?r.strokeText(l,(o[u].area[0]+5-t.width/2)*i-h*(1-i)/2,(o[u].area[1]+5+c-t.height/2)*i):r.fillText(l,(o[u].area[0]+5-t.width/2)*i-h*(1-i)/2,(o[u].area[1]+5+c-t.height/2)*i)),r.stroke(),r.restore()}r.restore()}(c,t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"map":r.clearRect(0,0,t.width,t.height),function(e,t,n,r){var i,a,o=s({},{border:!0,mercator:!1,borderWidth:1,active:!0,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#f04864",activeFillColor:"#facc14",activeFillOpacity:1},t.extra.map),u=e,c=function(e){for(var t,n={xMin:180,xMax:0,yMin:90,yMax:0},r=0;r<e.length;r++)for(var i=e[r].geometry.coordinates,a=0;a<i.length;a++){t=i[a],1==t.length&&(t=t[0]);for(var o=0;o<t.length;o++){var s=t[o][0],u=t[o][1],l={x:s,y:u};n.xMin=n.xMin<l.x?n.xMin:l.x,n.xMax=n.xMax>l.x?n.xMax:l.x,n.yMin=n.yMin<l.y?n.yMin:l.y,n.yMax=n.yMax>l.y?n.yMax:l.y}}return n}(u);if(o.mercator){var h=Ee(c.xMax,c.yMax),d=Ee(c.xMin,c.yMin);c.xMax=h[0],c.yMax=h[1],c.xMin=d[0],c.yMin=d[1]}for(var f=t.width/Math.abs(c.xMax-c.xMin),p=t.height/Math.abs(c.yMax-c.yMin),v=f<p?f:p,m=t.width/2-Math.abs(c.xMax-c.xMin)/2*v,g=t.height/2-Math.abs(c.yMax-c.yMin)/2*v,y=0;y<u.length;y++){r.beginPath(),r.setLineWidth(o.borderWidth*t.pix),r.setStrokeStyle(o.borderColor),r.setFillStyle(l(e[y].color,e[y].fillOpacity||o.fillOpacity)),1==o.active&&t.tooltip&&t.tooltip.index==y&&(r.setStrokeStyle(o.activeBorderColor),r.setFillStyle(l(o.activeFillColor,o.activeFillOpacity)));for(var b=u[y].geometry.coordinates,x=0;x<b.length;x++){i=b[x],1==i.length&&(i=i[0]);for(var w=0;w<i.length;w++){var S=Array(2);S=o.mercator?Ee(i[w][0],i[w][1]):i[w],a=ke(S[1],S[0],c,v,m,g),0===w?(r.beginPath(),r.moveTo(a.x,a.y)):r.lineTo(a.x,a.y)}r.fill(),1==o.border&&r.stroke()}}if(1==t.dataLabel)for(y=0;y<u.length;y++){var A=u[y].properties.centroid;if(A){o.mercator&&(A=Ee(u[y].properties.centroid[0],u[y].properties.centroid[1])),a=ke(A[1],A[0],c,v,m,g);var M=u[y].textSize*t.pix||n.fontSize,T=u[y].textColor||t.fontColor;o.active&&o.activeTextColor&&t.tooltip&&t.tooltip.index==y&&(T=o.activeTextColor);var E=u[y].properties.name;r.beginPath(),r.setFontSize(M),r.setFillStyle(T),r.fillText(E,a.x-_(E,M,r)/2,a.y+M/2),r.closePath(),r.stroke()}}t.chartData.mapData={bounds:c,scale:v,xoffset:m,yoffset:g,mercator:o.mercator},xe(t,n,r,1),r.draw()}(c,t,n,r),setTimeout((function(){a.uevent.trigger("renderComplete")}),50);break;case"funnel":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),t.chartData.funnelData=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=s({},{type:"funnel",activeWidth:10,activeOpacity:.3,border:!1,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,minSize:0,labelAlign:"right",linearType:"none",customColor:[]},t.extra.funnel),o=(t.height-t.area[0]-t.area[2])/e.length,u={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.height-t.area[2]},c=a.activeWidth*t.pix,h=Math.min((t.width-t.area[1]-t.area[3])/2-c,(t.height-t.area[0]-t.area[2])/2-c),d=U(e,h,a,o,i);if(r.save(),r.translate(u.x,u.y),a.customColor=g(a.linearType,a.customColor,e,n),"pyramid"==a.type)for(var f=0;f<d.length;f++){if(f==d.length-1){t.tooltip&&t.tooltip.index==f&&(r.beginPath(),r.setFillStyle(l(d[f].color,a.activeOpacity)),r.moveTo(-c,-o),r.lineTo(-d[f].radius-c,0),r.lineTo(d[f].radius+c,0),r.lineTo(c,-o),r.lineTo(-c,-o),r.closePath(),r.fill()),d[f].funnelArea=[u.x-d[f].radius,u.y-o*(f+1),u.x+d[f].radius,u.y-o*f],r.beginPath(),r.setLineWidth(a.borderWidth*t.pix),r.setStrokeStyle(a.borderColor);var p=l(d[f].color,a.fillOpacity);if("custom"==a.linearType){var v=r.createLinearGradient(d[f].radius,-o,-d[f].radius,-o);v.addColorStop(0,l(d[f].color,a.fillOpacity)),v.addColorStop(.5,l(a.customColor[d[f].linearIndex],a.fillOpacity)),v.addColorStop(1,l(d[f].color,a.fillOpacity)),p=v}r.setFillStyle(p),r.moveTo(0,-o),r.lineTo(-d[f].radius,0),r.lineTo(d[f].radius,0),r.lineTo(0,-o),r.closePath(),r.fill(),1==a.border&&r.stroke()}else{t.tooltip&&t.tooltip.index==f&&(r.beginPath(),r.setFillStyle(l(d[f].color,a.activeOpacity)),r.moveTo(0,0),r.lineTo(-d[f].radius-c,0),r.lineTo(-d[f+1].radius-c,-o),r.lineTo(d[f+1].radius+c,-o),r.lineTo(d[f].radius+c,0),r.lineTo(0,0),r.closePath(),r.fill()),d[f].funnelArea=[u.x-d[f].radius,u.y-o*(f+1),u.x+d[f].radius,u.y-o*f],r.beginPath(),r.setLineWidth(a.borderWidth*t.pix),r.setStrokeStyle(a.borderColor);p=l(d[f].color,a.fillOpacity);if("custom"==a.linearType){v=r.createLinearGradient(d[f].radius,-o,-d[f].radius,-o);v.addColorStop(0,l(d[f].color,a.fillOpacity)),v.addColorStop(.5,l(a.customColor[d[f].linearIndex],a.fillOpacity)),v.addColorStop(1,l(d[f].color,a.fillOpacity)),p=v}r.setFillStyle(p),r.moveTo(0,0),r.lineTo(-d[f].radius,0),r.lineTo(-d[f+1].radius,-o),r.lineTo(d[f+1].radius,-o),r.lineTo(d[f].radius,0),r.lineTo(0,0),r.closePath(),r.fill(),1==a.border&&r.stroke()}r.translate(0,-o)}else{r.translate(0,-(d.length-1)*o);for(var m=0;m<d.length;m++){if(m==d.length-1){t.tooltip&&t.tooltip.index==m&&(r.beginPath(),r.setFillStyle(l(d[m].color,a.activeOpacity)),r.moveTo(-c-a.minSize/2,0),r.lineTo(-d[m].radius-c,-o),r.lineTo(d[m].radius+c,-o),r.lineTo(c+a.minSize/2,0),r.lineTo(-c-a.minSize/2,0),r.closePath(),r.fill()),d[m].funnelArea=[u.x-d[m].radius,u.y-o,u.x+d[m].radius,u.y],r.beginPath(),r.setLineWidth(a.borderWidth*t.pix),r.setStrokeStyle(a.borderColor);p=l(d[m].color,a.fillOpacity);if("custom"==a.linearType){v=r.createLinearGradient(d[m].radius,-o,-d[m].radius,-o);v.addColorStop(0,l(d[m].color,a.fillOpacity)),v.addColorStop(.5,l(a.customColor[d[m].linearIndex],a.fillOpacity)),v.addColorStop(1,l(d[m].color,a.fillOpacity)),p=v}r.setFillStyle(p),r.moveTo(0,0),r.lineTo(-a.minSize/2,0),r.lineTo(-d[m].radius,-o),r.lineTo(d[m].radius,-o),r.lineTo(a.minSize/2,0),r.lineTo(0,0),r.closePath(),r.fill(),1==a.border&&r.stroke()}else{t.tooltip&&t.tooltip.index==m&&(r.beginPath(),r.setFillStyle(l(d[m].color,a.activeOpacity)),r.moveTo(0,0),r.lineTo(-d[m+1].radius-c,0),r.lineTo(-d[m].radius-c,-o),r.lineTo(d[m].radius+c,-o),r.lineTo(d[m+1].radius+c,0),r.lineTo(0,0),r.closePath(),r.fill()),d[m].funnelArea=[u.x-d[m].radius,u.y-o*(d.length-m),u.x+d[m].radius,u.y-o*(d.length-m-1)],r.beginPath(),r.setLineWidth(a.borderWidth*t.pix),r.setStrokeStyle(a.borderColor);p=l(d[m].color,a.fillOpacity);if("custom"==a.linearType){v=r.createLinearGradient(d[m].radius,-o,-d[m].radius,-o);v.addColorStop(0,l(d[m].color,a.fillOpacity)),v.addColorStop(.5,l(a.customColor[d[m].linearIndex],a.fillOpacity)),v.addColorStop(1,l(d[m].color,a.fillOpacity)),p=v}r.setFillStyle(p),r.moveTo(0,0),r.lineTo(-d[m+1].radius,0),r.lineTo(-d[m].radius,-o),r.lineTo(d[m].radius,-o),r.lineTo(d[m+1].radius,0),r.lineTo(0,0),r.closePath(),r.fill(),1==a.border&&r.stroke()}r.translate(0,o)}}return r.restore(),!1!==t.dataLabel&&1===i&&Le(d,t,r,o,a.labelAlign,c,u),1===i&&De(d,t,r,o,a.labelAlign,c,u),{center:u,radius:h,series:d}}(c,t,n,r,e),Me(t.series,t,n,r,t.chartData),xe(t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"line":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),Se(0,t,0,r),we(h,t,n,r);var i=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=s({},{type:"straight",width:2,activeType:"none",linearType:"none",onShadow:!1,animation:"vertical"},t.extra.line);a.width*=t.pix;var o=t.chartData.xAxisData,u=o.xAxisPoints,c=o.eachSpacing,h=[];r.save();var d=0,p=t.width+c;return t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&(r.translate(t._scrollDistance_,0),d=-t._scrollDistance_-2*c+t.area[3],p=d+(t.xAxis.itemCount+4)*c),e.forEach((function(e,o){var s,v,m;r.beginPath(),r.setStrokeStyle(e.color),r.moveTo(-1e4,-1e4),r.lineTo(-10001,-10001),r.stroke(),s=[].concat(t.chartData.yAxisData.ranges[e.index]),v=s.pop(),m=s.shift();var g=e.data,y=J(g,v,m,u,c,t,n,a,i);h.push(y);var _=I(y,e);if("dash"==e.lineType){var b=e.dashLength?e.dashLength:8;b*=t.pix,r.setLineDash([b,b])}r.beginPath();var x=e.color;if("none"!==a.linearType&&e.linearColor&&e.linearColor.length>0){for(var w=r.createLinearGradient(t.chartData.xAxisData.startX,t.height/2,t.chartData.xAxisData.endX,t.height/2),S=0;S<e.linearColor.length;S++)w.addColorStop(e.linearColor[S][0],l(e.linearColor[S][1],1));x=w}r.setStrokeStyle(x),1==a.onShadow&&e.setShadow&&e.setShadow.length>0?r.setShadow(e.setShadow[0],e.setShadow[1],e.setShadow[2],e.setShadow[3]):r.setShadow(0,0,0,"rgba(0,0,0,0)"),r.setLineWidth(a.width),_.forEach((function(e,t){if(1===e.length)r.moveTo(e[0].x,e[0].y);else{r.moveTo(e[0].x,e[0].y);var n=0;if("curve"===a.type)for(var i=0;i<e.length;i++){var o=e[i];if(0==n&&o.x>d&&(r.moveTo(o.x,o.y),n=1),i>0&&o.x>d&&o.x<p){var s=f(e,i-1);r.bezierCurveTo(s.ctrA.x,s.ctrA.y,s.ctrB.x,s.ctrB.y,o.x,o.y)}}if("straight"===a.type)for(var u=0;u<e.length;u++){var l=e[u];0==n&&l.x>d&&(r.moveTo(l.x,l.y),n=1),u>0&&l.x>d&&l.x<p&&r.lineTo(l.x,l.y)}if("step"===a.type)for(var c=0;c<e.length;c++){var h=e[c];0==n&&h.x>d&&(r.moveTo(h.x,h.y),n=1),c>0&&h.x>d&&h.x<p&&(r.lineTo(h.x,e[c-1].y),r.lineTo(h.x,h.y))}r.moveTo(e[0].x,e[0].y)}})),r.stroke(),r.setLineDash([]),!1!==t.dataPointShape&&oe(y,e.color,e.pointShape,r,t),se(y,e.color,e.pointShape,r,t,a)})),!1!==t.dataLabel&&1===i&&e.forEach((function(e,a){var o,s,l;o=[].concat(t.chartData.yAxisData.ranges[e.index]),s=o.pop(),l=o.shift();var h=e.data,d=Q(h,s,l,u,c,t,n,i);le(d,e,n,r,t)})),r.restore(),{xAxisPoints:u,calPoints:h,eachSpacing:c}}(c,t,n,r,e),a=i.xAxisPoints,o=i.calPoints,u=i.eachSpacing;t.chartData.xAxisPoints=a,t.chartData.calPoints=o,t.chartData.eachSpacing=u,Ae(0,t,n,r),!1!==t.enableMarkLine&&1===e&&me(t,0,r),Me(t.series,t,n,r,t.chartData),xe(t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"scatter":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),Se(0,t,0,r),we(h,t,n,r);var i=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=(s({},{type:"circle"},t.extra.scatter),t.chartData.xAxisData),o=a.xAxisPoints,u=a.eachSpacing,l=[];r.save();return t.width,t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&(r.translate(t._scrollDistance_,0),-t._scrollDistance_-2*u+t.area[3],t.xAxis.itemCount),e.forEach((function(e,a){var s,l,c;s=[].concat(t.chartData.yAxisData.ranges[e.index]),l=s.pop(),c=s.shift();var h=e.data,d=Q(h,l,c,o,u,t,n,i);r.beginPath(),r.setStrokeStyle(e.color),r.setFillStyle(e.color),r.setLineWidth(1*t.pix);var f=e.pointShape;if("diamond"===f)d.forEach((function(e,t){null!==e&&(r.moveTo(e.x,e.y-4.5),r.lineTo(e.x-4.5,e.y),r.lineTo(e.x,e.y+4.5),r.lineTo(e.x+4.5,e.y),r.lineTo(e.x,e.y-4.5))}));else if("circle"===f)d.forEach((function(e,n){null!==e&&(r.moveTo(e.x+2.5*t.pix,e.y),r.arc(e.x,e.y,3*t.pix,0,2*Math.PI,!1))}));else if("square"===f)d.forEach((function(e,t){null!==e&&(r.moveTo(e.x-3.5,e.y-3.5),r.rect(e.x-3.5,e.y-3.5,7,7))}));else if("triangle"===f)d.forEach((function(e,t){null!==e&&(r.moveTo(e.x,e.y-4.5),r.lineTo(e.x-4.5,e.y+4.5),r.lineTo(e.x+4.5,e.y+4.5),r.lineTo(e.x,e.y-4.5))}));else if("triangle"===f)return;r.closePath(),r.fill(),r.stroke()})),!1!==t.dataLabel&&1===i&&e.forEach((function(e,a){var s,l,c;s=[].concat(t.chartData.yAxisData.ranges[e.index]),l=s.pop(),c=s.shift();var h=e.data,d=Q(h,l,c,o,u,t,n,i);le(d,e,n,r,t)})),r.restore(),{xAxisPoints:o,calPoints:l,eachSpacing:u}}(c,t,n,r,e),a=i.xAxisPoints,o=i.calPoints,u=i.eachSpacing;t.chartData.xAxisPoints=a,t.chartData.calPoints=o,t.chartData.eachSpacing=u,Ae(0,t,n,r),!1!==t.enableMarkLine&&1===e&&me(t,0,r),Me(t.series,t,n,r,t.chartData),xe(t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"bubble":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),Se(0,t,0,r),we(h,t,n,r);var i=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=s({},{opacity:1,border:2},t.extra.bubble),o=t.chartData.xAxisData,u=o.xAxisPoints,c=o.eachSpacing,h=[];r.save();return t.width,t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&(r.translate(t._scrollDistance_,0),-t._scrollDistance_-2*c+t.area[3],t.xAxis.itemCount),e.forEach((function(e,o){var s,h,d;s=[].concat(t.chartData.yAxisData.ranges[e.index]),h=s.pop(),d=s.shift();var f=e.data,p=Q(f,h,d,u,c,t,n,i);r.beginPath(),r.setStrokeStyle(e.color),r.setLineWidth(a.border*t.pix),r.setFillStyle(l(e.color,a.opacity)),p.forEach((function(e,n){r.moveTo(e.x+e.r,e.y),r.arc(e.x,e.y,e.r*t.pix,0,2*Math.PI,!1)})),r.closePath(),r.fill(),r.stroke(),!1!==t.dataLabel&&1===i&&p.forEach((function(i,a){r.beginPath();var o=e.textSize*t.pix||n.fontSize;r.setFontSize(o),r.setFillStyle(e.textColor||"#FFFFFF"),r.setTextAlign("center"),r.fillText(String(i.t),i.x,i.y+o/2),r.closePath(),r.stroke(),r.setTextAlign("left")}))})),r.restore(),{xAxisPoints:u,calPoints:h,eachSpacing:c}}(c,t,n,r,e),a=i.xAxisPoints,o=i.calPoints,u=i.eachSpacing;t.chartData.xAxisPoints=a,t.chartData.calPoints=o,t.chartData.eachSpacing=u,Ae(0,t,n,r),!1!==t.enableMarkLine&&1===e&&me(t,0,r),Me(t.series,t,n,r,t.chartData),xe(t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"mix":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),Se(0,t,0,r),we(h,t,n,r);var a=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=t.chartData.xAxisData,u=o.xAxisPoints,c=o.eachSpacing,h=s({},{width:c/2,barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},t.extra.mix.column),d=s({},{opacity:.2,gradient:!1},t.extra.mix.area),p=s({},{width:2},t.extra.mix.line),v=t.height-t.area[2],m=[],y=0,_=0;e.forEach((function(e,t){"column"==e.type&&(_+=1)})),r.save();var b=-2,x=u.length+2,w=0,S=t.width+c;if(t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&(r.translate(t._scrollDistance_,0),b=Math.floor(-t._scrollDistance_/c)-2,x=b+t.xAxis.itemCount+4,w=-t._scrollDistance_-2*c+t.area[3],S=w+(t.xAxis.itemCount+4)*c),h.customColor=g(h.linearType,h.customColor,e,n),e.forEach((function(e,o){var s,g,A;s=[].concat(t.chartData.yAxisData.ranges[e.index]),g=s.pop(),A=s.shift();var M=e.data,T=Q(M,g,A,u,c,t,n,a);if(m.push(T),"column"==e.type){T=G(T,c,_,y,0,t);for(var E=0;E<T.length;E++){var k=T[E];if(null!==k&&E>b&&E<x){var C=k.x-k.width/2;t.height,k.y,t.area[2];r.beginPath();var P=k.color||e.color,R=k.color||e.color;if("none"!==h.linearType){var O=r.createLinearGradient(C,k.y,C,t.height-t.area[2]);"opacity"==h.linearType?(O.addColorStop(0,l(P,h.linearOpacity)),O.addColorStop(1,l(P,1))):(O.addColorStop(0,l(h.customColor[e.linearIndex],h.linearOpacity)),O.addColorStop(h.colorStop,l(h.customColor[e.linearIndex],h.linearOpacity)),O.addColorStop(1,l(P,1))),P=O}if(h.barBorderRadius&&4===h.barBorderRadius.length||h.barBorderCircle){var L=C,D=k.y,B=k.width,U=t.height-t.area[2]-k.y;h.barBorderCircle&&(h.barBorderRadius=[B/2,B/2,0,0]);var N=(0,i.default)(h.barBorderRadius,4),F=N[0],j=N[1],z=N[2],H=N[3],W=Math.min(B/2,U/2);F=F>W?W:F,j=j>W?W:j,z=z>W?W:z,H=H>W?W:H,F=F<0?0:F,j=j<0?0:j,z=z<0?0:z,H=H<0?0:H,r.arc(L+F,D+F,F,-Math.PI,-Math.PI/2),r.arc(L+B-j,D+j,j,-Math.PI/2,0),r.arc(L+B-z,D+U-z,z,0,Math.PI/2),r.arc(L+H,D+U-H,H,Math.PI/2,Math.PI)}else r.moveTo(C,k.y),r.lineTo(C+k.width,k.y),r.lineTo(C+k.width,t.height-t.area[2]),r.lineTo(C,t.height-t.area[2]),r.lineTo(C,k.y),r.setLineWidth(1),r.setStrokeStyle(R);r.setFillStyle(P),r.closePath(),r.fill()}}y+=1}if("area"==e.type)for(var V=I(T,e),q=0;q<V.length;q++){var X=V[q];if(r.beginPath(),r.setStrokeStyle(e.color),r.setStrokeStyle(l(e.color,d.opacity)),d.gradient){var Y=r.createLinearGradient(0,t.area[0],0,t.height-t.area[2]);Y.addColorStop("0",l(e.color,d.opacity)),Y.addColorStop("1.0",l("#FFFFFF",.1)),r.setFillStyle(Y)}else r.setFillStyle(l(e.color,d.opacity));if(r.setLineWidth(2*t.pix),X.length>1){var K=X[0],J=X[X.length-1];r.moveTo(K.x,K.y);var Z=0;if("curve"===e.style)for(var $=0;$<X.length;$++){var ee=X[$];if(0==Z&&ee.x>w&&(r.moveTo(ee.x,ee.y),Z=1),$>0&&ee.x>w&&ee.x<S){var te=f(X,$-1);r.bezierCurveTo(te.ctrA.x,te.ctrA.y,te.ctrB.x,te.ctrB.y,ee.x,ee.y)}}else for(var ne=0;ne<X.length;ne++){var re=X[ne];0==Z&&re.x>w&&(r.moveTo(re.x,re.y),Z=1),ne>0&&re.x>w&&re.x<S&&r.lineTo(re.x,re.y)}r.lineTo(J.x,v),r.lineTo(K.x,v),r.lineTo(K.x,K.y)}else{var ie=X[0];r.moveTo(ie.x-c/2,ie.y)}r.closePath(),r.fill()}if("line"==e.type){var ae=I(T,e);ae.forEach((function(n,i){if("dash"==e.lineType){var a=e.dashLength?e.dashLength:8;a*=t.pix,r.setLineDash([a,a])}if(r.beginPath(),r.setStrokeStyle(e.color),r.setLineWidth(p.width*t.pix),1===n.length)r.moveTo(n[0].x,n[0].y);else{r.moveTo(n[0].x,n[0].y);var o=0;if("curve"==e.style)for(var s=0;s<n.length;s++){var u=n[s];if(0==o&&u.x>w&&(r.moveTo(u.x,u.y),o=1),s>0&&u.x>w&&u.x<S){var l=f(n,s-1);r.bezierCurveTo(l.ctrA.x,l.ctrA.y,l.ctrB.x,l.ctrB.y,u.x,u.y)}}else for(var c=0;c<n.length;c++){var h=n[c];0==o&&h.x>w&&(r.moveTo(h.x,h.y),o=1),c>0&&h.x>w&&h.x<S&&r.lineTo(h.x,h.y)}r.moveTo(n[0].x,n[0].y)}r.stroke(),r.setLineDash([])}))}"point"==e.type&&(e.addPoint=!0),1==e.addPoint&&"column"!==e.type&&oe(T,e.color,e.pointShape,r,t)})),!1!==t.dataLabel&&1===a){y=0;e.forEach((function(e,i){var o,s,l;o=[].concat(t.chartData.yAxisData.ranges[e.index]),s=o.pop(),l=o.shift();var h=e.data,d=Q(h,s,l,u,c,t,n,a);"column"!==e.type?le(d,e,n,r,t):(d=G(d,c,_,y,0,t),le(d,e,n,r,t),y+=1)}))}return r.restore(),{xAxisPoints:u,calPoints:m,eachSpacing:c}}(c,t,n,r,e),o=a.xAxisPoints,u=a.calPoints,d=a.eachSpacing;t.chartData.xAxisPoints=o,t.chartData.calPoints=u,t.chartData.eachSpacing=d,Ae(0,t,n,r),!1!==t.enableMarkLine&&1===e&&me(t,0,r),Me(t.series,t,n,r,t.chartData),xe(t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"column":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),Se(0,t,0,r),we(h,t,n,r);var a=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=t.chartData.xAxisData,u=o.xAxisPoints,c=o.eachSpacing,h=s({},{type:"group",width:c/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0,labelPosition:"outside"},t.extra.column),d=[];r.save();var f=-2,p=u.length+2;return t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&(r.translate(t._scrollDistance_,0),f=Math.floor(-t._scrollDistance_/c)-2,p=f+t.xAxis.itemCount+4),t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&1===a&&ye(t.tooltip.offset.x,t,0,r,c),h.customColor=g(h.linearType,h.customColor,e,n),e.forEach((function(o,s){var v,m,g;v=[].concat(t.chartData.yAxisData.ranges[o.index]),m=v.pop(),g=v.shift();var y=t.height-t.area[0]-t.area[2],_=y*(0-m)/(g-m),b=t.height-Math.round(_)-t.area[2];o.zeroPoints=b;var x=o.data;switch(h.type){case"group":var w=Z(x,m,g,u,c,t,n,b,a),S=te(x,m,g,u,c,t,n,s,e,a);d.push(S),w=G(w,c,e.length,s,0,t);for(var A=0;A<w.length;A++){var M=w[A];if(null!==M&&A>f&&A<p){var T=M.x-M.width/2,E=t.height-M.y-t.area[2];r.beginPath();var k=M.color||o.color,C=M.color||o.color;if("none"!==h.linearType){var P=r.createLinearGradient(T,M.y,T,b);"opacity"==h.linearType?(P.addColorStop(0,l(k,h.linearOpacity)),P.addColorStop(1,l(k,1))):(P.addColorStop(0,l(h.customColor[o.linearIndex],h.linearOpacity)),P.addColorStop(h.colorStop,l(h.customColor[o.linearIndex],h.linearOpacity)),P.addColorStop(1,l(k,1))),k=P}if(h.barBorderRadius&&4===h.barBorderRadius.length||!0===h.barBorderCircle){var R=T,I=M.y>b?b:M.y,O=M.width,L=Math.abs(b-M.y);h.barBorderCircle&&(h.barBorderRadius=[O/2,O/2,0,0]),M.y>b&&(h.barBorderRadius=[0,0,O/2,O/2]);var D=(0,i.default)(h.barBorderRadius,4),B=D[0],U=D[1],N=D[2],F=D[3],j=Math.min(O/2,L/2);B=B>j?j:B,U=U>j?j:U,N=N>j?j:N,F=F>j?j:F,B=B<0?0:B,U=U<0?0:U,N=N<0?0:N,F=F<0?0:F,r.arc(R+B,I+B,B,-Math.PI,-Math.PI/2),r.arc(R+O-U,I+U,U,-Math.PI/2,0),r.arc(R+O-N,I+L-N,N,0,Math.PI/2),r.arc(R+F,I+L-F,F,Math.PI/2,Math.PI)}else r.moveTo(T,M.y),r.lineTo(T+M.width,M.y),r.lineTo(T+M.width,b),r.lineTo(T,b),r.lineTo(T,M.y),r.setLineWidth(1),r.setStrokeStyle(C);r.setFillStyle(k),r.closePath(),r.fill()}}break;case"stack":w=te(x,m,g,u,c,t,n,s,e,a);d.push(w),w=q(w,c,e.length,0,0,t);for(var z=0;z<w.length;z++){var H=w[z];if(null!==H&&z>f&&z<p){r.beginPath();k=H.color||o.color,T=H.x-H.width/2+1,E=t.height-H.y-t.area[2];var W=t.height-H.y0-t.area[2];s>0&&(E-=W),r.setFillStyle(k),r.moveTo(T,H.y),r.fillRect(T,H.y,H.width,E),r.closePath(),r.fill()}}break;case"meter":w=Q(x,m,g,u,c,t,n,a);d.push(w),w=V(w,c,e.length,s,0,t,h.meterBorder);for(var X=0;X<w.length;X++){var Y=w[X];if(null!==Y&&X>f&&X<p){r.beginPath(),0==s&&h.meterBorder>0&&(r.setStrokeStyle(o.color),r.setLineWidth(h.meterBorder*t.pix)),0==s?r.setFillStyle(h.meterFillColor):r.setFillStyle(Y.color||o.color);T=Y.x-Y.width/2,E=t.height-Y.y-t.area[2];if(h.barBorderRadius&&4===h.barBorderRadius.length||!0===h.barBorderCircle){var K=T,J=Y.y,$=Y.width,ee=b-Y.y;h.barBorderCircle&&(h.barBorderRadius=[$/2,$/2,0,0]);var ne=(0,i.default)(h.barBorderRadius,4),re=ne[0],ie=ne[1],ae=ne[2],oe=ne[3],se=Math.min($/2,ee/2);re=re>se?se:re,ie=ie>se?se:ie,ae=ae>se?se:ae,oe=oe>se?se:oe,re=re<0?0:re,ie=ie<0?0:ie,ae=ae<0?0:ae,oe=oe<0?0:oe,r.arc(K+re,J+re,re,-Math.PI,-Math.PI/2),r.arc(K+$-ie,J+ie,ie,-Math.PI/2,0),r.arc(K+$-ae,J+ee-ae,ae,0,Math.PI/2),r.arc(K+oe,J+ee-oe,oe,Math.PI/2,Math.PI),r.fill()}else r.moveTo(T,Y.y),r.lineTo(T+Y.width,Y.y),r.lineTo(T+Y.width,b),r.lineTo(T,b),r.lineTo(T,Y.y),r.fill();0==s&&h.meterBorder>0&&(r.closePath(),r.stroke())}}break}})),!1!==t.dataLabel&&1===a&&e.forEach((function(i,o){var s,l,d;s=[].concat(t.chartData.yAxisData.ranges[i.index]),l=s.pop(),d=s.shift();var f=i.data;switch(h.type){case"group":var p=Z(f,l,d,u,c,t,n,a);p=G(p,c,e.length,o,0,t),ce(p,i,n,r,t);break;case"stack":p=te(f,l,d,u,c,t,n,o,e,a);ce(p,i,n,r,t);break;case"meter":p=Q(f,l,d,u,c,t,n,a);ce(p,i,n,r,t);break}})),r.restore(),{xAxisPoints:u,calPoints:d,eachSpacing:c}}(c,t,n,r,e),o=a.xAxisPoints,u=a.calPoints,d=a.eachSpacing;t.chartData.xAxisPoints=o,t.chartData.calPoints=u,t.chartData.eachSpacing=d,Ae(0,t,n,r),!1!==t.enableMarkLine&&1===e&&me(t,0,r),Me(t.series,t,n,r,t.chartData),xe(t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"mount":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),Se(0,t,0,r),we(h,t,n,r);var a=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=t.chartData.xAxisData,u=o.xAxisPoints,c=o.eachSpacing,h=s({},{type:"mount",widthRatio:1,borderWidth:1,barBorderCircle:!1,barBorderRadius:[],linearType:"none",linearOpacity:1,customColor:[],colorStop:0},t.extra.mount);h.widthRatio=h.widthRatio<=0?0:h.widthRatio,h.widthRatio=h.widthRatio>=2?2:h.widthRatio,r.save();var d,f,p,v=-2,m=u.length+2;t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&(r.translate(t._scrollDistance_,0),v=Math.floor(-t._scrollDistance_/c)-2,m=v+t.xAxis.itemCount+4),h.customColor=g(h.linearType,h.customColor,e,n),d=[].concat(t.chartData.yAxisData.ranges[0]),f=d.pop(),p=d.shift();var y=t.height-t.area[0]-t.area[2],_=y*(0-f)/(p-f),b=t.height-Math.round(_)-t.area[2],x=$(e,f,p,u,c,t,h,b,a);switch(h.type){case"bar":for(var w=0;w<x.length;w++){var S=x[w];if(null!==S&&w>v&&w<m){var A=S.x-c*h.widthRatio/2,M=t.height-S.y-t.area[2];r.beginPath();var T=S.color||e[w].color,E=S.color||e[w].color;if("none"!==h.linearType){var k=r.createLinearGradient(A,S.y,A,b);"opacity"==h.linearType?(k.addColorStop(0,l(T,h.linearOpacity)),k.addColorStop(1,l(T,1))):(k.addColorStop(0,l(h.customColor[e[w].linearIndex],h.linearOpacity)),k.addColorStop(h.colorStop,l(h.customColor[e[w].linearIndex],h.linearOpacity)),k.addColorStop(1,l(T,1))),T=k}if(h.barBorderRadius&&4===h.barBorderRadius.length||!0===h.barBorderCircle){var C=A,P=S.y>b?b:S.y,R=S.width,I=Math.abs(b-S.y);h.barBorderCircle&&(h.barBorderRadius=[R/2,R/2,0,0]),S.y>b&&(h.barBorderRadius=[0,0,R/2,R/2]);var O=(0,i.default)(h.barBorderRadius,4),L=O[0],D=O[1],B=O[2],U=O[3],N=Math.min(R/2,I/2);L=L>N?N:L,D=D>N?N:D,B=B>N?N:B,U=U>N?N:U,L=L<0?0:L,D=D<0?0:D,B=B<0?0:B,U=U<0?0:U,r.arc(C+L,P+L,L,-Math.PI,-Math.PI/2),r.arc(C+R-D,P+D,D,-Math.PI/2,0),r.arc(C+R-B,P+I-B,B,0,Math.PI/2),r.arc(C+U,P+I-U,U,Math.PI/2,Math.PI)}else r.moveTo(A,S.y),r.lineTo(A+S.width,S.y),r.lineTo(A+S.width,b),r.lineTo(A,b),r.lineTo(A,S.y);r.setStrokeStyle(E),r.setFillStyle(T),h.borderWidth>0&&(r.setLineWidth(h.borderWidth*t.pix),r.closePath(),r.stroke()),r.fill()}}break;case"triangle":for(var F=0;F<x.length;F++){var j=x[F];if(null!==j&&F>v&&F<m){A=j.x-c*h.widthRatio/2,M=t.height-j.y-t.area[2];r.beginPath();T=j.color||e[F].color,E=j.color||e[F].color;if("none"!==h.linearType){k=r.createLinearGradient(A,j.y,A,b);"opacity"==h.linearType?(k.addColorStop(0,l(T,h.linearOpacity)),k.addColorStop(1,l(T,1))):(k.addColorStop(0,l(h.customColor[e[F].linearIndex],h.linearOpacity)),k.addColorStop(h.colorStop,l(h.customColor[e[F].linearIndex],h.linearOpacity)),k.addColorStop(1,l(T,1))),T=k}r.moveTo(A,b),r.lineTo(j.x,j.y),r.lineTo(A+j.width,b),r.setStrokeStyle(E),r.setFillStyle(T),h.borderWidth>0&&(r.setLineWidth(h.borderWidth*t.pix),r.stroke()),r.fill()}}break;case"mount":for(var z=0;z<x.length;z++){var H=x[z];if(null!==H&&z>v&&z<m){A=H.x-c*h.widthRatio/2,M=t.height-H.y-t.area[2];r.beginPath();T=H.color||e[z].color,E=H.color||e[z].color;if("none"!==h.linearType){k=r.createLinearGradient(A,H.y,A,b);"opacity"==h.linearType?(k.addColorStop(0,l(T,h.linearOpacity)),k.addColorStop(1,l(T,1))):(k.addColorStop(0,l(h.customColor[e[z].linearIndex],h.linearOpacity)),k.addColorStop(h.colorStop,l(h.customColor[e[z].linearIndex],h.linearOpacity)),k.addColorStop(1,l(T,1))),T=k}r.moveTo(A,b),r.bezierCurveTo(H.x-H.width/4,b,H.x-H.width/4,H.y,H.x,H.y),r.bezierCurveTo(H.x+H.width/4,H.y,H.x+H.width/4,b,A+H.width,b),r.setStrokeStyle(E),r.setFillStyle(T),h.borderWidth>0&&(r.setLineWidth(h.borderWidth*t.pix),r.stroke()),r.fill()}}break;case"sharp":for(var G=0;G<x.length;G++){var W=x[G];if(null!==W&&G>v&&G<m){A=W.x-c*h.widthRatio/2,M=t.height-W.y-t.area[2];r.beginPath();T=W.color||e[G].color,E=W.color||e[G].color;if("none"!==h.linearType){k=r.createLinearGradient(A,W.y,A,b);"opacity"==h.linearType?(k.addColorStop(0,l(T,h.linearOpacity)),k.addColorStop(1,l(T,1))):(k.addColorStop(0,l(h.customColor[e[G].linearIndex],h.linearOpacity)),k.addColorStop(h.colorStop,l(h.customColor[e[G].linearIndex],h.linearOpacity)),k.addColorStop(1,l(T,1))),T=k}r.moveTo(A,b),r.quadraticCurveTo(W.x-0,b-M/4,W.x,W.y),r.quadraticCurveTo(W.x+0,b-M/4,A+W.width,b),r.setStrokeStyle(E),r.setFillStyle(T),h.borderWidth>0&&(r.setLineWidth(h.borderWidth*t.pix),r.stroke()),r.fill()}}break}if(!1!==t.dataLabel&&1===a){var V,q,X;V=[].concat(t.chartData.yAxisData.ranges[0]),q=V.pop(),X=V.shift();x=$(e,q,X,u,c,t,h,b,a);he(x,e,n,r,t,b)}return r.restore(),{xAxisPoints:u,calPoints:x,eachSpacing:c}}(c,t,n,r,e),o=a.xAxisPoints,u=a.calPoints,d=a.eachSpacing;t.chartData.xAxisPoints=o,t.chartData.calPoints=u,t.chartData.eachSpacing=d,Ae(0,t,n,r),!1!==t.enableMarkLine&&1===e&&me(t,0,r),Me(t.series,t,n,r,t.chartData),xe(t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"bar":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),we(h,t,n,r);var a=function(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=[],u=(t.height-t.area[0]-t.area[2])/t.categories.length,c=0;c<t.categories.length;c++)o.push(t.area[0]+u/2+u*c);var h=s({},{type:"group",width:u/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},t.extra.bar),d=[];r.save();var f=-2,p=o.length+2;return t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&1===a&&_e(t.tooltip.offset.y,t,0,r,u),h.customColor=g(h.linearType,h.customColor,e,n),e.forEach((function(s,c){var v,m,g;v=[].concat(t.chartData.xAxisData.ranges),g=v.pop(),m=v.shift();var y=s.data;switch(h.type){case"group":var _=ee(y,m,g,o,u,t,n,a),b=ne(y,m,g,o,u,t,n,c,e,a);d.push(b),_=W(_,u,e.length,c,0,t);for(var x=0;x<_.length;x++){var w=_[x];if(null!==w&&x>f&&x<p){var S=t.area[3],A=w.y-w.width/2;w.height;r.beginPath();var M=w.color||s.color,T=w.color||s.color;if("none"!==h.linearType){var E=r.createLinearGradient(S,w.y,w.x,w.y);"opacity"==h.linearType?(E.addColorStop(0,l(M,h.linearOpacity)),E.addColorStop(1,l(M,1))):(E.addColorStop(0,l(h.customColor[s.linearIndex],h.linearOpacity)),E.addColorStop(h.colorStop,l(h.customColor[s.linearIndex],h.linearOpacity)),E.addColorStop(1,l(M,1))),M=E}if(h.barBorderRadius&&4===h.barBorderRadius.length||!0===h.barBorderCircle){var k=S,C=w.width,P=w.y-w.width/2,R=w.height;h.barBorderCircle&&(h.barBorderRadius=[C/2,C/2,0,0]);var I=(0,i.default)(h.barBorderRadius,4),O=I[0],L=I[1],D=I[2],B=I[3],U=Math.min(C/2,R/2);O=O>U?U:O,L=L>U?U:L,D=D>U?U:D,B=B>U?U:B,O=O<0?0:O,L=L<0?0:L,D=D<0?0:D,B=B<0?0:B,r.arc(k+B,P+B,B,-Math.PI,-Math.PI/2),r.arc(w.x-O,P+O,O,-Math.PI/2,0),r.arc(w.x-L,P+C-L,L,0,Math.PI/2),r.arc(k+D,P+C-D,D,Math.PI/2,Math.PI)}else r.moveTo(S,A),r.lineTo(w.x,A),r.lineTo(w.x,A+w.width),r.lineTo(S,A+w.width),r.lineTo(S,A),r.setLineWidth(1),r.setStrokeStyle(T);r.setFillStyle(M),r.closePath(),r.fill()}}break;case"stack":_=ne(y,m,g,o,u,t,n,c,e,a);d.push(_),_=X(_,u,e.length,0,0,t);for(var N=0;N<_.length;N++){var F=_[N];if(null!==F&&N>f&&N<p){r.beginPath();M=F.color||s.color,S=F.x0;r.setFillStyle(M),r.moveTo(S,F.y-F.width/2),r.fillRect(S,F.y-F.width/2,F.height,F.width),r.closePath(),r.fill()}}break}})),!1!==t.dataLabel&&1===a&&e.forEach((function(i,s){var l,c,d;l=[].concat(t.chartData.xAxisData.ranges),d=l.pop(),c=l.shift();var f=i.data;switch(h.type){case"group":var p=ee(f,c,d,o,u,t,n,a);p=W(p,u,e.length,s,0,t),de(p,i,n,r,t);break;case"stack":p=ne(f,c,d,o,u,t,n,s,e,a);de(p,i,n,r,t);break}})),{yAxisPoints:o,calPoints:d,eachSpacing:u}}(c,t,n,r,e),o=a.yAxisPoints,u=a.calPoints,d=a.eachSpacing;t.chartData.yAxisPoints=o,t.chartData.xAxisPoints=t.chartData.xAxisData.xAxisPoints,t.chartData.calPoints=u,t.chartData.eachSpacing=d,Ae(0,t,n,r),!1!==t.enableMarkLine&&1===e&&me(t,0,r),Me(t.series,t,n,r,t.chartData),xe(t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"area":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),Se(0,t,0,r),we(h,t,n,r);var i=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=s({},{type:"straight",opacity:.2,addLine:!1,width:2,gradient:!1,activeType:"none"},t.extra.area),o=t.chartData.xAxisData,u=o.xAxisPoints,c=o.eachSpacing,h=t.height-t.area[2],d=[];r.save();var p=0,v=t.width+c;return t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&(r.translate(t._scrollDistance_,0),p=-t._scrollDistance_-2*c+t.area[3],v=p+(t.xAxis.itemCount+4)*c),e.forEach((function(e,o){var s,m,g;s=[].concat(t.chartData.yAxisData.ranges[e.index]),m=s.pop(),g=s.shift();var y=e.data,_=Q(y,m,g,u,c,t,n,i);d.push(_);for(var b=I(_,e),x=0;x<b.length;x++){var w=b[x];if(r.beginPath(),r.setStrokeStyle(l(e.color,a.opacity)),a.gradient){var S=r.createLinearGradient(0,t.area[0],0,t.height-t.area[2]);S.addColorStop("0",l(e.color,a.opacity)),S.addColorStop("1.0",l("#FFFFFF",.1)),r.setFillStyle(S)}else r.setFillStyle(l(e.color,a.opacity));if(r.setLineWidth(a.width*t.pix),w.length>1){var A=w[0],M=w[w.length-1];r.moveTo(A.x,A.y);var T=0;if("curve"===a.type)for(var E=0;E<w.length;E++){var k=w[E];if(0==T&&k.x>p&&(r.moveTo(k.x,k.y),T=1),E>0&&k.x>p&&k.x<v){var C=f(w,E-1);r.bezierCurveTo(C.ctrA.x,C.ctrA.y,C.ctrB.x,C.ctrB.y,k.x,k.y)}}if("straight"===a.type)for(var P=0;P<w.length;P++){var R=w[P];0==T&&R.x>p&&(r.moveTo(R.x,R.y),T=1),P>0&&R.x>p&&R.x<v&&r.lineTo(R.x,R.y)}if("step"===a.type)for(var O=0;O<w.length;O++){var L=w[O];0==T&&L.x>p&&(r.moveTo(L.x,L.y),T=1),O>0&&L.x>p&&L.x<v&&(r.lineTo(L.x,w[O-1].y),r.lineTo(L.x,L.y))}r.lineTo(M.x,h),r.lineTo(A.x,h),r.lineTo(A.x,A.y)}else{var D=w[0];r.moveTo(D.x-c/2,D.y)}if(r.closePath(),r.fill(),a.addLine){if("dash"==e.lineType){var B=e.dashLength?e.dashLength:8;B*=t.pix,r.setLineDash([B,B])}if(r.beginPath(),r.setStrokeStyle(e.color),r.setLineWidth(a.width*t.pix),1===w.length)r.moveTo(w[0].x,w[0].y);else{r.moveTo(w[0].x,w[0].y);var U=0;if("curve"===a.type)for(var N=0;N<w.length;N++){var F=w[N];if(0==U&&F.x>p&&(r.moveTo(F.x,F.y),U=1),N>0&&F.x>p&&F.x<v){var j=f(w,N-1);r.bezierCurveTo(j.ctrA.x,j.ctrA.y,j.ctrB.x,j.ctrB.y,F.x,F.y)}}if("straight"===a.type)for(var z=0;z<w.length;z++){var H=w[z];0==U&&H.x>p&&(r.moveTo(H.x,H.y),U=1),z>0&&H.x>p&&H.x<v&&r.lineTo(H.x,H.y)}if("step"===a.type)for(var G=0;G<w.length;G++){var W=w[G];0==U&&W.x>p&&(r.moveTo(W.x,W.y),U=1),G>0&&W.x>p&&W.x<v&&(r.lineTo(W.x,w[G-1].y),r.lineTo(W.x,W.y))}r.moveTo(w[0].x,w[0].y)}r.stroke(),r.setLineDash([])}}!1!==t.dataPointShape&&oe(_,e.color,e.pointShape,r,t),se(_,e.color,e.pointShape,r,t,a,o)})),!1!==t.dataLabel&&1===i&&e.forEach((function(e,a){var o,s,l;o=[].concat(t.chartData.yAxisData.ranges[e.index]),s=o.pop(),l=o.shift();var h=e.data,d=Q(h,s,l,u,c,t,n,i);le(d,e,n,r,t)})),r.restore(),{xAxisPoints:u,calPoints:d,eachSpacing:c}}(c,t,n,r,e),a=i.xAxisPoints,o=i.calPoints,u=i.eachSpacing;t.chartData.xAxisPoints=a,t.chartData.calPoints=o,t.chartData.eachSpacing=u,Ae(0,t,n,r),!1!==t.enableMarkLine&&1===e&&me(t,0,r),Me(t.series,t,n,r,t.chartData),xe(t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"ring":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),t.chartData.pieData=Te(c,t,n,r,e),Me(t.series,t,n,r,t.chartData),xe(t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"pie":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),t.chartData.pieData=Te(c,t,n,r,e),Me(t.series,t,n,r,t.chartData),xe(t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"rose":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),t.chartData.pieData=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=s({},{type:"area",activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF",linearType:"none",customColor:[]},t.extra.rose);0==n.pieChartLinePadding&&(n.pieChartLinePadding=a.activeRadius*t.pix);var o={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.area[0]+(t.height-t.area[0]-t.area[2])/2},u=Math.min((t.width-t.area[1]-t.area[3])/2-n.pieChartLinePadding-n.pieChartTextPadding-n._pieTextMaxLength_,(t.height-t.area[0]-t.area[2])/2-n.pieChartLinePadding-n.pieChartTextPadding);u=u<10?10:u;var c=a.minRadius||.5*u;u<c&&(u=c+10),e=N(e,a.type,c,u,i);var h=a.activeRadius*t.pix;return a.customColor=g(a.linearType,a.customColor,e,n),e=e.map((function(e){return e._start_+=(a.offsetAngle||0)*Math.PI/180,e})),e.forEach((function(e,n){t.tooltip&&t.tooltip.index==n&&(r.beginPath(),r.setFillStyle(l(e.color,a.activeOpacity||.5)),r.moveTo(o.x,o.y),r.arc(o.x,o.y,h+e._radius_,e._start_,e._start_+2*e._rose_proportion_*Math.PI),r.closePath(),r.fill()),r.beginPath(),r.setLineWidth(a.borderWidth*t.pix),r.lineJoin="round",r.setStrokeStyle(a.borderColor);var i,s=e.color;"custom"==a.linearType&&(i=r.createCircularGradient?r.createCircularGradient(o.x,o.y,e._radius_):r.createRadialGradient(o.x,o.y,0,o.x,o.y,e._radius_),i.addColorStop(0,l(a.customColor[e.linearIndex],1)),i.addColorStop(1,l(e.color,1)),s=i);r.setFillStyle(s),r.moveTo(o.x,o.y),r.arc(o.x,o.y,e._radius_,e._start_,e._start_+2*e._rose_proportion_*Math.PI),r.closePath(),r.fill(),1==a.border&&r.stroke()})),!1!==t.dataLabel&&1===i&&ve(e,t,n,r,0,o),{center:o,radius:u,series:e}}(c,t,n,r,e),Me(t.series,t,n,r,t.chartData),xe(t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"radar":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),t.chartData.radarData=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=s({},{gridColor:"#cccccc",gridType:"radar",gridEval:1,axisLabel:!1,axisLabelTofix:0,labelShow:!0,labelColor:"#666666",labelPointShow:!1,labelPointRadius:3,labelPointColor:"#cccccc",opacity:.2,gridCount:3,border:!1,borderWidth:2,linearType:"none",customColor:[]},t.extra.radar),o=M(t.categories.length),u={x:t.area[3]+(t.width-t.area[1]-t.area[3])/2,y:t.area[0]+(t.height-t.area[0]-t.area[2])/2},c=(t.width-t.area[1]-t.area[3])/2,h=(t.height-t.area[0]-t.area[2])/2,d=Math.min(c-(A(t.categories,n.fontSize,r)+n.radarLabelTextMargin),h-n.radarLabelTextMargin);d-=n.radarLabelTextMargin*t.pix,d=d<10?10:d,d=a.radius?a.radius:d,r.beginPath(),r.setLineWidth(1*t.pix),r.setStrokeStyle(a.gridColor),o.forEach((function(e,t){var n=p(d*Math.cos(e),d*Math.sin(e),u);r.moveTo(u.x,u.y),t%a.gridEval==0&&r.lineTo(n.x,n.y)})),r.stroke(),r.closePath();for(var f=function(e){var n={};if(r.beginPath(),r.setLineWidth(1*t.pix),r.setStrokeStyle(a.gridColor),"radar"==a.gridType)o.forEach((function(t,i){var o=p(d/a.gridCount*e*Math.cos(t),d/a.gridCount*e*Math.sin(t),u);0===i?(n=o,r.moveTo(o.x,o.y)):r.lineTo(o.x,o.y)})),r.lineTo(n.x,n.y);else{var i=p(d/a.gridCount*e*Math.cos(1.5),d/a.gridCount*e*Math.sin(1.5),u);r.arc(u.x,u.y,u.y-i.y,0,2*Math.PI,!1)}r.stroke(),r.closePath()},v=1;v<=a.gridCount;v++)f(v);a.customColor=g(a.linearType,a.customColor,e,n);var m=D(o,u,d,e,t,i);if(m.forEach((function(n,i){r.beginPath(),r.setLineWidth(a.borderWidth*t.pix),r.setStrokeStyle(n.color);var o,s=l(n.color,a.opacity);"custom"==a.linearType&&(o=r.createCircularGradient?r.createCircularGradient(u.x,u.y,d):r.createRadialGradient(u.x,u.y,0,u.x,u.y,d),o.addColorStop(0,l(a.customColor[e[i].linearIndex],a.opacity)),o.addColorStop(1,l(n.color,a.opacity)),s=o);if(r.setFillStyle(s),n.data.forEach((function(e,t){0===t?r.moveTo(e.position.x,e.position.y):r.lineTo(e.position.x,e.position.y)})),r.closePath(),r.fill(),!0===a.border&&r.stroke(),r.closePath(),!1!==t.dataPointShape){var c=n.data.map((function(e){return e.position}));oe(c,n.color,n.pointShape,r,t)}})),!0===a.axisLabel){var y=Math.max(a.max,Math.max.apply(null,b(e))),_=d/a.gridCount,x=t.fontSize*t.pix;r.setFontSize(x),r.setFillStyle(t.fontColor),r.setTextAlign("left");for(v=0;v<a.gridCount+1;v++){var w=v*y/a.gridCount;w=w.toFixed(a.axisLabelTofix),r.fillText(String(w),u.x+3*t.pix,u.y-v*_+x/2)}}return pe(o,d,u,t,n,r),!1!==t.dataLabel&&1===i&&(m.forEach((function(e,i){r.beginPath();var a=e.textSize*t.pix||n.fontSize;r.setFontSize(a),r.setFillStyle(e.textColor||t.fontColor),e.data.forEach((function(e,t){Math.abs(e.position.x-u.x)<2?e.position.y<u.y?(r.setTextAlign("center"),r.fillText(e.value,e.position.x,e.position.y-4)):(r.setTextAlign("center"),r.fillText(e.value,e.position.x,e.position.y+a+2)):e.position.x<u.x?(r.setTextAlign("right"),r.fillText(e.value,e.position.x-4,e.position.y+a/2-2)):(r.setTextAlign("left"),r.fillText(e.value,e.position.x+4,e.position.y+a/2-2))})),r.closePath(),r.stroke()})),r.setTextAlign("left")),{center:u,radius:d,angleList:o}}(c,t,n,r,e),Me(t.series,t,n,r,t.chartData),xe(t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"arcbar":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),t.chartData.arcbarData=function(e,t,n,r){var i,a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=s({},{startAngle:.75,endAngle:.25,type:"default",direction:"cw",lineCap:"round",width:12,gap:2,linearType:"none",customColor:[]},t.extra.arcbar);e=F(e,u,o),i=u.centerX||u.centerY?{x:u.centerX?u.centerX:t.width/2,y:u.centerY?u.centerY:t.height/2}:{x:t.width/2,y:t.height/2},u.radius?a=u.radius:(a=Math.min(i.x,i.y),a-=5*t.pix,a-=u.width/2),a=a<10?10:a,u.customColor=g(u.linearType,u.customColor,e,n);for(var c=0;c<e.length;c++){var h=e[c];r.setLineWidth(u.width*t.pix),r.setStrokeStyle(u.backgroundColor||"#E9E9E9"),r.setLineCap(u.lineCap),r.beginPath(),"default"==u.type?r.arc(i.x,i.y,a-(u.width*t.pix+u.gap*t.pix)*c,u.startAngle*Math.PI,u.endAngle*Math.PI,"ccw"==u.direction):r.arc(i.x,i.y,a-(u.width*t.pix+u.gap*t.pix)*c,0,2*Math.PI,"ccw"==u.direction),r.stroke();var d=h.color;if("custom"==u.linearType){var f=r.createLinearGradient(i.x-a,i.y,i.x+a,i.y);f.addColorStop(1,l(u.customColor[h.linearIndex],1)),f.addColorStop(0,l(h.color,1)),d=f}r.setLineWidth(u.width*t.pix),r.setStrokeStyle(d),r.setLineCap(u.lineCap),r.beginPath(),r.arc(i.x,i.y,a-(u.width*t.pix+u.gap*t.pix)*c,u.startAngle*Math.PI,h._proportion_*Math.PI,"ccw"==u.direction),r.stroke()}return ue(t,n,r,i),{center:i,radius:a,series:e}}(c,t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"gauge":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),t.chartData.gaugeData=function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=s({},{type:"default",startAngle:.75,endAngle:.25,width:15,labelOffset:13,splitLine:{fixRadius:0,splitNumber:10,width:15,color:"#FFFFFF",childNumber:5,childWidth:5},pointer:{width:15,color:"auto"}},n.extra.gauge);void 0==o.oldAngle&&(o.oldAngle=o.startAngle),void 0==o.oldData&&(o.oldData=0),e=z(e,o.startAngle,o.endAngle);var u={x:n.width/2,y:n.height/2},c=Math.min(u.x,u.y);c-=5*n.pix,c-=o.width/2,c=c<10?10:c;var h=c-o.width,d=0;if("progress"==o.type){var f=c-3*o.width;i.beginPath();var p=i.createLinearGradient(u.x,u.y-f,u.x,u.y+f);p.addColorStop("0",l(t[0].color,.3)),p.addColorStop("1.0",l("#FFFFFF",.1)),i.setFillStyle(p),i.arc(u.x,u.y,f,0,2*Math.PI,!1),i.fill(),i.setLineWidth(o.width),i.setStrokeStyle(l(t[0].color,.3)),i.setLineCap("round"),i.beginPath(),i.arc(u.x,u.y,h,o.startAngle*Math.PI,o.endAngle*Math.PI,!1),i.stroke(),d=o.endAngle<o.startAngle?2+o.endAngle-o.startAngle:o.startAngle-o.endAngle;o.splitLine.splitNumber;var v=d/o.splitLine.splitNumber/o.splitLine.childNumber,m=-c-.5*o.width-o.splitLine.fixRadius,g=-c-o.width-o.splitLine.fixRadius+o.splitLine.width;i.save(),i.translate(u.x,u.y),i.rotate((o.startAngle-1)*Math.PI);for(var y=o.splitLine.splitNumber*o.splitLine.childNumber+1,_=t[0].data*a,b=0;b<y;b++)i.beginPath(),_>b/y?i.setStrokeStyle(l(t[0].color,1)):i.setStrokeStyle(l(t[0].color,.3)),i.setLineWidth(3*n.pix),i.moveTo(m,0),i.lineTo(g,0),i.stroke(),i.rotate(v*Math.PI);i.restore(),t=j(t,o,a),i.setLineWidth(o.width),i.setStrokeStyle(t[0].color),i.setLineCap("round"),i.beginPath(),i.arc(u.x,u.y,h,o.startAngle*Math.PI,t[0]._proportion_*Math.PI,!1),i.stroke();var x=c-2.5*o.width;i.save(),i.translate(u.x,u.y),i.rotate((t[0]._proportion_-1)*Math.PI),i.beginPath(),i.setLineWidth(o.width/3);var w=i.createLinearGradient(0,.6*-x,0,.6*x);w.addColorStop("0",l("#FFFFFF",0)),w.addColorStop("0.5",l(t[0].color,1)),w.addColorStop("1.0",l("#FFFFFF",0)),i.setStrokeStyle(w),i.arc(0,0,x,.85*Math.PI,1.15*Math.PI,!1),i.stroke(),i.beginPath(),i.setLineWidth(1),i.setStrokeStyle(t[0].color),i.setFillStyle(t[0].color),i.moveTo(-x-o.width/3/2,-4),i.lineTo(-x-o.width/3/2-4,0),i.lineTo(-x-o.width/3/2,4),i.lineTo(-x-o.width/3/2,-4),i.stroke(),i.fill(),i.restore()}else{i.setLineWidth(o.width),i.setLineCap("butt");for(var S=0;S<e.length;S++){var A=e[S];i.beginPath(),i.setStrokeStyle(A.color),i.arc(u.x,u.y,c,A._startAngle_*Math.PI,A._endAngle_*Math.PI,!1),i.stroke()}i.save(),d=o.endAngle<o.startAngle?2+o.endAngle-o.startAngle:o.startAngle-o.endAngle;var M=d/o.splitLine.splitNumber,T=d/o.splitLine.splitNumber/o.splitLine.childNumber,E=-c-.5*o.width-o.splitLine.fixRadius,k=-c-.5*o.width-o.splitLine.fixRadius+o.splitLine.width,C=-c-.5*o.width-o.splitLine.fixRadius+o.splitLine.childWidth;i.translate(u.x,u.y),i.rotate((o.startAngle-1)*Math.PI);for(var P=0;P<o.splitLine.splitNumber+1;P++)i.beginPath(),i.setStrokeStyle(o.splitLine.color),i.setLineWidth(2*n.pix),i.moveTo(E,0),i.lineTo(k,0),i.stroke(),i.rotate(M*Math.PI);i.restore(),i.save(),i.translate(u.x,u.y),i.rotate((o.startAngle-1)*Math.PI);for(var R=0;R<o.splitLine.splitNumber*o.splitLine.childNumber+1;R++)i.beginPath(),i.setStrokeStyle(o.splitLine.color),i.setLineWidth(1*n.pix),i.moveTo(E,0),i.lineTo(C,0),i.stroke(),i.rotate(T*Math.PI);i.restore(),t=H(t,e,o,a);for(var I=0;I<t.length;I++){var O=t[I];i.save(),i.translate(u.x,u.y),i.rotate((O._proportion_-1)*Math.PI),i.beginPath(),i.setFillStyle(O.color),i.moveTo(o.pointer.width,0),i.lineTo(0,-o.pointer.width/2),i.lineTo(-h,0),i.lineTo(0,o.pointer.width/2),i.lineTo(o.pointer.width,0),i.closePath(),i.fill(),i.beginPath(),i.setFillStyle("#FFFFFF"),i.arc(0,0,o.pointer.width/6,0,2*Math.PI,!1),i.fill(),i.restore()}!1!==n.dataLabel&&fe(o,c,u,n,r,i)}return ue(n,r,i,u),1===a&&"gauge"===n.type&&(n.extra.gauge.oldAngle=t[0]._proportion_,n.extra.gauge.oldData=t[0].data),{center:u,radius:c,innerRadius:h,categories:e,totalAngle:d}}(h,c,t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break;case"candle":this.animationInstance=new Ne({timing:t.timing,duration:v,onProcess:function(e){r.clearRect(0,0,t.width,t.height),t.rotate&&ae(r,t),Se(0,t,0,r),we(h,t,n,r);var i=function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=s({},{color:{},average:{}},n.extra.candle);o.color=s({},{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},o.color),o.average=s({},{show:!1,name:[],day:[],color:r.color},o.average),n.extra.candle=o;var u=n.chartData.xAxisData,l=u.xAxisPoints,c=u.eachSpacing,h=[];i.save();var d=-2,p=l.length+2,v=0,m=n.width+c;return n._scrollDistance_&&0!==n._scrollDistance_&&!0===n.enableScroll&&(i.translate(n._scrollDistance_,0),d=Math.floor(-n._scrollDistance_/c)-2,p=d+n.xAxis.itemCount+4,v=-n._scrollDistance_-2*c+n.area[3],m=v+(n.xAxis.itemCount+4)*c),(o.average.show||t)&&t.forEach((function(e,t){var o,s,u;o=[].concat(n.chartData.yAxisData.ranges[e.index]),s=o.pop(),u=o.shift();for(var h=e.data,d=Q(h,s,u,l,c,n,r,a),p=I(d,e),g=0;g<p.length;g++){var y=p[g];if(i.beginPath(),i.setStrokeStyle(e.color),i.setLineWidth(1),1===y.length)i.moveTo(y[0].x,y[0].y),i.arc(y[0].x,y[0].y,1,0,2*Math.PI);else{i.moveTo(y[0].x,y[0].y);for(var _=0,b=0;b<y.length;b++){var x=y[b];if(0==_&&x.x>v&&(i.moveTo(x.x,x.y),_=1),b>0&&x.x>v&&x.x<m){var w=f(y,b-1);i.bezierCurveTo(w.ctrA.x,w.ctrA.y,w.ctrB.x,w.ctrB.y,x.x,x.y)}}i.moveTo(y[0].x,y[0].y)}i.closePath(),i.stroke()}})),e.forEach((function(e,t){var s,u,f;s=[].concat(n.chartData.yAxisData.ranges[e.index]),u=s.pop(),f=s.shift();var v=e.data,m=K(v,u,f,l,c,n,r,a);h.push(m);for(var g=I(m,e),y=0;y<g[0].length;y++)if(y>d&&y<p){var _=g[0][y];i.beginPath(),v[y][1]-v[y][0]>0?(i.setStrokeStyle(o.color.upLine),i.setFillStyle(o.color.upFill),i.setLineWidth(1*n.pix),i.moveTo(_[3].x,_[3].y),i.lineTo(_[1].x,_[1].y),i.lineTo(_[1].x-c/4,_[1].y),i.lineTo(_[0].x-c/4,_[0].y),i.lineTo(_[0].x,_[0].y),i.lineTo(_[2].x,_[2].y),i.lineTo(_[0].x,_[0].y),i.lineTo(_[0].x+c/4,_[0].y),i.lineTo(_[1].x+c/4,_[1].y),i.lineTo(_[1].x,_[1].y),i.moveTo(_[3].x,_[3].y)):(i.setStrokeStyle(o.color.downLine),i.setFillStyle(o.color.downFill),i.setLineWidth(1*n.pix),i.moveTo(_[3].x,_[3].y),i.lineTo(_[0].x,_[0].y),i.lineTo(_[0].x-c/4,_[0].y),i.lineTo(_[1].x-c/4,_[1].y),i.lineTo(_[1].x,_[1].y),i.lineTo(_[2].x,_[2].y),i.lineTo(_[1].x,_[1].y),i.lineTo(_[1].x+c/4,_[1].y),i.lineTo(_[0].x+c/4,_[0].y),i.lineTo(_[0].x,_[0].y),i.moveTo(_[3].x,_[3].y)),i.closePath(),i.fill(),i.stroke()}})),i.restore(),{xAxisPoints:l,calPoints:h,eachSpacing:c}}(c,y,t,n,r,e),a=i.xAxisPoints,o=i.calPoints,u=i.eachSpacing;t.chartData.xAxisPoints=a,t.chartData.calPoints=o,t.chartData.eachSpacing=u,Ae(0,t,n,r),!1!==t.enableMarkLine&&1===e&&me(t,0,r),Me(y?0:t.series,t,n,r,t.chartData),xe(t,n,r,e),Be(0,r)},onAnimationFinish:function(){o.uevent.trigger("renderComplete")}});break}}function je(){this.events={}}Ne.prototype.stop=function(){this.isStop=!0},je.prototype.addEventListener=function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},je.prototype.delEventListener=function(e){this.events[e]=[]},je.prototype.trigger=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t.slice(1);this.events[r]&&this.events[r].forEach((function(e){try{e.apply(null,i)}catch(t){}}))};var ze=function(e){e.pix=e.pixelRatio?e.pixelRatio:1,e.fontSize=e.fontSize?e.fontSize:13,e.fontColor=e.fontColor?e.fontColor:o.fontColor,""!=e.background&&"none"!=e.background||(e.background="#FFFFFF"),e.title=s({},e.title),e.subtitle=s({},e.subtitle),e.duration=e.duration?e.duration:1e3,e.yAxis=s({},{data:[],showTitle:!1,disabled:!1,disableGrid:!1,gridSet:"number",splitNumber:5,gridType:"solid",dashLength:4*e.pix,gridColor:"#cccccc",padding:10,fontColor:"#666666"},e.yAxis),e.xAxis=s({},{rotateLabel:!1,rotateAngle:45,disabled:!1,disableGrid:!1,splitNumber:5,calibration:!1,fontColor:"#666666",fontSize:13,lineHeight:20,marginTop:0,gridType:"solid",dashLength:4,scrollAlign:"left",boundaryGap:"center",axisLine:!0,axisLineColor:"#cccccc",titleFontSize:13,titleOffsetY:0,titleOffsetX:0,titleFontColor:"#666666"},e.xAxis),e.xAxis.scrollPosition=e.xAxis.scrollAlign,e.legend=s({},{show:!0,position:"bottom",float:"center",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0,padding:5,margin:5,itemGap:10,fontSize:e.fontSize,lineHeight:e.fontSize,fontColor:e.fontColor,formatter:{},hiddenColor:"#CECECE"},e.legend),e.extra=s({tooltip:{legendShape:"auto"}},e.extra),e.rotate=!!e.rotate,e.animation=!!e.animation,e.rotate=!!e.rotate,e.canvas2d=!!e.canvas2d;var t=s({},o);if(t.color=e.color?e.color:t.color,"pie"==e.type&&(t.pieChartLinePadding=!1===e.dataLabel?0:e.extra.pie.labelWidth*e.pix||t.pieChartLinePadding*e.pix),"ring"==e.type&&(t.pieChartLinePadding=!1===e.dataLabel?0:e.extra.ring.labelWidth*e.pix||t.pieChartLinePadding*e.pix),"rose"==e.type&&(t.pieChartLinePadding=!1===e.dataLabel?0:e.extra.rose.labelWidth*e.pix||t.pieChartLinePadding*e.pix),t.pieChartTextPadding=!1===e.dataLabel?0:t.pieChartTextPadding*e.pix,t.rotate=e.rotate,e.rotate){var n=e.width,r=e.height;e.width=r,e.height=n}if(e.padding=e.padding?e.padding:t.padding,t.yAxisWidth=o.yAxisWidth*e.pix,t.fontSize=e.fontSize*e.pix,t.titleFontSize=o.titleFontSize*e.pix,t.subtitleFontSize=o.subtitleFontSize*e.pix,!e.context)throw new Error("[uCharts] \u672a\u83b7\u53d6\u5230context\uff01\u6ce8\u610f\uff1av2.0\u7248\u672c\u540e\uff0c\u9700\u8981\u81ea\u884c\u83b7\u53d6canvas\u7684\u7ed8\u56fe\u4e0a\u4e0b\u6587\u5e76\u4f20\u5165opts.context\uff01");this.context=e.context,this.context.setTextAlign||(this.context.setStrokeStyle=function(e){return this.strokeStyle=e},this.context.setLineWidth=function(e){return this.lineWidth=e},this.context.setLineCap=function(e){return this.lineCap=e},this.context.setFontSize=function(e){return this.font=e+"px sans-serif"},this.context.setFillStyle=function(e){return this.fillStyle=e},this.context.setTextAlign=function(e){return this.textAlign=e},this.context.setTextBaseline=function(e){return this.textBaseline=e},this.context.setShadow=function(e,t,n,r){this.shadowColor=r,this.shadowOffsetX=e,this.shadowOffsetY=t,this.shadowBlur=n},this.context.draw=function(){}),this.context.setLineDash||(this.context.setLineDash=function(e){}),e.chartData={},this.uevent=new je,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0},this.opts=e,this.config=t,Fe.call(this,e.type,e,t,this.context)};ze.prototype.updateData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=s({},this.opts,e),this.opts.updateData=!0;var t=e.scrollPosition||"current";switch(t){case"current":this.opts._scrollDistance_=this.scrollOption.currentOffset;break;case"left":this.opts._scrollDistance_=0,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0};break;case"right":var n=ie(this.opts.series,this.opts,this.config,this.context),r=n.yAxisWidth;this.config.yAxisWidth=r;var i=0,a=Y(this.opts.categories,this.opts,this.config),o=a.xAxisPoints,u=a.startX,l=a.endX,c=a.eachSpacing,h=c*(o.length-1),d=l-u;i=d-h,this.scrollOption={currentOffset:i,startTouchX:i,distance:0,lastMoveTime:0},this.opts._scrollDistance_=i;break}Fe.call(this,this.opts.type,this.opts,this.config,this.context)},ze.prototype.zoom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.opts.xAxis.itemCount;if(!0===this.opts.enableScroll){var n=Math.round(Math.abs(this.scrollOption.currentOffset)/this.opts.chartData.eachSpacing)+Math.round(this.opts.xAxis.itemCount/2);this.opts.animation=!1,this.opts.xAxis.itemCount=t.itemCount;var r=ie(this.opts.series,this.opts,this.config,this.context),i=r.yAxisWidth;this.config.yAxisWidth=i;var a=0,o=Y(this.opts.categories,this.opts,this.config),s=o.xAxisPoints,u=o.startX,l=o.endX,c=o.eachSpacing,d=c*n,f=l-u,p=f-c*(s.length-1);a=f/2-d,a>0&&(a=0),a<p&&(a=p),this.scrollOption={currentOffset:a,startTouchX:0,distance:0,lastMoveTime:0},h(this,a,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=a,Fe.call(this,this.opts.type,this.opts,this.config,this.context)}else e("log","[uCharts] \u8bf7\u542f\u7528\u6eda\u52a8\u6761\u540e\u4f7f\u7528"," at uni_modules/qiun-data-charts/js_sdk/u-charts/u-charts.js:7193")},ze.prototype.dobuleZoom=function(t){if(!0===this.opts.enableScroll){var n=t.changedTouches;if(!(n.length<2)){for(var r=0;r<n.length;r++)n[r].x=n[r].x?n[r].x:n[r].clientX,n[r].y=n[r].y?n[r].y:n[r].clientY;var i=[w(n[0],this.opts,t),w(n[1],this.opts,t)],a=Math.abs(i[0].x-i[1].x);if(!this.scrollOption.moveCount){var o={changedTouches:[{x:n[0].x,y:this.opts.area[0]/this.opts.pix+2}]},s={changedTouches:[{x:n[1].x,y:this.opts.area[0]/this.opts.pix+2}]};this.opts.rotate&&(o={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:n[0].y}]},s={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:n[1].y}]});var u=this.getCurrentDataIndex(o).index,l=this.getCurrentDataIndex(s).index,c=Math.abs(u-l);return this.scrollOption.moveCount=c,this.scrollOption.moveCurrent1=Math.min(u,l),void(this.scrollOption.moveCurrent2=Math.max(u,l))}var d=a/this.scrollOption.moveCount,f=(this.opts.width-this.opts.area[1]-this.opts.area[3])/d;f=f<=2?2:f,f=f>=this.opts.categories.length?this.opts.categories.length:f,this.opts.animation=!1,this.opts.xAxis.itemCount=f;var p=0,v=Y(this.opts.categories,this.opts,this.config),m=v.xAxisPoints,g=v.startX,y=v.endX,_=v.eachSpacing,b=_*this.scrollOption.moveCurrent1,x=y-g,S=x-_*(m.length-1);p=-b+Math.min(i[0].x,i[1].x)-this.opts.area[3]-_,p>0&&(p=0),p<S&&(p=S),this.scrollOption.currentOffset=p,this.scrollOption.startTouchX=0,this.scrollOption.distance=0,h(this,p,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=p,Fe.call(this,this.opts.type,this.opts,this.config,this.context)}}else e("log","[uCharts] \u8bf7\u542f\u7528\u6eda\u52a8\u6761\u540e\u4f7f\u7528"," at uni_modules/qiun-data-charts/js_sdk/u-charts/u-charts.js:7233")},ze.prototype.stopAnimation=function(){this.animationInstance&&this.animationInstance.stop()},ze.prototype.addEventListener=function(e,t){this.uevent.addEventListener(e,t)},ze.prototype.delEventListener=function(e){this.uevent.delEventListener(e)},ze.prototype.getCurrentDataIndex=function(e){var t=null;if(t=e.changedTouches?e.changedTouches[0]:e.mp.changedTouches[0],t){var n=w(t,this.opts,e);return"pie"===this.opts.type||"ring"===this.opts.type?function(e,t,n){var r=-1,i=B(t.series);if(t&&t.center&&R(e,t.center,t.radius)){var a=Math.atan2(t.center.y-e.y,e.x-t.center.x);a=-a,n.extra.pie&&n.extra.pie.offsetAngle&&(a-=n.extra.pie.offsetAngle*Math.PI/180),n.extra.ring&&n.extra.ring.offsetAngle&&(a-=n.extra.ring.offsetAngle*Math.PI/180);for(var o=0,s=i.length;o<s;o++)if(d(a,i[o]._start_,i[o]._start_+2*i[o]._proportion_*Math.PI)){r=o;break}}return r}({x:n.x,y:n.y},this.opts.chartData.pieData,this.opts):"rose"===this.opts.type?function(e,t,n){var r=-1,i=N(n._series_,n.extra.rose.type,t.radius,t.radius);if(t&&t.center&&R(e,t.center,t.radius)){var a=Math.atan2(t.center.y-e.y,e.x-t.center.x);a=-a,n.extra.rose&&n.extra.rose.offsetAngle&&(a-=n.extra.rose.offsetAngle*Math.PI/180);for(var o=0,s=i.length;o<s;o++)if(d(a,i[o]._start_,i[o]._start_+2*i[o]._rose_proportion_*Math.PI)){r=o;break}}return r}({x:n.x,y:n.y},this.opts.chartData.pieData,this.opts):"radar"===this.opts.type?function(e,t,n){var r=2*Math.PI/n,i=-1;if(R(e,t.center,t.radius)){var a=function(e){return e<0&&(e+=2*Math.PI),e>2*Math.PI&&(e-=2*Math.PI),e},o=Math.atan2(t.center.y-e.y,e.x-t.center.x);o*=-1,o<0&&(o+=2*Math.PI);var s=t.angleList.map((function(e){return e=a(-1*e),e}));s.forEach((function(e,t){var n=a(e-r/2),s=a(e+r/2);s<n&&(s+=2*Math.PI),(o>=n&&o<=s||o+2*Math.PI>=n&&o+2*Math.PI<=s)&&(i=t)}))}return i}({x:n.x,y:n.y},this.opts.chartData.radarData,this.opts.categories.length):"funnel"===this.opts.type?function(e,t){for(var n=-1,r=0,i=t.series.length;r<i;r++){var a=t.series[r];if(e.x>a.funnelArea[0]&&e.x<a.funnelArea[2]&&e.y>a.funnelArea[1]&&e.y<a.funnelArea[3]){n=r;break}}return n}({x:n.x,y:n.y},this.opts.chartData.funnelData):"map"===this.opts.type?function(e,t){for(var n=-1,r=t.chartData.mapData,i=t.series,a=function(e,t,n,r,i,a){return{x:(t-i)/r+n.xMin,y:n.yMax-(e-a)/r}}(e.y,e.x,r.bounds,r.scale,r.xoffset,r.yoffset),o=[a.x,a.y],s=0,u=i.length;s<u;s++){var l=i[s].geometry.coordinates;if(Pe(o,l,t.chartData.mapData.mercator)){n=s;break}}return n}({x:n.x,y:n.y},this.opts):"word"===this.opts.type?function(e,t){for(var n=-1,r=0,i=t.length;r<i;r++){var a=t[r];if(e.x>a.area[0]&&e.x<a.area[2]&&e.y>a.area[1]&&e.y<a.area[3]){n=r;break}}return n}({x:n.x,y:n.y},this.opts.chartData.wordCloudData):"bar"===this.opts.type?function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a={index:-1,group:[]},o=n.chartData.eachSpacing/2,s=n.chartData.yAxisPoints;return t&&t.length>0&&P(e,n,r)&&s.forEach((function(t,n){e.y+i+o>t&&(a.index=n)})),a}({x:n.x,y:n.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset)):function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a={index:-1,group:[]},o=n.chartData.eachSpacing/2,s=[];if(t&&t.length>0){if(n.categories){for(var u=1;u<n.chartData.xAxisPoints.length;u++)s.push(n.chartData.xAxisPoints[u]-o);"line"!=n.type&&"area"!=n.type||"justify"!=n.xAxis.boundaryGap||(s=n.chartData.xAxisPoints)}else o=0;if(P(e,n,r))if(n.categories)s.forEach((function(t,n){e.x+i+o>t&&(a.index=n)}));else{for(var l=Array(t.length),c=0;c<t.length;c++){l[c]=Array(t[c].length);for(var h=0;h<t[c].length;h++)l[c][h]=Math.abs(t[c][h].x-e.x)}for(var d=Array(l.length),f=Array(l.length),p=0;p<l.length;p++)d[p]=Math.min.apply(null,l[p]),f[p]=l[p].indexOf(d[p]);var v=Math.min.apply(null,d);a.index=[];for(var m=0;m<d.length;m++)d[m]==v&&(a.group.push(m),a.index.push(f[m]))}}return a}({x:n.x,y:n.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset))}return-1},ze.prototype.getLegendDataIndex=function(e){var t=null;if(t=e.changedTouches?e.changedTouches[0]:e.mp.changedTouches[0],t){var n=w(t,this.opts,e);return function(e,t,n){var r=-1;if(function(e,t){return e.x>t.start.x&&e.x<t.end.x&&e.y>t.start.y&&e.y<t.end.y}(e,t.area)){for(var i=t.points,a=-1,o=0,s=i.length;o<s;o++)for(var u=i[o],l=0;l<u.length;l++){a+=1;var c=u[l]["area"];if(c&&e.x>c[0]-0&&e.x<c[2]+0&&e.y>c[1]-0&&e.y<c[3]+0){r=a;break}}return r}return r}({x:n.x,y:n.y},this.opts.chartData.legendData)}return-1},ze.prototype.touchLegend=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;if(n=e.changedTouches?e.changedTouches[0]:e.mp.changedTouches[0],n){w(n,this.opts,e);var r=this.getLegendDataIndex(e);r>=0&&("candle"==this.opts.type?this.opts.seriesMA[r].show=!this.opts.seriesMA[r].show:this.opts.series[r].show=!this.opts.series[r].show,this.opts.animation=!!t.animation,this.opts._scrollDistance_=this.scrollOption.currentOffset,Fe.call(this,this.opts.type,this.opts,this.config,this.context))}},ze.prototype.showToolTip=function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null;i=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],i||e("log","[uCharts] \u672a\u83b7\u53d6\u5230event\u5750\u6807\u4fe1\u606f"," at uni_modules/qiun-data-charts/js_sdk/u-charts/u-charts.js:7411");var a=w(i,this.opts,t),o=this.scrollOption.currentOffset,u=s({},this.opts,{_scrollDistance_:o,animation:!1});if("line"===this.opts.type||"area"===this.opts.type||"column"===this.opts.type||"scatter"===this.opts.type||"bubble"===this.opts.type){var l=this.getCurrentDataIndex(t),c=void 0==r.index?l.index:r.index;if(c>-1||c.length>0){var h=S(this.opts.series,c,l.group);if(0!==h.length){var d=T(h,this.opts,c,l.group,this.opts.categories,r),f=d.textList,p=d.offset;p.y=a.y,u.tooltip={textList:void 0!==r.textList?r.textList:f,offset:void 0!==r.offset?r.offset:p,option:r,index:c,group:l.group}}}Fe.call(this,u.type,u,this.config,this.context)}if("mount"===this.opts.type){c=void 0==r.index?this.getCurrentDataIndex(t).index:r.index;if(c>-1){u=s({},this.opts,{animation:!1}),h=s({},u._series_[c]),f=[{text:r.formatter?r.formatter(h,void 0,c,u):h.name+": "+h.data,color:h.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?h.legendShape:this.opts.extra.tooltip.legendShape}],p={x:u.chartData.calPoints[c].x,y:a.y};u.tooltip={textList:r.textList?r.textList:f,offset:void 0!==r.offset?r.offset:p,option:r,index:c}}Fe.call(this,u.type,u,this.config,this.context)}if("bar"===this.opts.type){l=this.getCurrentDataIndex(t),c=void 0==r.index?l.index:r.index;if(c>-1||c.length>0){h=S(this.opts.series,c,l.group);if(0!==h.length){d=T(h,this.opts,c,l.group,this.opts.categories,r),f=d.textList,p=d.offset;p.x=a.x,u.tooltip={textList:void 0!==r.textList?r.textList:f,offset:void 0!==r.offset?r.offset:p,option:r,index:c}}}Fe.call(this,u.type,u,this.config,this.context)}if("mix"===this.opts.type){l=this.getCurrentDataIndex(t),c=void 0==r.index?l.index:r.index;if(c>-1){o=this.scrollOption.currentOffset,u=s({},this.opts,{_scrollDistance_:o,animation:!1}),h=S(this.opts.series,c);if(0!==h.length){var v=E(h,this.opts,c,this.opts.categories,r);f=v.textList,p=v.offset;p.y=a.y,u.tooltip={textList:r.textList?r.textList:f,offset:void 0!==r.offset?r.offset:p,option:r,index:c}}}Fe.call(this,u.type,u,this.config,this.context)}if("candle"===this.opts.type){l=this.getCurrentDataIndex(t),c=void 0==r.index?l.index:r.index;if(c>-1){o=this.scrollOption.currentOffset,u=s({},this.opts,{_scrollDistance_:o,animation:!1}),h=S(this.opts.series,c);if(0!==h.length){d=k(this.opts.series[0].data,h,this.opts,c,this.opts.categories,this.opts.extra.candle,r),f=d.textList,p=d.offset;p.y=a.y,u.tooltip={textList:r.textList?r.textList:f,offset:void 0!==r.offset?r.offset:p,option:r,index:c}}}Fe.call(this,u.type,u,this.config,this.context)}if("pie"===this.opts.type||"ring"===this.opts.type||"rose"===this.opts.type||"funnel"===this.opts.type){c=void 0==r.index?this.getCurrentDataIndex(t):r.index;if(c>-1){u=s({},this.opts,{animation:!1}),h=s({},u._series_[c]),f=[{text:r.formatter?r.formatter(h,void 0,c,u):h.name+": "+h.data,color:h.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?h.legendShape:this.opts.extra.tooltip.legendShape}],p={x:a.x,y:a.y};u.tooltip={textList:r.textList?r.textList:f,offset:void 0!==r.offset?r.offset:p,option:r,index:c}}Fe.call(this,u.type,u,this.config,this.context)}if("map"===this.opts.type){c=void 0==r.index?this.getCurrentDataIndex(t):r.index;if(c>-1){u=s({},this.opts,{animation:!1}),h=s({},this.opts.series[c]);h.name=h.properties.name;f=[{text:r.formatter?r.formatter(h,void 0,c,this.opts):h.name,color:h.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?h.legendShape:this.opts.extra.tooltip.legendShape}],p={x:a.x,y:a.y};u.tooltip={textList:r.textList?r.textList:f,offset:void 0!==r.offset?r.offset:p,option:r,index:c}}u.updateData=!1,Fe.call(this,u.type,u,this.config,this.context)}if("word"===this.opts.type){c=void 0==r.index?this.getCurrentDataIndex(t):r.index;if(c>-1){u=s({},this.opts,{animation:!1}),h=s({},this.opts.series[c]),f=[{text:r.formatter?r.formatter(h,void 0,c,this.opts):h.name,color:h.color,legendShape:"auto"==this.opts.extra.tooltip.legendShape?h.legendShape:this.opts.extra.tooltip.legendShape}],p={x:a.x,y:a.y};u.tooltip={textList:r.textList?r.textList:f,offset:void 0!==r.offset?r.offset:p,option:r,index:c}}u.updateData=!1,Fe.call(this,u.type,u,this.config,this.context)}if("radar"===this.opts.type){c=void 0==r.index?this.getCurrentDataIndex(t):r.index;if(c>-1){u=s({},this.opts,{animation:!1}),h=S(this.opts.series,c);if(0!==h.length){f=h.map((function(e){return{text:r.formatter?r.formatter(e,n.opts.categories[c],c,n.opts):e.name+": "+e.data,color:e.color,legendShape:"auto"==n.opts.extra.tooltip.legendShape?e.legendShape:n.opts.extra.tooltip.legendShape}})),p={x:a.x,y:a.y};u.tooltip={textList:r.textList?r.textList:f,offset:void 0!==r.offset?r.offset:p,option:r,index:c}}}Fe.call(this,u.type,u,this.config,this.context)}},ze.prototype.translate=function(e){this.scrollOption={currentOffset:e,startTouchX:e,distance:0,lastMoveTime:0};var t=s({},this.opts,{_scrollDistance_:e,animation:!1});Fe.call(this,this.opts.type,t,this.config,this.context)},ze.prototype.scrollStart=function(e){var t=null;t=e.changedTouches?e.changedTouches[0]:e.mp.changedTouches[0];var n=w(t,this.opts,e);t&&!0===this.opts.enableScroll&&(this.scrollOption.startTouchX=n.x)},ze.prototype.scroll=function(e){0===this.scrollOption.lastMoveTime&&(this.scrollOption.lastMoveTime=Date.now());var t=this.opts.touchMoveLimit||60,n=Date.now(),r=n-this.scrollOption.lastMoveTime;if(!(r<Math.floor(1e3/t))&&0!=this.scrollOption.startTouchX){this.scrollOption.lastMoveTime=n;var i=null;if(i=e.changedTouches?e.changedTouches[0]:e.mp.changedTouches[0],i&&!0===this.opts.enableScroll){var a,o=w(i,this.opts,e);a=o.x-this.scrollOption.startTouchX;var u=this.scrollOption.currentOffset,l=h(this,u+a,this.opts.chartData,this.config,this.opts);this.scrollOption.distance=a=l-u;var c=s({},this.opts,{_scrollDistance_:u+a,animation:!1});return this.opts=c,Fe.call(this,c.type,c,this.config,this.context),u+a}}},ze.prototype.scrollEnd=function(e){if(!0===this.opts.enableScroll){var t=this.scrollOption,n=t.currentOffset,r=t.distance;this.scrollOption.currentOffset=n+r,this.scrollOption.distance=0,this.scrollOption.moveCount=0}};var He=ze;t.default=He}).call(this,n("f3b9")["default"])},bd61:function(e,t,n){var r=n("b0bd");function i(e){var t,n;function i(t,n){try{var o=e[t](n),s=o.value,u=s instanceof r;Promise.resolve(u?s.v:s).then((function(n){if(u){var r="return"===t?"return":"next";if(!s.k||n.done)return i(r,n);n=e[r](n).value}a(o.done?"return":"normal",n)}),(function(e){i("throw",e)}))}catch(e){a("throw",e)}}function a(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(a,o){var s={key:e,arg:r,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,i(e,r))}))},"function"!=typeof e["return"]&&(this["return"]=void 0)}i.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype["throw"]=function(e){return this._invoke("throw",e)},i.prototype["return"]=function(e){return this._invoke("return",e)},e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},bdb3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={gap:{bgColor:"transparent",height:20,marginTop:0,marginBottom:0,customStyle:{}}}},bdbc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={image:{src:"",mode:"aspectFill",width:"300",height:"225",shape:"square",radius:0,lazyLoad:!0,showMenuByLongpress:!0,loadingIcon:"photo",errorIcon:"error-circle",showLoading:!0,showError:!0,fade:!0,webp:!1,duration:500,bgColor:"#f3f4f6"}}},bdfa:function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("8adc")),a=r(n("089d")),o={onTabItemTap:function(e){uni.$emit("tabChanged",e)},data:function(){return{}},mounted:function(){a.default.connectWebSocket()},components:{model:i.default},methods:{}};t.default=o},be94:function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("6725")),a={name:"u-tabbar-item",mixins:[uni.$u.mpMixin,uni.$u.mixin,i.default],data:function(){return{isActive:!1,parentData:{value:null,activeColor:"",inactiveColor:""}}},created:function(){this.init()},methods:{init:function(){this.updateParentData(),this.parent||uni.$u.error("u-tabbar-item\u5fc5\u987b\u642d\u914du-tabbar\u7ec4\u4ef6\u4f7f\u7528");var e=this.parent.children.indexOf(this);this.isActive=(this.name||e)===this.parentData.value},updateParentData:function(){this.getParentData("u-tabbar")},updateFromParent:function(){this.init()},clickHandler:function(){var e=this;this.$nextTick((function(){var t=e.parent.children.indexOf(e),n=e.name||t;n!==e.parent.value&&e.parent.$emit("change",n),e.$emit("click",n)}))}}};t.default=a},bedb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={radio:{name:"",shape:"",disabled:"",labelDisabled:"",activeColor:"",inactiveColor:"",iconSize:"",labelSize:"",label:"",labelColor:"",size:"",iconColor:"",placement:""}}},c09e:function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.RGBELoader=void 0;var i=r(n("67ad")),a=r(n("0bdb")),o=r(n("0670")),s=r(n("8ffa")),u=r(n("4ffb")),l=r(n("b4d2")),c=n("4e97");function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var d=function(e){(0,s.default)(n,e);var t=h(n);function n(e){var r;return(0,i.default)(this,n),r=t.call(this,e),r.type=c.HalfFloatType,r}return(0,a.default)(n,[{key:"parse",value:function(e){var t=function(e,t){switch(e){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(t||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(t||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(t||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(t||""))}},n=function(e,t,n){t=t||1024;var r=e.pos,i=-1,a=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));while(0>(i=s.indexOf("\n"))&&a<t&&r<e.byteLength)o+=s,a+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<i&&(!1!==n&&(e.pos+=a+i+1),o+s.slice(0,i))},r=function(e,t,n,r){var i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=e[t+0]*a,n[r+1]=e[t+1]*a,n[r+2]=e[t+2]*a,n[r+3]=1},i=function(e,t,n,r){var i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=c.DataUtils.toHalfFloat(Math.min(e[t+0]*a,65504)),n[r+1]=c.DataUtils.toHalfFloat(Math.min(e[t+1]*a,65504)),n[r+2]=c.DataUtils.toHalfFloat(Math.min(e[t+2]*a,65504)),n[r+3]=c.DataUtils.toHalfFloat(1)},a=new Uint8Array(e);a.pos=0;var o,s,u,l=function(e){var r,i,a=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,u=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,l={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};(e.pos>=e.byteLength||!(r=n(e)))&&t(1,"no header found"),(i=r.match(/^#\?(\S+)/))||t(3,"bad initial token"),l.valid|=1,l.programtype=i[1],l.string+=r+"\n";while(1){if(r=n(e),!1===r)break;if(l.string+=r+"\n","#"!==r.charAt(0)){if((i=r.match(a))&&(l.gamma=parseFloat(i[1])),(i=r.match(o))&&(l.exposure=parseFloat(i[1])),(i=r.match(s))&&(l.valid|=2,l.format=i[1]),(i=r.match(u))&&(l.valid|=4,l.height=parseInt(i[1],10),l.width=parseInt(i[2],10)),2&l.valid&&4&l.valid)break}else l.comments+=r+"\n"}return 2&l.valid||t(3,"missing format specifier"),4&l.valid||t(3,"missing image size specifier"),l}(a),h=l.width,d=l.height,f=function(e,n,r){var i=n;if(i<8||i>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);i!==(e[2]<<8|e[3])&&t(3,"wrong scanline width");var a=new Uint8Array(4*n*r);a.length||t(4,"unable to allocate buffer space");var o=0,s=0,u=4*i,l=new Uint8Array(4),c=new Uint8Array(u),h=r;while(h>0&&s<e.byteLength){s+4>e.byteLength&&t(1),l[0]=e[s++],l[1]=e[s++],l[2]=e[s++],l[3]=e[s++],2==l[0]&&2==l[1]&&(l[2]<<8|l[3])==i||t(3,"bad rgbe scanline format");var d=0,f=void 0;while(d<u&&s<e.byteLength){f=e[s++];var p=f>128;if(p&&(f-=128),(0===f||d+f>u)&&t(3,"bad scanline data"),p)for(var v=e[s++],m=0;m<f;m++)c[d++]=v;else c.set(e.subarray(s,s+f),d),d+=f,s+=f}for(var g=i,y=0;y<g;y++){var _=0;a[o]=c[y+_],_+=i,a[o+1]=c[y+_],_+=i,a[o+2]=c[y+_],_+=i,a[o+3]=c[y+_],o+=4}h--}return a}(a.subarray(a.pos),h,d);switch(this.type){case c.FloatType:u=f.length/4;for(var p=new Float32Array(4*u),v=0;v<u;v++)r(f,4*v,p,4*v);o=p,s=c.FloatType;break;case c.HalfFloatType:u=f.length/4;for(var m=new Uint16Array(4*u),g=0;g<u;g++)i(f,4*g,m,4*g);o=m,s=c.HalfFloatType;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:h,height:d,data:o,header:l.string,gamma:l.gamma,exposure:l.exposure,type:s}}},{key:"setDataType",value:function(e){return this.type=e,this}},{key:"load",value:function(e,t,r,i){return(0,o.default)((0,l.default)(n.prototype),"load",this).call(this,e,(function(e,n){switch(e.type){case c.FloatType:case c.HalfFloatType:e.colorSpace=c.LinearSRGBColorSpace,e.minFilter=c.LinearFilter,e.magFilter=c.LinearFilter,e.generateMipmaps=!1,e.flipY=!0;break}t&&t(e,n)}),r,i)}}]),n}(c.DataTextureLoader);t.RGBELoader=d},c0e7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"Item",data:function(){return{}},props:{type:{type:String,default:"hidden",required:!1},text:{type:String,required:!0},fuc:{type:Function,required:!0},content:{type:String,required:!1}},computed:{styleType:function(){return"show-".concat(this.type)}}};t.default=r},c1ad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={carKeyboard:{random:!1}}},c27e:function(e,t,n){"use strict";n.r(t);var r=n("e56e"),i=n("73cc");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"bdd36ef6",null,!1,r["a"],void 0);t["default"]=s.exports},c32f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={numberKeyboard:{mode:"number",dotDisabled:!1,random:!1}}},c48a:function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("7ca3")),a=r(n("4f09")),o=r(n("ad59")),s=r(n("308e")),u=r(n("876d")),l=r(n("db8f")),c=r(n("8dbf")),h=r(n("d7c1")),d=r(n("466f")),f=r(n("ae79")),p=r(n("a3aa")),v=r(n("1d93")),m=r(n("68ac")),g=r(n("4cce")),y=r(n("b7e0"));function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=b(b({route:u.default,date:f.default.timeFormat,colorGradient:l.default.colorGradient,hexToRgb:l.default.hexToRgb,rgbToHex:l.default.rgbToHex,colorToRgba:l.default.colorToRgba,test:c.default,type:["primary","success","error","warning","info"],http:new s.default,config:p.default,zIndex:m.default,debounce:h.default,throttle:d.default,mixin:a.default,mpMixin:o.default,props:v.default},f.default),{},{color:g.default,platform:y.default});uni.$u=x;var w={install:function(e){e.filter("timeFormat",(function(e,t){return uni.$u.timeFormat(e,t)})),e.filter("date",(function(e,t){return uni.$u.timeFormat(e,t)})),e.filter("timeFrom",(function(e,t){return uni.$u.timeFrom(e,t)})),e.prototype.$u=x,e.mixin(a.default)}};t.default=w},c70d:function(e,t,n){var r=n("ed45"),i=n("b893"),a=n("6382"),o=n("dd3e");e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports["default"]=e.exports},c727:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={collapse:{value:null,accordion:!1,border:!0}}},c772:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"uniCollapseItem",props:{title:{type:String,default:""},name:{type:[Number,String],default:""},disabled:{type:Boolean,default:!1},showAnimation:{type:Boolean,default:!1},open:{type:Boolean,default:!1},thumb:{type:String,default:""},titleBorder:{type:String,default:"auto"},border:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0}},data:function(){var e="Uni_".concat(Math.ceil(1e6*Math.random()).toString(36));return{isOpen:!1,isheight:null,height:0,elId:e,nameSync:0}},watch:{open:function(e){this.isOpen=e,this.onClick(e,"init")}},updated:function(e){var t=this;this.$nextTick((function(){t.init(!0)}))},created:function(){this.collapse=this.getCollapse(),this.oldHeight=0,this.onClick(this.open,"init")},destroyed:function(){this.__isUnmounted||this.uninstall()},mounted:function(){this.collapse&&(""!==this.name?this.nameSync=this.name:this.nameSync=this.collapse.childrens.length+"",-1===this.collapse.names.indexOf(this.nameSync)?this.collapse.names.push(this.nameSync):e("warn","name \u503c ".concat(this.nameSync," \u91cd\u590d")," at uni_modules/uni-collapse/components/uni-collapse-item/uni-collapse-item.vue:154"),-1===this.collapse.childrens.indexOf(this)&&this.collapse.childrens.push(this),this.init())},methods:{init:function(e){this.getCollapseHeight(e)},uninstall:function(){var e=this;this.collapse&&(this.collapse.childrens.forEach((function(t,n){t===e&&e.collapse.childrens.splice(n,1)})),this.collapse.names.forEach((function(t,n){t===e.nameSync&&e.collapse.names.splice(n,1)})))},onClick:function(e,t){this.disabled||(this.isOpen=e,this.isOpen&&this.collapse&&this.collapse.setAccordion(this),"init"!==t&&this.collapse.onChange(e,this))},getCollapseHeight:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=uni.createSelectorQuery().in(this);r.select("#".concat(this.elId)).fields({size:!0},(function(r){if(!(n>=10)){if(!r)return n++,void t.getCollapseHeight(!1,n);t.height=r.height,t.isheight=!0,e||t.onClick(t.isOpen,"init")}})).exec()},getNvueHwight:function(e){var t=this;dom.getComponentRect(this.$refs["collapse--hook"],(function(n){if(n&&n.result&&n.size){if(t.height=n.size.height,t.isheight=!0,e)return;t.onClick(t.open,"init")}}))},getCollapse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uniCollapse",t=this.$parent,n=t.$options.name;while(n!==e){if(t=t.$parent,!t)return!1;n=t.$options.name}return t}}};t.default=n}).call(this,n("f3b9")["default"])},c79d:function(e,t,n){"use strict";n.r(t);var r=n("dbea"),i=n("c951");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},c887:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={textarea:{value:"",placeholder:"",placeholderClass:"textarea-placeholder",placeholderStyle:"color: #c0c4cc",height:70,confirmType:"done",disabled:!1,count:!1,focus:!1,autoHeight:!1,fixed:!1,cursorSpacing:0,cursor:"",showConfirmBar:!0,selectionStart:-1,selectionEnd:-1,adjustPosition:!0,disableDefaultPadding:!1,holdKeyboard:!1,maxlength:140,border:"surround",formatter:null}}},c951:function(e,t,n){"use strict";n.r(t);var r=n("6699"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},c967:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={switch:{loading:!1,disabled:!1,size:25,activeColor:"#2979ff",inactiveColor:"#ffffff",value:!1,activeValue:!0,inactiveValue:!1,asyncChange:!1,space:0}}},c977:function(e,t,n){"use strict";n.r(t);var r=n("8fcd"),i=n("05e9");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},cb7a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={line:{color:"#d6d7d9",length:"100%",direction:"row",hairline:!0,margin:0,dashed:!1}}},cbc3:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,_typeof=__webpack_require__("3b2d");(function(e,t){"object"===_typeof(exports)&&"undefined"!==typeof module?module.exports=t(e):(__WEBPACK_AMD_DEFINE_FACTORY__=t,__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))})("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:this,(function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(err){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)];return r.join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[\xc0-\xdf][\x80-\xbf]","[\xe0-\xef][\x80-\xbf]{2}","[\xf0-\xf7][\x80-\xbf]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return fromCharCode(55296+(n>>>10))+fromCharCode(56320+(1023&n));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,r=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),i=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return i.length-=[0,0,2,1][n],i.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"===typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(e){return encode(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global["Meteor"]&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}))}).call(this,__webpack_require__("0ee4"))},cdbf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={form:{model:function(){return{}},rules:function(){return{}},errorType:"message",borderBottom:!0,labelPosition:"left",labelWidth:45,labelAlign:"left",labelStyle:function(){return{}}}}},ce26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={row:{gutter:0,justify:"start",align:"center"}}},cf33:function(e,t,n){"use strict";n.r(t);var r=n("3505"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},cfb3:function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("3b2d")),a=function(){function t(e,t){return null!=t&&e instanceof t}var n,r,a;try{n=Map}catch(l){n=function(){}}try{r=Set}catch(l){r=function(){}}try{a=Promise}catch(l){a=function(){}}function o(s,l,c,h,d){"object"===(0,i.default)(l)&&(c=l.depth,h=l.prototype,d=l.includeNonEnumerable,l=l.circular);var f=[],p=[],v="undefined"!=typeof e;return"undefined"==typeof l&&(l=!0),"undefined"==typeof c&&(c=1/0),function s(c,m){if(null===c)return null;if(0===m)return c;var g,y;if("object"!=(0,i.default)(c))return c;if(t(c,n))g=new n;else if(t(c,r))g=new r;else if(t(c,a))g=new a((function(e,t){c.then((function(t){e(s(t,m-1))}),(function(e){t(s(e,m-1))}))}));else if(o.__isArray(c))g=[];else if(o.__isRegExp(c))g=new RegExp(c.source,u(c)),c.lastIndex&&(g.lastIndex=c.lastIndex);else if(o.__isDate(c))g=new Date(c.getTime());else{if(v&&e.isBuffer(c))return e.from?g=e.from(c):(g=new e(c.length),c.copy(g)),g;t(c,Error)?g=Object.create(c):"undefined"==typeof h?(y=Object.getPrototypeOf(c),g=Object.create(y)):(g=Object.create(h),y=h)}if(l){var _=f.indexOf(c);if(-1!=_)return p[_];f.push(c),p.push(g)}for(var b in t(c,n)&&c.forEach((function(e,t){var n=s(t,m-1),r=s(e,m-1);g.set(n,r)})),t(c,r)&&c.forEach((function(e){var t=s(e,m-1);g.add(t)})),c){var x=Object.getOwnPropertyDescriptor(c,b);x&&(g[b]=s(c[b],m-1));try{var w=Object.getOwnPropertyDescriptor(c,b);if("undefined"===w.set)continue;g[b]=s(c[b],m-1)}catch(k){if(k instanceof TypeError)continue;if(k instanceof ReferenceError)continue}}if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(c);for(b=0;b<S.length;b++){var A=S[b],M=Object.getOwnPropertyDescriptor(c,A);(!M||M.enumerable||d)&&(g[A]=s(c[A],m-1),Object.defineProperty(g,A,M))}}if(d){var T=Object.getOwnPropertyNames(c);for(b=0;b<T.length;b++){var E=T[b];M=Object.getOwnPropertyDescriptor(c,E);M&&M.enumerable||(g[E]=s(c[E],m-1),Object.defineProperty(g,E,M))}}return g}(s,c)}function s(e){return Object.prototype.toString.call(e)}function u(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=s,o.__isDate=function(e){return"object"===(0,i.default)(e)&&"[object Date]"===s(e)},o.__isArray=function(e){return"object"===(0,i.default)(e)&&"[object Array]"===s(e)},o.__isRegExp=function(e){return"object"===(0,i.default)(e)&&"[object RegExp]"===s(e)},o.__getRegExpFlags=u,o}(),o=a;t.default=o}).call(this,n("12e3").Buffer)},cfd1:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","settings"),style:e._$s(0,"s",{height:e.containerHeight+"px"}),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","content"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","titleWrap"),attrs:{_i:2}},[n("text",{staticClass:e._$s(3,"sc","title"),attrs:{_i:3}})]),n("view",{staticClass:e._$s(4,"sc","wrap"),attrs:{_i:4}},[n("view",{staticClass:e._$s(5,"sc","options"),attrs:{_i:5}},[n("Item",{attrs:{text:"\u4e2a\u4eba\u8d44\u6599",fuc:e.goToUserInfo,_i:6}}),n("Item",{attrs:{text:"\u90ae\u7bb1",type:"text",fuc:e.goToEmail,content:e.emailValue,_i:7}})],1),n("view",{staticClass:e._$s(8,"sc","options"),attrs:{_i:8}},[n("Item",{attrs:{text:"\u91cd\u7f6e\u5bc6\u7801",fuc:e.goToResetPwd,_i:9}}),n("Item",{attrs:{text:"\u4fee\u6539\u5bc6\u7801",fuc:e.goToChangePassword,_i:10}})],1),n("view",{staticClass:e._$s(11,"sc","options"),attrs:{_i:11}},[n("Item",{attrs:{text:"\u6ce8\u9500\u8d26\u53f7",fuc:e.openPopup,_i:12}}),n("ConfirmPopup",{ref:"popup",attrs:{_i:13},on:{confirm:e.handleLogout}})],1)])])])},i=[]},d0be:function(e,t,n){"use strict";n.r(t);var r=n("b5e3"),i=n("10a3");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"2bd8b0f7",null,!1,r["a"],void 0);t["default"]=s.exports},d161:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","Item"),attrs:{_i:0},on:{click:e.fuc}},[n("text",[e._v(e._$s(1,"t0-0",e._s(e.text)))]),n("view",{staticClass:e._$s(2,"sc","right"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","numberWrap"),attrs:{_i:3}},[n("text",{staticClass:e._$s(4,"sc","txt"),attrs:{_i:4}},[e._v(e._$s(4,"t0-0",e._s(e.content)))])]),n("img",{staticClass:e._$s(5,"sc","rightIcon"),attrs:{_i:5}})])])},i=[]},d304:function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e&&!(0,i.default)(t))return(0,a.default)(e,t);return t};var i=r(n("02a2")),a=r(n("efa3"))},d3b5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={keyboard:{mode:"number",dotDisabled:!1,tooltip:!0,showTips:!0,tips:"",showCancel:!0,showConfirm:!0,random:!1,safeAreaInsetBottom:!0,closeOnClickOverlay:!0,show:!1,overlay:!0,zIndex:10075,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u5b9a",autoChange:!1}}},d3c7:function(e,t,n){"use strict";n.r(t);var r=n("630b"),i=n("18e2");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"01127184",null,!1,r["a"],void 0);t["default"]=s.exports},d54f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={rate:{value:1,count:5,disabled:!1,size:18,inactiveColor:"#b2b2b2",activeColor:"#FA3534",gutter:4,minCount:1,allowHalf:!1,activeIcon:"star-fill",inactiveIcon:"star",touchable:!0}}},d551:function(e,t,n){var r=n("3b2d")["default"],i=n("e6db");e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports["default"]=e.exports},d603:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"loading6",data:function(){return{}}}},d648:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","container"),attrs:{_i:0}},[n("scroll-view",{staticClass:e._$s(1,"sc","card-container"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","content"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","card"),attrs:{_i:3},on:{click:e.toggleDoor}},[n("image",{attrs:{_i:4}}),n("p",[e._v(e._$s(5,"t0-0",e._s("open"===e.doorStatus?"\u5173\u95ed\u8f66\u95e8":"\u6253\u5f00\u8f66\u95e8")))])]),n("view",{staticClass:e._$s(6,"sc","card"),attrs:{_i:6},on:{click:e.toggleTrunk}},[n("image",{attrs:{_i:7}}),n("p",[e._v(e._$s(8,"t0-0",e._s("open"===e.trunkStatus?"\u5173\u95ed\u540e\u5907\u7bb1":"\u6253\u5f00\u540e\u5907\u7bb1")))])]),n("view",{staticClass:e._$s(9,"sc","card"),attrs:{_i:9},on:{click:e.toggleAirConditioner}},[n("image",{attrs:{_i:10}}),n("p",[e._v(e._$s(11,"t0-0",e._s("on"===e.airConditionerStatus?"\u5173\u95ed\u7a7a\u8c03":"\u6253\u5f00\u7a7a\u8c03")))])]),n("view",{staticClass:e._$s(12,"sc","card"),attrs:{_i:12},on:{click:e.toggleCenterScreen}},[n("image",{attrs:{_i:13}}),n("p",[e._v(e._$s(14,"t0-0",e._s("on"===e.centerScreenStatus?"\u5173\u95ed\u4e2d\u63a7\u5c4f":"\u6253\u5f00\u4e2d\u63a7\u5c4f")))])])])]),n("view",{attrs:{_i:15},on:{click:function(t){return e.sendMessage(4,null)}}})])},i=[]},d76a:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","uni-collapse"),attrs:{_i:0}},[this._t("default",null,{_i:1})],2)},i=[]},d7c1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=null;var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!==r&&clearTimeout(r),n){var i=!r;r=setTimeout((function(){r=null}),t),i&&"function"===typeof e&&e()}else r=setTimeout((function(){"function"===typeof e&&e()}),t)};t.default=i},d954:function(e,t,n){"use strict";function r(){this.handlers=[]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){this.handlers.forEach((function(t){null!==t&&e(t)}))};var i=r;t.default=i},da4f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={formItem:{label:"",prop:"",borderBottom:"",labelPosition:"",labelWidth:"",rightIcon:"",leftIcon:"",required:!1,leftIconStyle:""}}},daa4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={circleProgress:{percentage:30}}},db8f:function(e,t,n){"use strict";function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(e=String(e).toLowerCase(),e&&n.test(e)){if(4===e.length){for(var r="#",i=1;i<4;i+=1)r+=e.slice(i,i+1).concat(e.slice(i,i+1));e=r}for(var a=[],o=1;o<7;o+=2)a.push(parseInt("0x".concat(e.slice(o,o+2))));return t?"rgb(".concat(a[0],",").concat(a[1],",").concat(a[2],")"):a}if(/^(rgb|RGB)/.test(e)){var s=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");return s.map((function(e){return Number(e)}))}return e}function i(e){var t=e;if(/^(rgb|RGB)/.test(t)){for(var n=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),r="#",i=0;i<n.length;i++){var a=Number(n[i]).toString(16);a=1==String(a).length?"".concat(0,a):a,"0"===a&&(a+=a),r+=a}return 7!==r.length&&(r=t),r}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t))return t;var o=t.replace(/#/,"").split("");if(6===o.length)return t;if(3===o.length){for(var s="#",u=0;u<o.length;u+=1)s+=o[u]+o[u];return s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={colorGradient:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgb(0, 0, 0)",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgb(255, 255, 255)",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=r(e,!1),o=a[0],s=a[1],u=a[2],l=r(t,!1),c=l[0],h=l[1],d=l[2],f=(c-o)/n,p=(h-s)/n,v=(d-u)/n,m=[],g=0;g<n;g++){var y=i("rgb(".concat(Math.round(f*g+o),",").concat(Math.round(p*g+s),",").concat(Math.round(v*g+u),")"));0===g&&(y=i(e)),g===n-1&&(y=i(t)),m.push(y)}return m},hexToRgb:r,rgbToHex:i,colorToRgba:function(e,t){e=i(e);var n=String(e).toLowerCase();if(n&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(n)){if(4===n.length){for(var r="#",a=1;a<4;a+=1)r+=n.slice(a,a+1).concat(n.slice(a,a+1));n=r}for(var o=[],s=1;s<7;s+=2)o.push(parseInt("0x".concat(n.slice(s,s+2))));return"rgba(".concat(o.join(","),",").concat(t,")")}return n}};t.default=a},dbea:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uniTransition:n("6080").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e._$s(0,"i",e.showPopup)?n("view",{staticClass:e._$s(0,"sc","uni-popup"),class:e._$s(0,"c",[e.popupstyle,e.isDesktop?"fixforpc-z-index":""]),attrs:{_i:0}},[n("view",{attrs:{_i:1},on:{touchstart:e.touchstart}},[e._$s(2,"i",e.maskShow)?n("uni-transition",{key:"1",attrs:{name:"mask","mode-class":"fade",styles:e.maskClass,duration:e.duration,show:e.showTrans,_i:2},on:{click:e.onTap}}):e._e(),n("uni-transition",{key:"2",attrs:{"mode-class":e.ani,name:"content",styles:e.transClass,duration:e.duration,show:e.showTrans,_i:3},on:{click:e.onTap}},[n("view",{staticClass:e._$s(4,"sc","uni-popup__wrapper"),class:e._$s(4,"c",[e.popupstyle]),style:e._$s(4,"s",e.getStyles),attrs:{_i:4},on:{click:e.clear}},[e._t("default",null,{_i:5})],2)])],1)]):e._e()},a=[]},dd3e:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},dd66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={countTo:{startVal:0,endVal:0,duration:2e3,autoplay:!0,decimals:0,useEasing:!0,decimal:".",color:"#606266",fontSize:22,bold:!1,separator:""}}},df0e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={avatar:{src:"",shape:"circle",size:40,mode:"scaleToFill",text:"",bgColor:"#c0c4cc",color:"#ffffff",fontSize:18,icon:"",mpAvatar:!1,randomBgColor:!1,defaultUrl:"",colorIndex:"",name:""}}},df4b:function(e,t,n){"use strict";n.r(t);var r=n("aab4"),i=n("2ac9");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,"53601e10",null,!1,r["a"],void 0);t["default"]=s.exports},dfd8:function(e,t,n){var r,i,a,o=n("3b2d");(function(n,s){"object"===o(t)&&"undefined"!==typeof e?s(t):(i=[t],r=s,a="function"===typeof r?r.apply(t,i):r,void 0===a||(e.exports=a))})(0,(function(e){"use strict";var t=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,n=new WeakMap,r=function(e){return function(t,n){return e.set(t,n),n}}(n),i=function(e,n){return function(r){var i=n.get(r),a=void 0===i?r.size:i<1073741824?i+1:0;if(!r.has(a))return e(r,a);if(r.size<536870912){while(r.has(a))a=Math.floor(1073741824*Math.random());return e(r,a)}if(r.size>t)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");while(r.has(a))a=Math.floor(Math.random()*t);return e(r,a)}}(r,n),a=function(e){return function(t){var n=e(t);return t.add(n),n}}(i);e.addUniqueNumber=a,e.generateUniqueNumber=i}))},e04a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={overlay:{show:!1,zIndex:10070,duration:300,opacity:.5}}},e170:function(e,t,n){"use strict";n.r(t);var r=n("acf8"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},e304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={swiper:{list:function(){return[]},indicator:!1,indicatorActiveColor:"#FFFFFF",indicatorInactiveColor:"rgba(255, 255, 255, 0.35)",indicatorStyle:"",indicatorMode:"line",autoplay:!0,current:0,currentItemId:"",interval:3e3,duration:300,circular:!1,previousMargin:0,nextMargin:0,acceleration:!1,displayMultipleItems:1,easingFunction:"default",keyName:"url",imgMode:"aspectFill",height:130,bgColor:"#f3f4f6",radius:4,loading:!1,showTitle:!1}}},e38b:function(e,t,n){"use strict";n.r(t);var r=n("482a"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},e38c:function(e,t,n){"use strict";n.r(t);var r=n("c772"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},e56e:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","my-page"),style:e._$s(0,"s",{height:e.containerHeight+"px"}),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","content"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","user-info"),attrs:{_i:2}},[n("image",{staticClass:e._$s(3,"sc","avatar"),attrs:{src:e._$s(3,"a-src",e.userInfo.avatarUrl),_i:3}}),n("view",{staticClass:e._$s(4,"sc","user-details"),attrs:{_i:4}},[n("text",{staticClass:e._$s(5,"sc","username"),attrs:{_i:5}},[e._v(e._$s(5,"t0-0",e._s(e.userInfo.username)))])])]),n("view",{staticClass:e._$s(6,"sc","wrap"),attrs:{_i:6}},[n("view",{staticClass:e._$s(7,"sc","options"),attrs:{_i:7}},[n("Item",{attrs:{text:"\u8d26\u53f7\u4e0e\u5b89\u5168",fuc:e.goToSettings,_i:8}}),n("Item",{attrs:{text:"\u9690\u79c1\u653f\u7b56",fuc:e.goToPrivacy,_i:9}}),n("Item",{attrs:{text:"\u5173\u4e8e\u6211\u4eec",fuc:e.goToAbout,_i:10}})],1),n("view",{staticClass:e._$s(11,"sc","logout"),attrs:{_i:11},on:{click:e.logout}},[n("text")])])])])},i=[]},e625:function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.GLTFLoader=void 0;var i=r(n("34cf")),a=r(n("3b2d")),o=r(n("0670")),s=r(n("67ad")),u=r(n("0bdb")),l=r(n("8ffa")),c=r(n("4ffb")),h=r(n("b4d2")),d=n("4e97"),f=n("7c9e");function p(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.default)(e);if(t){var i=(0,h.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var g=function(t){(0,l.default)(r,t);var n=m(r);function r(e){var t;return(0,s.default)(this,r),t=n.call(this,e),t.dracoLoader=null,t.ktx2Loader=null,t.meshoptDecoder=null,t.pluginCallbacks=[],t.register((function(e){return new S(e)})),t.register((function(e){return new A(e)})),t.register((function(e){return new O(e)})),t.register((function(e){return new L(e)})),t.register((function(e){return new D(e)})),t.register((function(e){return new T(e)})),t.register((function(e){return new E(e)})),t.register((function(e){return new k(e)})),t.register((function(e){return new C(e)})),t.register((function(e){return new w(e)})),t.register((function(e){return new P(e)})),t.register((function(e){return new M(e)})),t.register((function(e){return new I(e)})),t.register((function(e){return new R(e)})),t.register((function(e){return new b(e)})),t.register((function(e){return new B(e)})),t.register((function(e){return new U(e)})),t}return(0,u.default)(r,[{key:"load",value:function(t,n,r,i){var a,o=this;if(""!==this.resourcePath)a=this.resourcePath;else if(""!==this.path){var s=d.LoaderUtils.extractUrlBase(t);a=d.LoaderUtils.resolveURL(s,this.path)}else a=d.LoaderUtils.extractUrlBase(t);this.manager.itemStart(t);var u=function(n){i?i(n):e("error",n," at node_modules/three/examples/jsm/loaders/GLTFLoader.js:225"),o.manager.itemError(t),o.manager.itemEnd(t)},l=new d.FileLoader(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,(function(e){try{o.parse(e,a,(function(e){n(e),o.manager.itemEnd(t)}),u)}catch(r){u(r)}}),r,u)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(t,n,r,i){var a,o={},s={},u=new TextDecoder;if("string"===typeof t)a=JSON.parse(t);else if(t instanceof ArrayBuffer){var l=u.decode(new Uint8Array(t,0,4));if(l===N){try{o[_.KHR_BINARY_GLTF]=new j(t)}catch(m){return void(i&&i(m))}a=JSON.parse(o[_.KHR_BINARY_GLTF].content)}else a=JSON.parse(u.decode(t))}else a=t;if(void 0===a.asset||a.asset.version[0]<2)i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var c=new ce(a,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(var h=0;h<this.pluginCallbacks.length;h++){var d=this.pluginCallbacks[h](c);d.name||e("error","THREE.GLTFLoader: Invalid plugin found: missing name"," at node_modules/three/examples/jsm/loaders/GLTFLoader.js:374"),s[d.name]=d,o[d.name]=!0}if(a.extensionsUsed)for(var f=0;f<a.extensionsUsed.length;++f){var p=a.extensionsUsed[f],v=a.extensionsRequired||[];switch(p){case _.KHR_MATERIALS_UNLIT:o[p]=new x;break;case _.KHR_DRACO_MESH_COMPRESSION:o[p]=new z(a,this.dracoLoader);break;case _.KHR_TEXTURE_TRANSFORM:o[p]=new H;break;case _.KHR_MESH_QUANTIZATION:o[p]=new G;break;default:v.indexOf(p)>=0&&void 0===s[p]&&e("warn",'THREE.GLTFLoader: Unknown extension "'+p+'".'," at node_modules/three/examples/jsm/loaders/GLTFLoader.js:415")}}c.setExtensions(o),c.setPlugins(s),c.parse(r,i)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}]),r}(d.Loader);function y(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}t.GLTFLoader=g;var _={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"},b=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return(0,u.default)(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var i,a=t.json,o=a.extensions&&a.extensions[this.name]||{},s=o.lights||[],u=s[e],l=new d.Color(16777215);void 0!==u.color&&l.setRGB(u.color[0],u.color[1],u.color[2],d.LinearSRGBColorSpace);var c=void 0!==u.range?u.range:0;switch(u.type){case"directional":i=new d.DirectionalLight(l),i.target.position.set(0,0,-1),i.add(i.target);break;case"point":i=new d.PointLight(l),i.distance=c;break;case"spot":i=new d.SpotLight(l),i.distance=c,u.spot=u.spot||{},u.spot.innerConeAngle=void 0!==u.spot.innerConeAngle?u.spot.innerConeAngle:0,u.spot.outerConeAngle=void 0!==u.spot.outerConeAngle?u.spot.outerConeAngle:Math.PI/4,i.angle=u.spot.outerConeAngle,i.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return i.position.set(0,0,0),i.decay=2,ie(i,u),void 0!==u.intensity&&(i.intensity=u.intensity),i.name=t.createUniqueName(u.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r),r}},{key:"getDependency",value:function(e,t){if("light"===e)return this._loadLight(t)}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json,i=r.nodes[e],a=i.extensions&&i.extensions[this.name]||{},o=a.light;return void 0===o?null:this._loadLight(o).then((function(e){return n._getNodeRef(t.cache,o,e)}))}}]),e}(),x=function(){function e(){(0,s.default)(this,e),this.name=_.KHR_MATERIALS_UNLIT}return(0,u.default)(e,[{key:"getMaterialType",value:function(){return d.MeshBasicMaterial}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new d.Color(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],d.LinearSRGBColorSpace),e.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,d.SRGBColorSpace))}return Promise.all(r)}}]),e}(),w=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.KHR_MATERIALS_EMISSIVE_STRENGTH}return(0,u.default)(e,[{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=r.extensions[this.name].emissiveStrength;return void 0!==i&&(t.emissiveIntensity=i),Promise.resolve()}}]),e}(),S=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.KHR_MATERIALS_CLEARCOAT}return(0,u.default)(e,[{key:"getMaterialType",value:function(e){var t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new d.Vector2(o,o)}return Promise.all(i)}}]),e}(),A=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.KHR_MATERIALS_DISPERSION}return(0,u.default)(e,[{key:"getMaterialType",value:function(e){var t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=r.extensions[this.name];return t.dispersion=void 0!==i.dispersion?i.dispersion:0,Promise.resolve()}}]),e}(),M=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.KHR_MATERIALS_IRIDESCENCE}return(0,u.default)(e,[{key:"getMaterialType",value:function(e){var t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}]),e}(),T=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.KHR_MATERIALS_SHEEN}return(0,u.default)(e,[{key:"getMaterialType",value:function(e){var t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[];t.sheenColor=new d.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=r.extensions[this.name];if(void 0!==a.sheenColorFactor){var o=a.sheenColorFactor;t.sheenColor.setRGB(o[0],o[1],o[2],d.LinearSRGBColorSpace)}return void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,d.SRGBColorSpace)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),E=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.KHR_MATERIALS_TRANSMISSION}return(0,u.default)(e,[{key:"getMaterialType",value:function(e){var t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}]),e}(),k=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.KHR_MATERIALS_VOLUME}return(0,u.default)(e,[{key:"getMaterialType",value:function(e){var t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;var o=a.attenuationColor||[1,1,1];return t.attenuationColor=(new d.Color).setRGB(o[0],o[1],o[2],d.LinearSRGBColorSpace),Promise.all(i)}}]),e}(),C=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.KHR_MATERIALS_IOR}return(0,u.default)(e,[{key:"getMaterialType",value:function(e){var t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=r.extensions[this.name];return t.ior=void 0!==i.ior?i.ior:1.5,Promise.resolve()}}]),e}(),P=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.KHR_MATERIALS_SPECULAR}return(0,u.default)(e,[{key:"getMaterialType",value:function(e){var t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));var o=a.specularColorFactor||[1,1,1];return t.specularColor=(new d.Color).setRGB(o[0],o[1],o[2],d.LinearSRGBColorSpace),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,d.SRGBColorSpace)),Promise.all(i)}}]),e}(),R=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.EXT_MATERIALS_BUMP}return(0,u.default)(e,[{key:"getMaterialType",value:function(e){var t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return t.bumpScale=void 0!==a.bumpFactor?a.bumpFactor:1,void 0!==a.bumpTexture&&i.push(n.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(i)}}]),e}(),I=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.KHR_MATERIALS_ANISOTROPY}return(0,u.default)(e,[{key:"getMaterialType",value:function(e){var t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?d.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.anisotropyStrength&&(t.anisotropy=a.anisotropyStrength),void 0!==a.anisotropyRotation&&(t.anisotropyRotation=a.anisotropyRotation),void 0!==a.anisotropyTexture&&i.push(n.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(i)}}]),e}(),O=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.KHR_TEXTURE_BASISU}return(0,u.default)(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}]),e}(),L=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.EXT_TEXTURE_WEBP,this.isSupported=null}return(0,u.default)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var u=n.options.manager.getHandler(o.uri);null!==u&&(s=u)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),D=function(){function e(t){(0,s.default)(this,e),this.parser=t,this.name=_.EXT_TEXTURE_AVIF,this.isSupported=null}return(0,u.default)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var u=n.options.manager.getHandler(o.uri);null!==u&&(s=u)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),B=function(){function e(t){(0,s.default)(this,e),this.name=_.EXT_MESHOPT_COMPRESSION,this.parser=t}return(0,u.default)(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,i=r.count,o=r.byteStride,s=new Uint8Array(e,t,n);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(i,o,s,r.mode,r.filter).then((function(e){return e.buffer})):a.ready.then((function(){var e=new ArrayBuffer(i*o);return a.decodeGltfBuffer(new Uint8Array(e),i,o,s,r.mode,r.filter),e}))}))}return null}}]),e}(),U=function(){function e(t){(0,s.default)(this,e),this.name=_.EXT_MESH_GPU_INSTANCING,this.parser=t}return(0,u.default)(e,[{key:"createNodeMesh",value:function(e){var t=this,n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;var i,a=n.meshes[r.mesh],o=p(a.primitives);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s.mode!==X.TRIANGLES&&s.mode!==X.TRIANGLE_STRIP&&s.mode!==X.TRIANGLE_FAN&&void 0!==s.mode)return null}}catch(m){o.e(m)}finally{o.f()}var u=r.extensions[this.name],l=u.attributes,c=[],h={},f=function(e){c.push(t.parser.getDependency("accessor",l[e]).then((function(t){return h[e]=t,h[e]})))};for(var v in l)f(v);return c.length<1?null:(c.push(this.parser.createNodeMesh(e)),Promise.all(c).then((function(e){var n,r=e.pop(),i=r.isGroup?r.children:[r],a=e[0].count,o=[],s=p(i);try{for(s.s();!(n=s.n()).done;){for(var u=n.value,l=new d.Matrix4,c=new d.Vector3,f=new d.Quaternion,v=new d.Vector3(1,1,1),g=new d.InstancedMesh(u.geometry,u.material,a),y=0;y<a;y++)h.TRANSLATION&&c.fromBufferAttribute(h.TRANSLATION,y),h.ROTATION&&f.fromBufferAttribute(h.ROTATION,y),h.SCALE&&v.fromBufferAttribute(h.SCALE,y),g.setMatrixAt(y,l.compose(c,f,v));for(var _ in h)if("_COLOR_0"===_){var b=h[_];g.instanceColor=new d.InstancedBufferAttribute(b.array,b.itemSize,b.normalized)}else"TRANSLATION"!==_&&"ROTATION"!==_&&"SCALE"!==_&&u.geometry.setAttribute(_,h[_]);d.Object3D.prototype.copy.call(g,u),t.parser.assignFinalMaterial(g),o.push(g)}}catch(m){s.e(m)}finally{s.f()}return r.isGroup?(r.clear(),r.add.apply(r,o),r):o[0]})))}}]),e}(),N="glTF",F={JSON:1313821514,BIN:5130562},j=(0,u.default)((function e(t){(0,s.default)(this,e),this.name=_.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==N)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");var i=this.header.length-12,a=new DataView(t,12),o=0;while(o<i){var u=a.getUint32(o,!0);o+=4;var l=a.getUint32(o,!0);if(o+=4,l===F.JSON){var c=new Uint8Array(t,12+o,u);this.content=r.decode(c)}else if(l===F.BIN){var h=12+o;this.body=t.slice(h,h+u)}o+=u}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),z=function(){function e(t,n){if((0,s.default)(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=_.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return(0,u.default)(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},u={};for(var l in a){var c=Z[l]||l.toLowerCase();o[c]=a[l]}for(var h in e.attributes){var f=Z[h]||h.toLowerCase();if(void 0!==a[h]){var p=n.accessors[e.attributes[h]],v=Y[p.componentType];u[f]=v.name,s[f]=!0===p.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t,n){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),o,u,d.LinearSRGBColorSpace,n)}))}))}}]),e}(),H=function(){function e(){(0,s.default)(this,e),this.name=_.KHR_TEXTURE_TRANSFORM}return(0,u.default)(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}]),e}(),G=(0,u.default)((function e(){(0,s.default)(this,e),this.name=_.KHR_MESH_QUANTIZATION})),W=function(e){(0,l.default)(n,e);var t=m(n);function n(e,r,i,a){return(0,s.default)(this,n),t.call(this,e,r,i,a)}return(0,u.default)(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,u=3*o,l=r-t,c=(n-t)/l,h=c*c,d=h*c,f=e*u,p=f-u,v=-2*d+3*h,m=d-h,g=1-v,y=m-h+c,_=0;_!==o;_++){var b=a[p+_+o],x=a[p+_+s]*l,w=a[f+_+o],S=a[f+_]*l;i[_]=g*b+y*x+v*w+m*S}return i}}]),n}(d.Interpolant),V=new d.Quaternion,q=function(e){(0,l.default)(n,e);var t=m(n);function n(){return(0,s.default)(this,n),t.apply(this,arguments)}return(0,u.default)(n,[{key:"interpolate_",value:function(e,t,r,i){var a=(0,o.default)((0,h.default)(n.prototype),"interpolate_",this).call(this,e,t,r,i);return V.fromArray(a).normalize().toArray(a),a}}]),n}(W),X={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Y={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},K={9728:d.NearestFilter,9729:d.LinearFilter,9984:d.NearestMipmapNearestFilter,9985:d.LinearMipmapNearestFilter,9986:d.NearestMipmapLinearFilter,9987:d.LinearMipmapLinearFilter},Q={33071:d.ClampToEdgeWrapping,33648:d.MirroredRepeatWrapping,10497:d.RepeatWrapping},J={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Z={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},$={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},ee={CUBICSPLINE:void 0,LINEAR:d.InterpolateLinear,STEP:d.InterpolateDiscrete},te={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function ne(e){return void 0===e["DefaultMaterial"]&&(e["DefaultMaterial"]=new d.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:d.FrontSide})),e["DefaultMaterial"]}function re(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function ie(t,n){void 0!==n.extras&&("object"===(0,a.default)(n.extras)?Object.assign(t.userData,n.extras):e("warn","THREE.GLTFLoader: Ignoring primitive type .extras, "+n.extras," at node_modules/three/examples/jsm/loaders/GLTFLoader.js:2310"))}function ae(t,n){if(t.updateMorphTargets(),void 0!==n.weights)for(var r=0,i=n.weights.length;r<i;r++)t.morphTargetInfluences[r]=n.weights[r];if(n.extras&&Array.isArray(n.extras.targetNames)){var a=n.extras.targetNames;if(t.morphTargetInfluences.length===a.length){t.morphTargetDictionary={};for(var o=0,s=a.length;o<s;o++)t.morphTargetDictionary[a[o]]=o}else e("warn","THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names."," at node_modules/three/examples/jsm/loaders/GLTFLoader.js:2442")}}function oe(e){var t,n=e.extensions&&e.extensions[_.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+se(n.attributes):e.indices+":"+se(e.attributes)+":"+e.mode,void 0!==e.targets)for(var r=0,i=e.targets.length;r<i;r++)t+=":"+se(e.targets[r]);return t}function se(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function ue(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var le=new d.Matrix4,ce=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.default)(this,t),this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new y,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var r=!1,i=-1,a=!1,o=-1;if("undefined"!==typeof navigator){var u=navigator.userAgent;r=!0===/^((?!chrome|android).)*safari/i.test(u);var l=u.match(/Version\/(\d+)/);i=r&&l?parseInt(l[1],10):-1,a=u.indexOf("Firefox")>-1,o=a?u.match(/Firefox\/([0-9]+)\./)[1]:-1}"undefined"===typeof createImageBitmap||r&&i<17||a&&o<98?this.textureLoader=new d.TextureLoader(this.options.manager):this.textureLoader=new d.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new d.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return(0,u.default)(t,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};return re(i,a,r),ie(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){var t,n=p(a.scenes);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.updateMatrixWorld()}}catch(i){n.e(i)}finally{n.f()}e(a)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var a=t[r].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var u=0,l=e.length;u<l;u++){var c=e[u];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var a=n.clone();return function e(t,n){var a=r.associations.get(t);null!=a&&r.associations.set(n,a);var o,s=p(t.children.entries());try{for(s.s();!(o=s.n()).done;){var u=(0,i.default)(o.value,2),l=u[0],c=u[1];e(c,n.children[l])}}catch(h){s.e(h)}finally{s.f()}}(n,a),a.name+="_instance_"+e.uses[t]++,a}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)})),!r)throw new Error("Unknown type: "+e);break}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[_.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,i){n.load(d.LoaderUtils.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){var i=J[r.type],a=Y[r.componentType],o=!0===r.normalized,s=new a(r.count*i);return Promise.resolve(new d.BufferAttribute(s,i,o))}var u=[];return void 0!==r.bufferView?u.push(this.getDependency("bufferView",r.bufferView)):u.push(null),void 0!==r.sparse&&(u.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),u.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(u).then((function(e){var i,a,o=e[0],s=J[r.type],u=Y[r.componentType],l=u.BYTES_PER_ELEMENT,c=l*s,h=r.byteOffset||0,f=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;if(f&&f!==c){var v=Math.floor(h/f),m="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+v+":"+r.count,g=t.cache.get(m);g||(i=new u(o,v*f,r.count*f/l),g=new d.InterleavedBuffer(i,f/l),t.cache.add(m,g)),a=new d.InterleavedBufferAttribute(g,s,h%f/l,p)}else i=null===o?new u(r.count*s):new u(o,h,r.count*s),a=new d.BufferAttribute(i,s,p);if(void 0!==r.sparse){var y=J.SCALAR,_=Y[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,x=r.sparse.values.byteOffset||0,w=new _(e[1],b,r.sparse.count*y),S=new u(e[2],x,r.sparse.count*s);null!==o&&(a=new d.BufferAttribute(a.array.slice(),a.itemSize,a.normalized)),a.normalized=!1;for(var A=0,M=w.length;A<M;A++){var T=w[A];if(a.setX(T,S[A*s]),s>=2&&a.setY(T,S[A*s+1]),s>=3&&a.setZ(T,S[A*s+2]),s>=4&&a.setW(T,S[A*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}a.normalized=p}return a}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e],i=r.source,a=t.images[i],o=this.textureLoader;if(a.uri){var s=n.manager.getHandler(a.uri);null!==s&&(o=s)}return this.loadTextureImage(e,i,o)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];var u=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=a.name||o.name||"",""===t.name&&"string"===typeof o.uri&&!1===o.uri.startsWith("data:image/")&&(t.name=o.uri);var n=i.samplers||{},s=n[a.sampler]||{};return t.magFilter=K[s.magFilter]||d.LinearFilter,t.minFilter=K[s.minFilter]||d.LinearMipmapLinearFilter,t.wrapS=Q[s.wrapS]||d.RepeatWrapping,t.wrapT=Q[s.wrapT]||d.RepeatWrapping,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=u,u}},{key:"loadImageSource",value:function(t,n){var r=this.json,i=this.options;if(void 0!==this.sourceCache[t])return this.sourceCache[t].then((function(e){return e.clone()}));var a=r.images[t],o=self.URL||self.webkitURL,s=a.uri||"",u=!1;if(void 0!==a.bufferView)s=this.getDependency("bufferView",a.bufferView).then((function(e){u=!0;var t=new Blob([e],{type:a.mimeType});return s=o.createObjectURL(t),s}));else if(void 0===a.uri)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");var l=Promise.resolve(s).then((function(e){return new Promise((function(t,r){var a=t;!0===n.isImageBitmapLoader&&(a=function(e){var n=new d.Texture(e);n.needsUpdate=!0,t(n)}),n.load(d.LoaderUtils.resolveURL(e,i.path),a,void 0,r)}))})).then((function(e){return!0===u&&o.revokeObjectURL(s),ie(e,a),e.userData.mimeType=a.mimeType||function(e){return e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/)?"image/jpeg":e.search(/\.webp($|\?)/i)>0||0===e.search(/^data\:image\/webp/)?"image/webp":"image/png"}(a.uri),e})).catch((function(t){throw e("error","THREE.GLTFLoader: Couldn't load texture",s," at node_modules/three/examples/jsm/loaders/GLTFLoader.js:3329"),t}));return this.sourceCache[t]=l,l}},{key:"assignTexture",value:function(e,t,n,r){var i=this;return this.getDependency("texture",n.index).then((function(a){if(!a)return null;if(void 0!==n.texCoord&&n.texCoord>0&&(a=a.clone(),a.channel=n.texCoord),i.extensions[_.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[_.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=i.associations.get(a);a=i.extensions[_.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,s)}}return void 0!==r&&(a.colorSpace=r),e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new d.PointsMaterial,d.Material.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var u="LineBasicMaterial:"+n.uuid,l=this.cache.get(u);l||(l=new d.LineBasicMaterial,d.Material.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,this.cache.add(u,l)),n=l}if(r||i||a){var c="ClonedMaterial:"+n.uuid+":";r&&(c+="derivative-tangents:"),i&&(c+="vertex-colors:"),a&&(c+="flat-shading:");var h=this.cache.get(c);h||(h=n.clone(),i&&(h.vertexColors=!0),a&&(h.flatShading=!0),r&&(h.normalScale&&(h.normalScale.y*=-1),h.clearcoatNormalScale&&(h.clearcoatNormalScale.y*=-1)),this.cache.add(c,h),this.associations.set(h,this.associations.get(n))),n=h}e.material=n}},{key:"getMaterialType",value:function(){return d.MeshStandardMaterial}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,i=this.extensions,a=r.materials[e],o={},s=a.extensions||{},u=[];if(s[_.KHR_MATERIALS_UNLIT]){var l=i[_.KHR_MATERIALS_UNLIT];t=l.getMaterialType(),u.push(l.extendParams(o,a,n))}else{var c=a.pbrMetallicRoughness||{};if(o.color=new d.Color(1,1,1),o.opacity=1,Array.isArray(c.baseColorFactor)){var h=c.baseColorFactor;o.color.setRGB(h[0],h[1],h[2],d.LinearSRGBColorSpace),o.opacity=h[3]}void 0!==c.baseColorTexture&&u.push(n.assignTexture(o,"map",c.baseColorTexture,d.SRGBColorSpace)),o.metalness=void 0!==c.metallicFactor?c.metallicFactor:1,o.roughness=void 0!==c.roughnessFactor?c.roughnessFactor:1,void 0!==c.metallicRoughnessTexture&&(u.push(n.assignTexture(o,"metalnessMap",c.metallicRoughnessTexture)),u.push(n.assignTexture(o,"roughnessMap",c.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),u.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===a.doubleSided&&(o.side=d.DoubleSide);var f=a.alphaMode||te.OPAQUE;if(f===te.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,f===te.MASK&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==d.MeshBasicMaterial&&(u.push(n.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new d.Vector2(1,1),void 0!==a.normalTexture.scale)){var p=a.normalTexture.scale;o.normalScale.set(p,p)}if(void 0!==a.occlusionTexture&&t!==d.MeshBasicMaterial&&(u.push(n.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==d.MeshBasicMaterial){var v=a.emissiveFactor;o.emissive=(new d.Color).setRGB(v[0],v[1],v[2],d.LinearSRGBColorSpace)}return void 0!==a.emissiveTexture&&t!==d.MeshBasicMaterial&&u.push(n.assignTexture(o,"emissiveMap",a.emissiveTexture,d.SRGBColorSpace)),Promise.all(u).then((function(){var r=new t(o);return a.name&&(r.name=a.name),ie(r,a),n.associations.set(r,{materials:e}),a.extensions&&re(i,r,a),r}))}},{key:"createUniqueName",value:function(e){var t=d.PropertyBinding.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[_.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return he(n,e,t)}))}for(var a=[],o=0,s=e.length;o<s;o++){var u=e[o],l=oe(u),c=r[l];if(c)a.push(c.promise);else{var h=void 0;h=u.extensions&&u.extensions[_.KHR_DRACO_MESH_COMPRESSION]?i(u):he(new d.BufferGeometry,u,t),r[l]={primitive:u,promise:h},a.push(h)}}return Promise.all(a)}},{key:"loadMesh",value:function(e){for(var t=this,n=this.json,r=this.extensions,i=n.meshes[e],a=i.primitives,o=[],s=0,u=a.length;s<u;s++){var l=void 0===a[s].material?ne(this.cache):this.getDependency("material",a[s].material);o.push(l)}return o.push(t.loadGeometries(a)),Promise.all(o).then((function(n){for(var o=n.slice(0,n.length-1),s=n[n.length-1],u=[],l=0,c=s.length;l<c;l++){var h=s[l],p=a[l],v=void 0,m=o[l];if(p.mode===X.TRIANGLES||p.mode===X.TRIANGLE_STRIP||p.mode===X.TRIANGLE_FAN||void 0===p.mode)v=!0===i.isSkinnedMesh?new d.SkinnedMesh(h,m):new d.Mesh(h,m),!0===v.isSkinnedMesh&&v.normalizeSkinWeights(),p.mode===X.TRIANGLE_STRIP?v.geometry=(0,f.toTrianglesDrawMode)(v.geometry,d.TriangleStripDrawMode):p.mode===X.TRIANGLE_FAN&&(v.geometry=(0,f.toTrianglesDrawMode)(v.geometry,d.TriangleFanDrawMode));else if(p.mode===X.LINES)v=new d.LineSegments(h,m);else if(p.mode===X.LINE_STRIP)v=new d.Line(h,m);else if(p.mode===X.LINE_LOOP)v=new d.LineLoop(h,m);else{if(p.mode!==X.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);v=new d.Points(h,m)}Object.keys(v.geometry.morphAttributes).length>0&&ae(v,i),v.name=t.createUniqueName(i.name||"mesh_"+e),ie(v,i),p.extensions&&re(r,v,p),t.assignFinalMaterial(v),u.push(v)}for(var g=0,y=u.length;g<y;g++)t.associations.set(u[g],{meshes:e,primitives:g});if(1===u.length)return i.extensions&&re(r,u[0],i),u[0];var _=new d.Group;i.extensions&&re(r,_,i),t.associations.set(_,{meshes:e});for(var b=0,x=u.length;b<x;b++)_.add(u[b]);return _}))}},{key:"loadCamera",value:function(t){var n,r=this.json.cameras[t],i=r[r.type];if(i)return"perspective"===r.type?n=new d.PerspectiveCamera(d.MathUtils.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===r.type&&(n=new d.OrthographicCamera(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),ie(n,r),Promise.resolve(n);e("warn","THREE.GLTFLoader: Missing camera parameters."," at node_modules/three/examples/jsm/loaders/GLTFLoader.js:3902")}},{key:"loadSkin",value:function(t){for(var n=this.json.skins[t],r=[],i=0,a=n.joints.length;i<a;i++)r.push(this._loadNodeShallow(n.joints[i]));return void 0!==n.inverseBindMatrices?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then((function(t){for(var r=t.pop(),i=t,a=[],o=[],s=0,u=i.length;s<u;s++){var l=i[s];if(l){a.push(l);var c=new d.Matrix4;null!==r&&c.fromArray(r.array,16*s),o.push(c)}else e("warn",'THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[s]," at node_modules/three/examples/jsm/loaders/GLTFLoader.js:3983")}return new d.Skeleton(a,o)}))}},{key:"loadAnimation",value:function(e){for(var t=this.json,n=this,r=t.animations[e],i=r.name?r.name:"animation_"+e,a=[],o=[],s=[],u=[],l=[],c=0,h=r.channels.length;c<h;c++){var f=r.channels[c],p=r.samplers[f.sampler],v=f.target,m=v.node,g=void 0!==r.parameters?r.parameters[p.input]:p.input,y=void 0!==r.parameters?r.parameters[p.output]:p.output;void 0!==v.node&&(a.push(this.getDependency("node",m)),o.push(this.getDependency("accessor",g)),s.push(this.getDependency("accessor",y)),u.push(p),l.push(v))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(s),Promise.all(u),Promise.all(l)]).then((function(e){for(var t=e[0],r=e[1],a=e[2],o=e[3],s=e[4],u=[],l=0,c=t.length;l<c;l++){var h=t[l],f=r[l],p=a[l],v=o[l],m=s[l];if(void 0!==h){h.updateMatrix&&h.updateMatrix();var g=n._createAnimationTracks(h,f,p,v,m);if(g)for(var y=0;y<g.length;y++)u.push(g[y])}}return new d.AnimationClip(i,void 0,u)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){for(var t=this.json,n=t.nodes[e],r=this._loadNodeShallow(e),i=[],a=n.children||[],o=0,s=a.length;o<s;o++)i.push(this.getDependency("node",a[o]));var u=void 0===n.skin?Promise.resolve(null):this.getDependency("skin",n.skin);return Promise.all([r,Promise.all(i),u]).then((function(e){var t=e[0],n=e[1],r=e[2];null!==r&&t.traverse((function(e){e.isSkinnedMesh&&e.bind(r,le)}));for(var i=0,a=n.length;i<a;i++)t.add(n[i]);return t}))}},{key:"_loadNodeShallow",value:function(e){var t=this.json,n=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];var i=t.nodes[e],a=i.name?r.createUniqueName(i.name):"",o=[],s=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return s&&o.push(s),void 0!==i.camera&&o.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){o.push(e)})),this.nodeCache[e]=Promise.all(o).then((function(t){var o;if(o=!0===i.isBone?new d.Bone:t.length>1?new d.Group:1===t.length?t[0]:new d.Object3D,o!==t[0])for(var s=0,u=t.length;s<u;s++)o.add(t[s]);if(i.name&&(o.userData.name=i.name,o.name=a),ie(o,i),i.extensions&&re(n,o,i),void 0!==i.matrix){var l=new d.Matrix4;l.fromArray(i.matrix),o.applyMatrix4(l)}else void 0!==i.translation&&o.position.fromArray(i.translation),void 0!==i.rotation&&o.quaternion.fromArray(i.rotation),void 0!==i.scale&&o.scale.fromArray(i.scale);return r.associations.has(o)||r.associations.set(o,{}),r.associations.get(o).nodes=e,o})),this.nodeCache[e]}},{key:"loadScene",value:function(e){var t=this.extensions,n=this.json.scenes[e],r=this,a=new d.Group;n.name&&(a.name=r.createUniqueName(n.name)),ie(a,n),n.extensions&&re(t,a,n);for(var o=n.nodes||[],s=[],u=0,l=o.length;u<l;u++)s.push(r.getDependency("node",o[u]));return Promise.all(s).then((function(e){for(var t=0,n=e.length;t<n;t++)a.add(e[t]);return r.associations=function(e){var t,n=new Map,a=p(r.associations);try{for(a.s();!(t=a.n()).done;){var o=(0,i.default)(t.value,2),s=o[0],u=o[1];(s instanceof d.Material||s instanceof d.Texture)&&n.set(s,u)}}catch(l){a.e(l)}finally{a.f()}return e.traverse((function(e){var t=r.associations.get(e);null!=t&&n.set(e,t)})),n}(a),a}))}},{key:"_createAnimationTracks",value:function(e,t,n,r,i){var a,o=[],s=e.name?e.name:e.uuid,u=[];switch($[i.path]===$.weights?e.traverse((function(e){e.morphTargetInfluences&&u.push(e.name?e.name:e.uuid)})):u.push(s),$[i.path]){case $.weights:a=d.NumberKeyframeTrack;break;case $.rotation:a=d.QuaternionKeyframeTrack;break;case $.position:case $.scale:a=d.VectorKeyframeTrack;break;default:switch(n.itemSize){case 1:a=d.NumberKeyframeTrack;break;case 2:case 3:default:a=d.VectorKeyframeTrack;break}break}for(var l=void 0!==r.interpolation?ee[r.interpolation]:d.InterpolateLinear,c=this._getArrayFromAccessor(n),h=0,f=u.length;h<f;h++){var p=new a(u[h]+"."+$[i.path],t.array,c,l);"CUBICSPLINE"===r.interpolation&&this._createCubicSplineTrackInterpolant(p),o.push(p)}return o}},{key:"_getArrayFromAccessor",value:function(e){var t=e.array;if(e.normalized){for(var n=ue(t.constructor),r=new Float32Array(t.length),i=0,a=t.length;i<a;i++)r[i]=t[i]*n;t=r}return t}},{key:"_createCubicSplineTrackInterpolant",value:function(e){e.createInterpolant=function(e){var t=this instanceof d.QuaternionKeyframeTrack?q:W;return new t(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}]),t}();function he(t,n,r){var i=n.attributes,a=[];function o(e,n){return r.getDependency("accessor",e).then((function(e){t.setAttribute(n,e)}))}for(var s in i){var u=Z[s]||s.toLowerCase();u in t.attributes||a.push(o(i[s],u))}if(void 0!==n.indices&&!t.index){var l=r.getDependency("accessor",n.indices).then((function(e){t.setIndex(e)}));a.push(l)}return d.ColorManagement.workingColorSpace!==d.LinearSRGBColorSpace&&"COLOR_0"in i&&e("warn",'THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "'.concat(d.ColorManagement.workingColorSpace,'" not supported.')," at node_modules/three/examples/jsm/loaders/GLTFLoader.js:4707"),ie(t,n),function(t,n,r){var i=n.attributes,a=new d.Box3;if(void 0!==i.POSITION){var o=r.json.accessors[i.POSITION],s=o.min,u=o.max;if(void 0!==s&&void 0!==u){if(a.set(new d.Vector3(s[0],s[1],s[2]),new d.Vector3(u[0],u[1],u[2])),o.normalized){var l=ue(Y[o.componentType]);a.min.multiplyScalar(l),a.max.multiplyScalar(l)}var c=n.targets;if(void 0!==c){for(var h=new d.Vector3,f=new d.Vector3,p=0,v=c.length;p<v;p++){var m=c[p];if(void 0!==m.POSITION){var g=r.json.accessors[m.POSITION],y=g.min,_=g.max;if(void 0!==y&&void 0!==_){if(f.setX(Math.max(Math.abs(y[0]),Math.abs(_[0]))),f.setY(Math.max(Math.abs(y[1]),Math.abs(_[1]))),f.setZ(Math.max(Math.abs(y[2]),Math.abs(_[2]))),g.normalized){var b=ue(Y[g.componentType]);f.multiplyScalar(b)}h.max(f)}else e("warn","THREE.GLTFLoader: Missing min/max properties for accessor POSITION."," at node_modules/three/examples/jsm/loaders/GLTFLoader.js:4635")}}a.expandByVector(h)}t.boundingBox=a;var x=new d.Sphere;a.getCenter(x.center),x.radius=a.min.distanceTo(a.max)/2,t.boundingSphere=x}else e("warn","THREE.GLTFLoader: Missing min/max properties for accessor POSITION."," at node_modules/three/examples/jsm/loaders/GLTFLoader.js:4581")}}(t,n,r),Promise.all(a).then((function(){return void 0!==n.targets?function(e,t,n){for(var r=!1,i=!1,a=!1,o=0,s=t.length;o<s;o++){var u=t[o];if(void 0!==u.POSITION&&(r=!0),void 0!==u.NORMAL&&(i=!0),void 0!==u.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);for(var l=[],c=[],h=[],d=0,f=t.length;d<f;d++){var p=t[d];if(r){var v=void 0!==p.POSITION?n.getDependency("accessor",p.POSITION):e.attributes.position;l.push(v)}if(i){var m=void 0!==p.NORMAL?n.getDependency("accessor",p.NORMAL):e.attributes.normal;c.push(m)}if(a){var g=void 0!==p.COLOR_0?n.getDependency("accessor",p.COLOR_0):e.attributes.color;h.push(g)}}return Promise.all([Promise.all(l),Promise.all(c),Promise.all(h)]).then((function(t){var n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(t,n.targets,r):t}))}}).call(this,n("f3b9")["default"])},e683:function(e,t,n){"use strict";var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("a3aa")),a=i.default.color,o={icon:{name:"",color:a["u-content-color"],size:"16px",bold:!1,index:"",hoverClass:"",customPrefix:"uicon",label:"",labelPos:"right",labelSize:"15px",labelColor:a["u-content-color"],space:"3px",imgMode:"",width:"",height:"",top:0,stop:!1}};t.default=o},e6db:function(e,t,n){var r=n("3b2d")["default"];e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},e78b:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:this._$s(0,"sc","container loading5"),attrs:{_i:0}},[t("view",{staticClass:this._$s(1,"sc","shape shape1"),attrs:{_i:1}}),t("view",{staticClass:this._$s(2,"sc","shape shape2"),attrs:{_i:2}}),t("view",{staticClass:this._$s(3,"sc","shape shape3"),attrs:{_i:3}}),t("view",{staticClass:this._$s(4,"sc","shape shape4"),attrs:{_i:4}})])},i=[]},ea75:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={datetimePicker:{show:!1,showToolbar:!0,value:"",title:"",mode:"datetime",maxDate:new Date((new Date).getFullYear()+10,0,1).getTime(),minDate:new Date((new Date).getFullYear()-10,0,1).getTime(),minHour:0,maxHour:23,minMinute:0,maxMinute:59,filter:null,formatter:null,loading:!1,itemHeight:44,cancelText:"\u53d6\u6d88",confirmText:"\u786e\u8ba4",cancelColor:"#909193",confirmColor:"#3c9cff",visibleItemCount:5,closeOnClickOverlay:!1,defaultIndex:function(){return[]}}};t.default=r},ea8d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={easycom:{autoscan:!0,custom:{"^u-(.*)":"@/uni_modules/uview-ui/components/u-$1/u-$1.vue"}},pages:[{path:"pages/index/index",style:{navigationBarTitleText:"\u767b\u5f55"}},{path:"pages/home",style:{navigationBarTitleText:"\u9996\u9875",enablePullDownRefresh:!1}},{path:"pages/service",style:{navigationBarTitleText:"\u670d\u52a1",enablePullDownRefresh:!1}},{path:"pages/shuju",style:{navigationBarTitleText:"\u6570\u636e"}},{path:"pages/myPage",style:{navigationBarTitleText:"\u6211\u7684"}},{path:"pages/myPage/settings",style:{navigationBarTitleText:"\u8d26\u53f7\u4e0e\u5b89\u5168"}},{path:"pages/Ai",style:{navigationBarTitleText:"Ai"}},{path:"pages/myPage/about",style:{navigationBarTitleText:"\u5173\u4e8e\u6211\u4eec"}},{path:"pages/myPage/userInfo/email",style:{navigationBarTitleText:"\u90ae\u7bb1"}},{path:"pages/myPage/userInfo/ChangePassword",style:{navigationBarTitleText:"\u4fee\u6539\u5bc6\u7801"}},{path:"pages/myPage/userInfo/ResetPwd",style:{navigationBarTitleText:"\u91cd\u7f6e\u5bc6\u7801"}},{path:"pages/myPage/AboutInfo/functionPage",style:{navigationBarTitleText:"\u529f\u80fd\u4ecb\u7ecd"}},{path:"pages/register",style:{navigationBarTitleText:"\u6ce8\u518c"}},{path:"pages/myPage/privacy",style:{navigationBarTitleText:"\u9690\u79c1\u653f\u7b56"}},{path:"pages/myPage/userInfo/userInfo",style:{navigationBarTitleText:"\u4e2a\u4eba\u8d44\u6599"}}],tabBar:{list:[{pagePath:"pages/home",text:"\u9996\u9875",iconPath:"https://launcher-car-assets.vercel.app/static/\u9996\u9875.png",selectedIconPath:"https://launcher-car-assets.vercel.app/static/\u9996\u9875s.png"},{pagePath:"pages/service",text:"\u670d\u52a1",iconPath:"https://launcher-car-assets.vercel.app/static/\u670d\u52a1.png",selectedIconPath:"https://launcher-car-assets.vercel.app/static/\u670d\u52a1s.png"},{pagePath:"pages/Ai",text:"AI",iconPath:"https://launcher-car-assets.vercel.app/static/mic.svg",selectedIconPath:"https://launcher-car-assets.vercel.app/static/mics.svg"},{pagePath:"pages/shuju",text:"\u6570\u636e",iconPath:"https://launcher-car-assets.vercel.app/static/\u6570\u636e.png",selectedIconPath:"https://launcher-car-assets.vercel.app/static/\u6570\u636es.png"},{pagePath:"pages/myPage",text:"\u6211\u7684",iconPath:"https://launcher-car-assets.vercel.app/static/\u6211\u7684.png",selectedIconPath:"https://launcher-car-assets.vercel.app/static/\u6211\u7684s.png"}]},globalStyle:{navigationBarTextStyle:"black",navigationBarTitleText:"uni-app",navigationBarBackgroundColor:"#F8F8F8",backgroundColor:"#F8F8F8"},uniIdRouter:{}}},eac6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={modal:{show:!1,title:"",content:"",confirmText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",showConfirmButton:!0,showCancelButton:!1,confirmColor:"#2979ff",cancelColor:"#606266",buttonReverse:!1,zoom:!0,asyncClose:!1,closeOnClickOverlay:!1,negativeTop:0,width:"650rpx",confirmButtonShape:"",duration:400}}},eada:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={calendar:{title:"\u65e5\u671f\u9009\u62e9",showTitle:!0,showSubtitle:!0,mode:"single",startText:"\u5f00\u59cb",endText:"\u7ed3\u675f",customList:function(){return[]},color:"#3c9cff",minDate:0,maxDate:0,defaultDate:null,maxCount:Number.MAX_SAFE_INTEGER,rowHeight:56,formatter:null,showLunar:!1,showMark:!0,confirmText:"\u786e\u5b9a",confirmDisabledText:"\u786e\u5b9a",show:!1,closeOnClickOverlay:!1,readonly:!1,showConfirm:!0,maxRange:Number.MAX_SAFE_INTEGER,rangePrompt:"",showRangePrompt:!0,allowSameDay:!1,round:0,monthNum:3}};t.default=r},eb09:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={swipeAction:{autoClose:!0}}},eb55:function(e,t,n){"use strict";n.r(t);var r=n("702e"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},ebe7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={col:{span:12,offset:0,justify:"start",align:"stretch",textAlign:"left"}}},ec48:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={listItem:{anchor:""}}},ed45:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},ed83:function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.Behavior=function(e){return e},t.Component=function(t){var n=function(t){var n=t.data,r=t.options,i=t.methods,a=t.behaviors,o=t.lifetimes,s=t.observers,c=t.relations,h=t.properties,f=t.pageLifetimes,p=t.externalClasses,v={mixins:[],props:{},watch:{},mpOptions:{mpObservers:[]}};return l(v),u(n,v),function(e,t){if(!e)return;t.mpOptions.options=e}(r,v),A(i,v),C(a,v),function(e,t){if(!e)return;M(e,t)}(o,v),function(e,t){if(!e)return;var n=t.mpOptions.mpObservers;Object.keys(e).forEach((function(t){n.push({paths:P(t),observer:e[t]})}))}(s,v),function(t,n){if(!t)return;Object.keys(t).forEach((function(n){var r=t[n];r.name=n,r.target=r.target?String(r.target):function(e,t){0===t.indexOf("/")&&(e="");var n=e.split("/"),r=t.split("/");n.pop();while(r.length){var i=r.shift();""!==i&&"."!==i&&(".."!==i?n.push(i):n.pop())}return n.join("/")}(e.__wxRoute,n)})),n.mpOptions.relations=t}(c,v),S(h,v),function(e,t){if(!e)return;x.forEach((function(n){var r=e[n];d(r)&&(t[b[n]]=r)}))}(f,v),function(e,t){if(!e)return;Array.isArray(e)||(e=[e]);t.mpOptions.externalClasses=e,t.mpOptions.properties||(t.mpOptions.properties=Object.create(null));e.forEach((function(e){t.mpOptions.properties[g(e)]={type:String,value:""}}))}(p,v),M(t,v),E(t),v}(t);n.mixins.unshift(J),n.mpOptions.path=e.__wxRoute,function(e){e.onServiceAttached||(e.onServiceAttached=[]);e.onServiceAttached.push((function(){U(this,"linked")}))}(n),e.__wxComponents[e.__wxRoute]=n},t.Page=function(t){var n=function(e){var t={mixins:[],mpOptions:{}};return l(t),u(e.data,t),function(e,t){var n=Object.create(null);Object.keys(e).forEach((function(t){var r=e[t];d(r)&&-1===w.indexOf(t)&&(n[t]=r)})),t.methods=n}(e,t),function(e,t){Object.keys(e).forEach((function(n){-1!==w.indexOf(n)&&(t[n]=e[n])}))}(e,t),t}(t);n.mixins.unshift(J),n.mpOptions.path=e.__wxRoute,e.__wxComponents[e.__wxRoute]=n},t.nextTick=t.default=void 0;var i,a=r(n("7ca3")),o=r(n("34cf")),s=r(n("951c"));function u(e,t){e&&(t.mpOptions.data=e)}function l(t){t.components=e.__wxVueOptions.components}var c=Object.prototype.toString,h=Object.prototype.hasOwnProperty;function d(e){return"function"===typeof e}function f(e){return"[object Object]"===c.call(e)}function p(e,t){return h.call(e,t)}function v(){}var m=/-(\w)/g,g=function(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}((function(e){return e.replace(m,(function(e,t){return t?t.toUpperCase():""}))})),y={created:"onServiceCreated",attached:"onServiceAttached",ready:"mounted",moved:"moved",detached:"destroyed"},_=Object.keys(y),b={show:"onPageShow",hide:"onPageHide",resize:"onPageResize"},x=Object.keys(b),w=["onLoad","onShow","onReady","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onResize","onTabItemTap"];function S(e,t){e&&(t.mpOptions.properties=e)}function A(e,t){e&&(e.$emit&&(console.warn('Method "$emit" conflicts with an existing Vue instance method'),delete e.$emit),t.methods=e)}function M(e,t){_.forEach((function(n){p(e,n)&&(t[y[n]]||(t[y[n]]=[])).push(e[n])}))}var T={"wx://form-field":{},"wx://component-export":{}};function E(e,t){(function(e){var t=e.behaviors,n=e.definitionFilter,r=[];if(Array.isArray(t)&&t.forEach((function(t){t="string"===typeof t?T[t]:t,t.definitionFilter&&(r.push(t.definitionFilter),t.definitionFilter.call(null,e,[]))})),d(n));})(e)}var k={"wx://form-field":{beforeCreate:function(){var e=this.$options.mpOptions;e.properties||(e.properties=Object.create(null));var t=e.properties;p(t,"name")||(t.name={type:String}),p(t,"value")||(t.value={type:String})}}};function C(e,t){e&&e.forEach((function(e){"string"===typeof e?k[e]&&t.mixins.push(k[e]):t.mixins.push(function(e){var t=e.data,n=e.methods,r=e.behaviors,i=e.properties,a={watch:{},mpOptions:{mpObservers:[]}};return u(t,a),A(n,a),C(r,a),S(i,a),M(e,a),E(e),a}(e))}))}function P(e){return e.split(",").map((function(e){return function(e){return e.split(".")}(e)}))}function R(e,t,n,r){if(t){var i="_$".concat(e,"Handlers");(r[i]||(r[i]=[])).push((function(){t.call(r,n)}))}}function I(e,t,n){var r=e.name,i=n._$relationNodes||(n._$relationNodes=Object.create(null));(i[r]||(i[r]=[])).push(t),R("linked",e["linked"],t,n)}function O(e,t,n){R("unlinked",e["unlinked"],t,n)}function L(e,t,n){var r=e&&e.$options.mpOptions&&e.$options.mpOptions.relations;if(!r)return[];var i=Object.keys(r).find((function(e){var i=r[e];return i.target===t&&i.type===n}));return i?[r[i],e]:[]}function D(e,t,n){var r=n(e,e.$options.mpOptions.path),i=(0,o.default)(r,2),a=i[0],s=i[1];a&&(I(a,e,s),I(t,s,e),O(a,e,s),O(t,s,e))}function B(e){var t=e.$options.mpOptions||{},n=t.relations;n&&Object.keys(n).forEach((function(t){(function(e,t){var n=e.type;"parent"===n?D(t,e,(function(e,t){return L(e.$parent,t,"child")})):"ancestor"===n&&D(t,e,(function(e,t){var n=e.$parent;while(n){var r=L(n,t,"descendant");if(r.length)return r;n=n.$parent}return[]}))})(n[t],e)}))}function U(e,t){var n=e["_$".concat(t,"Handlers")];n&&n.forEach((function(e){return e()}))}var N={enumerable:!0,configurable:!0,get:v,set:v};function F(e,t,n){N.get=function(){return this[t][n]},N.set=function(e){this[t][n]=e},Object.defineProperty(e,n,N)}function j(e,t){var n=this;f(e)&&(Object.keys(e).forEach((function(t){(function(e,t,n){var r=e.replace(/\[(\d+?)\]/g,".$1").split(".");return r.reduce((function(e,n,i){if(i!==r.length-1)return"undefined"===typeof e[n]&&(e[n]={}),e[n];e[n]=t}),n),1===r.length})(t,e[t],n.data)&&!p(n,t)&&F(n,"__data__",t)})),this.$forceUpdate(),d(t)&&this.$nextTick(t))}var z=Object.prototype.toString,H=function(e){return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=z.call(n);if("[object Array]"===r)return t=n.slice(0),t;if("[object Object]"===r){for(var i in n)t[i]=e(t[i],n[i]);return t}if("[object Date]"===r)return new Date(n.getTime());if("[object RegExp]"===r){var a=String(n),o=a.lastIndexOf("/");return new RegExp(a.slice(1,o),a.slice(o+1))}return n}("[object Array]"===z.call(e)?[]:{},e)},G=(i={},(0,a.default)(i,String,""),(0,a.default)(i,Number,0),(0,a.default)(i,Boolean,!1),(0,a.default)(i,Object,null),(0,a.default)(i,Array,[]),(0,a.default)(i,null,null),i);function W(e){return G[e]}function V(e){return f(e)?e.type:e}function q(e,t,n,r){var i=n[e];if(void 0!==i){var a=t[e],o=V(a);i=X(i,o);var s=a&&a.observer;return s&&setTimeout((function(){Y(s,r,i)}),4),i}return function(e){return f(e)?p(e,"value")?e.value:W(e.type):W(e)}(t[e])}function X(e,t){return t===Boolean?!!e:t===String?String(e):e}function Y(e,t,n,r){try{"function"===typeof e?e.call(t,n,r):"string"===typeof e&&"function"===typeof t[e]&&t[e](n,r)}catch(i){console.error("execute observer ".concat(e," callback fail! err: ").concat(i))}}function K(e){var t=e.$options.mpOptions&&e.$options.mpOptions.properties,n=e.$options.propsData;n&&t&&Object.keys(t).forEach((function(r){p(n,r)&&(e[r]=X(n[r],V(t[r])))}))}function Q(e){var t=JSON.parse(JSON.stringify(e.$options.mpOptions.data||{}));e["__data__"]=t;var n={get:function(){return e["__data__"]},set:function(t){e["__data__"]=t}};Object.defineProperties(e,{data:n,properties:n}),e.setData=j,function(e,t){var n=e.$options.mpOptions.properties;if(n){var r=H(e.$options.propsData)||{},i=function(i){var a=!!f(n[i])&&n[i].observer,o=q(i,n,r,e);Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:function(){return o},set:function(t){var n=o;t===o||t!==t&&o!==o||(o=Array.isArray(t)?t.slice(0):t,a&&Y(a,e,t,n),e.$forceUpdate())}})};for(var a in n)i(a)}}(e,t),Object.keys(t).forEach((function(t){F(e,"__data__",t)}))}var J={beforeCreate:function(){this._renderProxy=this,this._$self=this,this._$noop=v},created:function(){Q(this),function(e){var t=e.$emit;e.triggerEvent=function(n,r,i){var a={dataset:e.$el.dataset},o={target:a,currentTarget:a,detail:r,preventDefault:v,stopPropagation:v};t.call(e,n,o)},e.$emit=function(){e.triggerEvent.apply(e,arguments)},e.getRelationNodes=function(t){return(e._$relationNodes&&e._$relationNodes[t]||[]).filter((function(e){return!e._isDestroyed}))},e._$updateProperties=K}(this),B(this)},mounted:function(){(function(e){var t=e.$options.watch;t&&Object.keys(t).forEach((function(n){var r=t[n];if(r.mounted){var i=e[n],a=r.handler;"string"===typeof a&&(a=e[a]),a&&a.call(e,i,i)}}))})(this)},destroyed:function(){U(this,"unlinked")}};e.__wxRoute="",e.__wxComponents=Object.create(null),e.__wxVueOptions=Object.create(null);var Z=s.default.nextTick;t.nextTick=Z;var $=uni.__$wx__,ee=$;t.default=ee}).call(this,n("0ee4"))},edda:function(e,t,n){"use strict";n.r(t);var r=n("966c"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},ee10:function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,u,"next",e)}function u(e){n(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports["default"]=e.exports},ee17:function(e,t,n){"use strict";n.r(t);var r=n("0c4f"),i=n("6921");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var o=n("828b"),s=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=s.exports},efa3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t?"".concat(e.replace(/\/+$/,""),"/").concat(t.replace(/^\/+/,"")):e}},f113:function(e,t,n){"use strict";n.r(t);var r=n("2933"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},f255:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uSafeBottom:n("d3c7").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","u-tabbar"),attrs:{_i:0}},[n("view",{ref:"u-tabbar__content",staticClass:e._$s(1,"sc","u-tabbar__content"),class:e._$s(1,"c",[e.border&&"u-border-top",e.fixed&&"u-tabbar--fixed"]),style:e._$s(1,"s",[e.tabbarStyle]),attrs:{_i:1},on:{touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.noop(t)}}},[n("view",{staticClass:e._$s(2,"sc","u-tabbar__content__item-wrapper"),attrs:{_i:2}},[e._t("default",null,{_i:3})],2),e._$s(4,"i",e.safeAreaInsetBottom)?n("u-safe-bottom",{attrs:{_i:4}}):e._e()],1),e._$s(5,"i",e.placeholder)?n("view",{staticClass:e._$s(5,"sc","u-tabbar__placeholder"),style:e._$s(5,"s",{height:e.placeholderHeight+"px"}),attrs:{_i:5}}):e._e()])},a=[]},f2be:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],i={type:["pie","ring","rose","funnel","line","column","area","radar","gauge","candle","demotype"],categories:["line","column","area","radar","gauge","candle","demotype"],instance:{},option:{},formatter:{tooltipDemo1:function(e){var t="";for(var n in e){0==n&&(t+=e[n].axisValueLabel+"\u5e74\u9500\u552e\u989d");var r="--";null!==e[n].data&&(r=e[n].data),t+="<br/>"+e[n].marker+e[n].seriesName+"\uff1a"+r+" \u4e07\u5143"}return t},legendFormat:function(e){return"\u81ea\u5b9a\u4e49\u56fe\u4f8b+"+e},yAxisFormatDemo:function(e,t){return e+"\u5143"},seriesFormatDemo:function(e){return e.name+"\u5e74"+e.value+"\u5143"}},demotype:{color:r},column:{color:r,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"bar",data:[],barwidth:20,label:{show:!0,color:"#666666",position:"top"}}},line:{color:r,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"line",data:[],barwidth:20,label:{show:!0,color:"#666666",position:"top"}}},area:{color:r,title:{text:""},tooltip:{trigger:"axis"},grid:{top:30,bottom:50,right:15,left:40},legend:{bottom:"left"},toolbox:{show:!1},xAxis:{type:"category",axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}},boundaryGap:!0,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLabel:{color:"#666666"},axisLine:{lineStyle:{color:"#CCCCCC"}}},seriesTemplate:{name:"",type:"line",data:[],areaStyle:{},label:{show:!0,color:"#666666",position:"top"}}},pie:{color:r,title:{text:""},tooltip:{trigger:"item"},grid:{top:40,bottom:30,right:15,left:15},legend:{bottom:"left"},seriesTemplate:{name:"",type:"pie",data:[],radius:"50%",label:{show:!0,color:"#666666",position:"top"}}},ring:{color:r,title:{text:""},tooltip:{trigger:"item"},grid:{top:40,bottom:30,right:15,left:15},legend:{bottom:"left"},seriesTemplate:{name:"",type:"pie",data:[],radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!0,color:"#666666",position:"top"},labelLine:{show:!0}}},rose:{color:r,title:{text:""},tooltip:{trigger:"item"},legend:{top:"bottom"},seriesTemplate:{name:"",type:"pie",data:[],radius:"55%",center:["50%","50%"],roseType:"area"}},funnel:{color:r,title:{text:""},tooltip:{trigger:"item",formatter:"{b} : {c}%"},legend:{top:"bottom"},seriesTemplate:{name:"",type:"funnel",left:"10%",top:60,bottom:60,width:"80%",min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{bordercolor:"#fff",borderwidth:1},emphasis:{label:{fontSize:20}},data:[]}},gauge:{color:r,tooltip:{formatter:"{a} <br/>{b} : {c}%"},seriesTemplate:{name:"\u4e1a\u52a1\u6307\u6807",type:"gauge",detail:{formatter:"{value}%"},data:[{value:50,name:"\u5b8c\u6210\u7387"}]}},candle:{xAxis:{data:[]},yAxis:{},color:r,title:{text:""},dataZoom:[{type:"inside",xAxisIndex:[0,1],start:10,end:100},{show:!0,xAxisIndex:[0,1],type:"slider",bottom:10,start:10,end:100}],seriesTemplate:{name:"",type:"k",data:[]}}},a=i;t.default=a},f343:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={sticky:{offsetTop:0,customNavHeight:0,disabled:!1,bgColor:"transparent",zIndex:"",index:""}}},f3b9:function(e,t,n){"use strict";function r(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}function i(){return"string"===typeof __channelId__&&__channelId__}function a(e,t){switch(r(t)){case"Function":return"function() { [native code] }";default:return t}}function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console[e].apply(console,n)}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.shift();if(i())return t.push(t.pop().replace("at ","uni-app:///")),console[o].apply(console,t);var s=t.map((function(e){var t=Object.prototype.toString.call(e).toLowerCase();if("[object object]"===t||"[object array]"===t)try{e="---BEGIN:JSON---"+JSON.stringify(e,a)+"---END:JSON---"}catch(i){e=t}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{var n=r(e).toUpperCase();e="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+e+"---END:"+n+"---":String(e)}return e})),u="";if(s.length>1){var l=s.pop();u=s.join("---COMMA---"),0===l.indexOf(" at ")?u+=l:u+="---COMMA---"+l}else u=s[0];console[o](u)}n.r(t),n.d(t,"log",(function(){return o})),n.d(t,"default",(function(){return s}))},f3e3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={id:"2852637",name:"uniui\u56fe\u6807\u5e93",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]}},f462:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isClearResponse=void 0;t.isClearResponse=function(e){return null===e.error&&"number"===typeof e.id}},f480:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={notify:{top:0,type:"primary",color:"#ffffff",bgColor:"",message:"",duration:3e3,fontSize:15,safeAreaInsetTop:!1}}},f59b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={checkbox:{name:"",shape:"",size:"",checkbox:!1,disabled:"",activeColor:"",inactiveColor:"",iconSize:"",iconColor:"",label:"",labelSize:"",labelColor:"",labelDisabled:""}}},f750:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={codeInput:{adjustPosition:!0,maxlength:6,dot:!1,mode:"box",hairline:!1,space:10,value:"",focus:!1,bold:!1,color:"#606266",fontSize:18,size:35,disabledKeyboard:!1,borderColor:"#c9cacc",disabledDot:!0}}},f802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={list:{showScrollbar:!1,lowerThreshold:50,upperThreshold:0,scrollTop:0,offsetAccuracy:10,enableFlex:!1,pagingEnabled:!1,scrollable:!0,scrollIntoView:"",scrollWithAnimation:!1,enableBackToTop:!1,height:0,width:0,preLoadScreen:1}}},fa22:function(e,t,n){"use strict";n.r(t);var r=n("82e2"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},faea:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={indexAnchor:{text:"",color:"#606266",size:14,bgColor:"#dedede",height:32}}},fb6b:function(e,t){e.exports=function(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")},e.exports.__esModule=!0,e.exports["default"]=e.exports},fb72:function(e,t,n){"use strict";(function(e){var r=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("127e")),a=r(n("ee10")),o=r(n("6d9f")),s=n("9900"),u={data:function(){return{username:"",password:"",confirmPassword:"",email:"",code:"",phone:"",containerHeight:0,second:60,isFocus:!1,countdown:0,showText:!0}},components:{Input:o.default},onReady:function(){var e=uni.getSystemInfoSync();this.containerHeight=e.windowHeight},computed:{isButtonEnabled:function(){return""!==this.username.trim()&&""!==this.password.trim()&&""!==this.confirmPassword.trim()&&""!==this.email.trim()&&""!==this.code.trim()&&""!==this.phone.trim()}},methods:{handleRegister:function(){var t=this;return(0,a.default)(i.default.mark((function n(){var r,a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t,r.password===r.confirmPassword){n.next=4;break}return uni.showToast({title:"\u65b0\u5bc6\u7801\u4e0e\u786e\u8ba4\u5bc6\u7801\u4e0d\u4e00\u81f4\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",icon:"none",duration:2e3}),n.abrupt("return");case 4:if(/^1[3-9]\d{9}$/.test(r.phone)){n.next=7;break}return uni.showToast({title:"\u8bf7\u8f93\u5165\u6b63\u786e\u624b\u673a\u53f7",icon:"none"}),n.abrupt("return");case 7:if(/^[1-9][0-9]{4,10}@qq\.com$/.test(r.email)){n.next=10;break}return uni.showToast({title:"\u8bf7\u8f93\u5165\u6b63\u786e\u90ae\u7bb1",icon:"none"}),n.abrupt("return");case 10:return n.next=12,(0,s.register)(t.username,t.password,t.email,t.phone,t.code);case 12:a=n.sent,e("log",a," at pages/register.vue:105"),200===a.status?(uni.showToast({title:a.message,icon:"success"}),setTimeout((function(){uni.redirectTo({url:"/"})}),1e3)):uni.showToast({title:a.data.message||"\u6ce8\u518c\u5931\u8d25",icon:"none"});case 15:case"end":return n.stop()}}),n)})))()},sendCode:function(){var t=this;return(0,a.default)(i.default.mark((function n(){var r,a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.email){n.next=3;break}return uni.showToast({title:"\u8bf7\u8f93\u5165\u90ae\u7bb1",icon:"none"}),n.abrupt("return");case 3:if(/^[1-9][0-9]{4,10}@qq\.com$/.test(t.email)){n.next=6;break}return uni.showToast({title:"\u8bf7\u8f93\u5165\u6b63\u786e\u90ae\u7bb1",icon:"none"}),n.abrupt("return");case 6:return r=t,a=setInterval((function(){r.showText=!1;var e=r.second-1;r.second=e}),1e3),setTimeout((function(){clearInterval(a),r.second=60,r.showText=!0}),6e4),n.prev=9,n.next=12,(0,s.sendValidationCode)(t.email);case 12:n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](9),e("error","\u53d1\u9001\u5931\u8d25",n.t0," at pages/register.vue:156");case 17:case"end":return n.stop()}}),n,null,[[9,14]])})))()}}};t.default=u}).call(this,n("f3b9")["default"])},fd07:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"email",data:function(){return{emailValue:"2392228720@qq.com"}},methods:{}}},fd2b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={swipeActionItem:{show:!1,name:"",disabled:!1,threshold:20,autoClose:!0,options:[],duration:300}}},fd36:function(e,t,n){"use strict";n.r(t);var r=n("2632"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},ff58:function(e,t,n){var r=n("b4d2");e.exports=function(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=r(e),null===e)break;return e},e.exports.__esModule=!0,e.exports["default"]=e.exports}},[["719d","app-config"]]]);